/*! For license information please see main.6dd6a69c.js.LICENSE.txt */
(()=>{var t={8:t=>{"use strict";function e(t,e,n){n=n||2;var s,o,a,l,u,d,g,p=e&&e.length,m=p?e[0]*n:t.length,y=i(t,0,m,n,!0),v=[];if(!y||y.next===y.prev)return v;if(p&&(y=function(t,e,n,r){var s,o,a,l=[];for(s=0,o=e.length;s<o;s++)(a=i(t,e[s]*r,s<o-1?e[s+1]*r:t.length,r,!1))===a.next&&(a.steiner=!0),l.push(f(a));for(l.sort(h),s=0;s<l.length;s++)n=c(l[s],n);return n}(t,e,y,n)),t.length>80*n){s=a=t[0],o=l=t[1];for(var x=n;x<m;x+=n)(u=t[x])<s&&(s=u),(d=t[x+1])<o&&(o=d),u>a&&(a=u),d>l&&(l=d);g=0!==(g=Math.max(a-s,l-o))?32767/g:0}return r(y,v,n,s,o,g,0),v}function i(t,e,i,n,r){var s,o;if(r===C(t,e,i,n)>0)for(s=e;s<i;s+=n)o=E(s,t[s],t[s+1],o);else for(s=i-n;s>=e;s-=n)o=E(s,t[s],t[s+1],o);return o&&y(o,o.next)&&(w(o),o=o.next),o}function n(t,e){if(!t)return t;e||(e=t);var i,n=t;do{if(i=!1,n.steiner||!y(n,n.next)&&0!==m(n.prev,n,n.next))n=n.next;else{if(w(n),(n=e=n.prev)===n.next)break;i=!0}}while(i||n!==e);return e}function r(t,e,i,h,c,u,f){if(t){!f&&u&&function(t,e,i,n){var r=t;do{0===r.z&&(r.z=d(r.x,r.y,e,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,i,n,r,s,o,a,l,h=1;do{for(i=t,t=null,s=null,o=0;i;){for(o++,n=i,a=0,e=0;e<h&&(a++,n=n.nextZ);e++);for(l=h;a>0||l>0&&n;)0!==a&&(0===l||!n||i.z<=n.z)?(r=i,i=i.nextZ,a--):(r=n,n=n.nextZ,l--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;i=n}s.nextZ=null,h*=2}while(o>1)}(r)}(t,h,c,u);for(var g,p,m=t;t.prev!==t.next;)if(g=t.prev,p=t.next,u?o(t,h,c,u):s(t))e.push(g.i/i|0),e.push(t.i/i|0),e.push(p.i/i|0),w(t),t=p.next,m=p.next;else if((t=p)===m){f?1===f?r(t=a(n(t),e,i),e,i,h,c,u,2):2===f&&l(t,e,i,h,c,u):r(n(t),e,i,h,c,u,1);break}}}function s(t){var e=t.prev,i=t,n=t.next;if(m(e,i,n)>=0)return!1;for(var r=e.x,s=i.x,o=n.x,a=e.y,l=i.y,h=n.y,c=r<s?r<o?r:o:s<o?s:o,u=a<l?a<h?a:h:l<h?l:h,d=r>s?r>o?r:o:s>o?s:o,f=a>l?a>h?a:h:l>h?l:h,p=n.next;p!==e;){if(p.x>=c&&p.x<=d&&p.y>=u&&p.y<=f&&g(r,a,s,l,o,h,p.x,p.y)&&m(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function o(t,e,i,n){var r=t.prev,s=t,o=t.next;if(m(r,s,o)>=0)return!1;for(var a=r.x,l=s.x,h=o.x,c=r.y,u=s.y,f=o.y,p=a<l?a<h?a:h:l<h?l:h,y=c<u?c<f?c:f:u<f?u:f,v=a>l?a>h?a:h:l>h?l:h,x=c>u?c>f?c:f:u>f?u:f,b=d(p,y,e,i,n),S=d(v,x,e,i,n),A=t.prevZ,E=t.nextZ;A&&A.z>=b&&E&&E.z<=S;){if(A.x>=p&&A.x<=v&&A.y>=y&&A.y<=x&&A!==r&&A!==o&&g(a,c,l,u,h,f,A.x,A.y)&&m(A.prev,A,A.next)>=0)return!1;if(A=A.prevZ,E.x>=p&&E.x<=v&&E.y>=y&&E.y<=x&&E!==r&&E!==o&&g(a,c,l,u,h,f,E.x,E.y)&&m(E.prev,E,E.next)>=0)return!1;E=E.nextZ}for(;A&&A.z>=b;){if(A.x>=p&&A.x<=v&&A.y>=y&&A.y<=x&&A!==r&&A!==o&&g(a,c,l,u,h,f,A.x,A.y)&&m(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;E&&E.z<=S;){if(E.x>=p&&E.x<=v&&E.y>=y&&E.y<=x&&E!==r&&E!==o&&g(a,c,l,u,h,f,E.x,E.y)&&m(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function a(t,e,i){var r=t;do{var s=r.prev,o=r.next.next;!y(s,o)&&v(s,r,r.next,o)&&S(s,o)&&S(o,s)&&(e.push(s.i/i|0),e.push(r.i/i|0),e.push(o.i/i|0),w(r),w(r.next),r=t=o),r=r.next}while(r!==t);return n(r)}function l(t,e,i,s,o,a){var l=t;do{for(var h=l.next.next;h!==l.prev;){if(l.i!==h.i&&p(l,h)){var c=A(l,h);return l=n(l,l.next),c=n(c,c.next),r(l,e,i,s,o,a,0),void r(c,e,i,s,o,a,0)}h=h.next}l=l.next}while(l!==t)}function h(t,e){return t.x-e.x}function c(t,e){var i=function(t,e){var i,n=e,r=t.x,s=t.y,o=-1/0;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){var a=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>o&&(o=a,i=n.x<n.next.x?n:n.next,a===r))return i}n=n.next}while(n!==e);if(!i)return null;var l,h=i,c=i.x,d=i.y,f=1/0;n=i;do{r>=n.x&&n.x>=c&&r!==n.x&&g(s<d?r:o,s,c,d,s<d?o:r,s,n.x,n.y)&&(l=Math.abs(s-n.y)/(r-n.x),S(n,t)&&(l<f||l===f&&(n.x>i.x||n.x===i.x&&u(i,n)))&&(i=n,f=l)),n=n.next}while(n!==h);return i}(t,e);if(!i)return e;var r=A(i,t);return n(r,r.next),n(i,i.next)}function u(t,e){return m(t.prev,t,e.prev)<0&&m(e.next,t,t.next)<0}function d(t,e,i,n,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function f(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function g(t,e,i,n,r,s,o,a){return(r-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(i-o)*(e-a)&&(i-o)*(s-a)>=(r-o)*(n-a)}function p(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&v(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&(S(t,e)&&S(e,t)&&function(t,e){var i=t,n=!1,r=(t.x+e.x)/2,s=(t.y+e.y)/2;do{i.y>s!==i.next.y>s&&i.next.y!==i.y&&r<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==t);return n}(t,e)&&(m(t.prev,t,e.prev)||m(t,e.prev,e))||y(t,e)&&m(t.prev,t,t.next)>0&&m(e.prev,e,e.next)>0)}function m(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function y(t,e){return t.x===e.x&&t.y===e.y}function v(t,e,i,n){var r=b(m(t,e,i)),s=b(m(t,e,n)),o=b(m(i,n,t)),a=b(m(i,n,e));return r!==s&&o!==a||(!(0!==r||!x(t,i,e))||(!(0!==s||!x(t,n,e))||(!(0!==o||!x(i,t,n))||!(0!==a||!x(i,e,n)))))}function x(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function b(t){return t>0?1:t<0?-1:0}function S(t,e){return m(t.prev,t,t.next)<0?m(t,e,t.next)>=0&&m(t,t.prev,e)>=0:m(t,e,t.prev)<0||m(t,t.next,e)<0}function A(t,e){var i=new k(t.i,t.x,t.y),n=new k(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,n.next=i,i.prev=n,s.next=n,n.prev=s,n}function E(t,e,i,n){var r=new k(t,e,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function w(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function k(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function C(t,e,i,n){for(var r=0,s=e,o=i-n;s<i;s+=n)r+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return r}t.exports=e,t.exports.default=e,e.deviation=function(t,e,i,n){var r=e&&e.length,s=r?e[0]*i:t.length,o=Math.abs(C(t,0,s,i));if(r)for(var a=0,l=e.length;a<l;a++){var h=e[a]*i,c=a<l-1?e[a+1]*i:t.length;o-=Math.abs(C(t,h,c,i))}var u=0;for(a=0;a<n.length;a+=3){var d=n[a]*i,f=n[a+1]*i,g=n[a+2]*i;u+=Math.abs((t[d]-t[g])*(t[f+1]-t[d+1])-(t[d]-t[f])*(t[g+1]-t[d+1]))}return 0===o&&0===u?0:Math.abs((u-o)/o)},e.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,r=0;r<t.length;r++){for(var s=0;s<t[r].length;s++)for(var o=0;o<e;o++)i.vertices.push(t[r][s][o]);r>0&&(n+=t[r-1].length,i.holes.push(n))}return i}},388:(t,e,i)=>{var n=NaN,r="[object Symbol]",s=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,h=parseInt,c="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,u="object"==typeof self&&self&&self.Object===Object&&self,d=c||u||Function("return this")(),f=Object.prototype.toString,g=Math.max,p=Math.min,m=function(){return d.Date.now()};function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function v(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&f.call(t)==r}(t))return n;if(y(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=y(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var i=a.test(t);return i||l.test(t)?h(t.slice(2),i?2:8):o.test(t)?n:+t}t.exports=function(t,e,i){var n,r,s,o,a,l,h=0,c=!1,u=!1,d=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function f(e){var i=n,s=r;return n=r=void 0,h=e,o=t.apply(s,i)}function x(t){var i=t-l;return void 0===l||i>=e||i<0||u&&t-h>=s}function b(){var t=m();if(x(t))return S(t);a=setTimeout(b,function(t){var i=e-(t-l);return u?p(i,s-(t-h)):i}(t))}function S(t){return a=void 0,d&&n?f(t):(n=r=void 0,o)}function A(){var t=m(),i=x(t);if(n=arguments,r=this,l=t,i){if(void 0===a)return function(t){return h=t,a=setTimeout(b,e),c?f(t):o}(l);if(u)return a=setTimeout(b,e),f(l)}return void 0===a&&(a=setTimeout(b,e)),o}return e=v(e)||0,y(i)&&(c=!!i.leading,s=(u="maxWait"in i)?g(v(i.maxWait)||0,e):s,d="trailing"in i?!!i.trailing:d),A.cancel=function(){void 0!==a&&clearTimeout(a),h=0,n=l=r=a=void 0},A.flush=function(){return void 0===a?o:S(m())},A}},936:(t,e)=>{"use strict";var i,n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),c=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case n:switch(t=t.type){case s:case a:case o:case d:case f:return t;default:switch(t=t&&t.$$typeof){case c:case h:case u:case p:case g:case l:return t;default:return e}}case r:return e}}}i=Symbol.for("react.module.reference"),e.isFragment=function(t){return y(t)===s},e.isMemo=function(t){return y(t)===g}},411:(t,e,i)=>{"use strict";t.exports=i(936)},144:(t,e,i)=>{"use strict";var n=i(60),r=i(724);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(t,e){h(t,e),h(t+"Capture",e)}function h(t,e){for(a[t]=e,t=0;t<e.length;t++)o.add(e[t])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},g={};function p(t,e,i,n,r,s,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new p(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new p(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new p(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new p(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new p(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new p(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new p(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new p(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new p(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(t){return t[1].toUpperCase()}function x(t,e,i,n){var r=m.hasOwnProperty(e)?m[e]:null;(null!==r?0!==r.type:n||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,i,n){if(null===e||"undefined"===typeof e||function(t,e,i,n){if(null!==i&&0===i.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,i,r,n)&&(i=null),n||null===r?function(t){return!!u.call(g,t)||!u.call(f,t)&&(d.test(t)?g[t]=!0:(f[t]=!0,!1))}(e)&&(null===i?t.removeAttribute(e):t.setAttribute(e,""+i)):r.mustUseProperty?t[r.propertyName]=null===i?3!==r.type&&"":i:(e=r.attributeName,n=r.attributeNamespace,null===i?t.removeAttribute(e):(i=3===(r=r.type)||4===r&&!0===i?"":""+i,n?t.setAttributeNS(n,e,i):t.setAttribute(e,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,v);m[e]=new p(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,v);m[e]=new p(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,v);m[e]=new p(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new p(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new p(t,1,!1,t.toLowerCase(),null,!0,!0)}));var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),A=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),M=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var B=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var z=Symbol.iterator;function I(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=z&&t[z]||t["@@iterator"])?t:null}var D,V=Object.assign;function _(t){if(void 0===D)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);D=e&&e[1]||""}return"\n"+D+t}var N=!1;function O(t,e){if(!t||N)return"";N=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var n=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){n=h}t.call(e.prototype)}else{try{throw Error()}catch(h){n=h}t()}}catch(h){if(h&&n&&"string"===typeof h.stack){for(var r=h.stack.split("\n"),s=n.stack.split("\n"),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||r[o]!==s[a]){var l="\n"+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=o&&0<=a);break}}}finally{N=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?_(t):""}function H(t){switch(t.tag){case 5:return _(t.type);case 16:return _("Lazy");case 13:return _("Suspense");case 19:return _("SuspenseList");case 0:case 2:case 15:return t=O(t.type,!1);case 11:return t=O(t.type.render,!1);case 1:return t=O(t.type,!0);default:return""}}function U(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case E:return"Fragment";case A:return"Portal";case k:return"Profiler";case w:return"StrictMode";case P:return"Suspense";case F:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case M:return(t.displayName||"Context")+".Consumer";case C:return(t._context.displayName||"Context")+".Provider";case T:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case L:return null!==(e=t.displayName||null)?e:U(t.type)||"Memo";case R:e=t._payload,t=t._init;try{return U(t(e))}catch(i){}}return null}function Y(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(e);case 8:return e===w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function G(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function j(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function X(t){t._valueTracker||(t._valueTracker=function(t){var e=j(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var r=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){n=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function W(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),n="";return t&&(n=j(t)?t.checked?"true":"false":t.value),(t=n)!==i&&(e.setValue(t),!0)}function Z(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function q(t,e){var i=e.checked;return V({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:t._wrapperState.initialChecked})}function J(t,e){var i=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;i=G(null!=e.value?e.value:i),t._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function K(t,e){null!=(e=e.checked)&&x(t,"checked",e,!1)}function Q(t,e){K(t,e);var i=G(e.value),n=e.type;if(null!=i)"number"===n?(0===i&&""===t.value||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,i):e.hasOwnProperty("defaultValue")&&tt(t,e.type,G(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function $(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}""!==(i=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==i&&(t.name=i)}function tt(t,e,i){"number"===e&&Z(t.ownerDocument)===t||(null==i?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var et=Array.isArray;function it(t,e,i,n){if(t=t.options,e){e={};for(var r=0;r<i.length;r++)e["$"+i[r]]=!0;for(i=0;i<t.length;i++)r=e.hasOwnProperty("$"+t[i].value),t[i].selected!==r&&(t[i].selected=r),r&&n&&(t[i].defaultSelected=!0)}else{for(i=""+G(i),e=null,r=0;r<t.length;r++){if(t[r].value===i)return t[r].selected=!0,void(n&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function nt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return V({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rt(t,e){var i=e.value;if(null==i){if(i=e.children,e=e.defaultValue,null!=i){if(null!=e)throw Error(s(92));if(et(i)){if(1<i.length)throw Error(s(93));i=i[0]}e=i}null==e&&(e=""),i=e}t._wrapperState={initialValue:G(i)}}function st(t,e){var i=G(e.value),n=G(e.defaultValue);null!=i&&((i=""+i)!==t.value&&(t.value=i),null==e.defaultValue&&t.defaultValue!==i&&(t.defaultValue=i)),null!=n&&(t.defaultValue=""+n)}function ot(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ht,ct,ut=(ct=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ht=ht||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ht.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,i,n){MSApp.execUnsafeLocalFunction((function(){return ct(t,e)}))}:ct);function dt(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&3===i.nodeType)return void(i.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gt=["Webkit","ms","Moz","O"];function pt(t,e,i){return null==e||"boolean"===typeof e||""===e?"":i||"number"!==typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function mt(t,e){for(var i in t=t.style,e)if(e.hasOwnProperty(i)){var n=0===i.indexOf("--"),r=pt(i,e[i],n);"float"===i&&(i="cssFloat"),n?t.setProperty(i,r):t[i]=r}}Object.keys(ft).forEach((function(t){gt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]}))}));var yt=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(t,e){if(e){if(yt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62))}}function xt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=null;function St(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var At=null,Et=null,wt=null;function kt(t){if(t=xr(t)){if("function"!==typeof At)throw Error(s(280));var e=t.stateNode;e&&(e=Sr(e),At(t.stateNode,t.type,e))}}function Ct(t){Et?wt?wt.push(t):wt=[t]:Et=t}function Mt(){if(Et){var t=Et,e=wt;if(wt=Et=null,kt(t),e)for(t=0;t<e.length;t++)kt(e[t])}}function Tt(t,e){return t(e)}function Pt(){}var Ft=!1;function Lt(t,e,i){if(Ft)return t(e,i);Ft=!0;try{return Tt(t,e,i)}finally{Ft=!1,(null!==Et||null!==wt)&&(Pt(),Mt())}}function Rt(t,e){var i=t.stateNode;if(null===i)return null;var n=Sr(i);if(null===n)return null;i=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}if(t)return null;if(i&&"function"!==typeof i)throw Error(s(231,e,typeof i));return i}var Bt=!1;if(c)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(ct){Bt=!1}function It(t,e,i,n,r,s,o,a,l){var h=Array.prototype.slice.call(arguments,3);try{e.apply(i,h)}catch(c){this.onError(c)}}var Dt=!1,Vt=null,_t=!1,Nt=null,Ot={onError:function(t){Dt=!0,Vt=t}};function Ht(t,e,i,n,r,s,o,a,l){Dt=!1,Vt=null,It.apply(Ot,arguments)}function Ut(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(i=e.return),t=e.return}while(t)}return 3===e.tag?i:null}function Yt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Gt(t){if(Ut(t)!==t)throw Error(s(188))}function jt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Ut(t)))throw Error(s(188));return e!==t?null:t}for(var i=t,n=e;;){var r=i.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(n=r.return)){i=n;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===i)return Gt(r),t;if(o===n)return Gt(r),e;o=o.sibling}throw Error(s(188))}if(i.return!==n.return)i=r,n=o;else{for(var a=!1,l=r.child;l;){if(l===i){a=!0,i=r,n=o;break}if(l===n){a=!0,n=r,i=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===i){a=!0,i=o,n=r;break}if(l===n){a=!0,n=o,i=r;break}l=l.sibling}if(!a)throw Error(s(189))}}if(i.alternate!==n)throw Error(s(190))}if(3!==i.tag)throw Error(s(188));return i.stateNode.current===i?t:e}(t))?Xt(t):null}function Xt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Xt(t);if(null!==e)return e;t=t.sibling}return null}var Wt=r.unstable_scheduleCallback,Zt=r.unstable_cancelCallback,qt=r.unstable_shouldYield,Jt=r.unstable_requestPaint,Kt=r.unstable_now,Qt=r.unstable_getCurrentPriorityLevel,$t=r.unstable_ImmediatePriority,te=r.unstable_UserBlockingPriority,ee=r.unstable_NormalPriority,ie=r.unstable_LowPriority,ne=r.unstable_IdlePriority,re=null,se=null;var oe=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/le|0)|0},ae=Math.log,le=Math.LN2;var he=64,ce=4194304;function ue(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var i=t.pendingLanes;if(0===i)return 0;var n=0,r=t.suspendedLanes,s=t.pingedLanes,o=268435455&i;if(0!==o){var a=o&~r;0!==a?n=ue(a):0!==(s&=o)&&(n=ue(s))}else 0!==(o=i&~r)?n=ue(o):0!==s&&(n=ue(s));if(0===n)return 0;if(0!==e&&e!==n&&0===(e&r)&&((r=n&-n)>=(s=e&-e)||16===r&&0!==(4194240&s)))return e;if(0!==(4&n)&&(n|=16&i),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=n;0<e;)r=1<<(i=31-oe(e)),n|=t[i],e&=~r;return n}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function ge(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function pe(){var t=he;return 0===(4194240&(he<<=1))&&(he=64),t}function me(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function ye(t,e,i){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-oe(e)]=i}function ve(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var n=31-oe(i),r=1<<n;r&e|t[n]&e&&(t[n]|=e),i&=~r}}var xe=0;function be(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var Se,Ae,Ee,we,ke,Ce=!1,Me=[],Te=null,Pe=null,Fe=null,Le=new Map,Re=new Map,Be=[],ze="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ie(t,e){switch(t){case"focusin":case"focusout":Te=null;break;case"dragenter":case"dragleave":Pe=null;break;case"mouseover":case"mouseout":Fe=null;break;case"pointerover":case"pointerout":Le.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Re.delete(e.pointerId)}}function De(t,e,i,n,r,s){return null===t||t.nativeEvent!==s?(t={blockedOn:e,domEventName:i,eventSystemFlags:n,nativeEvent:s,targetContainers:[r]},null!==e&&(null!==(e=xr(e))&&Ae(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function Ve(t){var e=vr(t.target);if(null!==e){var i=Ut(e);if(null!==i)if(13===(e=i.tag)){if(null!==(e=Yt(i)))return t.blockedOn=e,void ke(t.priority,(function(){Ee(i)}))}else if(3===e&&i.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}t.blockedOn=null}function _e(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var i=qe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==i)return null!==(e=xr(i))&&Ae(e),t.blockedOn=i,!1;var n=new(i=t.nativeEvent).constructor(i.type,i);bt=n,i.target.dispatchEvent(n),bt=null,e.shift()}return!0}function Ne(t,e,i){_e(t)&&i.delete(e)}function Oe(){Ce=!1,null!==Te&&_e(Te)&&(Te=null),null!==Pe&&_e(Pe)&&(Pe=null),null!==Fe&&_e(Fe)&&(Fe=null),Le.forEach(Ne),Re.forEach(Ne)}function He(t,e){t.blockedOn===e&&(t.blockedOn=null,Ce||(Ce=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Oe)))}function Ue(t){function e(e){return He(e,t)}if(0<Me.length){He(Me[0],t);for(var i=1;i<Me.length;i++){var n=Me[i];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==Te&&He(Te,t),null!==Pe&&He(Pe,t),null!==Fe&&He(Fe,t),Le.forEach(e),Re.forEach(e),i=0;i<Be.length;i++)(n=Be[i]).blockedOn===t&&(n.blockedOn=null);for(;0<Be.length&&null===(i=Be[0]).blockedOn;)Ve(i),null===i.blockedOn&&Be.shift()}var Ye=b.ReactCurrentBatchConfig,Ge=!0;function je(t,e,i,n){var r=xe,s=Ye.transition;Ye.transition=null;try{xe=1,We(t,e,i,n)}finally{xe=r,Ye.transition=s}}function Xe(t,e,i,n){var r=xe,s=Ye.transition;Ye.transition=null;try{xe=4,We(t,e,i,n)}finally{xe=r,Ye.transition=s}}function We(t,e,i,n){if(Ge){var r=qe(t,e,i,n);if(null===r)Gn(t,e,n,Ze,i),Ie(t,n);else if(function(t,e,i,n,r){switch(e){case"focusin":return Te=De(Te,t,e,i,n,r),!0;case"dragenter":return Pe=De(Pe,t,e,i,n,r),!0;case"mouseover":return Fe=De(Fe,t,e,i,n,r),!0;case"pointerover":var s=r.pointerId;return Le.set(s,De(Le.get(s)||null,t,e,i,n,r)),!0;case"gotpointercapture":return s=r.pointerId,Re.set(s,De(Re.get(s)||null,t,e,i,n,r)),!0}return!1}(r,t,e,i,n))n.stopPropagation();else if(Ie(t,n),4&e&&-1<ze.indexOf(t)){for(;null!==r;){var s=xr(r);if(null!==s&&Se(s),null===(s=qe(t,e,i,n))&&Gn(t,e,n,Ze,i),s===r)break;r=s}null!==r&&n.stopPropagation()}else Gn(t,e,n,null,i)}}var Ze=null;function qe(t,e,i,n){if(Ze=null,null!==(t=vr(t=St(n))))if(null===(e=Ut(t)))t=null;else if(13===(i=e.tag)){if(null!==(t=Yt(e)))return t;t=null}else if(3===i){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ze=t,null}function Je(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qt()){case $t:return 1;case te:return 4;case ee:case ie:return 16;case ne:return 536870912;default:return 16}default:return 16}}var Ke=null,Qe=null,$e=null;function ti(){if($e)return $e;var t,e,i=Qe,n=i.length,r="value"in Ke?Ke.value:Ke.textContent,s=r.length;for(t=0;t<n&&i[t]===r[t];t++);var o=n-t;for(e=1;e<=o&&i[n-e]===r[s-e];e++);return $e=r.slice(t,1<e?1-e:void 0)}function ei(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function ii(){return!0}function ni(){return!1}function ri(t){function e(e,i,n,r,s){for(var o in this._reactName=e,this._targetInst=n,this.type=i,this.nativeEvent=r,this.target=s,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?ii:ni,this.isPropagationStopped=ni,this}return V(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),e}var si,oi,ai,li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=ri(li),ci=V({},li,{view:0,detail:0}),ui=ri(ci),di=V({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wi,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ai&&(ai&&"mousemove"===t.type?(si=t.screenX-ai.screenX,oi=t.screenY-ai.screenY):oi=si=0,ai=t),si)},movementY:function(t){return"movementY"in t?t.movementY:oi}}),fi=ri(di),gi=ri(V({},di,{dataTransfer:0})),pi=ri(V({},ci,{relatedTarget:0})),mi=ri(V({},li,{animationName:0,elapsedTime:0,pseudoElement:0})),yi=V({},li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vi=ri(yi),xi=ri(V({},li,{data:0})),bi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Si={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ai={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ei(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Ai[t])&&!!e[t]}function wi(){return Ei}var ki=V({},ci,{key:function(t){if(t.key){var e=bi[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=ei(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Si[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wi,charCode:function(t){return"keypress"===t.type?ei(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?ei(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Ci=ri(ki),Mi=ri(V({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ti=ri(V({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wi})),Pi=ri(V({},li,{propertyName:0,elapsedTime:0,pseudoElement:0})),Fi=V({},di,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Li=ri(Fi),Ri=[9,13,27,32],Bi=c&&"CompositionEvent"in window,zi=null;c&&"documentMode"in document&&(zi=document.documentMode);var Ii=c&&"TextEvent"in window&&!zi,Di=c&&(!Bi||zi&&8<zi&&11>=zi),Vi=String.fromCharCode(32),_i=!1;function Ni(t,e){switch(t){case"keyup":return-1!==Ri.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oi(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Hi=!1;var Ui={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Ui[t.type]:"textarea"===e}function Gi(t,e,i,n){Ct(n),0<(e=Xn(e,"onChange")).length&&(i=new hi("onChange","change",null,i,n),t.push({event:i,listeners:e}))}var ji=null,Xi=null;function Wi(t){_n(t,0)}function Zi(t){if(W(br(t)))return t}function qi(t,e){if("change"===t)return e}var Ji=!1;if(c){var Ki;if(c){var Qi="oninput"in document;if(!Qi){var $i=document.createElement("div");$i.setAttribute("oninput","return;"),Qi="function"===typeof $i.oninput}Ki=Qi}else Ki=!1;Ji=Ki&&(!document.documentMode||9<document.documentMode)}function tn(){ji&&(ji.detachEvent("onpropertychange",en),Xi=ji=null)}function en(t){if("value"===t.propertyName&&Zi(Xi)){var e=[];Gi(e,Xi,t,St(t)),Lt(Wi,e)}}function nn(t,e,i){"focusin"===t?(tn(),Xi=i,(ji=e).attachEvent("onpropertychange",en)):"focusout"===t&&tn()}function rn(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Zi(Xi)}function sn(t,e){if("click"===t)return Zi(e)}function on(t,e){if("input"===t||"change"===t)return Zi(e)}var an="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function ln(t,e){if(an(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var r=i[n];if(!u.call(e,r)||!an(t[r],e[r]))return!1}return!0}function hn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cn(t,e){var i,n=hn(t);for(t=0;n;){if(3===n.nodeType){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=hn(n)}}function un(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?un(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function dn(){for(var t=window,e=Z();e instanceof t.HTMLIFrameElement;){try{var i="string"===typeof e.contentWindow.location.href}catch(n){i=!1}if(!i)break;e=Z((t=e.contentWindow).document)}return e}function fn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function gn(t){var e=dn(),i=t.focusedElem,n=t.selectionRange;if(e!==i&&i&&i.ownerDocument&&un(i.ownerDocument.documentElement,i)){if(null!==n&&fn(i))if(e=n.start,void 0===(t=n.end)&&(t=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(t,i.value.length);else if((t=(e=i.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var r=i.textContent.length,s=Math.min(n.start,r);n=void 0===n.end?s:Math.min(n.end,r),!t.extend&&s>n&&(r=n,n=s,s=r),r=cn(i,s);var o=cn(i,n);r&&o&&(1!==t.rangeCount||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&((e=e.createRange()).setStart(r.node,r.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}for(e=[],t=i;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<e.length;i++)(t=e[i]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pn=c&&"documentMode"in document&&11>=document.documentMode,mn=null,yn=null,vn=null,xn=!1;function bn(t,e,i){var n=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;xn||null==mn||mn!==Z(n)||("selectionStart"in(n=mn)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},vn&&ln(vn,n)||(vn=n,0<(n=Xn(yn,"onSelect")).length&&(e=new hi("onSelect","select",null,e,i),t.push({event:e,listeners:n}),e.target=mn)))}function Sn(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var An={animationend:Sn("Animation","AnimationEnd"),animationiteration:Sn("Animation","AnimationIteration"),animationstart:Sn("Animation","AnimationStart"),transitionend:Sn("Transition","TransitionEnd")},En={},wn={};function kn(t){if(En[t])return En[t];if(!An[t])return t;var e,i=An[t];for(e in i)if(i.hasOwnProperty(e)&&e in wn)return En[t]=i[e];return t}c&&(wn=document.createElement("div").style,"AnimationEvent"in window||(delete An.animationend.animation,delete An.animationiteration.animation,delete An.animationstart.animation),"TransitionEvent"in window||delete An.transitionend.transition);var Cn=kn("animationend"),Mn=kn("animationiteration"),Tn=kn("animationstart"),Pn=kn("transitionend"),Fn=new Map,Ln="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(t,e){Fn.set(t,e),l(e,[t])}for(var Bn=0;Bn<Ln.length;Bn++){var zn=Ln[Bn];Rn(zn.toLowerCase(),"on"+(zn[0].toUpperCase()+zn.slice(1)))}Rn(Cn,"onAnimationEnd"),Rn(Mn,"onAnimationIteration"),Rn(Tn,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn(Pn,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var In="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dn=new Set("cancel close invalid load scroll toggle".split(" ").concat(In));function Vn(t,e,i){var n=t.type||"unknown-event";t.currentTarget=i,function(t,e,i,n,r,o,a,l,h){if(Ht.apply(this,arguments),Dt){if(!Dt)throw Error(s(198));var c=Vt;Dt=!1,Vt=null,_t||(_t=!0,Nt=c)}}(n,e,void 0,t),t.currentTarget=null}function _n(t,e){e=0!==(4&e);for(var i=0;i<t.length;i++){var n=t[i],r=n.event;n=n.listeners;t:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,h=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break t;Vn(r,a,h),s=l}else for(o=0;o<n.length;o++){if(l=(a=n[o]).instance,h=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break t;Vn(r,a,h),s=l}}}if(_t)throw t=Nt,_t=!1,Nt=null,t}function Nn(t,e){var i=e[pr];void 0===i&&(i=e[pr]=new Set);var n=t+"__bubble";i.has(n)||(Yn(e,t,2,!1),i.add(n))}function On(t,e,i){var n=0;e&&(n|=4),Yn(i,t,n,e)}var Hn="_reactListening"+Math.random().toString(36).slice(2);function Un(t){if(!t[Hn]){t[Hn]=!0,o.forEach((function(e){"selectionchange"!==e&&(Dn.has(e)||On(e,!1,t),On(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Hn]||(e[Hn]=!0,On("selectionchange",!1,e))}}function Yn(t,e,i,n){switch(Je(e)){case 1:var r=je;break;case 4:r=Xe;break;default:r=We}i=r.bind(null,e,i,t),r=void 0,!Bt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),n?void 0!==r?t.addEventListener(e,i,{capture:!0,passive:r}):t.addEventListener(e,i,!0):void 0!==r?t.addEventListener(e,i,{passive:r}):t.addEventListener(e,i,!1)}function Gn(t,e,i,n,r){var s=n;if(0===(1&e)&&0===(2&e)&&null!==n)t:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var a=n.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===o)for(o=n.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==a;){if(null===(o=vr(a)))return;if(5===(l=o.tag)||6===l){n=s=o;continue t}a=a.parentNode}}n=n.return}Lt((function(){var n=s,r=St(i),o=[];t:{var a=Fn.get(t);if(void 0!==a){var l=hi,h=t;switch(t){case"keypress":if(0===ei(i))break t;case"keydown":case"keyup":l=Ci;break;case"focusin":h="focus",l=pi;break;case"focusout":h="blur",l=pi;break;case"beforeblur":case"afterblur":l=pi;break;case"click":if(2===i.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ti;break;case Cn:case Mn:case Tn:l=mi;break;case Pn:l=Pi;break;case"scroll":l=ui;break;case"wheel":l=Li;break;case"copy":case"cut":case"paste":l=vi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mi}var c=0!==(4&e),u=!c&&"scroll"===t,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,g=n;null!==g;){var p=(f=g).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==d&&(null!=(p=Rt(g,d))&&c.push(jn(g,p,f)))),u)break;g=g.return}0<c.length&&(a=new l(a,h,null,i,r),o.push({event:a,listeners:c}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||i===bt||!(h=i.relatedTarget||i.fromElement)||!vr(h)&&!h[gr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=n,null!==(h=(h=i.relatedTarget||i.toElement)?vr(h):null)&&(h!==(u=Ut(h))||5!==h.tag&&6!==h.tag)&&(h=null)):(l=null,h=n),l!==h)){if(c=fi,p="onMouseLeave",d="onMouseEnter",g="mouse","pointerout"!==t&&"pointerover"!==t||(c=Mi,p="onPointerLeave",d="onPointerEnter",g="pointer"),u=null==l?a:br(l),f=null==h?a:br(h),(a=new c(p,g+"leave",l,i,r)).target=u,a.relatedTarget=f,p=null,vr(r)===n&&((c=new c(d,g+"enter",h,i,r)).target=f,c.relatedTarget=u,p=c),u=p,l&&h)t:{for(d=h,g=0,f=c=l;f;f=Wn(f))g++;for(f=0,p=d;p;p=Wn(p))f++;for(;0<g-f;)c=Wn(c),g--;for(;0<f-g;)d=Wn(d),f--;for(;g--;){if(c===d||null!==d&&c===d.alternate)break t;c=Wn(c),d=Wn(d)}c=null}else c=null;null!==l&&Zn(o,a,l,c,!1),null!==h&&null!==u&&Zn(o,u,h,c,!0)}if("select"===(l=(a=n?br(n):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=qi;else if(Yi(a))if(Ji)m=on;else{m=rn;var y=nn}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=sn);switch(m&&(m=m(t,n))?Gi(o,m,i,r):(y&&y(t,a,n),"focusout"===t&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&tt(a,"number",a.value)),y=n?br(n):window,t){case"focusin":(Yi(y)||"true"===y.contentEditable)&&(mn=y,yn=n,vn=null);break;case"focusout":vn=yn=mn=null;break;case"mousedown":xn=!0;break;case"contextmenu":case"mouseup":case"dragend":xn=!1,bn(o,i,r);break;case"selectionchange":if(pn)break;case"keydown":case"keyup":bn(o,i,r)}var v;if(Bi)t:{switch(t){case"compositionstart":var x="onCompositionStart";break t;case"compositionend":x="onCompositionEnd";break t;case"compositionupdate":x="onCompositionUpdate";break t}x=void 0}else Hi?Ni(t,i)&&(x="onCompositionEnd"):"keydown"===t&&229===i.keyCode&&(x="onCompositionStart");x&&(Di&&"ko"!==i.locale&&(Hi||"onCompositionStart"!==x?"onCompositionEnd"===x&&Hi&&(v=ti()):(Qe="value"in(Ke=r)?Ke.value:Ke.textContent,Hi=!0)),0<(y=Xn(n,x)).length&&(x=new xi(x,t,null,i,r),o.push({event:x,listeners:y}),v?x.data=v:null!==(v=Oi(i))&&(x.data=v))),(v=Ii?function(t,e){switch(t){case"compositionend":return Oi(e);case"keypress":return 32!==e.which?null:(_i=!0,Vi);case"textInput":return(t=e.data)===Vi&&_i?null:t;default:return null}}(t,i):function(t,e){if(Hi)return"compositionend"===t||!Bi&&Ni(t,e)?(t=ti(),$e=Qe=Ke=null,Hi=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Di&&"ko"!==e.locale?null:e.data}}(t,i))&&(0<(n=Xn(n,"onBeforeInput")).length&&(r=new xi("onBeforeInput","beforeinput",null,i,r),o.push({event:r,listeners:n}),r.data=v))}_n(o,e)}))}function jn(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Xn(t,e){for(var i=e+"Capture",n=[];null!==t;){var r=t,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Rt(t,i))&&n.unshift(jn(t,s,r)),null!=(s=Rt(t,e))&&n.push(jn(t,s,r))),t=t.return}return n}function Wn(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Zn(t,e,i,n,r){for(var s=e._reactName,o=[];null!==i&&i!==n;){var a=i,l=a.alternate,h=a.stateNode;if(null!==l&&l===n)break;5===a.tag&&null!==h&&(a=h,r?null!=(l=Rt(i,s))&&o.unshift(jn(i,l,a)):r||null!=(l=Rt(i,s))&&o.push(jn(i,l,a))),i=i.return}0!==o.length&&t.push({event:e,listeners:o})}var qn=/\r\n?/g,Jn=/\u0000|\uFFFD/g;function Kn(t){return("string"===typeof t?t:""+t).replace(qn,"\n").replace(Jn,"")}function Qn(t,e,i){if(e=Kn(e),Kn(t)!==e&&i)throw Error(s(425))}function $n(){}var tr=null,er=null;function ir(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var nr="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(t){return sr.resolve(null).then(t).catch(ar)}:nr;function ar(t){setTimeout((function(){throw t}))}function lr(t,e){var i=e,n=0;do{var r=i.nextSibling;if(t.removeChild(i),r&&8===r.nodeType)if("/$"===(i=r.data)){if(0===n)return t.removeChild(r),void Ue(e);n--}else"$"!==i&&"$?"!==i&&"$!"!==i||n++;i=r}while(i);Ue(e)}function hr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function cr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var i=t.data;if("$"===i||"$!"===i||"$?"===i){if(0===e)return t;e--}else"/$"===i&&e++}t=t.previousSibling}return null}var ur=Math.random().toString(36).slice(2),dr="__reactFiber$"+ur,fr="__reactProps$"+ur,gr="__reactContainer$"+ur,pr="__reactEvents$"+ur,mr="__reactListeners$"+ur,yr="__reactHandles$"+ur;function vr(t){var e=t[dr];if(e)return e;for(var i=t.parentNode;i;){if(e=i[gr]||i[dr]){if(i=e.alternate,null!==e.child||null!==i&&null!==i.child)for(t=cr(t);null!==t;){if(i=t[dr])return i;t=cr(t)}return e}i=(t=i).parentNode}return null}function xr(t){return!(t=t[dr]||t[gr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function br(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function Sr(t){return t[fr]||null}var Ar=[],Er=-1;function wr(t){return{current:t}}function kr(t){0>Er||(t.current=Ar[Er],Ar[Er]=null,Er--)}function Cr(t,e){Er++,Ar[Er]=t.current,t.current=e}var Mr={},Tr=wr(Mr),Pr=wr(!1),Fr=Mr;function Lr(t,e){var i=t.type.contextTypes;if(!i)return Mr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in i)s[r]=e[r];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Rr(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Br(){kr(Pr),kr(Tr)}function zr(t,e,i){if(Tr.current!==Mr)throw Error(s(168));Cr(Tr,e),Cr(Pr,i)}function Ir(t,e,i){var n=t.stateNode;if(e=e.childContextTypes,"function"!==typeof n.getChildContext)return i;for(var r in n=n.getChildContext())if(!(r in e))throw Error(s(108,Y(t)||"Unknown",r));return V({},i,n)}function Dr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mr,Fr=Tr.current,Cr(Tr,t),Cr(Pr,Pr.current),!0}function Vr(t,e,i){var n=t.stateNode;if(!n)throw Error(s(169));i?(t=Ir(t,e,Fr),n.__reactInternalMemoizedMergedChildContext=t,kr(Pr),kr(Tr),Cr(Tr,t)):kr(Pr),Cr(Pr,i)}var _r=null,Nr=!1,Or=!1;function Hr(t){null===_r?_r=[t]:_r.push(t)}function Ur(){if(!Or&&null!==_r){Or=!0;var t=0,e=xe;try{var i=_r;for(xe=1;t<i.length;t++){var n=i[t];do{n=n(!0)}while(null!==n)}_r=null,Nr=!1}catch(r){throw null!==_r&&(_r=_r.slice(t+1)),Wt($t,Ur),r}finally{xe=e,Or=!1}}return null}var Yr=[],Gr=0,jr=null,Xr=0,Wr=[],Zr=0,qr=null,Jr=1,Kr="";function Qr(t,e){Yr[Gr++]=Xr,Yr[Gr++]=jr,jr=t,Xr=e}function $r(t,e,i){Wr[Zr++]=Jr,Wr[Zr++]=Kr,Wr[Zr++]=qr,qr=t;var n=Jr;t=Kr;var r=32-oe(n)-1;n&=~(1<<r),i+=1;var s=32-oe(e)+r;if(30<s){var o=r-r%5;s=(n&(1<<o)-1).toString(32),n>>=o,r-=o,Jr=1<<32-oe(e)+r|i<<r|n,Kr=s+t}else Jr=1<<s|i<<r|n,Kr=t}function ts(t){null!==t.return&&(Qr(t,1),$r(t,1,0))}function es(t){for(;t===jr;)jr=Yr[--Gr],Yr[Gr]=null,Xr=Yr[--Gr],Yr[Gr]=null;for(;t===qr;)qr=Wr[--Zr],Wr[Zr]=null,Kr=Wr[--Zr],Wr[Zr]=null,Jr=Wr[--Zr],Wr[Zr]=null}var is=null,ns=null,rs=!1,ss=null;function os(t,e){var i=Rh(5,null,null,0);i.elementType="DELETED",i.stateNode=e,i.return=t,null===(e=t.deletions)?(t.deletions=[i],t.flags|=16):e.push(i)}function as(t,e){switch(t.tag){case 5:var i=t.type;return null!==(e=1!==e.nodeType||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,is=t,ns=hr(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,is=t,ns=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(i=null!==qr?{id:Jr,overflow:Kr}:null,t.memoizedState={dehydrated:e,treeContext:i,retryLane:1073741824},(i=Rh(18,null,null,0)).stateNode=e,i.return=t,t.child=i,is=t,ns=null,!0);default:return!1}}function ls(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function hs(t){if(rs){var e=ns;if(e){var i=e;if(!as(t,e)){if(ls(t))throw Error(s(418));e=hr(i.nextSibling);var n=is;e&&as(t,e)?os(n,i):(t.flags=-4097&t.flags|2,rs=!1,is=t)}}else{if(ls(t))throw Error(s(418));t.flags=-4097&t.flags|2,rs=!1,is=t}}}function cs(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;is=t}function us(t){if(t!==is)return!1;if(!rs)return cs(t),rs=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ir(t.type,t.memoizedProps)),e&&(e=ns)){if(ls(t))throw ds(),Error(s(418));for(;e;)os(t,e),e=hr(e.nextSibling)}if(cs(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var i=t.data;if("/$"===i){if(0===e){ns=hr(t.nextSibling);break t}e--}else"$"!==i&&"$!"!==i&&"$?"!==i||e++}t=t.nextSibling}ns=null}}else ns=is?hr(t.stateNode.nextSibling):null;return!0}function ds(){for(var t=ns;t;)t=hr(t.nextSibling)}function fs(){ns=is=null,rs=!1}function gs(t){null===ss?ss=[t]:ss.push(t)}var ps=b.ReactCurrentBatchConfig;function ms(t,e){if(t&&t.defaultProps){for(var i in e=V({},e),t=t.defaultProps)void 0===e[i]&&(e[i]=t[i]);return e}return e}var ys=wr(null),vs=null,xs=null,bs=null;function Ss(){bs=xs=vs=null}function As(t){var e=ys.current;kr(ys),t._currentValue=e}function Es(t,e,i){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==n&&(n.childLanes|=e)):null!==n&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===i)break;t=t.return}}function ws(t,e){vs=t,bs=xs=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(ba=!0),t.firstContext=null)}function ks(t){var e=t._currentValue;if(bs!==t)if(t={context:t,memoizedValue:e,next:null},null===xs){if(null===vs)throw Error(s(308));xs=t,vs.dependencies={lanes:0,firstContext:t}}else xs=xs.next=t;return e}var Cs=null;function Ms(t){null===Cs?Cs=[t]:Cs.push(t)}function Ts(t,e,i,n){var r=e.interleaved;return null===r?(i.next=i,Ms(e)):(i.next=r.next,r.next=i),e.interleaved=i,Ps(t,n)}function Ps(t,e){t.lanes|=e;var i=t.alternate;for(null!==i&&(i.lanes|=e),i=t,t=t.return;null!==t;)t.childLanes|=e,null!==(i=t.alternate)&&(i.childLanes|=e),i=t,t=t.return;return 3===i.tag?i.stateNode:null}var Fs=!1;function Ls(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rs(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zs(t,e,i){var n=t.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Pl)){var r=n.pending;return null===r?e.next=e:(e.next=r.next,r.next=e),n.pending=e,Ps(t,i)}return null===(r=n.interleaved)?(e.next=e,Ms(n)):(e.next=r.next,r.next=e),n.interleaved=e,Ps(t,i)}function Is(t,e,i){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&i))){var n=e.lanes;i|=n&=t.pendingLanes,e.lanes=i,ve(t,i)}}function Ds(t,e){var i=t.updateQueue,n=t.alternate;if(null!==n&&i===(n=n.updateQueue)){var r=null,s=null;if(null!==(i=i.firstBaseUpdate)){do{var o={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===s?r=s=o:s=s.next=o,i=i.next}while(null!==i);null===s?r=s=e:s=s.next=e}else r=s=e;return i={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(t.updateQueue=i)}null===(t=i.lastBaseUpdate)?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}function Vs(t,e,i,n){var r=t.updateQueue;Fs=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,h=l.next;l.next=null,null===o?s=h:o.next=h,o=l;var c=t.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=h:a.next=h,c.lastBaseUpdate=l))}if(null!==s){var u=r.baseState;for(o=0,c=h=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((n&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var g=t,p=a;switch(d=e,f=i,p.tag){case 1:if("function"===typeof(g=p.payload)){u=g.call(f,u,d);break t}u=g;break t;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(d="function"===typeof(g=p.payload)?g.call(f,u,d):g)||void 0===d)break t;u=V({},u,d);break t;case 2:Fs=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(d=r.effects)?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(h=c=f,l=u):c=c.next=f,o|=d;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(d=a).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===c&&(l=u),r.baseState=l,r.firstBaseUpdate=h,r.lastBaseUpdate=c,null!==(e=r.shared.interleaved)){r=e;do{o|=r.lane,r=r.next}while(r!==e)}else null===s&&(r.shared.lanes=0);Vl|=o,t.lanes=o,t.memoizedState=u}}function _s(t,e,i){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var n=t[e],r=n.callback;if(null!==r){if(n.callback=null,n=i,"function"!==typeof r)throw Error(s(191,r));r.call(n)}}}var Ns=(new n.Component).refs;function Os(t,e,i,n){i=null===(i=i(n,e=t.memoizedState))||void 0===i?e:V({},e,i),t.memoizedState=i,0===t.lanes&&(t.updateQueue.baseState=i)}var Hs={isMounted:function(t){return!!(t=t._reactInternals)&&Ut(t)===t},enqueueSetState:function(t,e,i){t=t._reactInternals;var n=eh(),r=ih(t),s=Bs(n,r);s.payload=e,void 0!==i&&null!==i&&(s.callback=i),null!==(e=zs(t,s,r))&&(nh(e,t,r,n),Is(e,t,r))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var n=eh(),r=ih(t),s=Bs(n,r);s.tag=1,s.payload=e,void 0!==i&&null!==i&&(s.callback=i),null!==(e=zs(t,s,r))&&(nh(e,t,r,n),Is(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=eh(),n=ih(t),r=Bs(i,n);r.tag=2,void 0!==e&&null!==e&&(r.callback=e),null!==(e=zs(t,r,n))&&(nh(e,t,n,i),Is(e,t,n))}};function Us(t,e,i,n,r,s,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,s,o):!e.prototype||!e.prototype.isPureReactComponent||(!ln(i,n)||!ln(r,s))}function Ys(t,e,i){var n=!1,r=Mr,s=e.contextType;return"object"===typeof s&&null!==s?s=ks(s):(r=Rr(e)?Fr:Tr.current,s=(n=null!==(n=e.contextTypes)&&void 0!==n)?Lr(t,r):Mr),e=new e(i,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Hs,t.stateNode=e,e._reactInternals=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function Gs(t,e,i,n){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(i,n),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(i,n),e.state!==t&&Hs.enqueueReplaceState(e,e.state,null)}function js(t,e,i,n){var r=t.stateNode;r.props=i,r.state=t.memoizedState,r.refs=Ns,Ls(t);var s=e.contextType;"object"===typeof s&&null!==s?r.context=ks(s):(s=Rr(e)?Fr:Tr.current,r.context=Lr(t,s)),r.state=t.memoizedState,"function"===typeof(s=e.getDerivedStateFromProps)&&(Os(t,e,s,i),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&Hs.enqueueReplaceState(r,r.state,null),Vs(t,i,r,n),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308)}function Xs(t,e,i){if(null!==(t=i.ref)&&"function"!==typeof t&&"object"!==typeof t){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(s(309));var n=i.stateNode}if(!n)throw Error(s(147,t));var r=n,o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=r.refs;e===Ns&&(e=r.refs={}),null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}if("string"!==typeof t)throw Error(s(284));if(!i._owner)throw Error(s(290,t))}return t}function Ws(t,e){throw t=Object.prototype.toString.call(e),Error(s(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zs(t){return(0,t._init)(t._payload)}function qs(t){function e(e,i){if(t){var n=e.deletions;null===n?(e.deletions=[i],e.flags|=16):n.push(i)}}function i(i,n){if(!t)return null;for(;null!==n;)e(i,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=zh(t,e)).index=0,t.sibling=null,t}function o(e,i,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<i?(e.flags|=2,i):n:(e.flags|=2,i):(e.flags|=1048576,i)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,i,n){return null===e||6!==e.tag?((e=_h(i,t.mode,n)).return=t,e):((e=r(e,i)).return=t,e)}function h(t,e,i,n){var s=i.type;return s===E?u(t,e,i.props.children,n,i.key):null!==e&&(e.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&Zs(s)===e.type)?((n=r(e,i.props)).ref=Xs(t,e,i),n.return=t,n):((n=Ih(i.type,i.key,i.props,null,t.mode,n)).ref=Xs(t,e,i),n.return=t,n)}function c(t,e,i,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==i.containerInfo||e.stateNode.implementation!==i.implementation?((e=Nh(i,t.mode,n)).return=t,e):((e=r(e,i.children||[])).return=t,e)}function u(t,e,i,n,s){return null===e||7!==e.tag?((e=Dh(i,t.mode,n,s)).return=t,e):((e=r(e,i)).return=t,e)}function d(t,e,i){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=_h(""+e,t.mode,i)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case S:return(i=Ih(e.type,e.key,e.props,null,t.mode,i)).ref=Xs(t,null,e),i.return=t,i;case A:return(e=Nh(e,t.mode,i)).return=t,e;case R:return d(t,(0,e._init)(e._payload),i)}if(et(e)||I(e))return(e=Dh(e,t.mode,i,null)).return=t,e;Ws(t,e)}return null}function f(t,e,i,n){var r=null!==e?e.key:null;if("string"===typeof i&&""!==i||"number"===typeof i)return null!==r?null:l(t,e,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case S:return i.key===r?h(t,e,i,n):null;case A:return i.key===r?c(t,e,i,n):null;case R:return f(t,e,(r=i._init)(i._payload),n)}if(et(i)||I(i))return null!==r?null:u(t,e,i,n,null);Ws(t,i)}return null}function g(t,e,i,n,r){if("string"===typeof n&&""!==n||"number"===typeof n)return l(e,t=t.get(i)||null,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return h(e,t=t.get(null===n.key?i:n.key)||null,n,r);case A:return c(e,t=t.get(null===n.key?i:n.key)||null,n,r);case R:return g(t,e,i,(0,n._init)(n._payload),r)}if(et(n)||I(n))return u(e,t=t.get(i)||null,n,r,null);Ws(e,n)}return null}function p(r,s,a,l){for(var h=null,c=null,u=s,p=s=0,m=null;null!==u&&p<a.length;p++){u.index>p?(m=u,u=null):m=u.sibling;var y=f(r,u,a[p],l);if(null===y){null===u&&(u=m);break}t&&u&&null===y.alternate&&e(r,u),s=o(y,s,p),null===c?h=y:c.sibling=y,c=y,u=m}if(p===a.length)return i(r,u),rs&&Qr(r,p),h;if(null===u){for(;p<a.length;p++)null!==(u=d(r,a[p],l))&&(s=o(u,s,p),null===c?h=u:c.sibling=u,c=u);return rs&&Qr(r,p),h}for(u=n(r,u);p<a.length;p++)null!==(m=g(u,r,p,a[p],l))&&(t&&null!==m.alternate&&u.delete(null===m.key?p:m.key),s=o(m,s,p),null===c?h=m:c.sibling=m,c=m);return t&&u.forEach((function(t){return e(r,t)})),rs&&Qr(r,p),h}function m(r,a,l,h){var c=I(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var u=c=null,p=a,m=a=0,y=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(y=p,p=null):y=p.sibling;var x=f(r,p,v.value,h);if(null===x){null===p&&(p=y);break}t&&p&&null===x.alternate&&e(r,p),a=o(x,a,m),null===u?c=x:u.sibling=x,u=x,p=y}if(v.done)return i(r,p),rs&&Qr(r,m),c;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=d(r,v.value,h))&&(a=o(v,a,m),null===u?c=v:u.sibling=v,u=v);return rs&&Qr(r,m),c}for(p=n(r,p);!v.done;m++,v=l.next())null!==(v=g(p,r,m,v.value,h))&&(t&&null!==v.alternate&&p.delete(null===v.key?m:v.key),a=o(v,a,m),null===u?c=v:u.sibling=v,u=v);return t&&p.forEach((function(t){return e(r,t)})),rs&&Qr(r,m),c}return function t(n,s,o,l){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case S:t:{for(var h=o.key,c=s;null!==c;){if(c.key===h){if((h=o.type)===E){if(7===c.tag){i(n,c.sibling),(s=r(c,o.props.children)).return=n,n=s;break t}}else if(c.elementType===h||"object"===typeof h&&null!==h&&h.$$typeof===R&&Zs(h)===c.type){i(n,c.sibling),(s=r(c,o.props)).ref=Xs(n,c,o),s.return=n,n=s;break t}i(n,c);break}e(n,c),c=c.sibling}o.type===E?((s=Dh(o.props.children,n.mode,l,o.key)).return=n,n=s):((l=Ih(o.type,o.key,o.props,null,n.mode,l)).ref=Xs(n,s,o),l.return=n,n=l)}return a(n);case A:t:{for(c=o.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){i(n,s.sibling),(s=r(s,o.children||[])).return=n,n=s;break t}i(n,s);break}e(n,s),s=s.sibling}(s=Nh(o,n.mode,l)).return=n,n=s}return a(n);case R:return t(n,s,(c=o._init)(o._payload),l)}if(et(o))return p(n,s,o,l);if(I(o))return m(n,s,o,l);Ws(n,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(i(n,s.sibling),(s=r(s,o)).return=n,n=s):(i(n,s),(s=_h(o,n.mode,l)).return=n,n=s),a(n)):i(n,s)}}var Js=qs(!0),Ks=qs(!1),Qs={},$s=wr(Qs),to=wr(Qs),eo=wr(Qs);function io(t){if(t===Qs)throw Error(s(174));return t}function no(t,e){switch(Cr(eo,e),Cr(to,t),Cr($s,Qs),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}kr($s),Cr($s,e)}function ro(){kr($s),kr(to),kr(eo)}function so(t){io(eo.current);var e=io($s.current),i=lt(e,t.type);e!==i&&(Cr(to,t),Cr($s,i))}function oo(t){to.current===t&&(kr($s),kr(to))}var ao=wr(0);function lo(t){for(var e=t;null!==e;){if(13===e.tag){var i=e.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ho=[];function co(){for(var t=0;t<ho.length;t++)ho[t]._workInProgressVersionPrimary=null;ho.length=0}var uo=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,go=0,po=null,mo=null,yo=null,vo=!1,xo=!1,bo=0,So=0;function Ao(){throw Error(s(321))}function Eo(t,e){if(null===e)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!an(t[i],e[i]))return!1;return!0}function wo(t,e,i,n,r,o){if(go=o,po=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,uo.current=null===t||null===t.memoizedState?aa:la,t=i(n,r),xo){o=0;do{if(xo=!1,bo=0,25<=o)throw Error(s(301));o+=1,yo=mo=null,e.updateQueue=null,uo.current=ha,t=i(n,r)}while(xo)}if(uo.current=oa,e=null!==mo&&null!==mo.next,go=0,yo=mo=po=null,vo=!1,e)throw Error(s(300));return t}function ko(){var t=0!==bo;return bo=0,t}function Co(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?po.memoizedState=yo=t:yo=yo.next=t,yo}function Mo(){if(null===mo){var t=po.alternate;t=null!==t?t.memoizedState:null}else t=mo.next;var e=null===yo?po.memoizedState:yo.next;if(null!==e)yo=e,mo=t;else{if(null===t)throw Error(s(310));t={memoizedState:(mo=t).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?po.memoizedState=yo=t:yo=yo.next=t}return yo}function To(t,e){return"function"===typeof e?e(t):e}function Po(t){var e=Mo(),i=e.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=t;var n=mo,r=n.baseQueue,o=i.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}n.baseQueue=r=o,i.pending=null}if(null!==r){o=r.next,n=n.baseState;var l=a=null,h=null,c=o;do{var u=c.lane;if((go&u)===u)null!==h&&(h=h.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===h?(l=h=d,a=n):h=h.next=d,po.lanes|=u,Vl|=u}c=c.next}while(null!==c&&c!==o);null===h?a=n:h.next=l,an(n,e.memoizedState)||(ba=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=h,i.lastRenderedState=n}if(null!==(t=i.interleaved)){r=t;do{o=r.lane,po.lanes|=o,Vl|=o,r=r.next}while(r!==t)}else null===r&&(i.lanes=0);return[e.memoizedState,i.dispatch]}function Fo(t){var e=Mo(),i=e.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=t;var n=i.dispatch,r=i.pending,o=e.memoizedState;if(null!==r){i.pending=null;var a=r=r.next;do{o=t(o,a.action),a=a.next}while(a!==r);an(o,e.memoizedState)||(ba=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),i.lastRenderedState=o}return[o,n]}function Lo(){}function Ro(t,e){var i=po,n=Mo(),r=e(),o=!an(n.memoizedState,r);if(o&&(n.memoizedState=r,ba=!0),n=n.queue,Go(Io.bind(null,i,n,t),[t]),n.getSnapshot!==e||o||null!==yo&&1&yo.memoizedState.tag){if(i.flags|=2048,No(9,zo.bind(null,i,n,r,e),void 0,null),null===Fl)throw Error(s(349));0!==(30&go)||Bo(i,e,r)}return r}function Bo(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},null===(e=po.updateQueue)?(e={lastEffect:null,stores:null},po.updateQueue=e,e.stores=[t]):null===(i=e.stores)?e.stores=[t]:i.push(t)}function zo(t,e,i,n){e.value=i,e.getSnapshot=n,Do(e)&&Vo(t)}function Io(t,e,i){return i((function(){Do(e)&&Vo(t)}))}function Do(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!an(t,i)}catch(n){return!0}}function Vo(t){var e=Ps(t,1);null!==e&&nh(e,t,1,-1)}function _o(t){var e=Co();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:t},e.queue=t,t=t.dispatch=ia.bind(null,po,t),[e.memoizedState,t]}function No(t,e,i,n){return t={tag:t,create:e,destroy:i,deps:n,next:null},null===(e=po.updateQueue)?(e={lastEffect:null,stores:null},po.updateQueue=e,e.lastEffect=t.next=t):null===(i=e.lastEffect)?e.lastEffect=t.next=t:(n=i.next,i.next=t,t.next=n,e.lastEffect=t),t}function Oo(){return Mo().memoizedState}function Ho(t,e,i,n){var r=Co();po.flags|=t,r.memoizedState=No(1|e,i,void 0,void 0===n?null:n)}function Uo(t,e,i,n){var r=Mo();n=void 0===n?null:n;var s=void 0;if(null!==mo){var o=mo.memoizedState;if(s=o.destroy,null!==n&&Eo(n,o.deps))return void(r.memoizedState=No(e,i,s,n))}po.flags|=t,r.memoizedState=No(1|e,i,s,n)}function Yo(t,e){return Ho(8390656,8,t,e)}function Go(t,e){return Uo(2048,8,t,e)}function jo(t,e){return Uo(4,2,t,e)}function Xo(t,e){return Uo(4,4,t,e)}function Wo(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Zo(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,Uo(4,4,Wo.bind(null,e,t),i)}function qo(){}function Jo(t,e){var i=Mo();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&Eo(e,n[1])?n[0]:(i.memoizedState=[t,e],t)}function Ko(t,e){var i=Mo();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&Eo(e,n[1])?n[0]:(t=t(),i.memoizedState=[t,e],t)}function Qo(t,e,i){return 0===(21&go)?(t.baseState&&(t.baseState=!1,ba=!0),t.memoizedState=i):(an(i,e)||(i=pe(),po.lanes|=i,Vl|=i,t.baseState=!0),e)}function $o(t,e){var i=xe;xe=0!==i&&4>i?i:4,t(!0);var n=fo.transition;fo.transition={};try{t(!1),e()}finally{xe=i,fo.transition=n}}function ta(){return Mo().memoizedState}function ea(t,e,i){var n=ih(t);if(i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},na(t))ra(e,i);else if(null!==(i=Ts(t,e,i,n))){nh(i,t,n,eh()),sa(i,e,n)}}function ia(t,e,i){var n=ih(t),r={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(na(t))ra(e,r);else{var s=t.alternate;if(0===t.lanes&&(null===s||0===s.lanes)&&null!==(s=e.lastRenderedReducer))try{var o=e.lastRenderedState,a=s(o,i);if(r.hasEagerState=!0,r.eagerState=a,an(a,o)){var l=e.interleaved;return null===l?(r.next=r,Ms(e)):(r.next=l.next,l.next=r),void(e.interleaved=r)}}catch(h){}null!==(i=Ts(t,e,r,n))&&(nh(i,t,n,r=eh()),sa(i,e,n))}}function na(t){var e=t.alternate;return t===po||null!==e&&e===po}function ra(t,e){xo=vo=!0;var i=t.pending;null===i?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function sa(t,e,i){if(0!==(4194240&i)){var n=e.lanes;i|=n&=t.pendingLanes,e.lanes=i,ve(t,i)}}var oa={readContext:ks,useCallback:Ao,useContext:Ao,useEffect:Ao,useImperativeHandle:Ao,useInsertionEffect:Ao,useLayoutEffect:Ao,useMemo:Ao,useReducer:Ao,useRef:Ao,useState:Ao,useDebugValue:Ao,useDeferredValue:Ao,useTransition:Ao,useMutableSource:Ao,useSyncExternalStore:Ao,useId:Ao,unstable_isNewReconciler:!1},aa={readContext:ks,useCallback:function(t,e){return Co().memoizedState=[t,void 0===e?null:e],t},useContext:ks,useEffect:Yo,useImperativeHandle:function(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,Ho(4194308,4,Wo.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Ho(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ho(4,2,t,e)},useMemo:function(t,e){var i=Co();return e=void 0===e?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var n=Co();return e=void 0!==i?i(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=ea.bind(null,po,t),[n.memoizedState,t]},useRef:function(t){return t={current:t},Co().memoizedState=t},useState:_o,useDebugValue:qo,useDeferredValue:function(t){return Co().memoizedState=t},useTransition:function(){var t=_o(!1),e=t[0];return t=$o.bind(null,t[1]),Co().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,i){var n=po,r=Co();if(rs){if(void 0===i)throw Error(s(407));i=i()}else{if(i=e(),null===Fl)throw Error(s(349));0!==(30&go)||Bo(n,e,i)}r.memoizedState=i;var o={value:i,getSnapshot:e};return r.queue=o,Yo(Io.bind(null,n,o,t),[t]),n.flags|=2048,No(9,zo.bind(null,n,o,i,e),void 0,null),i},useId:function(){var t=Co(),e=Fl.identifierPrefix;if(rs){var i=Kr;e=":"+e+"R"+(i=(Jr&~(1<<32-oe(Jr)-1)).toString(32)+i),0<(i=bo++)&&(e+="H"+i.toString(32)),e+=":"}else e=":"+e+"r"+(i=So++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},la={readContext:ks,useCallback:Jo,useContext:ks,useEffect:Go,useImperativeHandle:Zo,useInsertionEffect:jo,useLayoutEffect:Xo,useMemo:Ko,useReducer:Po,useRef:Oo,useState:function(){return Po(To)},useDebugValue:qo,useDeferredValue:function(t){return Qo(Mo(),mo.memoizedState,t)},useTransition:function(){return[Po(To)[0],Mo().memoizedState]},useMutableSource:Lo,useSyncExternalStore:Ro,useId:ta,unstable_isNewReconciler:!1},ha={readContext:ks,useCallback:Jo,useContext:ks,useEffect:Go,useImperativeHandle:Zo,useInsertionEffect:jo,useLayoutEffect:Xo,useMemo:Ko,useReducer:Fo,useRef:Oo,useState:function(){return Fo(To)},useDebugValue:qo,useDeferredValue:function(t){var e=Mo();return null===mo?e.memoizedState=t:Qo(e,mo.memoizedState,t)},useTransition:function(){return[Fo(To)[0],Mo().memoizedState]},useMutableSource:Lo,useSyncExternalStore:Ro,useId:ta,unstable_isNewReconciler:!1};function ca(t,e){try{var i="",n=e;do{i+=H(n),n=n.return}while(n);var r=i}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:t,source:e,stack:r,digest:null}}function ua(t,e,i){return{value:t,source:null,stack:null!=i?i:null,digest:null!=e?e:null}}function da(t,e){try{console.error(e.value)}catch(i){setTimeout((function(){throw i}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function ga(t,e,i){(i=Bs(-1,i)).tag=3,i.payload={element:null};var n=e.value;return i.callback=function(){jl||(jl=!0,Xl=n),da(0,e)},i}function pa(t,e,i){(i=Bs(-1,i)).tag=3;var n=t.type.getDerivedStateFromError;if("function"===typeof n){var r=e.value;i.payload=function(){return n(r)},i.callback=function(){da(0,e)}}var s=t.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(i.callback=function(){da(0,e),"function"!==typeof n&&(null===Wl?Wl=new Set([this]):Wl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),i}function ma(t,e,i){var n=t.pingCache;if(null===n){n=t.pingCache=new fa;var r=new Set;n.set(e,r)}else void 0===(r=n.get(e))&&(r=new Set,n.set(e,r));r.has(i)||(r.add(i),t=Ch.bind(null,t,e,i),e.then(t,t))}function ya(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function va(t,e,i,n,r){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((e=Bs(-1,1)).tag=2,zs(i,e,1))),i.lanes|=1),t):(t.flags|=65536,t.lanes=r,t)}var xa=b.ReactCurrentOwner,ba=!1;function Sa(t,e,i,n){e.child=null===t?Ks(e,null,i,n):Js(e,t.child,i,n)}function Aa(t,e,i,n,r){i=i.render;var s=e.ref;return ws(e,r),n=wo(t,e,i,n,s,r),i=ko(),null===t||ba?(rs&&i&&ts(e),e.flags|=1,Sa(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ja(t,e,r))}function Ea(t,e,i,n,r){if(null===t){var s=i.type;return"function"!==typeof s||Bh(s)||void 0!==s.defaultProps||null!==i.compare||void 0!==i.defaultProps?((t=Ih(i.type,null,n,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,wa(t,e,s,n,r))}if(s=t.child,0===(t.lanes&r)){var o=s.memoizedProps;if((i=null!==(i=i.compare)?i:ln)(o,n)&&t.ref===e.ref)return ja(t,e,r)}return e.flags|=1,(t=zh(s,n)).ref=e.ref,t.return=e,e.child=t}function wa(t,e,i,n,r){if(null!==t){var s=t.memoizedProps;if(ln(s,n)&&t.ref===e.ref){if(ba=!1,e.pendingProps=n=s,0===(t.lanes&r))return e.lanes=t.lanes,ja(t,e,r);0!==(131072&t.flags)&&(ba=!0)}}return Ma(t,e,i,n,r)}function ka(t,e,i){var n=e.pendingProps,r=n.children,s=null!==t?t.memoizedState:null;if("hidden"===n.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(zl,Bl),Bl|=i;else{if(0===(1073741824&i))return t=null!==s?s.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Cr(zl,Bl),Bl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:i,Cr(zl,Bl),Bl|=n}else null!==s?(n=s.baseLanes|i,e.memoizedState=null):n=i,Cr(zl,Bl),Bl|=n;return Sa(t,e,r,i),e.child}function Ca(t,e){var i=e.ref;(null===t&&null!==i||null!==t&&t.ref!==i)&&(e.flags|=512,e.flags|=2097152)}function Ma(t,e,i,n,r){var s=Rr(i)?Fr:Tr.current;return s=Lr(e,s),ws(e,r),i=wo(t,e,i,n,s,r),n=ko(),null===t||ba?(rs&&n&&ts(e),e.flags|=1,Sa(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ja(t,e,r))}function Ta(t,e,i,n,r){if(Rr(i)){var s=!0;Dr(e)}else s=!1;if(ws(e,r),null===e.stateNode)Ga(t,e),Ys(e,i,n),js(e,i,n,r),n=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,h=i.contextType;"object"===typeof h&&null!==h?h=ks(h):h=Lr(e,h=Rr(i)?Fr:Tr.current);var c=i.getDerivedStateFromProps,u="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==n||l!==h)&&Gs(e,o,n,h),Fs=!1;var d=e.memoizedState;o.state=d,Vs(e,n,o,r),l=e.memoizedState,a!==n||d!==l||Pr.current||Fs?("function"===typeof c&&(Os(e,i,c,n),l=e.memoizedState),(a=Fs||Us(e,i,a,n,d,l,h))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.flags|=4194308)):("function"===typeof o.componentDidMount&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=h,n=a):("function"===typeof o.componentDidMount&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Rs(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:ms(e.type,a),o.props=h,u=e.pendingProps,d=o.context,"object"===typeof(l=i.contextType)&&null!==l?l=ks(l):l=Lr(e,l=Rr(i)?Fr:Tr.current);var f=i.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==u||d!==l)&&Gs(e,o,n,l),Fs=!1,d=e.memoizedState,o.state=d,Vs(e,n,o,r);var g=e.memoizedState;a!==u||d!==g||Pr.current||Fs?("function"===typeof f&&(Os(e,i,f,n),g=e.memoizedState),(h=Fs||Us(e,i,h,n,d,g,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,g,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,g,l)),"function"===typeof o.componentDidUpdate&&(e.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=l,n=h):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Pa(t,e,i,n,s,r)}function Pa(t,e,i,n,r,s){Ca(t,e);var o=0!==(128&e.flags);if(!n&&!o)return r&&Vr(e,i,!1),ja(t,e,s);n=e.stateNode,xa.current=e;var a=o&&"function"!==typeof i.getDerivedStateFromError?null:n.render();return e.flags|=1,null!==t&&o?(e.child=Js(e,t.child,null,s),e.child=Js(e,null,a,s)):Sa(t,e,a,s),e.memoizedState=n.state,r&&Vr(e,i,!0),e.child}function Fa(t){var e=t.stateNode;e.pendingContext?zr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&zr(0,e.context,!1),no(t,e.containerInfo)}function La(t,e,i,n,r){return fs(),gs(r),e.flags|=256,Sa(t,e,i,n),e.child}var Ra,Ba,za,Ia,Da={dehydrated:null,treeContext:null,retryLane:0};function Va(t){return{baseLanes:t,cachePool:null,transitions:null}}function _a(t,e,i){var n,r=e.pendingProps,o=ao.current,a=!1,l=0!==(128&e.flags);if((n=l)||(n=(null===t||null!==t.memoizedState)&&0!==(2&o)),n?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(o|=1),Cr(ao,1&o),null===t)return hs(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=r.children,t=r.fallback,a?(r=e.mode,a=e.child,l={mode:"hidden",children:l},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Vh(l,r,0,null),t=Dh(t,r,i,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Va(i),e.memoizedState=Da,t):Na(e,l));if(null!==(o=t.memoizedState)&&null!==(n=o.dehydrated))return function(t,e,i,n,r,o,a){if(i)return 256&e.flags?(e.flags&=-257,Oa(t,e,a,n=ua(Error(s(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(o=n.fallback,r=e.mode,n=Vh({mode:"visible",children:n.children},r,0,null),(o=Dh(o,r,a,null)).flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,0!==(1&e.mode)&&Js(e,t.child,null,a),e.child.memoizedState=Va(a),e.memoizedState=Da,o);if(0===(1&e.mode))return Oa(t,e,a,null);if("$!"===r.data){if(n=r.nextSibling&&r.nextSibling.dataset)var l=n.dgst;return n=l,Oa(t,e,a,n=ua(o=Error(s(419)),n,void 0))}if(l=0!==(a&t.childLanes),ba||l){if(null!==(n=Fl)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(n.suspendedLanes|a))?0:r)&&r!==o.retryLane&&(o.retryLane=r,Ps(t,r),nh(n,t,r,-1))}return mh(),Oa(t,e,a,n=ua(Error(s(421))))}return"$?"===r.data?(e.flags|=128,e.child=t.child,e=Th.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,ns=hr(r.nextSibling),is=e,rs=!0,ss=null,null!==t&&(Wr[Zr++]=Jr,Wr[Zr++]=Kr,Wr[Zr++]=qr,Jr=t.id,Kr=t.overflow,qr=e),e=Na(e,n.children),e.flags|=4096,e)}(t,e,l,r,n,o,i);if(a){a=r.fallback,l=e.mode,n=(o=t.child).sibling;var h={mode:"hidden",children:r.children};return 0===(1&l)&&e.child!==o?((r=e.child).childLanes=0,r.pendingProps=h,e.deletions=null):(r=zh(o,h)).subtreeFlags=14680064&o.subtreeFlags,null!==n?a=zh(n,a):(a=Dh(a,l,i,null)).flags|=2,a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,l=null===(l=t.child.memoizedState)?Va(i):{baseLanes:l.baseLanes|i,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~i,e.memoizedState=Da,r}return t=(a=t.child).sibling,r=zh(a,{mode:"visible",children:r.children}),0===(1&e.mode)&&(r.lanes=i),r.return=e,r.sibling=null,null!==t&&(null===(i=e.deletions)?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=r,e.memoizedState=null,r}function Na(t,e){return(e=Vh({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Oa(t,e,i,n){return null!==n&&gs(n),Js(e,t.child,null,i),(t=Na(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Ha(t,e,i){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),Es(t.return,e,i)}function Ua(t,e,i,n,r){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=i,s.tailMode=r)}function Ya(t,e,i){var n=e.pendingProps,r=n.revealOrder,s=n.tail;if(Sa(t,e,n.children,i),0!==(2&(n=ao.current)))n=1&n|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ha(t,i,e);else if(19===t.tag)Ha(t,i,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Cr(ao,n),0===(1&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(i=e.child,r=null;null!==i;)null!==(t=i.alternate)&&null===lo(t)&&(r=i),i=i.sibling;null===(i=r)?(r=e.child,e.child=null):(r=i.sibling,i.sibling=null),Ua(e,!1,r,i,s);break;case"backwards":for(i=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===lo(t)){e.child=r;break}t=r.sibling,r.sibling=i,i=r,r=t}Ua(e,!0,i,null,s);break;case"together":Ua(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ga(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ja(t,e,i){if(null!==t&&(e.dependencies=t.dependencies),Vl|=e.lanes,0===(i&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(i=zh(t=e.child,t.pendingProps),e.child=i,i.return=e;null!==t.sibling;)t=t.sibling,(i=i.sibling=zh(t,t.pendingProps)).return=e;i.sibling=null}return e.child}function Xa(t,e){if(!rs)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;null!==e;)null!==e.alternate&&(i=e),e=e.sibling;null===i?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Wa(t){var e=null!==t.alternate&&t.alternate.child===t.child,i=0,n=0;if(e)for(var r=t.child;null!==r;)i|=r.lanes|r.childLanes,n|=14680064&r.subtreeFlags,n|=14680064&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)i|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=n,t.childLanes=i,e}function Za(t,e,i){var n=e.pendingProps;switch(es(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wa(e),null;case 1:case 17:return Rr(e.type)&&Br(),Wa(e),null;case 3:return n=e.stateNode,ro(),kr(Pr),kr(Tr),co(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(us(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==ss&&(ah(ss),ss=null))),Ba(t,e),Wa(e),null;case 5:oo(e);var r=io(eo.current);if(i=e.type,null!==t&&null!=e.stateNode)za(t,e,i,n,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(null===e.stateNode)throw Error(s(166));return Wa(e),null}if(t=io($s.current),us(e)){n=e.stateNode,i=e.type;var o=e.memoizedProps;switch(n[dr]=e,n[fr]=o,t=0!==(1&e.mode),i){case"dialog":Nn("cancel",n),Nn("close",n);break;case"iframe":case"object":case"embed":Nn("load",n);break;case"video":case"audio":for(r=0;r<In.length;r++)Nn(In[r],n);break;case"source":Nn("error",n);break;case"img":case"image":case"link":Nn("error",n),Nn("load",n);break;case"details":Nn("toggle",n);break;case"input":J(n,o),Nn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Nn("invalid",n);break;case"textarea":rt(n,o),Nn("invalid",n)}for(var l in vt(i,o),r=null,o)if(o.hasOwnProperty(l)){var h=o[l];"children"===l?"string"===typeof h?n.textContent!==h&&(!0!==o.suppressHydrationWarning&&Qn(n.textContent,h,t),r=["children",h]):"number"===typeof h&&n.textContent!==""+h&&(!0!==o.suppressHydrationWarning&&Qn(n.textContent,h,t),r=["children",""+h]):a.hasOwnProperty(l)&&null!=h&&"onScroll"===l&&Nn("scroll",n)}switch(i){case"input":X(n),$(n,o,!0);break;case"textarea":X(n),ot(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=$n)}n=r,e.updateQueue=n,null!==n&&(e.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(i)),"http://www.w3.org/1999/xhtml"===t?"script"===i?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof n.is?t=l.createElement(i,{is:n.is}):(t=l.createElement(i),"select"===i&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,i),t[dr]=e,t[fr]=n,Ra(t,e,!1,!1),e.stateNode=t;t:{switch(l=xt(i,n),i){case"dialog":Nn("cancel",t),Nn("close",t),r=n;break;case"iframe":case"object":case"embed":Nn("load",t),r=n;break;case"video":case"audio":for(r=0;r<In.length;r++)Nn(In[r],t);r=n;break;case"source":Nn("error",t),r=n;break;case"img":case"image":case"link":Nn("error",t),Nn("load",t),r=n;break;case"details":Nn("toggle",t),r=n;break;case"input":J(t,n),r=q(t,n),Nn("invalid",t);break;case"option":default:r=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},r=V({},n,{value:void 0}),Nn("invalid",t);break;case"textarea":rt(t,n),r=nt(t,n),Nn("invalid",t)}for(o in vt(i,r),h=r)if(h.hasOwnProperty(o)){var c=h[o];"style"===o?mt(t,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&ut(t,c):"children"===o?"string"===typeof c?("textarea"!==i||""!==c)&&dt(t,c):"number"===typeof c&&dt(t,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Nn("scroll",t):null!=c&&x(t,o,c,l))}switch(i){case"input":X(t),$(t,n,!1);break;case"textarea":X(t),ot(t);break;case"option":null!=n.value&&t.setAttribute("value",""+G(n.value));break;case"select":t.multiple=!!n.multiple,null!=(o=n.value)?it(t,!!n.multiple,o,!1):null!=n.defaultValue&&it(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof r.onClick&&(t.onclick=$n)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break t;case"img":n=!0;break t;default:n=!1}}n&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Wa(e),null;case 6:if(t&&null!=e.stateNode)Ia(t,e,t.memoizedProps,n);else{if("string"!==typeof n&&null===e.stateNode)throw Error(s(166));if(i=io(eo.current),io($s.current),us(e)){if(n=e.stateNode,i=e.memoizedProps,n[dr]=e,(o=n.nodeValue!==i)&&null!==(t=is))switch(t.tag){case 3:Qn(n.nodeValue,i,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Qn(n.nodeValue,i,0!==(1&t.mode))}o&&(e.flags|=4)}else(n=(9===i.nodeType?i:i.ownerDocument).createTextNode(n))[dr]=e,e.stateNode=n}return Wa(e),null;case 13:if(kr(ao),n=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(rs&&null!==ns&&0!==(1&e.mode)&&0===(128&e.flags))ds(),fs(),e.flags|=98560,o=!1;else if(o=us(e),null!==n&&null!==n.dehydrated){if(null===t){if(!o)throw Error(s(318));if(!(o=null!==(o=e.memoizedState)?o.dehydrated:null))throw Error(s(317));o[dr]=e}else fs(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Wa(e),o=!1}else null!==ss&&(ah(ss),ss=null),o=!0;if(!o)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=i,e):((n=null!==n)!==(null!==t&&null!==t.memoizedState)&&n&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ao.current)?0===Il&&(Il=3):mh())),null!==e.updateQueue&&(e.flags|=4),Wa(e),null);case 4:return ro(),Ba(t,e),null===t&&Un(e.stateNode.containerInfo),Wa(e),null;case 10:return As(e.type._context),Wa(e),null;case 19:if(kr(ao),null===(o=e.memoizedState))return Wa(e),null;if(n=0!==(128&e.flags),null===(l=o.rendering))if(n)Xa(o,!1);else{if(0!==Il||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=lo(t))){for(e.flags|=128,Xa(o,!1),null!==(n=l.updateQueue)&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=i,i=e.child;null!==i;)t=n,(o=i).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return Cr(ao,1&ao.current|2),e.child}t=t.sibling}null!==o.tail&&Kt()>Yl&&(e.flags|=128,n=!0,Xa(o,!1),e.lanes=4194304)}else{if(!n)if(null!==(t=lo(l))){if(e.flags|=128,n=!0,null!==(i=t.updateQueue)&&(e.updateQueue=i,e.flags|=4),Xa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!rs)return Wa(e),null}else 2*Kt()-o.renderingStartTime>Yl&&1073741824!==i&&(e.flags|=128,n=!0,Xa(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(null!==(i=o.last)?i.sibling=l:e.child=l,o.last=l)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Kt(),e.sibling=null,i=ao.current,Cr(ao,n?1&i|2:1&i),e):(Wa(e),null);case 22:case 23:return dh(),n=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==n&&(e.flags|=8192),n&&0!==(1&e.mode)?0!==(1073741824&Bl)&&(Wa(e),6&e.subtreeFlags&&(e.flags|=8192)):Wa(e),null;case 24:case 25:return null}throw Error(s(156,e.tag))}function qa(t,e){switch(es(e),e.tag){case 1:return Rr(e.type)&&Br(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return ro(),kr(Pr),kr(Tr),co(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return oo(e),null;case 13:if(kr(ao),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(s(340));fs()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return kr(ao),null;case 4:return ro(),null;case 10:return As(e.type._context),null;case 22:case 23:return dh(),null;default:return null}}Ra=function(t,e){for(var i=e.child;null!==i;){if(5===i.tag||6===i.tag)t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Ba=function(){},za=function(t,e,i,n){var r=t.memoizedProps;if(r!==n){t=e.stateNode,io($s.current);var s,o=null;switch(i){case"input":r=q(t,r),n=q(t,n),o=[];break;case"select":r=V({},r,{value:void 0}),n=V({},n,{value:void 0}),o=[];break;case"textarea":r=nt(t,r),n=nt(t,n),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof n.onClick&&(t.onclick=$n)}for(c in vt(i,n),i=null,r)if(!n.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var l=r[c];for(s in l)l.hasOwnProperty(s)&&(i||(i={}),i[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var h=n[c];if(l=null!=r?r[c]:void 0,n.hasOwnProperty(c)&&h!==l&&(null!=h||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||h&&h.hasOwnProperty(s)||(i||(i={}),i[s]="");for(s in h)h.hasOwnProperty(s)&&l[s]!==h[s]&&(i||(i={}),i[s]=h[s])}else i||(o||(o=[]),o.push(c,i)),i=h;else"dangerouslySetInnerHTML"===c?(h=h?h.__html:void 0,l=l?l.__html:void 0,null!=h&&l!==h&&(o=o||[]).push(c,h)):"children"===c?"string"!==typeof h&&"number"!==typeof h||(o=o||[]).push(c,""+h):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=h&&"onScroll"===c&&Nn("scroll",t),o||l===h||(o=[])):(o=o||[]).push(c,h))}i&&(o=o||[]).push("style",i);var c=o;(e.updateQueue=c)&&(e.flags|=4)}},Ia=function(t,e,i,n){i!==n&&(e.flags|=4)};var Ja=!1,Ka=!1,Qa="function"===typeof WeakSet?WeakSet:Set,$a=null;function tl(t,e){var i=t.ref;if(null!==i)if("function"===typeof i)try{i(null)}catch(n){kh(t,e,n)}else i.current=null}function el(t,e,i){try{i()}catch(n){kh(t,e,n)}}var il=!1;function nl(t,e,i){var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,void 0!==s&&el(e,i,s)}r=r.next}while(r!==n)}}function rl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var i=e=e.next;do{if((i.tag&t)===t){var n=i.create;i.destroy=n()}i=i.next}while(i!==e)}}function sl(t){var e=t.ref;if(null!==e){var i=t.stateNode;t.tag,t=i,"function"===typeof e?e(t):e.current=t}}function ol(t){var e=t.alternate;null!==e&&(t.alternate=null,ol(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[dr],delete e[fr],delete e[pr],delete e[mr],delete e[yr])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function al(t){return 5===t.tag||3===t.tag||4===t.tag}function ll(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||al(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function hl(t,e,i){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?8===i.nodeType?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(8===i.nodeType?(e=i.parentNode).insertBefore(t,i):(e=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==e.onclick||(e.onclick=$n));else if(4!==n&&null!==(t=t.child))for(hl(t,e,i),t=t.sibling;null!==t;)hl(t,e,i),t=t.sibling}function cl(t,e,i){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(4!==n&&null!==(t=t.child))for(cl(t,e,i),t=t.sibling;null!==t;)cl(t,e,i),t=t.sibling}var ul=null,dl=!1;function fl(t,e,i){for(i=i.child;null!==i;)gl(t,e,i),i=i.sibling}function gl(t,e,i){if(se&&"function"===typeof se.onCommitFiberUnmount)try{se.onCommitFiberUnmount(re,i)}catch(a){}switch(i.tag){case 5:Ka||tl(i,e);case 6:var n=ul,r=dl;ul=null,fl(t,e,i),dl=r,null!==(ul=n)&&(dl?(t=ul,i=i.stateNode,8===t.nodeType?t.parentNode.removeChild(i):t.removeChild(i)):ul.removeChild(i.stateNode));break;case 18:null!==ul&&(dl?(t=ul,i=i.stateNode,8===t.nodeType?lr(t.parentNode,i):1===t.nodeType&&lr(t,i),Ue(t)):lr(ul,i.stateNode));break;case 4:n=ul,r=dl,ul=i.stateNode.containerInfo,dl=!0,fl(t,e,i),ul=n,dl=r;break;case 0:case 11:case 14:case 15:if(!Ka&&(null!==(n=i.updateQueue)&&null!==(n=n.lastEffect))){r=n=n.next;do{var s=r,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(i,e,o),r=r.next}while(r!==n)}fl(t,e,i);break;case 1:if(!Ka&&(tl(i,e),"function"===typeof(n=i.stateNode).componentWillUnmount))try{n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(a){kh(i,e,a)}fl(t,e,i);break;case 21:fl(t,e,i);break;case 22:1&i.mode?(Ka=(n=Ka)||null!==i.memoizedState,fl(t,e,i),Ka=n):fl(t,e,i);break;default:fl(t,e,i)}}function pl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var i=t.stateNode;null===i&&(i=t.stateNode=new Qa),e.forEach((function(e){var n=Ph.bind(null,t,e);i.has(e)||(i.add(e),e.then(n,n))}))}}function ml(t,e){var i=e.deletions;if(null!==i)for(var n=0;n<i.length;n++){var r=i[n];try{var o=t,a=e,l=a;t:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break t;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break t}l=l.return}if(null===ul)throw Error(s(160));gl(o,a,r),ul=null,dl=!1;var h=r.alternate;null!==h&&(h.return=null),r.return=null}catch(c){kh(r,e,c)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)yl(e,t),e=e.sibling}function yl(t,e){var i=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ml(e,t),vl(t),4&n){try{nl(3,t,t.return),rl(3,t)}catch(m){kh(t,t.return,m)}try{nl(5,t,t.return)}catch(m){kh(t,t.return,m)}}break;case 1:ml(e,t),vl(t),512&n&&null!==i&&tl(i,i.return);break;case 5:if(ml(e,t),vl(t),512&n&&null!==i&&tl(i,i.return),32&t.flags){var r=t.stateNode;try{dt(r,"")}catch(m){kh(t,t.return,m)}}if(4&n&&null!=(r=t.stateNode)){var o=t.memoizedProps,a=null!==i?i.memoizedProps:o,l=t.type,h=t.updateQueue;if(t.updateQueue=null,null!==h)try{"input"===l&&"radio"===o.type&&null!=o.name&&K(r,o),xt(l,a);var c=xt(l,o);for(a=0;a<h.length;a+=2){var u=h[a],d=h[a+1];"style"===u?mt(r,d):"dangerouslySetInnerHTML"===u?ut(r,d):"children"===u?dt(r,d):x(r,u,d,c)}switch(l){case"input":Q(r,o);break;case"textarea":st(r,o);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var g=o.value;null!=g?it(r,!!o.multiple,g,!1):f!==!!o.multiple&&(null!=o.defaultValue?it(r,!!o.multiple,o.defaultValue,!0):it(r,!!o.multiple,o.multiple?[]:"",!1))}r[fr]=o}catch(m){kh(t,t.return,m)}}break;case 6:if(ml(e,t),vl(t),4&n){if(null===t.stateNode)throw Error(s(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(m){kh(t,t.return,m)}}break;case 3:if(ml(e,t),vl(t),4&n&&null!==i&&i.memoizedState.isDehydrated)try{Ue(e.containerInfo)}catch(m){kh(t,t.return,m)}break;case 4:default:ml(e,t),vl(t);break;case 13:ml(e,t),vl(t),8192&(r=t.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(Ul=Kt())),4&n&&pl(t);break;case 22:if(u=null!==i&&null!==i.memoizedState,1&t.mode?(Ka=(c=Ka)||u,ml(e,t),Ka=c):ml(e,t),vl(t),8192&n){if(c=null!==t.memoizedState,(t.stateNode.isHidden=c)&&!u&&0!==(1&t.mode))for($a=t,u=t.child;null!==u;){for(d=$a=u;null!==$a;){switch(g=(f=$a).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:tl(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){n=f,i=f.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){kh(n,i,m)}}break;case 5:tl(f,f.return);break;case 22:if(null!==f.memoizedState){Al(d);continue}}null!==g?(g.return=f,$a=g):Al(d)}u=u.sibling}t:for(u=null,d=t;;){if(5===d.tag){if(null===u){u=d;try{r=d.stateNode,c?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(h=d.memoizedProps.style)&&null!==h&&h.hasOwnProperty("display")?h.display:null,l.style.display=pt("display",a))}catch(m){kh(t,t.return,m)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){kh(t,t.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(e,t),vl(t),4&n&&pl(t);case 21:}}function vl(t){var e=t.flags;if(2&e){try{t:{for(var i=t.return;null!==i;){if(al(i)){var n=i;break t}i=i.return}throw Error(s(160))}switch(n.tag){case 5:var r=n.stateNode;32&n.flags&&(dt(r,""),n.flags&=-33),cl(t,ll(t),r);break;case 3:case 4:var o=n.stateNode.containerInfo;hl(t,ll(t),o);break;default:throw Error(s(161))}}catch(a){kh(t,t.return,a)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function xl(t,e,i){$a=t,bl(t,e,i)}function bl(t,e,i){for(var n=0!==(1&t.mode);null!==$a;){var r=$a,s=r.child;if(22===r.tag&&n){var o=null!==r.memoizedState||Ja;if(!o){var a=r.alternate,l=null!==a&&null!==a.memoizedState||Ka;a=Ja;var h=Ka;if(Ja=o,(Ka=l)&&!h)for($a=r;null!==$a;)l=(o=$a).child,22===o.tag&&null!==o.memoizedState?El(r):null!==l?(l.return=o,$a=l):El(r);for(;null!==s;)$a=s,bl(s,e,i),s=s.sibling;$a=r,Ja=a,Ka=h}Sl(t)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,$a=s):Sl(t)}}function Sl(t){for(;null!==$a;){var e=$a;if(0!==(8772&e.flags)){var i=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Ka||rl(5,e);break;case 1:var n=e.stateNode;if(4&e.flags&&!Ka)if(null===i)n.componentDidMount();else{var r=e.elementType===e.type?i.memoizedProps:ms(e.type,i.memoizedProps);n.componentDidUpdate(r,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;null!==o&&_s(e,o,n);break;case 3:var a=e.updateQueue;if(null!==a){if(i=null,null!==e.child)switch(e.child.tag){case 5:case 1:i=e.child.stateNode}_s(e,a,i)}break;case 5:var l=e.stateNode;if(null===i&&4&e.flags){i=l;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&i.focus();break;case"img":h.src&&(i.src=h.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var c=e.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&Ue(d)}}}break;default:throw Error(s(163))}Ka||512&e.flags&&sl(e)}catch(f){kh(e,e.return,f)}}if(e===t){$a=null;break}if(null!==(i=e.sibling)){i.return=e.return,$a=i;break}$a=e.return}}function Al(t){for(;null!==$a;){var e=$a;if(e===t){$a=null;break}var i=e.sibling;if(null!==i){i.return=e.return,$a=i;break}$a=e.return}}function El(t){for(;null!==$a;){var e=$a;try{switch(e.tag){case 0:case 11:case 15:var i=e.return;try{rl(4,e)}catch(l){kh(e,i,l)}break;case 1:var n=e.stateNode;if("function"===typeof n.componentDidMount){var r=e.return;try{n.componentDidMount()}catch(l){kh(e,r,l)}}var s=e.return;try{sl(e)}catch(l){kh(e,s,l)}break;case 5:var o=e.return;try{sl(e)}catch(l){kh(e,o,l)}}}catch(l){kh(e,e.return,l)}if(e===t){$a=null;break}var a=e.sibling;if(null!==a){a.return=e.return,$a=a;break}$a=e.return}}var wl,kl=Math.ceil,Cl=b.ReactCurrentDispatcher,Ml=b.ReactCurrentOwner,Tl=b.ReactCurrentBatchConfig,Pl=0,Fl=null,Ll=null,Rl=0,Bl=0,zl=wr(0),Il=0,Dl=null,Vl=0,_l=0,Nl=0,Ol=null,Hl=null,Ul=0,Yl=1/0,Gl=null,jl=!1,Xl=null,Wl=null,Zl=!1,ql=null,Jl=0,Kl=0,Ql=null,$l=-1,th=0;function eh(){return 0!==(6&Pl)?Kt():-1!==$l?$l:$l=Kt()}function ih(t){return 0===(1&t.mode)?1:0!==(2&Pl)&&0!==Rl?Rl&-Rl:null!==ps.transition?(0===th&&(th=pe()),th):0!==(t=xe)?t:t=void 0===(t=window.event)?16:Je(t.type)}function nh(t,e,i,n){if(50<Kl)throw Kl=0,Ql=null,Error(s(185));ye(t,i,n),0!==(2&Pl)&&t===Fl||(t===Fl&&(0===(2&Pl)&&(_l|=i),4===Il&&lh(t,Rl)),rh(t,n),1===i&&0===Pl&&0===(1&e.mode)&&(Yl=Kt()+500,Nr&&Ur()))}function rh(t,e){var i=t.callbackNode;!function(t,e){for(var i=t.suspendedLanes,n=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-oe(s),a=1<<o,l=r[o];-1===l?0!==(a&i)&&0===(a&n)||(r[o]=fe(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}(t,e);var n=de(t,t===Fl?Rl:0);if(0===n)null!==i&&Zt(i),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(null!=i&&Zt(i),1===e)0===t.tag?function(t){Nr=!0,Hr(t)}(hh.bind(null,t)):Hr(hh.bind(null,t)),or((function(){0===(6&Pl)&&Ur()})),i=null;else{switch(be(n)){case 1:i=$t;break;case 4:i=te;break;case 16:default:i=ee;break;case 536870912:i=ne}i=Fh(i,sh.bind(null,t))}t.callbackPriority=e,t.callbackNode=i}}function sh(t,e){if($l=-1,th=0,0!==(6&Pl))throw Error(s(327));var i=t.callbackNode;if(Eh()&&t.callbackNode!==i)return null;var n=de(t,t===Fl?Rl:0);if(0===n)return null;if(0!==(30&n)||0!==(n&t.expiredLanes)||e)e=yh(t,n);else{e=n;var r=Pl;Pl|=2;var o=ph();for(Fl===t&&Rl===e||(Gl=null,Yl=Kt()+500,fh(t,e));;)try{xh();break}catch(l){gh(t,l)}Ss(),Cl.current=o,Pl=r,null!==Ll?e=0:(Fl=null,Rl=0,e=Il)}if(0!==e){if(2===e&&(0!==(r=ge(t))&&(n=r,e=oh(t,r))),1===e)throw i=Dl,fh(t,0),lh(t,n),rh(t,Kt()),i;if(6===e)lh(t,n);else{if(r=t.current.alternate,0===(30&n)&&!function(t){for(var e=t;;){if(16384&e.flags){var i=e.updateQueue;if(null!==i&&null!==(i=i.stores))for(var n=0;n<i.length;n++){var r=i[n],s=r.getSnapshot;r=r.value;try{if(!an(s(),r))return!1}catch(a){return!1}}}if(i=e.child,16384&e.subtreeFlags&&null!==i)i.return=e,e=i;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(r)&&(2===(e=yh(t,n))&&(0!==(o=ge(t))&&(n=o,e=oh(t,o))),1===e))throw i=Dl,fh(t,0),lh(t,n),rh(t,Kt()),i;switch(t.finishedWork=r,t.finishedLanes=n,e){case 0:case 1:throw Error(s(345));case 2:case 5:Ah(t,Hl,Gl);break;case 3:if(lh(t,n),(130023424&n)===n&&10<(e=Ul+500-Kt())){if(0!==de(t,0))break;if(((r=t.suspendedLanes)&n)!==n){eh(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=nr(Ah.bind(null,t,Hl,Gl),e);break}Ah(t,Hl,Gl);break;case 4:if(lh(t,n),(4194240&n)===n)break;for(e=t.eventTimes,r=-1;0<n;){var a=31-oe(n);o=1<<a,(a=e[a])>r&&(r=a),n&=~o}if(n=r,10<(n=(120>(n=Kt()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kl(n/1960))-n)){t.timeoutHandle=nr(Ah.bind(null,t,Hl,Gl),n);break}Ah(t,Hl,Gl);break;default:throw Error(s(329))}}}return rh(t,Kt()),t.callbackNode===i?sh.bind(null,t):null}function oh(t,e){var i=Ol;return t.current.memoizedState.isDehydrated&&(fh(t,e).flags|=256),2!==(t=yh(t,e))&&(e=Hl,Hl=i,null!==e&&ah(e)),t}function ah(t){null===Hl?Hl=t:Hl.push.apply(Hl,t)}function lh(t,e){for(e&=~Nl,e&=~_l,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var i=31-oe(e),n=1<<i;t[i]=-1,e&=~n}}function hh(t){if(0!==(6&Pl))throw Error(s(327));Eh();var e=de(t,0);if(0===(1&e))return rh(t,Kt()),null;var i=yh(t,e);if(0!==t.tag&&2===i){var n=ge(t);0!==n&&(e=n,i=oh(t,n))}if(1===i)throw i=Dl,fh(t,0),lh(t,e),rh(t,Kt()),i;if(6===i)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ah(t,Hl,Gl),rh(t,Kt()),null}function ch(t,e){var i=Pl;Pl|=1;try{return t(e)}finally{0===(Pl=i)&&(Yl=Kt()+500,Nr&&Ur())}}function uh(t){null!==ql&&0===ql.tag&&0===(6&Pl)&&Eh();var e=Pl;Pl|=1;var i=Tl.transition,n=xe;try{if(Tl.transition=null,xe=1,t)return t()}finally{xe=n,Tl.transition=i,0===(6&(Pl=e))&&Ur()}}function dh(){Bl=zl.current,kr(zl)}function fh(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(-1!==i&&(t.timeoutHandle=-1,rr(i)),null!==Ll)for(i=Ll.return;null!==i;){var n=i;switch(es(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Br();break;case 3:ro(),kr(Pr),kr(Tr),co();break;case 5:oo(n);break;case 4:ro();break;case 13:case 19:kr(ao);break;case 10:As(n.type._context);break;case 22:case 23:dh()}i=i.return}if(Fl=t,Ll=t=zh(t.current,null),Rl=Bl=e,Il=0,Dl=null,Nl=_l=Vl=0,Hl=Ol=null,null!==Cs){for(e=0;e<Cs.length;e++)if(null!==(n=(i=Cs[e]).interleaved)){i.interleaved=null;var r=n.next,s=i.pending;if(null!==s){var o=s.next;s.next=r,n.next=o}i.pending=n}Cs=null}return t}function gh(t,e){for(;;){var i=Ll;try{if(Ss(),uo.current=oa,vo){for(var n=po.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}vo=!1}if(go=0,yo=mo=po=null,xo=!1,bo=0,Ml.current=null,null===i||null===i.return){Il=1,Dl=e,Ll=null;break}t:{var o=t,a=i.return,l=i,h=e;if(e=Rl,l.flags|=32768,null!==h&&"object"===typeof h&&"function"===typeof h.then){var c=h,u=l,d=u.tag;if(0===(1&u.mode)&&(0===d||11===d||15===d)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=ya(a);if(null!==g){g.flags&=-257,va(g,a,l,0,e),1&g.mode&&ma(o,c,e),h=c;var p=(e=g).updateQueue;if(null===p){var m=new Set;m.add(h),e.updateQueue=m}else p.add(h);break t}if(0===(1&e)){ma(o,c,e),mh();break t}h=Error(s(426))}else if(rs&&1&l.mode){var y=ya(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),va(y,a,l,0,e),gs(ca(h,l));break t}}o=h=ca(h,l),4!==Il&&(Il=2),null===Ol?Ol=[o]:Ol.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e,Ds(o,ga(0,h,e));break t;case 1:l=h;var v=o.type,x=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Wl||!Wl.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e,Ds(o,pa(o,l,e));break t}}o=o.return}while(null!==o)}Sh(i)}catch(b){e=b,Ll===i&&null!==i&&(Ll=i=i.return);continue}break}}function ph(){var t=Cl.current;return Cl.current=oa,null===t?oa:t}function mh(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Fl||0===(268435455&Vl)&&0===(268435455&_l)||lh(Fl,Rl)}function yh(t,e){var i=Pl;Pl|=2;var n=ph();for(Fl===t&&Rl===e||(Gl=null,fh(t,e));;)try{vh();break}catch(r){gh(t,r)}if(Ss(),Pl=i,Cl.current=n,null!==Ll)throw Error(s(261));return Fl=null,Rl=0,Il}function vh(){for(;null!==Ll;)bh(Ll)}function xh(){for(;null!==Ll&&!qt();)bh(Ll)}function bh(t){var e=wl(t.alternate,t,Bl);t.memoizedProps=t.pendingProps,null===e?Sh(t):Ll=e,Ml.current=null}function Sh(t){var e=t;do{var i=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(i=Za(i,e,Bl)))return void(Ll=i)}else{if(null!==(i=qa(i,e)))return i.flags&=32767,void(Ll=i);if(null===t)return Il=6,void(Ll=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Ll=e);Ll=e=t}while(null!==e);0===Il&&(Il=5)}function Ah(t,e,i){var n=xe,r=Tl.transition;try{Tl.transition=null,xe=1,function(t,e,i,n){do{Eh()}while(null!==ql);if(0!==(6&Pl))throw Error(s(327));i=t.finishedWork;var r=t.finishedLanes;if(null===i)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var o=i.lanes|i.childLanes;if(function(t,e){var i=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<i;){var r=31-oe(i),s=1<<r;e[r]=0,n[r]=-1,t[r]=-1,i&=~s}}(t,o),t===Fl&&(Ll=Fl=null,Rl=0),0===(2064&i.subtreeFlags)&&0===(2064&i.flags)||Zl||(Zl=!0,Fh(ee,(function(){return Eh(),null}))),o=0!==(15990&i.flags),0!==(15990&i.subtreeFlags)||o){o=Tl.transition,Tl.transition=null;var a=xe;xe=1;var l=Pl;Pl|=4,Ml.current=null,function(t,e){if(tr=Ge,fn(t=dn())){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{var n=(i=(i=t.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(n&&0!==n.rangeCount){i=n.anchorNode;var r=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{i.nodeType,o.nodeType}catch(S){i=null;break t}var a=0,l=-1,h=-1,c=0,u=0,d=t,f=null;e:for(;;){for(var g;d!==i||0!==r&&3!==d.nodeType||(l=a+r),d!==o||0!==n&&3!==d.nodeType||(h=a+n),3===d.nodeType&&(a+=d.nodeValue.length),null!==(g=d.firstChild);)f=d,d=g;for(;;){if(d===t)break e;if(f===i&&++c===r&&(l=a),f===o&&++u===n&&(h=a),null!==(g=d.nextSibling))break;f=(d=f).parentNode}d=g}i=-1===l||-1===h?null:{start:l,end:h}}else i=null}i=i||{start:0,end:0}}else i=null;for(er={focusedElem:t,selectionRange:i},Ge=!1,$a=e;null!==$a;)if(t=(e=$a).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,$a=t;else for(;null!==$a;){e=$a;try{var p=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,y=p.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:ms(e.type,m),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(S){kh(e,e.return,S)}if(null!==(t=e.sibling)){t.return=e.return,$a=t;break}$a=e.return}p=il,il=!1}(t,i),yl(i,t),gn(er),Ge=!!tr,er=tr=null,t.current=i,xl(i,t,r),Jt(),Pl=l,xe=a,Tl.transition=o}else t.current=i;if(Zl&&(Zl=!1,ql=t,Jl=r),o=t.pendingLanes,0===o&&(Wl=null),function(t){if(se&&"function"===typeof se.onCommitFiberRoot)try{se.onCommitFiberRoot(re,t,void 0,128===(128&t.current.flags))}catch(e){}}(i.stateNode),rh(t,Kt()),null!==e)for(n=t.onRecoverableError,i=0;i<e.length;i++)r=e[i],n(r.value,{componentStack:r.stack,digest:r.digest});if(jl)throw jl=!1,t=Xl,Xl=null,t;0!==(1&Jl)&&0!==t.tag&&Eh(),o=t.pendingLanes,0!==(1&o)?t===Ql?Kl++:(Kl=0,Ql=t):Kl=0,Ur()}(t,e,i,n)}finally{Tl.transition=r,xe=n}return null}function Eh(){if(null!==ql){var t=be(Jl),e=Tl.transition,i=xe;try{if(Tl.transition=null,xe=16>t?16:t,null===ql)var n=!1;else{if(t=ql,ql=null,Jl=0,0!==(6&Pl))throw Error(s(331));var r=Pl;for(Pl|=4,$a=t.current;null!==$a;){var o=$a,a=o.child;if(0!==(16&$a.flags)){var l=o.deletions;if(null!==l){for(var h=0;h<l.length;h++){var c=l[h];for($a=c;null!==$a;){var u=$a;switch(u.tag){case 0:case 11:case 15:nl(8,u,o)}var d=u.child;if(null!==d)d.return=u,$a=d;else for(;null!==$a;){var f=(u=$a).sibling,g=u.return;if(ol(u),u===c){$a=null;break}if(null!==f){f.return=g,$a=f;break}$a=g}}}var p=o.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}$a=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,$a=a;else t:for(;null!==$a;){if(0!==(2048&(o=$a).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,$a=v;break t}$a=o.return}}var x=t.current;for($a=x;null!==$a;){var b=(a=$a).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,$a=b;else t:for(a=x;null!==$a;){if(0!==(2048&(l=$a).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(A){kh(l,l.return,A)}if(l===a){$a=null;break t}var S=l.sibling;if(null!==S){S.return=l.return,$a=S;break t}$a=l.return}}if(Pl=r,Ur(),se&&"function"===typeof se.onPostCommitFiberRoot)try{se.onPostCommitFiberRoot(re,t)}catch(A){}n=!0}return n}finally{xe=i,Tl.transition=e}}return!1}function wh(t,e,i){t=zs(t,e=ga(0,e=ca(i,e),1),1),e=eh(),null!==t&&(ye(t,1,e),rh(t,e))}function kh(t,e,i){if(3===t.tag)wh(t,t,i);else for(;null!==e;){if(3===e.tag){wh(e,t,i);break}if(1===e.tag){var n=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Wl||!Wl.has(n))){e=zs(e,t=pa(e,t=ca(i,t),1),1),t=eh(),null!==e&&(ye(e,1,t),rh(e,t));break}}e=e.return}}function Ch(t,e,i){var n=t.pingCache;null!==n&&n.delete(e),e=eh(),t.pingedLanes|=t.suspendedLanes&i,Fl===t&&(Rl&i)===i&&(4===Il||3===Il&&(130023424&Rl)===Rl&&500>Kt()-Ul?fh(t,0):Nl|=i),rh(t,e)}function Mh(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ce,0===(130023424&(ce<<=1))&&(ce=4194304)));var i=eh();null!==(t=Ps(t,e))&&(ye(t,e,i),rh(t,i))}function Th(t){var e=t.memoizedState,i=0;null!==e&&(i=e.retryLane),Mh(t,i)}function Ph(t,e){var i=0;switch(t.tag){case 13:var n=t.stateNode,r=t.memoizedState;null!==r&&(i=r.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(e),Mh(t,i)}function Fh(t,e){return Wt(t,e)}function Lh(t,e,i,n){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rh(t,e,i,n){return new Lh(t,e,i,n)}function Bh(t){return!(!(t=t.prototype)||!t.isReactComponent)}function zh(t,e){var i=t.alternate;return null===i?((i=Rh(t.tag,e,t.key,t.mode)).elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&t.flags,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Ih(t,e,i,n,r,o){var a=2;if(n=t,"function"===typeof t)Bh(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case E:return Dh(i.children,r,o,e);case w:a=8,r|=8;break;case k:return(t=Rh(12,i,e,2|r)).elementType=k,t.lanes=o,t;case P:return(t=Rh(13,i,e,r)).elementType=P,t.lanes=o,t;case F:return(t=Rh(19,i,e,r)).elementType=F,t.lanes=o,t;case B:return Vh(i,r,o,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case C:a=10;break t;case M:a=9;break t;case T:a=11;break t;case L:a=14;break t;case R:a=16,n=null;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Rh(a,i,e,r)).elementType=t,e.type=n,e.lanes=o,e}function Dh(t,e,i,n){return(t=Rh(7,t,n,e)).lanes=i,t}function Vh(t,e,i,n){return(t=Rh(22,t,n,e)).elementType=B,t.lanes=i,t.stateNode={isHidden:!1},t}function _h(t,e,i){return(t=Rh(6,t,null,e)).lanes=i,t}function Nh(t,e,i){return(e=Rh(4,null!==t.children?t.children:[],t.key,e)).lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Oh(t,e,i,n,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Hh(t,e,i,n,r,s,o,a,l){return t=new Oh(t,e,i,a,l),1===e?(e=1,!0===s&&(e|=8)):e=0,s=Rh(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),t}function Uh(t){if(!t)return Mr;t:{if(Ut(t=t._reactInternals)!==t||1!==t.tag)throw Error(s(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Rr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(s(171))}if(1===t.tag){var i=t.type;if(Rr(i))return Ir(t,i,e)}return e}function Yh(t,e,i,n,r,s,o,a,l){return(t=Hh(i,n,!0,t,0,s,0,a,l)).context=Uh(null),i=t.current,(s=Bs(n=eh(),r=ih(i))).callback=void 0!==e&&null!==e?e:null,zs(i,s,r),t.current.lanes=r,ye(t,r,n),rh(t,n),t}function Gh(t,e,i,n){var r=e.current,s=eh(),o=ih(r);return i=Uh(i),null===e.context?e.context=i:e.pendingContext=i,(e=Bs(s,o)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),null!==(t=zs(r,e,o))&&(nh(t,r,o,s),Is(t,r,o)),o}function jh(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Xh(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var i=t.retryLane;t.retryLane=0!==i&&i<e?i:e}}function Wh(t,e){Xh(t,e),(t=t.alternate)&&Xh(t,e)}wl=function(t,e,i){if(null!==t)if(t.memoizedProps!==e.pendingProps||Pr.current)ba=!0;else{if(0===(t.lanes&i)&&0===(128&e.flags))return ba=!1,function(t,e,i){switch(e.tag){case 3:Fa(e),fs();break;case 5:so(e);break;case 1:Rr(e.type)&&Dr(e);break;case 4:no(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,r=e.memoizedProps.value;Cr(ys,n._currentValue),n._currentValue=r;break;case 13:if(null!==(n=e.memoizedState))return null!==n.dehydrated?(Cr(ao,1&ao.current),e.flags|=128,null):0!==(i&e.child.childLanes)?_a(t,e,i):(Cr(ao,1&ao.current),null!==(t=ja(t,e,i))?t.sibling:null);Cr(ao,1&ao.current);break;case 19:if(n=0!==(i&e.childLanes),0!==(128&t.flags)){if(n)return Ya(t,e,i);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Cr(ao,ao.current),n)break;return null;case 22:case 23:return e.lanes=0,ka(t,e,i)}return ja(t,e,i)}(t,e,i);ba=0!==(131072&t.flags)}else ba=!1,rs&&0!==(1048576&e.flags)&&$r(e,Xr,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ga(t,e),t=e.pendingProps;var r=Lr(e,Tr.current);ws(e,i),r=wo(null,e,n,t,r,i);var o=ko();return e.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rr(n)?(o=!0,Dr(e)):o=!1,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ls(e),r.updater=Hs,e.stateNode=r,r._reactInternals=e,js(e,n,t,i),e=Pa(null,e,n,!0,o,i)):(e.tag=0,rs&&o&&ts(e),Sa(null,e,r,i),e=e.child),e;case 16:n=e.elementType;t:{switch(Ga(t,e),t=e.pendingProps,n=(r=n._init)(n._payload),e.type=n,r=e.tag=function(t){if("function"===typeof t)return Bh(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===T)return 11;if(t===L)return 14}return 2}(n),t=ms(n,t),r){case 0:e=Ma(null,e,n,t,i);break t;case 1:e=Ta(null,e,n,t,i);break t;case 11:e=Aa(null,e,n,t,i);break t;case 14:e=Ea(null,e,n,ms(n.type,t),i);break t}throw Error(s(306,n,""))}return e;case 0:return n=e.type,r=e.pendingProps,Ma(t,e,n,r=e.elementType===n?r:ms(n,r),i);case 1:return n=e.type,r=e.pendingProps,Ta(t,e,n,r=e.elementType===n?r:ms(n,r),i);case 3:t:{if(Fa(e),null===t)throw Error(s(387));n=e.pendingProps,r=(o=e.memoizedState).element,Rs(t,e),Vs(e,n,null,i);var a=e.memoizedState;if(n=a.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,256&e.flags){e=La(t,e,n,i,r=ca(Error(s(423)),e));break t}if(n!==r){e=La(t,e,n,i,r=ca(Error(s(424)),e));break t}for(ns=hr(e.stateNode.containerInfo.firstChild),is=e,rs=!0,ss=null,i=Ks(e,null,n,i),e.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(fs(),n===r){e=ja(t,e,i);break t}Sa(t,e,n,i)}e=e.child}return e;case 5:return so(e),null===t&&hs(e),n=e.type,r=e.pendingProps,o=null!==t?t.memoizedProps:null,a=r.children,ir(n,r)?a=null:null!==o&&ir(n,o)&&(e.flags|=32),Ca(t,e),Sa(t,e,a,i),e.child;case 6:return null===t&&hs(e),null;case 13:return _a(t,e,i);case 4:return no(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=Js(e,null,n,i):Sa(t,e,n,i),e.child;case 11:return n=e.type,r=e.pendingProps,Aa(t,e,n,r=e.elementType===n?r:ms(n,r),i);case 7:return Sa(t,e,e.pendingProps,i),e.child;case 8:case 12:return Sa(t,e,e.pendingProps.children,i),e.child;case 10:t:{if(n=e.type._context,r=e.pendingProps,o=e.memoizedProps,a=r.value,Cr(ys,n._currentValue),n._currentValue=a,null!==o)if(an(o.value,a)){if(o.children===r.children&&!Pr.current){e=ja(t,e,i);break t}}else for(null!==(o=e.child)&&(o.return=e);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var h=l.firstContext;null!==h;){if(h.context===n){if(1===o.tag){(h=Bs(-1,i&-i)).tag=2;var c=o.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?h.next=h:(h.next=u.next,u.next=h),c.pending=h}}o.lanes|=i,null!==(h=o.alternate)&&(h.lanes|=i),Es(o.return,i,e),l.lanes|=i;break}h=h.next}}else if(10===o.tag)a=o.type===e.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=i,null!==(l=a.alternate)&&(l.lanes|=i),Es(a,i,e),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}Sa(t,e,r.children,i),e=e.child}return e;case 9:return r=e.type,n=e.pendingProps.children,ws(e,i),n=n(r=ks(r)),e.flags|=1,Sa(t,e,n,i),e.child;case 14:return r=ms(n=e.type,e.pendingProps),Ea(t,e,n,r=ms(n.type,r),i);case 15:return wa(t,e,e.type,e.pendingProps,i);case 17:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:ms(n,r),Ga(t,e),e.tag=1,Rr(n)?(t=!0,Dr(e)):t=!1,ws(e,i),Ys(e,n,r),js(e,n,r,i),Pa(null,e,n,!0,t,i);case 19:return Ya(t,e,i);case 22:return ka(t,e,i)}throw Error(s(156,e.tag))};var Zh="function"===typeof reportError?reportError:function(t){console.error(t)};function qh(t){this._internalRoot=t}function Jh(t){this._internalRoot=t}function Kh(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Qh(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function $h(){}function tc(t,e,i,n,r){var s=i._reactRootContainer;if(s){var o=s;if("function"===typeof r){var a=r;r=function(){var t=jh(o);a.call(t)}}Gh(e,o,t,r)}else o=function(t,e,i,n,r){if(r){if("function"===typeof n){var s=n;n=function(){var t=jh(o);s.call(t)}}var o=Yh(e,n,t,0,null,!1,0,"",$h);return t._reactRootContainer=o,t[gr]=o.current,Un(8===t.nodeType?t.parentNode:t),uh(),o}for(;r=t.lastChild;)t.removeChild(r);if("function"===typeof n){var a=n;n=function(){var t=jh(l);a.call(t)}}var l=Hh(t,0,!1,null,0,!1,0,"",$h);return t._reactRootContainer=l,t[gr]=l.current,Un(8===t.nodeType?t.parentNode:t),uh((function(){Gh(e,l,i,n)})),l}(i,e,t,r,n);return jh(o)}Jh.prototype.render=qh.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(s(409));Gh(t,e,null,null)},Jh.prototype.unmount=qh.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;uh((function(){Gh(null,t,null,null)})),e[gr]=null}},Jh.prototype.unstable_scheduleHydration=function(t){if(t){var e=we();t={blockedOn:null,target:t,priority:e};for(var i=0;i<Be.length&&0!==e&&e<Be[i].priority;i++);Be.splice(i,0,t),0===i&&Ve(t)}},Se=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var i=ue(e.pendingLanes);0!==i&&(ve(e,1|i),rh(e,Kt()),0===(6&Pl)&&(Yl=Kt()+500,Ur()))}break;case 13:uh((function(){var e=Ps(t,1);if(null!==e){var i=eh();nh(e,t,1,i)}})),Wh(t,1)}},Ae=function(t){if(13===t.tag){var e=Ps(t,134217728);if(null!==e)nh(e,t,134217728,eh());Wh(t,134217728)}},Ee=function(t){if(13===t.tag){var e=ih(t),i=Ps(t,e);if(null!==i)nh(i,t,e,eh());Wh(t,e)}},we=function(){return xe},ke=function(t,e){var i=xe;try{return xe=t,e()}finally{xe=i}},At=function(t,e,i){switch(e){case"input":if(Q(t,i),e=i.name,"radio"===i.type&&null!=e){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var n=i[e];if(n!==t&&n.form===t.form){var r=Sr(n);if(!r)throw Error(s(90));W(n),Q(n,r)}}}break;case"textarea":st(t,i);break;case"select":null!=(e=i.value)&&it(t,!!i.multiple,e,!1)}},Tt=ch,Pt=uh;var ec={usingClientEntryPoint:!1,Events:[xr,br,Sr,Ct,Mt,ch]},ic={findFiberByHostInstance:vr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nc={bundleType:ic.bundleType,version:ic.version,rendererPackageName:ic.rendererPackageName,rendererConfig:ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=jt(t))?null:t.stateNode},findFiberByHostInstance:ic.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{re=rc.inject(nc),se=rc}catch(ct){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,e.createPortal=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kh(e))throw Error(s(200));return function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==n?null:""+n,children:t,containerInfo:e,implementation:i}}(t,e,null,i)},e.createRoot=function(t,e){if(!Kh(t))throw Error(s(299));var i=!1,n="",r=Zh;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(i=!0),void 0!==e.identifierPrefix&&(n=e.identifierPrefix),void 0!==e.onRecoverableError&&(r=e.onRecoverableError)),e=Hh(t,1,!1,null,0,i,0,n,r),t[gr]=e.current,Un(8===t.nodeType?t.parentNode:t),new qh(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw t=Object.keys(t).join(","),Error(s(268,t))}return t=null===(t=jt(e))?null:t.stateNode},e.flushSync=function(t){return uh(t)},e.hydrate=function(t,e,i){if(!Qh(e))throw Error(s(200));return tc(null,t,e,!0,i)},e.hydrateRoot=function(t,e,i){if(!Kh(t))throw Error(s(405));var n=null!=i&&i.hydratedSources||null,r=!1,o="",a=Zh;if(null!==i&&void 0!==i&&(!0===i.unstable_strictMode&&(r=!0),void 0!==i.identifierPrefix&&(o=i.identifierPrefix),void 0!==i.onRecoverableError&&(a=i.onRecoverableError)),e=Yh(e,null,t,1,null!=i?i:null,r,0,o,a),t[gr]=e.current,Un(t),n)for(t=0;t<n.length;t++)r=(r=(i=n[t])._getVersion)(i._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[i,r]:e.mutableSourceEagerHydrationData.push(i,r);return new Jh(e)},e.render=function(t,e,i){if(!Qh(e))throw Error(s(200));return tc(null,t,e,!1,i)},e.unmountComponentAtNode=function(t){if(!Qh(t))throw Error(s(40));return!!t._reactRootContainer&&(uh((function(){tc(null,null,t,!1,(function(){t._reactRootContainer=null,t[gr]=null}))})),!0)},e.unstable_batchedUpdates=ch,e.unstable_renderSubtreeIntoContainer=function(t,e,i,n){if(!Qh(i))throw Error(s(200));if(null==t||void 0===t._reactInternals)throw Error(s(38));return tc(t,e,i,!1,n)},e.version="18.2.0-next-9e3b772b8-20220608"},180:(t,e,i)=>{"use strict";var n=i(292);e.createRoot=n.createRoot,e.hydrateRoot=n.hydrateRoot},292:(t,e,i)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=i(144)},36:(t,e,i)=>{"use strict";var n=i(60),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(t,e,i){var n,s={},h=null,c=null;for(n in void 0!==i&&(h=""+i),void 0!==e.key&&(h=""+e.key),void 0!==e.ref&&(c=e.ref),e)o.call(e,n)&&!l.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===s[n]&&(s[n]=e[n]);return{$$typeof:r,type:t,key:h,ref:c,props:s,_owner:a.current}}e.Fragment=s,e.jsx=h,e.jsxs=h},564:(t,e)=>{"use strict";var i=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function y(t,e,i){this.props=t,this.context=e,this.refs=m,this.updater=i||g}function v(){}function x(t,e,i){this.props=t,this.context=e,this.refs=m,this.updater=i||g}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=y.prototype;var b=x.prototype=new v;b.constructor=x,p(b,y.prototype),b.isPureReactComponent=!0;var S=Array.isArray,A=Object.prototype.hasOwnProperty,E={current:null},w={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,n){var r,s={},o=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)A.call(e,r)&&!w.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var h=Array(l),c=0;c<l;c++)h[c]=arguments[c+2];s.children=h}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:i,type:t,key:o,ref:a,props:s,_owner:E.current}}function C(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var M=/\/+/g;function T(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function P(t,e,r,s,o){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case n:l=!0}}if(l)return o=o(l=t),t=""===s?"."+T(l,0):s,S(o)?(r="",null!=t&&(r=t.replace(M,"$&/")+"/"),P(o,e,r,"",(function(t){return t}))):null!=o&&(C(o)&&(o=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(M,"$&/")+"/")+t)),e.push(o)),1;if(l=0,s=""===s?".":s+":",S(t))for(var h=0;h<t.length;h++){var c=s+T(a=t[h],h);l+=P(a,e,r,c,o)}else if(c=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof c)for(t=c.call(t),h=0;!(a=t.next()).done;)l+=P(a=a.value,e,r,c=s+T(a,h++),o);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function F(t,e,i){if(null==t)return t;var n=[],r=0;return P(t,n,"","",(function(t){return e.call(i,t,r++)})),n}function L(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var R={current:null},B={transition:null},z={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:B,ReactCurrentOwner:E};e.Children={map:F,forEach:function(t,e,i){F(t,(function(){e.apply(this,arguments)}),i)},count:function(t){var e=0;return F(t,(function(){e++})),e},toArray:function(t){return F(t,(function(t){return t}))||[]},only:function(t){if(!C(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=y,e.Fragment=r,e.Profiler=o,e.PureComponent=x,e.StrictMode=s,e.Suspense=c,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=p({},t.props),s=t.key,o=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,a=E.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(h in e)A.call(e,h)&&!w.hasOwnProperty(h)&&(r[h]=void 0===e[h]&&void 0!==l?l[h]:e[h])}var h=arguments.length-2;if(1===h)r.children=n;else if(1<h){l=Array(h);for(var c=0;c<h;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:i,type:t.type,key:s,ref:o,props:r,_owner:a}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=k,e.createFactory=function(t){var e=k.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:h,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:L}},e.memo=function(t,e){return{$$typeof:u,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=B.transition;B.transition={};try{t()}finally{B.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return R.current.useCallback(t,e)},e.useContext=function(t){return R.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return R.current.useDeferredValue(t)},e.useEffect=function(t,e){return R.current.useEffect(t,e)},e.useId=function(){return R.current.useId()},e.useImperativeHandle=function(t,e,i){return R.current.useImperativeHandle(t,e,i)},e.useInsertionEffect=function(t,e){return R.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return R.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return R.current.useMemo(t,e)},e.useReducer=function(t,e,i){return R.current.useReducer(t,e,i)},e.useRef=function(t){return R.current.useRef(t)},e.useState=function(t){return R.current.useState(t)},e.useSyncExternalStore=function(t,e,i){return R.current.useSyncExternalStore(t,e,i)},e.useTransition=function(){return R.current.useTransition()},e.version="18.2.0"},60:(t,e,i)=>{"use strict";t.exports=i(564)},496:(t,e,i)=>{"use strict";t.exports=i(36)},692:(t,e)=>{"use strict";function i(t,e){var i=t.length;t.push(e);t:for(;0<i;){var n=i-1>>>1,r=t[n];if(!(0<s(r,e)))break t;t[n]=e,t[i]=r,i=n}}function n(t){return 0===t.length?null:t[0]}function r(t){if(0===t.length)return null;var e=t[0],i=t.pop();if(i!==e){t[0]=i;t:for(var n=0,r=t.length,o=r>>>1;n<o;){var a=2*(n+1)-1,l=t[a],h=a+1,c=t[h];if(0>s(l,i))h<r&&0>s(c,l)?(t[n]=c,t[h]=i,n=h):(t[n]=l,t[a]=i,n=a);else{if(!(h<r&&0>s(c,i)))break t;t[n]=c,t[h]=i,n=h}}}return e}function s(t,e){var i=t.sortIndex-e.sortIndex;return 0!==i?i:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var h=[],c=[],u=1,d=null,f=3,g=!1,p=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(t){for(var e=n(c);null!==e;){if(null===e.callback)r(c);else{if(!(e.startTime<=t))break;r(c),e.sortIndex=e.expirationTime,i(h,e)}e=n(c)}}function S(t){if(m=!1,b(t),!p)if(null!==n(h))p=!0,B(A);else{var e=n(c);null!==e&&z(S,e.startTime-t)}}function A(t,i){p=!1,m&&(m=!1,v(C),C=-1),g=!0;var s=f;try{for(b(i),d=n(h);null!==d&&(!(d.expirationTime>i)||t&&!P());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=i);i=e.unstable_now(),"function"===typeof a?d.callback=a:d===n(h)&&r(h),b(i)}else r(h);d=n(h)}if(null!==d)var l=!0;else{var u=n(c);null!==u&&z(S,u.startTime-i),l=!1}return l}finally{d=null,f=s,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,w=!1,k=null,C=-1,M=5,T=-1;function P(){return!(e.unstable_now()-T<M)}function F(){if(null!==k){var t=e.unstable_now();T=t;var i=!0;try{i=k(!0,t)}finally{i?E():(w=!1,k=null)}}else w=!1}if("function"===typeof x)E=function(){x(F)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,R=L.port2;L.port1.onmessage=F,E=function(){R.postMessage(null)}}else E=function(){y(F,0)};function B(t){k=t,w||(w=!0,E())}function z(t,i){C=y((function(){t(e.unstable_now())}),i)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){p||g||(p=!0,B(A))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var i=f;f=e;try{return t()}finally{f=i}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var i=f;f=t;try{return e()}finally{f=i}},e.unstable_scheduleCallback=function(t,r,s){var o=e.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:u++,callback:r,priorityLevel:t,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(t.sortIndex=s,i(c,t),null===n(h)&&t===n(c)&&(m?(v(C),C=-1):m=!0,z(S,s-o))):(t.sortIndex=a,i(h,t),p||g||(p=!0,B(A))),t},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(t){var e=f;return function(){var i=f;f=e;try{return t.apply(this,arguments)}finally{f=i}}}},724:(t,e,i)=>{"use strict";t.exports=i(692)},264:(t,e)=>{var i;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var t="",e=0;e<arguments.length;e++){var i=arguments[e];i&&(t=o(t,s(i)))}return t}function s(t){if("string"===typeof t||"number"===typeof t)return t;if("object"!==typeof t)return"";if(Array.isArray(t))return r.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var e="";for(var i in t)n.call(t,i)&&t[i]&&(e=o(e,i));return e}function o(t,e){return e?t?t+" "+e:t+e:t}t.exports?(r.default=r,t.exports=r):void 0===(i=function(){return r}.apply(e,[]))||(t.exports=i)}()}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,i),s.exports}i.m=t,i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var s=Object.create(null);i.r(s);var o={};t=t||[null,e({}),e([]),e(e)];for(var a=2&r&&n;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>o[t]=()=>n[t]));return o.default=()=>n,i.d(s,o),s}})(),i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.f={},i.e=t=>Promise.all(Object.keys(i.f).reduce(((e,n)=>(i.f[n](t,e),e)),[])),i.u=t=>"static/js/"+t+".35bcfbca.chunk.js",i.miniCssF=t=>{},i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="editor:";i.l=(n,r,s,o)=>{if(t[n])t[n].push(r);else{var a,l;if(void 0!==s)for(var h=document.getElementsByTagName("script"),c=0;c<h.length;c++){var u=h[c];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==e+s){a=u;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.setAttribute("data-webpack",e+s),a.src=n),t[n]=[r];var d=(e,i)=>{a.onerror=a.onload=null,clearTimeout(f);var r=t[n];if(delete t[n],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((t=>t(i))),e)return e(i)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),i.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.p="/lcjs-themes/",(()=>{var t={590:0};i.f.j=(e,n)=>{var r=i.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else{var s=new Promise(((i,n)=>r=t[e]=[i,n]));n.push(r[2]=s);var o=i.p+i.u(e),a=new Error;i.l(o,(n=>{if(i.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var s=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+e+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,r[1](a)}}),"chunk-"+e,e)}};var e=(e,n)=>{var r,s,o=n[0],a=n[1],l=n[2],h=0;if(o.some((e=>0!==t[e]))){for(r in a)i.o(a,r)&&(i.m[r]=a[r]);if(l)l(i)}for(e&&e(n);h<o.length;h++)s=o[h],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0},n=self.webpackChunkeditor=self.webpackChunkeditor||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),(()=>{"use strict";var t=i(60),e=i.t(t,2),n=i(180),r=i(388),s=i.n(r),o="delete",a=5,l=1<<a,h=l-1,c={};function u(t){t&&(t.value=!0)}function d(){}function f(t){return void 0===t.size&&(t.size=t.__iterate(p)),t.size}function g(t,e){if("number"!==typeof e){var i=e>>>0;if(""+i!==e||4294967295===i)return NaN;e=i}return e<0?f(t)+e:e}function p(){return!0}function m(t,e,i){return(0===t&&!b(t)||void 0!==i&&t<=-i)&&(void 0===e||void 0!==i&&e>=i)}function y(t,e){return x(t,e,0)}function v(t,e){return x(t,e,e)}function x(t,e,i){return void 0===t?i:b(t)?e===1/0?e:0|Math.max(0,e+t):void 0===e||e===t?t:0|Math.min(e,t)}function b(t){return t<0||0===t&&1/t===-1/0}var S="@@__IMMUTABLE_ITERABLE__@@";function A(t){return Boolean(t&&t[S])}var E="@@__IMMUTABLE_KEYED__@@";function w(t){return Boolean(t&&t[E])}var k="@@__IMMUTABLE_INDEXED__@@";function C(t){return Boolean(t&&t[k])}function M(t){return w(t)||C(t)}var T=function(t){return A(t)?t:tt(t)},P=function(t){function e(t){return w(t)?t:et(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(T),F=function(t){function e(t){return C(t)?t:it(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(T),L=function(t){function e(t){return A(t)&&!M(t)?t:nt(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(T);T.Keyed=P,T.Indexed=F,T.Set=L;var R="@@__IMMUTABLE_SEQ__@@";function B(t){return Boolean(t&&t[R])}var z="@@__IMMUTABLE_RECORD__@@";function I(t){return Boolean(t&&t[z])}function D(t){return A(t)||I(t)}var V="@@__IMMUTABLE_ORDERED__@@";function _(t){return Boolean(t&&t[V])}var N=0,O=1,H=2,U="function"===typeof Symbol&&Symbol.iterator,Y="@@iterator",G=U||Y,j=function(t){this.next=t};function X(t,e,i,n){var r=0===t?e:1===t?i:[e,i];return n?n.value=r:n={value:r,done:!1},n}function W(){return{value:void 0,done:!0}}function Z(t){return!!Array.isArray(t)||!!K(t)}function q(t){return t&&"function"===typeof t.next}function J(t){var e=K(t);return e&&e.call(t)}function K(t){var e=t&&(U&&t[U]||t[Y]);if("function"===typeof e)return e}j.prototype.toString=function(){return"[Iterator]"},j.KEYS=N,j.VALUES=O,j.ENTRIES=H,j.prototype.inspect=j.prototype.toSource=function(){return this.toString()},j.prototype[G]=function(){return this};var Q=Object.prototype.hasOwnProperty;function $(t){return!(!Array.isArray(t)&&"string"!==typeof t)||t&&"object"===typeof t&&Number.isInteger(t.length)&&t.length>=0&&(0===t.length?1===Object.keys(t).length:t.hasOwnProperty(t.length-1))}var tt=function(t){function e(t){return void 0===t||null===t?lt():D(t)?t.toSeq():function(t){var e=ut(t);if(e)return function(t){var e=K(t);return e&&e===t.entries}(t)?e.fromEntrySeq():function(t){var e=K(t);return e&&e===t.keys}(t)?e.toSetSeq():e;if("object"===typeof t)return new st(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(t,e){var i=this._cache;if(i){for(var n=i.length,r=0;r!==n;){var s=i[e?n-++r:r++];if(!1===t(s[1],s[0],this))break}return r}return this.__iterateUncached(t,e)},e.prototype.__iterator=function(t,e){var i=this._cache;if(i){var n=i.length,r=0;return new j((function(){if(r===n)return{value:void 0,done:!0};var s=i[e?n-++r:r++];return X(t,s[0],s[1])}))}return this.__iteratorUncached(t,e)},e}(T),et=function(t){function e(t){return void 0===t||null===t?lt().toKeyedSeq():A(t)?w(t)?t.toSeq():t.fromEntrySeq():I(t)?t.toSeq():ht(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(tt),it=function(t){function e(t){return void 0===t||null===t?lt():A(t)?w(t)?t.entrySeq():t.toIndexedSeq():I(t)?t.toSeq().entrySeq():ct(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(tt),nt=function(t){function e(t){return(A(t)&&!M(t)?t:it(t)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(tt);tt.isSeq=B,tt.Keyed=et,tt.Set=nt,tt.Indexed=it,tt.prototype[R]=!0;var rt=function(t){function e(t){this._array=t,this.size=t.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this.has(t)?this._array[g(this,t)]:e},e.prototype.__iterate=function(t,e){for(var i=this._array,n=i.length,r=0;r!==n;){var s=e?n-++r:r++;if(!1===t(i[s],s,this))break}return r},e.prototype.__iterator=function(t,e){var i=this._array,n=i.length,r=0;return new j((function(){if(r===n)return{value:void 0,done:!0};var s=e?n-++r:r++;return X(t,s,i[s])}))},e}(it),st=function(t){function e(t){var e=Object.keys(t).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]);this._object=t,this._keys=e,this.size=e.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},e.prototype.has=function(t){return Q.call(this._object,t)},e.prototype.__iterate=function(t,e){for(var i=this._object,n=this._keys,r=n.length,s=0;s!==r;){var o=n[e?r-++s:s++];if(!1===t(i[o],o,this))break}return s},e.prototype.__iterator=function(t,e){var i=this._object,n=this._keys,r=n.length,s=0;return new j((function(){if(s===r)return{value:void 0,done:!0};var o=n[e?r-++s:s++];return X(t,o,i[o])}))},e}(et);st.prototype[V]=!0;var ot,at=function(t){function e(t){this._collection=t,this.size=t.length||t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var i=J(this._collection),n=0;if(q(i))for(var r;!(r=i.next()).done&&!1!==t(r.value,n++,this););return n},e.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var i=J(this._collection);if(!q(i))return new j(W);var n=0;return new j((function(){var e=i.next();return e.done?e:X(t,n++,e.value)}))},e}(it);function lt(){return ot||(ot=new rt([]))}function ht(t){var e=ut(t);if(e)return e.fromEntrySeq();if("object"===typeof t)return new st(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function ct(t){var e=ut(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function ut(t){return $(t)?new rt(t):Z(t)?new at(t):void 0}var dt="@@__IMMUTABLE_MAP__@@";function ft(t){return Boolean(t&&t[dt])}function gt(t){return ft(t)&&_(t)}function pt(t){return Boolean(t&&"function"===typeof t.equals&&"function"===typeof t.hashCode)}function mt(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"===typeof t.valueOf&&"function"===typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(pt(t)&&pt(e)&&t.equals(e))}var yt="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var i=65535&(t|=0),n=65535&(e|=0);return i*n+((t>>>16)*n+i*(e>>>16)<<16>>>0)|0};function vt(t){return t>>>1&1073741824|3221225471&t}var xt=Object.prototype.valueOf;function bt(t){if(null==t)return St(t);if("function"===typeof t.hashCode)return vt(t.hashCode(t));var e,i=(e=t).valueOf!==xt&&"function"===typeof e.valueOf?e.valueOf(e):e;if(null==i)return St(i);switch(typeof i){case"boolean":return i?1108378657:1108378656;case"number":return function(t){if(t!==t||t===1/0)return 0;var e=0|t;e!==t&&(e^=4294967295*t);for(;t>4294967295;)e^=t/=4294967295;return vt(e)}(i);case"string":return i.length>Lt?function(t){var e=zt[t];void 0===e&&(e=At(t),Bt===Rt&&(Bt=0,zt={}),Bt++,zt[t]=e);return e}(i):At(i);case"object":case"function":return function(t){var e;if(Mt&&void 0!==(e=Ct.get(t)))return e;if(e=t[Ft],void 0!==e)return e;if(!wt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Ft]))return e;if(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t),void 0!==e)return e}if(e=kt(),Mt)Ct.set(t,e);else{if(void 0!==Et&&!1===Et(t))throw new Error("Non-extensible objects are not allowed as keys.");if(wt)Object.defineProperty(t,Ft,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Ft]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Ft]=e}}return e}(i);case"symbol":return function(t){var e=Tt[t];if(void 0!==e)return e;return e=kt(),Tt[t]=e,e}(i);default:if("function"===typeof i.toString)return At(i.toString());throw new Error("Value type "+typeof i+" cannot be hashed.")}}function St(t){return null===t?1108378658:1108378659}function At(t){for(var e=0,i=0;i<t.length;i++)e=31*e+t.charCodeAt(i)|0;return vt(e)}var Et=Object.isExtensible,wt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(Sn){return!1}}();function kt(){var t=++Pt;return 1073741824&Pt&&(Pt=0),t}var Ct,Mt="function"===typeof WeakMap;Mt&&(Ct=new WeakMap);var Tt=Object.create(null),Pt=0,Ft="__immutablehash__";"function"===typeof Symbol&&(Ft=Symbol(Ft));var Lt=16,Rt=255,Bt=0,zt={},It=function(t){function e(t,e){this._iter=t,this._useKeys=e,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this._iter.get(t,e)},e.prototype.has=function(t){return this._iter.has(t)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var t=this,e=Ht(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},e.prototype.map=function(t,e){var i=this,n=Ot(this,t,e);return this._useKeys||(n.valueSeq=function(){return i._iter.toSeq().map(t,e)}),n},e.prototype.__iterate=function(t,e){var i=this;return this._iter.__iterate((function(e,n){return t(e,n,i)}),e)},e.prototype.__iterator=function(t,e){return this._iter.__iterator(t,e)},e}(et);It.prototype[V]=!0;var Dt=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var i=this,n=0;return e&&f(this),this._iter.__iterate((function(r){return t(r,e?i.size-++n:n++,i)}),e)},e.prototype.__iterator=function(t,e){var i=this,n=this._iter.__iterator(O,e),r=0;return e&&f(this),new j((function(){var s=n.next();return s.done?s:X(t,e?i.size-++r:r++,s.value,s)}))},e}(it),Vt=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var i=this;return this._iter.__iterate((function(e){return t(e,e,i)}),e)},e.prototype.__iterator=function(t,e){var i=this._iter.__iterator(O,e);return new j((function(){var e=i.next();return e.done?e:X(t,e.value,e.value,e)}))},e}(nt),_t=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(t,e){var i=this;return this._iter.__iterate((function(e){if(e){Kt(e);var n=A(e);return t(n?e.get(1):e[1],n?e.get(0):e[0],i)}}),e)},e.prototype.__iterator=function(t,e){var i=this._iter.__iterator(O,e);return new j((function(){for(;;){var e=i.next();if(e.done)return e;var n=e.value;if(n){Kt(n);var r=A(n);return X(t,r?n.get(0):n[0],r?n.get(1):n[1],e)}}}))},e}(et);function Nt(t){var e=$t(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=te,e.__iterateUncached=function(e,i){var n=this;return t.__iterate((function(t,i){return!1!==e(i,t,n)}),i)},e.__iteratorUncached=function(e,i){if(e===H){var n=t.__iterator(e,i);return new j((function(){var t=n.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(e===O?N:O,i)},e}function Ot(t,e,i){var n=$t(t);return n.size=t.size,n.has=function(e){return t.has(e)},n.get=function(n,r){var s=t.get(n,c);return s===c?r:e.call(i,s,n,t)},n.__iterateUncached=function(n,r){var s=this;return t.__iterate((function(t,r,o){return!1!==n(e.call(i,t,r,o),r,s)}),r)},n.__iteratorUncached=function(n,r){var s=t.__iterator(H,r);return new j((function(){var r=s.next();if(r.done)return r;var o=r.value,a=o[0];return X(n,a,e.call(i,o[1],a,t),r)}))},n}function Ht(t,e){var i=this,n=$t(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=Nt(t);return e.reverse=function(){return t.flip()},e}),n.get=function(i,n){return t.get(e?i:-1-i,n)},n.has=function(i){return t.has(e?i:-1-i)},n.includes=function(e){return t.includes(e)},n.cacheResult=te,n.__iterate=function(i,n){var r=this,s=0;return n&&f(t),t.__iterate((function(t,o){return i(t,e?o:n?r.size-++s:s++,r)}),!n)},n.__iterator=function(n,r){var s=0;r&&f(t);var o=t.__iterator(H,!r);return new j((function(){var t=o.next();if(t.done)return t;var a=t.value;return X(n,e?a[0]:r?i.size-++s:s++,a[1],t)}))},n}function Ut(t,e,i,n){var r=$t(t);return n&&(r.has=function(n){var r=t.get(n,c);return r!==c&&!!e.call(i,r,n,t)},r.get=function(n,r){var s=t.get(n,c);return s!==c&&e.call(i,s,n,t)?s:r}),r.__iterateUncached=function(r,s){var o=this,a=0;return t.__iterate((function(t,s,l){if(e.call(i,t,s,l))return a++,r(t,n?s:a-1,o)}),s),a},r.__iteratorUncached=function(r,s){var o=t.__iterator(H,s),a=0;return new j((function(){for(;;){var s=o.next();if(s.done)return s;var l=s.value,h=l[0],c=l[1];if(e.call(i,c,h,t))return X(r,n?h:a++,c,s)}}))},r}function Yt(t,e,i,n){var r=t.size;if(m(e,i,r))return t;var s=y(e,r),o=v(i,r);if(s!==s||o!==o)return Yt(t.toSeq().cacheResult(),e,i,n);var a,l=o-s;l===l&&(a=l<0?0:l);var h=$t(t);return h.size=0===a?a:t.size&&a||void 0,!n&&B(t)&&a>=0&&(h.get=function(e,i){return(e=g(this,e))>=0&&e<a?t.get(e+s,i):i}),h.__iterateUncached=function(e,i){var r=this;if(0===a)return 0;if(i)return this.cacheResult().__iterate(e,i);var o=0,l=!0,h=0;return t.__iterate((function(t,i){if(!l||!(l=o++<s))return h++,!1!==e(t,n?i:h-1,r)&&h!==a})),h},h.__iteratorUncached=function(e,i){if(0!==a&&i)return this.cacheResult().__iterator(e,i);if(0===a)return new j(W);var r=t.__iterator(e,i),o=0,l=0;return new j((function(){for(;o++<s;)r.next();if(++l>a)return{value:void 0,done:!0};var t=r.next();return n||e===O||t.done?t:X(e,l-1,e===N?void 0:t.value[1],t)}))},h}function Gt(t,e,i,n){var r=$t(t);return r.__iterateUncached=function(r,s){var o=this;if(s)return this.cacheResult().__iterate(r,s);var a=!0,l=0;return t.__iterate((function(t,s,h){if(!a||!(a=e.call(i,t,s,h)))return l++,r(t,n?s:l-1,o)})),l},r.__iteratorUncached=function(r,s){var o=this;if(s)return this.cacheResult().__iterator(r,s);var a=t.__iterator(H,s),l=!0,h=0;return new j((function(){var t,s,c;do{if((t=a.next()).done)return n||r===O?t:X(r,h++,r===N?void 0:t.value[1],t);var u=t.value;s=u[0],c=u[1],l&&(l=e.call(i,c,s,o))}while(l);return r===H?t:X(r,s,c,t)}))},r}function jt(t,e,i){var n=$t(t);return n.__iterateUncached=function(r,s){if(s)return this.cacheResult().__iterate(r,s);var o=0,a=!1;return function t(l,h){l.__iterate((function(s,l){return(!e||h<e)&&A(s)?t(s,h+1):(o++,!1===r(s,i?l:o-1,n)&&(a=!0)),!a}),s)}(t,0),o},n.__iteratorUncached=function(n,r){if(r)return this.cacheResult().__iterator(n,r);var s=t.__iterator(n,r),o=[],a=0;return new j((function(){for(;s;){var t=s.next();if(!1===t.done){var l=t.value;if(n===H&&(l=l[1]),e&&!(o.length<e)||!A(l))return i?t:X(n,a++,l,t);o.push(s),s=l.__iterator(n,r)}else s=o.pop()}return{value:void 0,done:!0}}))},n}function Xt(t,e,i){e||(e=ee);var n=w(t),r=0,s=t.toSeq().map((function(e,n){return[n,e,r++,i?i(e,n,t):e]})).valueSeq().toArray();return s.sort((function(t,i){return e(t[3],i[3])||t[2]-i[2]})).forEach(n?function(t,e){s[e].length=2}:function(t,e){s[e]=t[1]}),n?et(s):C(t)?it(s):nt(s)}function Wt(t,e,i){if(e||(e=ee),i){var n=t.toSeq().map((function(e,n){return[e,i(e,n,t)]})).reduce((function(t,i){return Zt(e,t[1],i[1])?i:t}));return n&&n[0]}return t.reduce((function(t,i){return Zt(e,t,i)?i:t}))}function Zt(t,e,i){var n=t(i,e);return 0===n&&i!==e&&(void 0===i||null===i||i!==i)||n>0}function qt(t,e,i,n){var r=$t(t),s=new rt(i).map((function(t){return t.size}));return r.size=n?s.max():s.min(),r.__iterate=function(t,e){for(var i,n=this.__iterator(O,e),r=0;!(i=n.next()).done&&!1!==t(i.value,r++,this););return r},r.__iteratorUncached=function(t,r){var s=i.map((function(t){return t=T(t),J(r?t.reverse():t)})),o=0,a=!1;return new j((function(){var i;return a||(i=s.map((function(t){return t.next()})),a=n?i.every((function(t){return t.done})):i.some((function(t){return t.done}))),a?{value:void 0,done:!0}:X(t,o++,e.apply(null,i.map((function(t){return t.value}))))}))},r}function Jt(t,e){return t===e?t:B(t)?e:t.constructor(e)}function Kt(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Qt(t){return w(t)?P:C(t)?F:L}function $t(t){return Object.create((w(t)?et:C(t)?it:nt).prototype)}function te(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):tt.prototype.cacheResult.call(this)}function ee(t,e){return void 0===t&&void 0===e?0:void 0===t?1:void 0===e?-1:t>e?1:t<e?-1:0}function ie(t,e){e=e||0;for(var i=Math.max(0,t.length-e),n=new Array(i),r=0;r<i;r++)n[r]=t[r+e];return n}function ne(t,e){if(!t)throw new Error(e)}function re(t){ne(t!==1/0,"Cannot perform this action with an infinite size.")}function se(t){if($(t)&&"string"!==typeof t)return t;if(_(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}Dt.prototype.cacheResult=It.prototype.cacheResult=Vt.prototype.cacheResult=_t.prototype.cacheResult=te;var oe=Object.prototype.toString;function ae(t){if(!t||"object"!==typeof t||"[object Object]"!==oe.call(t))return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;for(var i=e,n=Object.getPrototypeOf(e);null!==n;)i=n,n=Object.getPrototypeOf(i);return i===e}function le(t){return"object"===typeof t&&(D(t)||Array.isArray(t)||ae(t))}function he(t){try{return"string"===typeof t?JSON.stringify(t):String(t)}catch(e){return JSON.stringify(t)}}function ce(t,e){return D(t)?t.has(e):le(t)&&Q.call(t,e)}function ue(t,e,i){return D(t)?t.get(e,i):ce(t,e)?"function"===typeof t.get?t.get(e):t[e]:i}function de(t){if(Array.isArray(t))return ie(t);var e={};for(var i in t)Q.call(t,i)&&(e[i]=t[i]);return e}function fe(t,e){if(!le(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(D(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!Q.call(t,e))return t;var i=de(t);return Array.isArray(i)?i.splice(e,1):delete i[e],i}function ge(t,e,i){if(!le(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(D(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,i)}if(Q.call(t,e)&&i===t[e])return t;var n=de(t);return n[e]=i,n}function pe(t,e,i,n){n||(n=i,i=void 0);var r=me(D(t),t,se(e),0,i,n);return r===c?i:r}function me(t,e,i,n,r,s){var o=e===c;if(n===i.length){var a=o?r:e,l=s(a);return l===a?e:l}if(!o&&!le(e))throw new TypeError("Cannot update within non-data-structure value in path ["+i.slice(0,n).map(he)+"]: "+e);var h=i[n],u=o?c:ue(e,h,c),d=me(u===c?t:D(u),u,i,n+1,r,s);return d===u?e:d===c?fe(e,h):ge(o?t?qe():{}:e,h,d)}function ye(t,e,i){return pe(t,e,c,(function(){return i}))}function ve(t,e){return ye(this,t,e)}function xe(t,e){return pe(t,e,(function(){return c}))}function be(t){return xe(this,t)}function Se(t,e,i,n){return pe(t,[e],i,n)}function Ae(t,e,i){return 1===arguments.length?t(this):Se(this,t,e,i)}function Ee(t,e,i){return pe(this,t,e,i)}function we(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Ce(this,t)}function ke(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];if("function"!==typeof t)throw new TypeError("Invalid merger function: "+t);return Ce(this,e,t)}function Ce(t,e,i){for(var n=[],r=0;r<e.length;r++){var s=P(e[r]);0!==s.size&&n.push(s)}return 0===n.length?t:0!==t.toSeq().size||t.__ownerID||1!==n.length?t.withMutations((function(t){for(var e=i?function(e,n){Se(t,n,c,(function(t){return t===c?e:i(t,e,n)}))}:function(e,i){t.set(i,e)},r=0;r<n.length;r++)n[r].forEach(e)})):t.constructor(n[0])}function Me(t,e,i){return Te(t,e,function(t){function e(i,n,r){return le(i)&&le(n)&&function(t,e){var i=tt(t),n=tt(e);return C(i)===C(n)&&w(i)===w(n)}(i,n)?Te(i,[n],e):t?t(i,n,r):n}return e}(i))}function Te(t,e,i){if(!le(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(D(t))return"function"===typeof i&&t.mergeWith?t.mergeWith.apply(t,[i].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var n=Array.isArray(t),r=t,s=n?F:P,o=n?function(e){r===t&&(r=de(r)),r.push(e)}:function(e,n){var s=Q.call(r,n),o=s&&i?i(r[n],e,n):e;s&&o===r[n]||(r===t&&(r=de(r)),r[n]=o)},a=0;a<e.length;a++)s(e[a]).forEach(o);return r}function Pe(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Me(this,t)}function Fe(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];return Me(this,e,t)}function Le(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];return pe(this,t,qe(),(function(t){return Te(t,e)}))}function Re(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];return pe(this,t,qe(),(function(t){return Me(t,e)}))}function Be(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function ze(){return this.__ownerID?this:this.__ensureOwner(new d)}function Ie(){return this.__ensureOwner()}function De(){return this.__altered}var Ve=function(t){function e(e){return void 0===e||null===e?qe():ft(e)&&!_(e)?e:qe().withMutations((function(i){var n=t(e);re(n.size),n.forEach((function(t,e){return i.set(e,t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return qe().withMutations((function(e){for(var i=0;i<t.length;i+=2){if(i+1>=t.length)throw new Error("Missing value for key: "+t[i]);e.set(t[i],t[i+1])}}))},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},e.prototype.set=function(t,e){return Je(this,t,e)},e.prototype.remove=function(t){return Je(this,t,c)},e.prototype.deleteAll=function(t){var e=T(t);return 0===e.size?this:this.withMutations((function(t){e.forEach((function(e){return t.remove(e)}))}))},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):qe()},e.prototype.sort=function(t){return Si(Xt(this,t))},e.prototype.sortBy=function(t,e){return Si(Xt(this,e,t))},e.prototype.map=function(t,e){var i=this;return this.withMutations((function(n){n.forEach((function(r,s){n.set(s,t.call(e,r,s,i))}))}))},e.prototype.__iterator=function(t,e){return new je(this,t,e)},e.prototype.__iterate=function(t,e){var i=this,n=0;return this._root&&this._root.iterate((function(e){return n++,t(e[1],e[0],i)}),e),n},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Ze(this.size,this._root,t,this.__hash):0===this.size?qe():(this.__ownerID=t,this.__altered=!1,this)},e}(P);Ve.isMap=ft;var _e=Ve.prototype;_e[dt]=!0,_e[o]=_e.remove,_e.removeAll=_e.deleteAll,_e.setIn=ve,_e.removeIn=_e.deleteIn=be,_e.update=Ae,_e.updateIn=Ee,_e.merge=_e.concat=we,_e.mergeWith=ke,_e.mergeDeep=Pe,_e.mergeDeepWith=Fe,_e.mergeIn=Le,_e.mergeDeepIn=Re,_e.withMutations=Be,_e.wasAltered=De,_e.asImmutable=Ie,_e["@@transducer/init"]=_e.asMutable=ze,_e["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])},_e["@@transducer/result"]=function(t){return t.asImmutable()};var Ne=function(t,e){this.ownerID=t,this.entries=e};Ne.prototype.get=function(t,e,i,n){for(var r=this.entries,s=0,o=r.length;s<o;s++)if(mt(i,r[s][0]))return r[s][1];return n},Ne.prototype.update=function(t,e,i,n,r,s,o){for(var a=r===c,l=this.entries,h=0,f=l.length;h<f&&!mt(n,l[h][0]);h++);var g=h<f;if(g?l[h][1]===r:a)return this;if(u(o),(a||!g)&&u(s),!a||1!==l.length){if(!g&&!a&&l.length>=ii)return function(t,e,i,n){t||(t=new d);for(var r=new Ye(t,bt(i),[i,n]),s=0;s<e.length;s++){var o=e[s];r=r.update(t,0,void 0,o[0],o[1])}return r}(t,l,n,r);var p=t&&t===this.ownerID,m=p?l:ie(l);return g?a?h===f-1?m.pop():m[h]=m.pop():m[h]=[n,r]:m.push([n,r]),p?(this.entries=m,this):new Ne(t,m)}};var Oe=function(t,e,i){this.ownerID=t,this.bitmap=e,this.nodes=i};Oe.prototype.get=function(t,e,i,n){void 0===e&&(e=bt(i));var r=1<<((0===t?e:e>>>t)&h),s=this.bitmap;return 0===(s&r)?n:this.nodes[ti(s&r-1)].get(t+a,e,i,n)},Oe.prototype.update=function(t,e,i,n,r,s,o){void 0===i&&(i=bt(n));var u=(0===e?i:i>>>e)&h,d=1<<u,f=this.bitmap,g=0!==(f&d);if(!g&&r===c)return this;var p=ti(f&d-1),m=this.nodes,y=g?m[p]:void 0,v=Ke(y,t,e+a,i,n,r,s,o);if(v===y)return this;if(!g&&v&&m.length>=ni)return function(t,e,i,n,r){for(var s=0,o=new Array(l),a=0;0!==i;a++,i>>>=1)o[a]=1&i?e[s++]:void 0;return o[n]=r,new He(t,s+1,o)}(t,m,f,u,v);if(g&&!v&&2===m.length&&Qe(m[1^p]))return m[1^p];if(g&&v&&1===m.length&&Qe(v))return v;var x=t&&t===this.ownerID,b=g?v?f:f^d:f|d,S=g?v?ei(m,p,v,x):function(t,e,i){var n=t.length-1;if(i&&e===n)return t.pop(),t;for(var r=new Array(n),s=0,o=0;o<n;o++)o===e&&(s=1),r[o]=t[o+s];return r}(m,p,x):function(t,e,i,n){var r=t.length+1;if(n&&e+1===r)return t[e]=i,t;for(var s=new Array(r),o=0,a=0;a<r;a++)a===e?(s[a]=i,o=-1):s[a]=t[a+o];return s}(m,p,v,x);return x?(this.bitmap=b,this.nodes=S,this):new Oe(t,b,S)};var He=function(t,e,i){this.ownerID=t,this.count=e,this.nodes=i};He.prototype.get=function(t,e,i,n){void 0===e&&(e=bt(i));var r=(0===t?e:e>>>t)&h,s=this.nodes[r];return s?s.get(t+a,e,i,n):n},He.prototype.update=function(t,e,i,n,r,s,o){void 0===i&&(i=bt(n));var l=(0===e?i:i>>>e)&h,u=r===c,d=this.nodes,f=d[l];if(u&&!f)return this;var g=Ke(f,t,e+a,i,n,r,s,o);if(g===f)return this;var p=this.count;if(f){if(!g&&--p<ri)return function(t,e,i,n){for(var r=0,s=0,o=new Array(i),a=0,l=1,h=e.length;a<h;a++,l<<=1){var c=e[a];void 0!==c&&a!==n&&(r|=l,o[s++]=c)}return new Oe(t,r,o)}(t,d,p,l)}else p++;var m=t&&t===this.ownerID,y=ei(d,l,g,m);return m?(this.count=p,this.nodes=y,this):new He(t,p,y)};var Ue=function(t,e,i){this.ownerID=t,this.keyHash=e,this.entries=i};Ue.prototype.get=function(t,e,i,n){for(var r=this.entries,s=0,o=r.length;s<o;s++)if(mt(i,r[s][0]))return r[s][1];return n},Ue.prototype.update=function(t,e,i,n,r,s,o){void 0===i&&(i=bt(n));var a=r===c;if(i!==this.keyHash)return a?this:(u(o),u(s),$e(this,t,e,i,[n,r]));for(var l=this.entries,h=0,d=l.length;h<d&&!mt(n,l[h][0]);h++);var f=h<d;if(f?l[h][1]===r:a)return this;if(u(o),(a||!f)&&u(s),a&&2===d)return new Ye(t,this.keyHash,l[1^h]);var g=t&&t===this.ownerID,p=g?l:ie(l);return f?a?h===d-1?p.pop():p[h]=p.pop():p[h]=[n,r]:p.push([n,r]),g?(this.entries=p,this):new Ue(t,this.keyHash,p)};var Ye=function(t,e,i){this.ownerID=t,this.keyHash=e,this.entry=i};Ye.prototype.get=function(t,e,i,n){return mt(i,this.entry[0])?this.entry[1]:n},Ye.prototype.update=function(t,e,i,n,r,s,o){var a=r===c,l=mt(n,this.entry[0]);return(l?r===this.entry[1]:a)?this:(u(o),a?void u(s):l?t&&t===this.ownerID?(this.entry[1]=r,this):new Ye(t,this.keyHash,[n,r]):(u(s),$e(this,t,e,bt(n),[n,r])))},Ne.prototype.iterate=Ue.prototype.iterate=function(t,e){for(var i=this.entries,n=0,r=i.length-1;n<=r;n++)if(!1===t(i[e?r-n:n]))return!1},Oe.prototype.iterate=He.prototype.iterate=function(t,e){for(var i=this.nodes,n=0,r=i.length-1;n<=r;n++){var s=i[e?r-n:n];if(s&&!1===s.iterate(t,e))return!1}},Ye.prototype.iterate=function(t,e){return t(this.entry)};var Ge,je=function(t){function e(t,e,i){this._type=e,this._reverse=i,this._stack=t._root&&We(t._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var i=e.node,n=e.index++,r=void 0;if(i.entry){if(0===n)return Xe(t,i.entry)}else if(i.entries){if(n<=(r=i.entries.length-1))return Xe(t,i.entries[this._reverse?r-n:n])}else if(n<=(r=i.nodes.length-1)){var s=i.nodes[this._reverse?r-n:n];if(s){if(s.entry)return Xe(t,s.entry);e=this._stack=We(s,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}},e}(j);function Xe(t,e){return X(t,e[0],e[1])}function We(t,e){return{node:t,index:0,__prev:e}}function Ze(t,e,i,n){var r=Object.create(_e);return r.size=t,r._root=e,r.__ownerID=i,r.__hash=n,r.__altered=!1,r}function qe(){return Ge||(Ge=Ze(0))}function Je(t,e,i){var n,r;if(t._root){var s={value:!1},o={value:!1};if(n=Ke(t._root,t.__ownerID,0,void 0,e,i,s,o),!o.value)return t;r=t.size+(s.value?i===c?-1:1:0)}else{if(i===c)return t;r=1,n=new Ne(t.__ownerID,[[e,i]])}return t.__ownerID?(t.size=r,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?Ze(r,n):qe()}function Ke(t,e,i,n,r,s,o,a){return t?t.update(e,i,n,r,s,o,a):s===c?t:(u(a),u(o),new Ye(e,n,[r,s]))}function Qe(t){return t.constructor===Ye||t.constructor===Ue}function $e(t,e,i,n,r){if(t.keyHash===n)return new Ue(e,n,[t.entry,r]);var s,o=(0===i?t.keyHash:t.keyHash>>>i)&h,l=(0===i?n:n>>>i)&h,c=o===l?[$e(t,e,i+a,n,r)]:(s=new Ye(e,n,r),o<l?[t,s]:[s,t]);return new Oe(e,1<<o|1<<l,c)}function ti(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function ei(t,e,i,n){var r=n?t:ie(t);return r[e]=i,r}var ii=l/4,ni=l/2,ri=l/4,si="@@__IMMUTABLE_LIST__@@";function oi(t){return Boolean(t&&t[si])}var ai=function(t){function e(e){var i=gi();if(void 0===e||null===e)return i;if(oi(e))return e;var n=t(e),r=n.size;return 0===r?i:(re(r),r>0&&r<l?fi(0,r,a,null,new hi(n.toArray())):i.withMutations((function(t){t.setSize(r),n.forEach((function(e,i){return t.set(i,e)}))})))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(t,e){if((t=g(this,t))>=0&&t<this.size){var i=yi(this,t+=this._origin);return i&&i.array[t&h]}return e},e.prototype.set=function(t,e){return function(t,e,i){if(e=g(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?vi(t,e).set(0,i):vi(t,0,e+1).set(e,i)}));e+=t._origin;var n=t._tail,r=t._root,s={value:!1};e>=xi(t._capacity)?n=pi(n,t.__ownerID,0,e,i,s):r=pi(r,t.__ownerID,t._level,e,i,s);if(!s.value)return t;if(t.__ownerID)return t._root=r,t._tail=n,t.__hash=void 0,t.__altered=!0,t;return fi(t._origin,t._capacity,t._level,r,n)}(this,t,e)},e.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},e.prototype.insert=function(t,e){return this.splice(t,0,e)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=a,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):gi()},e.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(i){vi(i,0,e+t.length);for(var n=0;n<t.length;n++)i.set(e+n,t[n])}))},e.prototype.pop=function(){return vi(this,0,-1)},e.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){vi(e,-t.length);for(var i=0;i<t.length;i++)e.set(i,t[i])}))},e.prototype.shift=function(){return vi(this,1)},e.prototype.concat=function(){for(var e=arguments,i=[],n=0;n<arguments.length;n++){var r=e[n],s=t("string"!==typeof r&&Z(r)?r:[r]);0!==s.size&&i.push(s)}return 0===i.length?this:0!==this.size||this.__ownerID||1!==i.length?this.withMutations((function(t){i.forEach((function(e){return e.forEach((function(e){return t.push(e)}))}))})):this.constructor(i[0])},e.prototype.setSize=function(t){return vi(this,0,t)},e.prototype.map=function(t,e){var i=this;return this.withMutations((function(n){for(var r=0;r<i.size;r++)n.set(r,t.call(e,n.get(r),r,i))}))},e.prototype.slice=function(t,e){var i=this.size;return m(t,e,i)?this:vi(this,y(t,i),v(e,i))},e.prototype.__iterator=function(t,e){var i=e?this.size:0,n=di(this,e);return new j((function(){var r=n();return r===ui?{value:void 0,done:!0}:X(t,e?--i:i++,r)}))},e.prototype.__iterate=function(t,e){for(var i,n=e?this.size:0,r=di(this,e);(i=r())!==ui&&!1!==t(i,e?--n:n++,this););return n},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?fi(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):0===this.size?gi():(this.__ownerID=t,this.__altered=!1,this)},e}(F);ai.isList=oi;var li=ai.prototype;li[si]=!0,li[o]=li.remove,li.merge=li.concat,li.setIn=ve,li.deleteIn=li.removeIn=be,li.update=Ae,li.updateIn=Ee,li.mergeIn=Le,li.mergeDeepIn=Re,li.withMutations=Be,li.wasAltered=De,li.asImmutable=Ie,li["@@transducer/init"]=li.asMutable=ze,li["@@transducer/step"]=function(t,e){return t.push(e)},li["@@transducer/result"]=function(t){return t.asImmutable()};var hi=function(t,e){this.array=t,this.ownerID=e};hi.prototype.removeBefore=function(t,e,i){if(i===e?1<<e:0===this.array.length)return this;var n=i>>>e&h;if(n>=this.array.length)return new hi([],t);var r,s=0===n;if(e>0){var o=this.array[n];if((r=o&&o.removeBefore(t,e-a,i))===o&&s)return this}if(s&&!r)return this;var l=mi(this,t);if(!s)for(var c=0;c<n;c++)l.array[c]=void 0;return r&&(l.array[n]=r),l},hi.prototype.removeAfter=function(t,e,i){if(i===(e?1<<e:0)||0===this.array.length)return this;var n,r=i-1>>>e&h;if(r>=this.array.length)return this;if(e>0){var s=this.array[r];if((n=s&&s.removeAfter(t,e-a,i))===s&&r===this.array.length-1)return this}var o=mi(this,t);return o.array.splice(r+1),n&&(o.array[r]=n),o};var ci,ui={};function di(t,e){var i=t._origin,n=t._capacity,r=xi(n),s=t._tail;return o(t._root,t._level,0);function o(t,h,c){return 0===h?function(t,o){var a=o===r?s&&s.array:t&&t.array,h=o>i?0:i-o,c=n-o;c>l&&(c=l);return function(){if(h===c)return ui;var t=e?--c:h++;return a&&a[t]}}(t,c):function(t,r,s){var h,c=t&&t.array,u=s>i?0:i-s>>r,d=1+(n-s>>r);d>l&&(d=l);return function(){for(;;){if(h){var t=h();if(t!==ui)return t;h=null}if(u===d)return ui;var i=e?--d:u++;h=o(c&&c[i],r-a,s+(i<<r))}}}(t,h,c)}}function fi(t,e,i,n,r,s,o){var a=Object.create(li);return a.size=e-t,a._origin=t,a._capacity=e,a._level=i,a._root=n,a._tail=r,a.__ownerID=s,a.__hash=o,a.__altered=!1,a}function gi(){return ci||(ci=fi(0,0,a))}function pi(t,e,i,n,r,s){var o,l=n>>>i&h,c=t&&l<t.array.length;if(!c&&void 0===r)return t;if(i>0){var d=t&&t.array[l],f=pi(d,e,i-a,n,r,s);return f===d?t:((o=mi(t,e)).array[l]=f,o)}return c&&t.array[l]===r?t:(s&&u(s),o=mi(t,e),void 0===r&&l===o.array.length-1?o.array.pop():o.array[l]=r,o)}function mi(t,e){return e&&t&&e===t.ownerID?t:new hi(t?t.array.slice():[],e)}function yi(t,e){if(e>=xi(t._capacity))return t._tail;if(e<1<<t._level+a){for(var i=t._root,n=t._level;i&&n>0;)i=i.array[e>>>n&h],n-=a;return i}}function vi(t,e,i){void 0!==e&&(e|=0),void 0!==i&&(i|=0);var n=t.__ownerID||new d,r=t._origin,s=t._capacity,o=r+e,l=void 0===i?s:i<0?s+i:r+i;if(o===r&&l===s)return t;if(o>=l)return t.clear();for(var c=t._level,u=t._root,f=0;o+f<0;)u=new hi(u&&u.array.length?[void 0,u]:[],n),f+=1<<(c+=a);f&&(o+=f,r+=f,l+=f,s+=f);for(var g=xi(s),p=xi(l);p>=1<<c+a;)u=new hi(u&&u.array.length?[u]:[],n),c+=a;var m=t._tail,y=p<g?yi(t,l-1):p>g?new hi([],n):m;if(m&&p>g&&o<s&&m.array.length){for(var v=u=mi(u,n),x=c;x>a;x-=a){var b=g>>>x&h;v=v.array[b]=mi(v.array[b],n)}v.array[g>>>a&h]=m}if(l<s&&(y=y&&y.removeAfter(n,0,l)),o>=p)o-=p,l-=p,c=a,u=null,y=y&&y.removeBefore(n,0,o);else if(o>r||p<g){for(f=0;u;){var S=o>>>c&h;if(S!==p>>>c&h)break;S&&(f+=(1<<c)*S),c-=a,u=u.array[S]}u&&o>r&&(u=u.removeBefore(n,c,o-f)),u&&p<g&&(u=u.removeAfter(n,c,p-f)),f&&(o-=f,l-=f)}return t.__ownerID?(t.size=l-o,t._origin=o,t._capacity=l,t._level=c,t._root=u,t._tail=y,t.__hash=void 0,t.__altered=!0,t):fi(o,l,c,u,y)}function xi(t){return t<l?0:t-1>>>a<<a}var bi,Si=function(t){function e(t){return void 0===t||null===t?Ei():gt(t)?t:Ei().withMutations((function(e){var i=P(t);re(i.size),i.forEach((function(t,i){return e.set(i,t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(t,e){var i=this._map.get(t);return void 0!==i?this._list.get(i)[1]:e},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Ei()},e.prototype.set=function(t,e){return wi(this,t,e)},e.prototype.remove=function(t){return wi(this,t,c)},e.prototype.__iterate=function(t,e){var i=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],i)}),e)},e.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),i=this._list.__ensureOwner(t);return t?Ai(e,i,t,this.__hash):0===this.size?Ei():(this.__ownerID=t,this.__altered=!1,this._map=e,this._list=i,this)},e}(Ve);function Ai(t,e,i,n){var r=Object.create(Si.prototype);return r.size=t?t.size:0,r._map=t,r._list=e,r.__ownerID=i,r.__hash=n,r.__altered=!1,r}function Ei(){return bi||(bi=Ai(qe(),gi()))}function wi(t,e,i){var n,r,s=t._map,o=t._list,a=s.get(e),h=void 0!==a;if(i===c){if(!h)return t;o.size>=l&&o.size>=2*s.size?(n=(r=o.filter((function(t,e){return void 0!==t&&a!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(n.__ownerID=r.__ownerID=t.__ownerID)):(n=s.remove(e),r=a===o.size-1?o.pop():o.set(a,void 0))}else if(h){if(i===o.get(a)[1])return t;n=s,r=o.set(a,[e,i])}else n=s.set(e,o.size),r=o.set(o.size,[e,i]);return t.__ownerID?(t.size=n.size,t._map=n,t._list=r,t.__hash=void 0,t.__altered=!0,t):Ai(n,r)}Si.isOrderedMap=gt,Si.prototype[V]=!0,Si.prototype[o]=Si.prototype.remove;var ki="@@__IMMUTABLE_STACK__@@";function Ci(t){return Boolean(t&&t[ki])}var Mi=function(t){function e(t){return void 0===t||null===t?Li():Ci(t)?t:Li().pushAll(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(t,e){var i=this._head;for(t=g(this,t);i&&t--;)i=i.next;return i?i.value:e},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var t=arguments;if(0===arguments.length)return this;for(var e=this.size+arguments.length,i=this._head,n=arguments.length-1;n>=0;n--)i={value:t[n],next:i};return this.__ownerID?(this.size=e,this._head=i,this.__hash=void 0,this.__altered=!0,this):Fi(e,i)},e.prototype.pushAll=function(e){if(0===(e=t(e)).size)return this;if(0===this.size&&Ci(e))return e;re(e.size);var i=this.size,n=this._head;return e.__iterate((function(t){i++,n={value:t,next:n}}),!0),this.__ownerID?(this.size=i,this._head=n,this.__hash=void 0,this.__altered=!0,this):Fi(i,n)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Li()},e.prototype.slice=function(e,i){if(m(e,i,this.size))return this;var n=y(e,this.size);if(v(i,this.size)!==this.size)return t.prototype.slice.call(this,e,i);for(var r=this.size-n,s=this._head;n--;)s=s.next;return this.__ownerID?(this.size=r,this._head=s,this.__hash=void 0,this.__altered=!0,this):Fi(r,s)},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Fi(this.size,this._head,t,this.__hash):0===this.size?Li():(this.__ownerID=t,this.__altered=!1,this)},e.prototype.__iterate=function(t,e){var i=this;if(e)return new rt(this.toArray()).__iterate((function(e,n){return t(e,n,i)}),e);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},e.prototype.__iterator=function(t,e){if(e)return new rt(this.toArray()).__iterator(t,e);var i=0,n=this._head;return new j((function(){if(n){var e=n.value;return n=n.next,X(t,i++,e)}return{value:void 0,done:!0}}))},e}(F);Mi.isStack=Ci;var Ti,Pi=Mi.prototype;function Fi(t,e,i,n){var r=Object.create(Pi);return r.size=t,r._head=e,r.__ownerID=i,r.__hash=n,r.__altered=!1,r}function Li(){return Ti||(Ti=Fi(0))}Pi[ki]=!0,Pi.shift=Pi.pop,Pi.unshift=Pi.push,Pi.unshiftAll=Pi.pushAll,Pi.withMutations=Be,Pi.wasAltered=De,Pi.asImmutable=Ie,Pi["@@transducer/init"]=Pi.asMutable=ze,Pi["@@transducer/step"]=function(t,e){return t.unshift(e)},Pi["@@transducer/result"]=function(t){return t.asImmutable()};var Ri="@@__IMMUTABLE_SET__@@";function Bi(t){return Boolean(t&&t[Ri])}function zi(t){return Bi(t)&&_(t)}function Ii(t,e){if(t===e)return!0;if(!A(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||w(t)!==w(e)||C(t)!==C(e)||_(t)!==_(e))return!1;if(0===t.size&&0===e.size)return!0;var i=!M(t);if(_(t)){var n=t.entries();return e.every((function(t,e){var r=n.next().value;return r&&mt(r[1],t)&&(i||mt(r[0],e))}))&&n.next().done}var r=!1;if(void 0===t.size)if(void 0===e.size)"function"===typeof t.cacheResult&&t.cacheResult();else{r=!0;var s=t;t=e,e=s}var o=!0,a=e.__iterate((function(e,n){if(i?!t.has(e):r?!mt(e,t.get(n,c)):!mt(t.get(n,c),e))return o=!1,!1}));return o&&t.size===a}function Di(t,e){var i=function(i){t.prototype[i]=e[i]};return Object.keys(e).forEach(i),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(i),t}function Vi(t){if(!t||"object"!==typeof t)return t;if(!A(t)){if(!le(t))return t;t=tt(t)}if(w(t)){var e={};return t.__iterate((function(t,i){e[i]=Vi(t)})),e}var i=[];return t.__iterate((function(t){i.push(Vi(t))})),i}var _i=function(t){function e(e){return void 0===e||null===e?Yi():Bi(e)&&!_(e)?e:Yi().withMutations((function(i){var n=t(e);re(n.size),n.forEach((function(t){return i.add(t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(P(t).keySeq())},e.intersect=function(t){return(t=T(t).toArray()).length?Oi.intersect.apply(e(t.pop()),t):Yi()},e.union=function(t){return(t=T(t).toArray()).length?Oi.union.apply(e(t.pop()),t):Yi()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(t){return this._map.has(t)},e.prototype.add=function(t){return Hi(this,this._map.set(t,t))},e.prototype.remove=function(t){return Hi(this,this._map.remove(t))},e.prototype.clear=function(){return Hi(this,this._map.clear())},e.prototype.map=function(t,e){var i=this,n=!1,r=Hi(this,this._map.mapEntries((function(r){var s=r[1],o=t.call(e,s,s,i);return o!==s&&(n=!0),[o,o]}),e));return n?r:this},e.prototype.union=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return e=e.filter((function(t){return 0!==t.size})),0===e.length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(i){for(var n=0;n<e.length;n++)"string"===typeof e[n]?i.add(e[n]):t(e[n]).forEach((function(t){return i.add(t)}))})):this.constructor(e[0])},e.prototype.intersect=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var n=[];return this.forEach((function(t){e.every((function(e){return e.includes(t)}))||n.push(t)})),this.withMutations((function(t){n.forEach((function(e){t.remove(e)}))}))},e.prototype.subtract=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var n=[];return this.forEach((function(t){e.some((function(e){return e.includes(t)}))&&n.push(t)})),this.withMutations((function(t){n.forEach((function(e){t.remove(e)}))}))},e.prototype.sort=function(t){return hn(Xt(this,t))},e.prototype.sortBy=function(t,e){return hn(Xt(this,e,t))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(t,e){var i=this;return this._map.__iterate((function(e){return t(e,e,i)}),e)},e.prototype.__iterator=function(t,e){return this._map.__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):0===this.size?this.__empty():(this.__ownerID=t,this._map=e,this)},e}(L);_i.isSet=Bi;var Ni,Oi=_i.prototype;function Hi(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Ui(t,e){var i=Object.create(Oi);return i.size=t?t.size:0,i._map=t,i.__ownerID=e,i}function Yi(){return Ni||(Ni=Ui(qe()))}Oi[Ri]=!0,Oi[o]=Oi.remove,Oi.merge=Oi.concat=Oi.union,Oi.withMutations=Be,Oi.asImmutable=Ie,Oi["@@transducer/init"]=Oi.asMutable=ze,Oi["@@transducer/step"]=function(t,e){return t.add(e)},Oi["@@transducer/result"]=function(t){return t.asImmutable()},Oi.__empty=Yi,Oi.__make=Ui;var Gi,ji=function(t){function e(t,i,n){if(!(this instanceof e))return new e(t,i,n);if(ne(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===i&&(i=1/0),n=void 0===n?1:Math.abs(n),i<t&&(n=-n),this._start=t,this._end=i,this._step=n,this.size=Math.max(0,Math.ceil((i-t)/n-1)+1),0===this.size){if(Gi)return Gi;Gi=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},e.prototype.get=function(t,e){return this.has(t)?this._start+g(this,t)*this._step:e},e.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},e.prototype.slice=function(t,i){return m(t,i,this.size)?this:(t=y(t,this.size),(i=v(i,this.size))<=t?new e(0,0):new e(this.get(t,this._end),this.get(i,this._end),this._step))},e.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var i=e/this._step;if(i>=0&&i<this.size)return i}return-1},e.prototype.lastIndexOf=function(t){return this.indexOf(t)},e.prototype.__iterate=function(t,e){for(var i=this.size,n=this._step,r=e?this._start+(i-1)*n:this._start,s=0;s!==i&&!1!==t(r,e?i-++s:s++,this);)r+=e?-n:n;return s},e.prototype.__iterator=function(t,e){var i=this.size,n=this._step,r=e?this._start+(i-1)*n:this._start,s=0;return new j((function(){if(s===i)return{value:void 0,done:!0};var o=r;return r+=e?-n:n,X(t,e?i-++s:s++,o)}))},e.prototype.equals=function(t){return t instanceof e?this._start===t._start&&this._end===t._end&&this._step===t._step:Ii(this,t)},e}(it);function Xi(t,e,i){for(var n=se(e),r=0;r!==n.length;)if((t=ue(t,n[r++],c))===c)return i;return t}function Wi(t,e){return Xi(this,t,e)}function Zi(t,e){return Xi(t,e,c)!==c}function qi(){re(this.size);var t={};return this.__iterate((function(e,i){t[i]=e})),t}T.isIterable=A,T.isKeyed=w,T.isIndexed=C,T.isAssociative=M,T.isOrdered=_,T.Iterator=j,Di(T,{toArray:function(){re(this.size);var t=new Array(this.size||0),e=w(this),i=0;return this.__iterate((function(n,r){t[i++]=e?[r,n]:n})),t},toIndexedSeq:function(){return new Dt(this)},toJS:function(){return Vi(this)},toKeyedSeq:function(){return new It(this,!0)},toMap:function(){return Ve(this.toKeyedSeq())},toObject:qi,toOrderedMap:function(){return Si(this.toKeyedSeq())},toOrderedSet:function(){return hn(w(this)?this.valueSeq():this)},toSet:function(){return _i(w(this)?this.valueSeq():this)},toSetSeq:function(){return new Vt(this)},toSeq:function(){return C(this)?this.toIndexedSeq():w(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Mi(w(this)?this.valueSeq():this)},toList:function(){return ai(w(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Jt(this,function(t,e){var i=w(t),n=[t].concat(e).map((function(t){return A(t)?i&&(t=P(t)):t=i?ht(t):ct(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===n.length)return t;if(1===n.length){var r=n[0];if(r===t||i&&w(r)||C(t)&&C(r))return r}var s=new rt(n);return i?s=s.toKeyedSeq():C(t)||(s=s.toSetSeq()),(s=s.flatten(!0)).size=n.reduce((function(t,e){if(void 0!==t){var i=e.size;if(void 0!==i)return t+i}}),0),s}(this,t))},includes:function(t){return this.some((function(e){return mt(e,t)}))},entries:function(){return this.__iterator(H)},every:function(t,e){re(this.size);var i=!0;return this.__iterate((function(n,r,s){if(!t.call(e,n,r,s))return i=!1,!1})),i},filter:function(t,e){return Jt(this,Ut(this,t,e,!0))},partition:function(t,e){return function(t,e,i){var n=w(t),r=[[],[]];t.__iterate((function(s,o){r[e.call(i,s,o,t)?1:0].push(n?[o,s]:s)}));var s=Qt(t);return r.map((function(e){return Jt(t,s(e))}))}(this,t,e)},find:function(t,e,i){var n=this.findEntry(t,e);return n?n[1]:i},forEach:function(t,e){return re(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){re(this.size),t=void 0!==t?""+t:",";var e="",i=!0;return this.__iterate((function(n){i?i=!1:e+=t,e+=null!==n&&void 0!==n?n.toString():""})),e},keys:function(){return this.__iterator(N)},map:function(t,e){return Jt(this,Ot(this,t,e))},reduce:function(t,e,i){return tn(this,t,e,i,arguments.length<2,!1)},reduceRight:function(t,e,i){return tn(this,t,e,i,arguments.length<2,!0)},reverse:function(){return Jt(this,Ht(this,!0))},slice:function(t,e){return Jt(this,Yt(this,t,e,!0))},some:function(t,e){re(this.size);var i=!1;return this.__iterate((function(n,r,s){if(t.call(e,n,r,s))return i=!0,!1})),i},sort:function(t){return Jt(this,Xt(this,t))},values:function(){return this.__iterator(O)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return f(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,i){var n=Ve().asMutable();return t.__iterate((function(r,s){n.update(e.call(i,r,s,t),0,(function(t){return t+1}))})),n.asImmutable()}(this,t,e)},equals:function(t){return Ii(this,t)},entrySeq:function(){var t=this;if(t._cache)return new rt(t._cache);var e=t.toSeq().map(nn).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(rn(t),e)},findEntry:function(t,e,i){var n=i;return this.__iterate((function(i,r,s){if(t.call(e,i,r,s))return n=[r,i],!1})),n},findKey:function(t,e){var i=this.findEntry(t,e);return i&&i[0]},findLast:function(t,e,i){return this.toKeyedSeq().reverse().find(t,e,i)},findLastEntry:function(t,e,i){return this.toKeyedSeq().reverse().findEntry(t,e,i)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(t){return this.find(p,null,t)},flatMap:function(t,e){return Jt(this,function(t,e,i){var n=Qt(t);return t.toSeq().map((function(r,s){return n(e.call(i,r,s,t))})).flatten(!0)}(this,t,e))},flatten:function(t){return Jt(this,jt(this,t,!0))},fromEntrySeq:function(){return new _t(this)},get:function(t,e){return this.find((function(e,i){return mt(i,t)}),void 0,e)},getIn:Wi,groupBy:function(t,e){return function(t,e,i){var n=w(t),r=(_(t)?Si():Ve()).asMutable();t.__iterate((function(s,o){r.update(e.call(i,s,o,t),(function(t){return(t=t||[]).push(n?[o,s]:s),t}))}));var s=Qt(t);return r.map((function(e){return Jt(t,s(e))})).asImmutable()}(this,t,e)},has:function(t){return this.get(t,c)!==c},hasIn:function(t){return Zi(this,t)},isSubset:function(t){return t="function"===typeof t.includes?t:T(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"===typeof t.isSubset?t:T(t)).isSubset(this)},keyOf:function(t){return this.findKey((function(e){return mt(e,t)}))},keySeq:function(){return this.toSeq().map(en).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return Wt(this,t)},maxBy:function(t,e){return Wt(this,e,t)},min:function(t){return Wt(this,t?sn(t):an)},minBy:function(t,e){return Wt(this,e?sn(e):an,t)},rest:function(){return this.slice(1)},skip:function(t){return 0===t?this:this.slice(Math.max(0,t))},skipLast:function(t){return 0===t?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,e){return Jt(this,Gt(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(rn(t),e)},sortBy:function(t,e){return Jt(this,Xt(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,e){return Jt(this,function(t,e,i){var n=$t(t);return n.__iterateUncached=function(n,r){var s=this;if(r)return this.cacheResult().__iterate(n,r);var o=0;return t.__iterate((function(t,r,a){return e.call(i,t,r,a)&&++o&&n(t,r,s)})),o},n.__iteratorUncached=function(n,r){var s=this;if(r)return this.cacheResult().__iterator(n,r);var o=t.__iterator(H,r),a=!0;return new j((function(){if(!a)return{value:void 0,done:!0};var t=o.next();if(t.done)return t;var r=t.value,l=r[0],h=r[1];return e.call(i,h,l,s)?n===H?t:X(n,l,h,t):(a=!1,{value:void 0,done:!0})}))},n}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(rn(t),e)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=_(t),i=w(t),n=e?1:0,r=t.__iterate(i?e?function(t,e){n=31*n+ln(bt(t),bt(e))|0}:function(t,e){n=n+ln(bt(t),bt(e))|0}:e?function(t){n=31*n+bt(t)|0}:function(t){n=n+bt(t)|0});return function(t,e){return e=yt(e,3432918353),e=yt(e<<15|e>>>-15,461845907),e=yt(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=yt(e^e>>>16,2246822507),e=yt(e^e>>>13,3266489909),e=vt(e^e>>>16),e}(r,n)}(this))}});var Ji=T.prototype;Ji[S]=!0,Ji[G]=Ji.values,Ji.toJSON=Ji.toArray,Ji.__toStringMapper=he,Ji.inspect=Ji.toSource=function(){return this.toString()},Ji.chain=Ji.flatMap,Ji.contains=Ji.includes,Di(P,{flip:function(){return Jt(this,Nt(this))},mapEntries:function(t,e){var i=this,n=0;return Jt(this,this.toSeq().map((function(r,s){return t.call(e,[s,r],n++,i)})).fromEntrySeq())},mapKeys:function(t,e){var i=this;return Jt(this,this.toSeq().flip().map((function(n,r){return t.call(e,n,r,i)})).flip())}});var Ki=P.prototype;Ki[E]=!0,Ki[G]=Ji.entries,Ki.toJSON=qi,Ki.__toStringMapper=function(t,e){return he(e)+": "+he(t)},Di(F,{toKeyedSeq:function(){return new It(this,!1)},filter:function(t,e){return Jt(this,Ut(this,t,e,!1))},findIndex:function(t,e){var i=this.findEntry(t,e);return i?i[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Jt(this,Ht(this,!1))},slice:function(t,e){return Jt(this,Yt(this,t,e,!1))},splice:function(t,e){var i=arguments.length;if(e=Math.max(e||0,0),0===i||2===i&&!e)return this;t=y(t,t<0?this.count():this.size);var n=this.slice(0,t);return Jt(this,1===i?n:n.concat(ie(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var i=this.findLastEntry(t,e);return i?i[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return Jt(this,jt(this,t,!1))},get:function(t,e){return(t=g(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,i){return i===t}),void 0,e)},has:function(t){return(t=g(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Jt(this,function(t,e){var i=$t(t);return i.size=t.size&&2*t.size-1,i.__iterateUncached=function(i,n){var r=this,s=0;return t.__iterate((function(t){return(!s||!1!==i(e,s++,r))&&!1!==i(t,s++,r)}),n),s},i.__iteratorUncached=function(i,n){var r,s=t.__iterator(O,n),o=0;return new j((function(){return(!r||o%2)&&(r=s.next()).done?r:o%2?X(i,o++,e):X(i,o++,r.value,r)}))},i}(this,t))},interleave:function(){var t=[this].concat(ie(arguments)),e=qt(this.toSeq(),it.of,t),i=e.flatten(!0);return e.size&&(i.size=e.size*t.length),Jt(this,i)},keySeq:function(){return ji(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,e){return Jt(this,Gt(this,t,e,!1))},zip:function(){return Jt(this,qt(this,on,[this].concat(ie(arguments))))},zipAll:function(){return Jt(this,qt(this,on,[this].concat(ie(arguments)),!0))},zipWith:function(t){var e=ie(arguments);return e[0]=this,Jt(this,qt(this,t,e))}});var Qi=F.prototype;Qi[k]=!0,Qi[V]=!0,Di(L,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var $i=L.prototype;function tn(t,e,i,n,r,s){return re(t.size),t.__iterate((function(t,s,o){r?(r=!1,i=t):i=e.call(n,i,t,s,o)}),s),i}function en(t,e){return e}function nn(t,e){return[e,t]}function rn(t){return function(){return!t.apply(this,arguments)}}function sn(t){return function(){return-t.apply(this,arguments)}}function on(){return ie(arguments)}function an(t,e){return t<e?1:t>e?-1:0}function ln(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}$i.has=Ji.includes,$i.contains=$i.includes,$i.keys=$i.values,Di(et,Ki),Di(it,Qi),Di(nt,$i);var hn=function(t){function e(t){return void 0===t||null===t?fn():zi(t)?t:fn().withMutations((function(e){var i=L(t);re(i.size),i.forEach((function(t){return e.add(t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(P(t).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(_i);hn.isOrderedSet=zi;var cn,un=hn.prototype;function dn(t,e){var i=Object.create(un);return i.size=t?t.size:0,i._map=t,i.__ownerID=e,i}function fn(){return cn||(cn=dn(Ei()))}un[V]=!0,un.zip=Qi.zip,un.zipWith=Qi.zipWith,un.zipAll=Qi.zipAll,un.__empty=fn,un.__make=dn;var gn=function(t,e){var i;!function(t){if(I(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(D(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(null===t||"object"!==typeof t)throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}(t);var n=function(s){var o=this;if(s instanceof n)return s;if(!(this instanceof n))return new n(s);if(!i){i=!0;var a=Object.keys(t),l=r._indices={};r._name=e,r._keys=a,r._defaultValues=t;for(var h=0;h<a.length;h++){var c=a[h];l[c]=h,r[c]?"object"===typeof console&&console.warn&&console.warn("Cannot define "+yn(this)+' with property "'+c+'" since that property name is part of the Record API.'):xn(r,c)}}return this.__ownerID=void 0,this._values=ai().withMutations((function(t){t.setSize(o._keys.length),P(s).forEach((function(e,i){t.set(o._indices[i],e===o._defaultValues[i]?void 0:e)}))})),this},r=n.prototype=Object.create(pn);return r.constructor=n,e&&(n.displayName=e),n};gn.prototype.toString=function(){for(var t,e=yn(this)+" { ",i=this._keys,n=0,r=i.length;n!==r;n++)e+=(n?", ":"")+(t=i[n])+": "+he(this.get(t));return e+" }"},gn.prototype.equals=function(t){return this===t||I(t)&&vn(this).equals(vn(t))},gn.prototype.hashCode=function(){return vn(this).hashCode()},gn.prototype.has=function(t){return this._indices.hasOwnProperty(t)},gn.prototype.get=function(t,e){if(!this.has(t))return e;var i=this._indices[t],n=this._values.get(i);return void 0===n?this._defaultValues[t]:n},gn.prototype.set=function(t,e){if(this.has(t)){var i=this._values.set(this._indices[t],e===this._defaultValues[t]?void 0:e);if(i!==this._values&&!this.__ownerID)return mn(this,i)}return this},gn.prototype.remove=function(t){return this.set(t)},gn.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:mn(this,t)},gn.prototype.wasAltered=function(){return this._values.wasAltered()},gn.prototype.toSeq=function(){return vn(this)},gn.prototype.toJS=function(){return Vi(this)},gn.prototype.entries=function(){return this.__iterator(H)},gn.prototype.__iterator=function(t,e){return vn(this).__iterator(t,e)},gn.prototype.__iterate=function(t,e){return vn(this).__iterate(t,e)},gn.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._values.__ensureOwner(t);return t?mn(this,e,t):(this.__ownerID=t,this._values=e,this)},gn.isRecord=I,gn.getDescriptiveName=yn;var pn=gn.prototype;function mn(t,e,i){var n=Object.create(Object.getPrototypeOf(t));return n._values=e,n.__ownerID=i,n}function yn(t){return t.constructor.displayName||t.constructor.name||"Record"}function vn(t){return ht(t._keys.map((function(e){return[e,t.get(e)]})))}function xn(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){ne(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}catch(i){}}pn[z]=!0,pn[o]=pn.remove,pn.deleteIn=pn.removeIn=be,pn.getIn=Wi,pn.hasIn=Ji.hasIn,pn.merge=we,pn.mergeWith=ke,pn.mergeIn=Le,pn.mergeDeep=Pe,pn.mergeDeepWith=Fe,pn.mergeDeepIn=Re,pn.setIn=ve,pn.update=Ae,pn.updateIn=Ee,pn.withMutations=Be,pn.asMutable=ze,pn.asImmutable=Ie,pn[G]=pn.entries,pn.toJSON=pn.toObject=Ji.toObject,pn.inspect=pn.toSource=function(){return this.toString()};var bn=i(8);class Sn{constructor(){this.o=!0}u(){return this.o}}class An extends Sn{constructor(t,e){super(),this.S=t,this.M=t,this.o=e}_(t){return t!==this.S&&(this.M=this.S,this.S=t,this.o=!0),this}C(){return this.S}u(){return super.u()}}const En=(t,e)=>({x:t,y:e}),wn=(t,e)=>({x:t,y:e}),kn=(t,e,i)=>({position:t,high:e,low:i}),Cn=(t,e,i)=>({x:t,y:e,z:i}),Mn=t=>{const e=Array(0),i=Array(0);return t.length>0&&t.forEach((t=>{e.push(En(t.position,t.high)),i.push(En(t.position,t.low))})),[e,i]},Tn=(t,e)=>({min:t,max:e}),Pn=(t,e,i,n)=>({x:t,y:e,width:i,height:n}),Fn=function(t){return new An(t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])},Ln=function(){return{left:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,top:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,right:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,bottom:arguments.length>3&&void 0!==arguments[3]?arguments[3]:0}},Rn=Ln,Bn=(t,e)=>({left:void 0!==e.left?e.left:t.left,top:void 0!==e.top?e.top:t.top,right:void 0!==e.right?e.right:t.right,bottom:void 0!==e.bottom?e.bottom:t.bottom}),zn=gn({type:"color",r:1,g:1,b:1,a:1});class In extends zn{constructor(t){super(t)}toUint32(){return void 0!==this.T||(this.T=Un(this.getR(),this.getG(),this.getB(),this.getA())),this.T}toString(){return"color:".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.a)}setA(t){return this.set("a",t/255)}setR(t){return this.set("r",t/255)}setG(t){return this.set("g",t/255)}setB(t){return this.set("b",t/255)}getA(){return 255*this.get("a")}getR(){return 255*this.get("r")}getG(){return 255*this.get("g")}getB(){return 255*this.get("b")}getHighlight(){return this.F||(this.F=new In({r:this.r+.45*(1-this.r),g:this.g+.45*(1-this.g),b:this.b+.45*(1-this.b),a:this.a<1?this.a+.45*(1-this.a):1})),this.F}getLighter(){return this.I||(this.I=new In({r:this.r+.4*(1-this.r),g:this.g+.4*(1-this.g),b:this.b+.4*(1-this.b),a:this.a})),this.I}getDarker(){return this.P||(this.P=new In({r:this.r-.4*(1-this.r),g:this.g-.4*(1-this.g),b:this.b-.4*(1-this.b),a:this.a})),this.P}toRGBAString(){return"rgba(".concat((255*this.r).toFixed(0),",").concat((255*this.g).toFixed(0),",").concat((255*this.b).toFixed(0),",").concat(this.a,")")}}const Dn=t=>!(!t||"object"!=typeof t||!("type"in t)||"color"!==t.type),Vn=function(t,e,i){return new In({r:t/255,g:e/255,b:i/255,a:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:255)/255})},_n=t=>{const e=t.startsWith("#")?t.substring(1):t.startsWith("0x")?t.substr(2):t;switch(e.length){case 8:return new In({r:Number("0x".concat(e.substring(0,2)))/255,g:Number("0x".concat(e.substring(2,4)))/255,b:Number("0x".concat(e.substring(4,6)))/255,a:Number("0x".concat(e.substring(6,8)))/255});case 6:return new In({r:Number("0x".concat(e.substring(0,2)))/255,g:Number("0x".concat(e.substring(2,4)))/255,b:Number("0x".concat(e.substring(4,6)))/255});case 4:return new In({r:Number("0x".concat(e.charAt(0)).concat(e.charAt(0)))/255,g:Number("0x".concat(e.charAt(1)).concat(e.charAt(1)))/255,b:Number("0x".concat(e.charAt(2)).concat(e.charAt(2)))/255,a:Number("0x".concat(e.charAt(3)).concat(e.charAt(3)))/255});case 3:return new In({r:Number("0x".concat(e.charAt(0)).concat(e.charAt(0)))/255,g:Number("0x".concat(e.charAt(1)).concat(e.charAt(1)))/255,b:Number("0x".concat(e.charAt(2)).concat(e.charAt(2)))/255});default:throw new Error("ColorHEX parsing error | input: ".concat(t))}},Nn=function(t){let e,i,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t/=360;const o=Math.floor(6*t),a=6*t-o,l=s*(1-r),h=s*(1-a*r),c=s*(1-(1-a)*r);switch(o%6){case 0:e=s,i=c,n=l;break;case 1:e=h,i=s,n=l;break;case 2:e=l,i=s,n=c;break;case 3:e=l,i=h,n=s;break;case 4:e=c,i=l,n=s;break;default:e=s,i=l,n=h}return new In({r:e,g:i,b:n})},On=new In({}),Hn=Vn(0,0,0,0),Un=function(t,e,i){return((arguments.length>3&&void 0!==arguments[3]?arguments[3]:255)<<24|i<<16|e<<8|t)>>>0};var Yn,Gn,jn;(jn=Yn||(Yn={})).circle="circle",jn.ellipse="ellipse",function(t){t.closestSide="closest-side",t.closestCorner="closest-corner",t.farthestSide="farthest-side",t.farthestCorner="farthest-corner"}(Gn||(Gn={}));const Xn=gn({type:"fillstyle",fillType:"radial-gradient",ditheringEnabled:!0,stops:[{color:_n("#f00"),offset:0},{color:_n("#0f0"),offset:1}],position:En(.5,.5),shape:Yn.ellipse,extent:Gn.farthestCorner});class Wn extends Xn{constructor(t){if(super(t),null===t||t&&null===t.stops||t&&t.stops&&!Array.isArray(t.stops)||t&&t.stops&&Array.isArray(t.stops)&&t.stops.length<2)throw new Error("RadialGradientFill requires minimum two color stops to be defined.")}toString(){return"radialGradientFill:".concat(this.shape,",").concat(this.ditheringEnabled,",").concat(this.extent,",").concat(this.position.x,",").concat(this.position.y,",").concat(this.stops.map((t=>"".concat(t.offset,",").concat(t.color.toString()))).join(","))}toCSS(){return"radial-gradient(".concat(this.shape," ").concat(this.extent," at ").concat(100*this.position.x,"% ").concat(100*this.position.y,"%, ").concat(this.stops.map((t=>"".concat(t.color.toString()," ").concat(100*t.offset,"%"))).join(", "),")")}setColorStops(t){if(t.length<2)throw new Error("Minimum of two color stops required");return this.set("stops",t)}getColorStops(){return this.get("stops")}setPosition(t){return this.set("position",t)}getPosition(){return this.get("position")}setShape(t){return this.set("shape",t)}getShape(){return this.get("shape")}setExtent(t){return this.set("extent",t)}getExtent(){return this.get("extent")}setDitheringEnabled(t){return this.set("ditheringEnabled",t)}getDitheringEnabled(){return this.get("ditheringEnabled")}}const Zn=t=>!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"radial-gradient"===t.fillType),qn=gn({type:"fillstyle",fillType:"linear-gradient",stops:[{color:_n("#f00"),offset:0},{color:_n("#0f0"),offset:1}],angle:0});class Jn extends qn{constructor(t){if(super(t),null===t||t&&null===t.stops||t&&t.stops&&!Array.isArray(t.stops)||t&&t.stops&&Array.isArray(t.stops)&&t.stops.length<2)throw new Error("LinearGradientFill requires minimum two color stops to be defined.")}toString(){return"linearGradientFill:".concat(this.angle,",").concat(this.stops.map((t=>"".concat(t.offset,",").concat(t.color.toString()))).join(","))}toCSS(){return"linear-gradient(".concat(this.angle,"deg, ").concat(this.stops.map((t=>"".concat(t.color.toString()," ").concat(100*t.offset,"%"))).join(", "),")")}setColorStops(t){if(t.length<2)throw new Error("Minimum of two color stops required");const e=t.sort(((t,e)=>t.offset-e.offset));return this.set("stops",e)}getColorStops(){return this.get("stops")}setAngle(t,e){return this.set("angle",e?function(t){return 180*t/Math.PI}(t):t)}getAngle(t){return t?No(this.get("angle")):this.get("angle")}}const Kn=t=>!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"linear-gradient"===t.fillType);class Qn{constructor(t,e,i,n){this.L=new Er,this.cellIndex=t,this.cellSpan=e,this.cellsAmount=i,this.observedAmount=n,this.x=new $n,this.y=new $n,this.z=new $n;const r={...t},s={...e};if(n){const t=t=>{const e=t.value;this.cellsAmount.x=e.reduce(go,0),this.cellIndex.x=e.reduce(((t,e,i)=>i>=r.x?t:t+e),0),this.cellSpan.x=e.reduce(((t,e,i)=>i>=r.x&&i<r.x+s.x?t+e:t),0),this.L.D("cellresize",{})};n.x.R("change",t),t({value:n.x.C()});const e=t=>{const e=t.value;this.cellsAmount.y=e.reduce(go,0),this.cellIndex.y=e.reduce(((t,e,i)=>i>=r.y?t:t+e),0),this.cellSpan.y=e.reduce(((t,e,i)=>i>=r.y&&i<r.y+s.y?t+e:t),0),this.L.D("cellresize",{})};n.y.R("change",e),e({value:n.y.C()}),this.O=()=>{n.x.V("change",t),n.y.V("change",e)}}}N(){return this.O&&(this.O(),this.O=void 0),this}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class $n extends Sn{constructor(){super(...arguments),this.G=0,this.$=10,this.U=1}Y(){return this.o=!1,this}j(){return this.o=!0,this}getInnerStart(){return this.G}getInnerEnd(){return this.$}getInnerInterval(){return Math.abs(this.getInnerEnd()-this.getInnerStart())}H(t,e){return this.G=t,this.$=e,this.W(),this}X(t){return this.U=t,this.W(),this}Z(t){return t/this.U}W(){const t=this.Z(this.$-this.G),e=this.U;void 0!==this.J&&!1!==Kr(t,this.J)||(this.o=!0,this.K=e,this.J=t)}q(){return this.J}tt(){return this.K}it(){return this.$<this.G}st(t,e){return!0}}class tr{constructor(){this.et=!0}getInnerStart(){return this.G}getInnerEnd(){return this.$}getInnerInterval(){return Math.abs(this.$-this.G)}H(t,e){return this.et=t!==this.G||e!==this.$,this.G=t,this.$=e,this}Y(){return this.et=!1,this}j(){return this.et=!0,this}}class er extends tr{constructor(t,e,i,n){if(super(),this.ht=!0,this.rt=!0,this.nt=[0,0],this.ot=!0,this.ct=t,this.ut=e,this.dt=i,this.ft=t,this.At=e,n){const t=t=>{this.vt(t.value)};n.R("change",t),this.vt(n.C()),this.yt=()=>n.V("change",t)}}X(t){return this.U=t,this.rt=!0,this}St(t){return this.nt=t.map(Math.abs),this.ot=!0,this}bt(){return this.ct/this.dt*this.U+this.nt[0]}xt(){return(this.ct+this.ut)/this.dt*this.U-this.nt[1]}Mt(){return this.getCellSize()-this.wt()}_t(){return this.U}getCellSize(){return this.kt(this.U)}wt(){return this.nt[0]+this.nt[1]}Ct(){return this.nt}vt(t){this.dt=t.reduce(go,0),this.ct=t.reduce(((t,e,i)=>i>=this.ft?t:t+e),0),this.ut=t.reduce(((t,e,i)=>i>=this.ft&&i<this.ft+this.At?t+e:t),0),this.ht=!0,this.Tt()}kt(t){return t*this.ut/this.dt}Y(){return super.Y(),this.rt=!1,this.ot=!1,this.ht=!1,this}j(){return super.j(),this.rt=!0,this.ot=!0,this.ht=!0,this}}class ir extends er{constructor(t,e,i,n){super(t,e,i,n),this.Ft=!1,this.It=!1,this.Pt=0,this.U=1e3,this.H(0,10),this.W()}Lt(){return this.It}st(t,e,i,n,r){if(t===e)return!1;const s=Math.abs(n-i),o=Math.abs(e-t);if(!this.Ft){const i=As(t,e,this.getCellSize());if(void 0===i)return!1;if(o>i)return!0;const n=(e+t)/2,a=(r?i/2:s/2)*(t>e?-1:1);return{start:n-a,end:n+a}}const a=10**-(12-Math.log10(Math.max(Math.abs(t),1)));if(o>a)return!0;const l=(e+t)/2,h=(r?a/2:s/2)*(t>e?-1:1);return{start:l-h,end:l+h}}Tt(){this.W()}Bt(t){return this.bt()+(t-this.G)/(this.$-this.G)*(this.xt()-this.bt())}Dt(t){return this.G+(t-this.bt())/(this.xt()-this.bt())*(this.$-this.G)}H(t,e){return super.H(t,e),this.W(),this}St(t){return super.St(t),this.W(),this}X(t){return super.X(t),this.Rt=nr(this.$-this.G,this.nt,this.U,this.ut,this.dt),this.W(),this}Et(){return this.Ft=!0,this}Ot(){return this.Ft}zt(){return Math.abs(this.Vt)}Nt(){return this.zt()/this.Rt}Gt(){return this.$t}Ut(){return this.Yt}getPixelSize(){return this.Rt}jt(){return this.Ht}j(){return super.j(),this.It=!0,this}Y(){return super.Y(),this.It=!1,this}Wt(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jo.Numeric)(t,{start:this.G,end:this.$})}Xt(){const t=Math.abs(this.getInnerEnd()).toString().length,e=Math.abs(this.getInnerStart()).toString().length;return t>e?t:e}Zt(t){return nr(t,this.nt,this.U,this.ut,this.dt)}W(){let t=this.G,e=this.$,i=0;this.Ft&&(t=0,e=this.$-this.G,i=this.G);const n=e-t,r=nr(n,this.nt,this.U,this.ut,this.dt);this.Yt=t-this.nt[0]*r,this.$t=e+this.nt[1]*r;const s=this.$t-this.Yt,o=s-this.Vt,a=Math.abs(o/r),l=n-this.Pt,h=Math.abs(l/r);(!this.Ht||a>=.4||h>=.4)&&(this.Pt=n,this.Vt=s,this.Rt=r,this.It=!0);const c=this.Vt*this.dt/(2*this.ut),u=-(this.Yt-this.Vt*this.ct/this.ut)-c,d=2*this.bt()/this.U-1,f=2*this.xt()/this.U-1-d;this.Ht={displacement:u,scaling:c,highPrecisionOffset:i,viewportStart:d,viewportSize:f,scaleStartLog:0,scaleIntervalLog:0}}Jt(t,e){return t+this.Rt*e}}const nr=function(t,e,i){return t/(i*(arguments.length>3&&void 0!==arguments[3]?arguments[3]:1)/(arguments.length>4&&void 0!==arguments[4]?arguments[4]:1)-(e[0]+e[1]))};class rr{Qt(t,e){return"x"in t?(this.x=t.x,this.y=t.y):(this.x=t,this.y=e),this}Y(){return this.x.Y(),this.y.Y(),this}j(){return this.x.j(),this.y.j(),this}X(t,e){return"object"==typeof t?(this.x.X(t.x),this.y.X(t.y)):(this.x.X(t),this.y.X(e)),this}_t(){return En(this.x._t(),this.y._t())}Kt(t){return this.x.St(t),this}qt(t){return this.y.St(t),this}wt(){return En(this.x.wt(),this.y.wt())}ti(t,e){return this.x.H(t,e),this}ii(t,e){return this.y.H(t,e),this}getInnerIntervalPixels(){const t=this.x.getCellSize(),e=this.y.getCellSize();return{x:t-this.x.wt(),y:e-this.y.wt()}}si(){return this.x.Lt()||this.y.Lt()}}class sr extends rr{constructor(){super(...arguments),this.ei="LinearScaleXY"}hi(t,e,i,n){return this.x=new ir(t.x,e.x,i.x,n?n.x:void 0),this.y=new ir(t.y,e.y,i.y,n?n.y:void 0),this}Ot(){return this.x.Ot()||this.y.Ot()}ri(){return En(this.x.getPixelSize(),this.y.getPixelSize())}jt(){return{x:this.x.jt(),y:this.y.jt()}}Jt(t,e){const i=this.ri();return{x:t.x+e.x*i.x,y:t.y+e.y*i.y}}ni(t,e,i,n){const r=this.ri(),s=Po(t,e);return s.x*=n,s.y*=n,{x:t.x+i*r.x*s.x,y:t.y+i*r.y*s.y}}}class or extends rr{constructor(){super(...arguments),this.ei="MixedScaleXY"}Ot(){return!1}Jt(t,e){const i=this.x.Bt(t.x),n=this.y.Bt(t.y),r={x:i+e.x,y:n+e.y};return{x:this.x.Dt(r.x),y:this.y.Dt(r.y)}}ni(t,e,i,n){const r={x:this.x.Bt(t.x),y:this.y.Bt(t.y)},s={x:this.x.Bt(e.x),y:this.y.Bt(e.y)},o=To(Bo(s,r)),a=Po(s,r),l={x:r.x+o.x*n+a.x*i,y:r.y+o.y*n+a.y*i};return{x:this.x.Dt(l.x),y:this.y.Dt(l.y)}}jt(){const t=this.x.jt(),e=this.y.jt();return{uScaleStart:[this.x.G,this.y.G],uScaleInterval:[this.x.getInnerInterval(),this.y.getInnerInterval()],uScaleStartLog:[t.scaleStartLog,e.scaleStartLog],uScaleIntervalLog:[t.scaleIntervalLog,e.scaleIntervalLog],uViewportStart:[t.viewportStart,e.viewportStart],uViewportSize:[t.viewportSize,e.viewportSize]}}}const ar={d1:t=>new t.scale1DConstructor(0,1,1,void 0),d2:t=>(new t.scaleXYConstructor).hi({x:0,y:0},{x:1,y:1},{x:1,y:1},void 0),d3:()=>new Qn({x:0,y:0},{x:1,y:1},{x:1,y:1},void 0)},lr=(t,e,i)=>e===i?t:i.Dt(e.Bt(t)),hr=(t,e,i)=>{if(e===i)return t;const n=e instanceof rr?e.x:e.x instanceof rr?e.x.x:e.x.oi,r=e instanceof rr?e.y:e.y instanceof rr?e.y.y:e.y.oi,s=i instanceof rr?i.x:i.x instanceof rr?i.x.x:i.x.oi,o=i instanceof rr?i.y:i.y instanceof rr?i.y.y:i.y.oi;return{...t,x:lr(t.x,n,s),y:lr(t.y,r,o)}},cr=t=>t&&"object"==typeof t&&"x"in t&&"y"in t,ur=(t,e,i,n)=>i<0?t:i>1?e:Vn(t.getR()+i*(e.getR()-t.getR()),t.getG()+i*(e.getG()-t.getG()),t.getB()+i*(e.getB()-t.getB()),void 0===n?t.getA()+i*(e.getA()-t.getA()):n);var dr;!function(t){t[t.Nearest=0]="Nearest",t[t.NearestX=1]="NearestX",t[t.NearestY=2]="NearestY"}(dr||(dr={}));const fr=(t,e,i,n,r,s,o,a,l,h)=>{const c=t.length;if(0===c)return;const u=n?1:0,d=c-(r?2:1);if(i===dr.Nearest)return gr(t,e,s,o,u,d);if(i===dr.NearestX||i===dr.NearestY){if("boolean"==typeof h&&("x"===l&&i===dr.NearestX||"y"===l&&i===dr.NearestY))return yr(t,hr(e,o,s),l,h,u,d);if(i===dr.NearestX)return pr(t,hr(e,o,s),a,u,d);if(i===dr.NearestY)return mr(t,hr(e,o,s),a,u,d)}},gr=(t,e,i,n,r,s)=>{let o,a=Number.MAX_VALUE;for(let l=r;l<=s;l+=1){const r=t[l];if(!Number.isNaN(r.x)&&!Number.isNaN(r.y)){const t=hr(r,i,n),s=(t.x-e.x)**2+(t.y-e.y)**2;s<a&&(a=s,o=l)}}return o},pr=(t,e,i,n,r)=>{if(e.x<i.min.x||e.x>i.max.x)return;let s,o=Number.MAX_VALUE;for(let a=n;a<=r;a+=1){const i=t[a],n=i.x>e.x?i.x-e.x:e.x-i.x;n<o&&!Number.isNaN(i.x)&&!Number.isNaN(i.y)&&(o=n,s=a)}return s},mr=(t,e,i,n,r)=>{if(e.y<i.min.y||e.y>i.max.y)return;let s,o=Number.MAX_VALUE;for(let a=n;a<=r;a+=1){const i=t[a],n=i.y>e.y?i.y-e.y:e.y-i.y;n<o&&!Number.isNaN(i.x)&&!Number.isNaN(i.y)&&(o=n,s=a)}return s},yr=(t,e,i,n,r,s)=>{const o="x"===i,a=o?e.x:e.y,l=t[r],h=t[s],c=l.x<h.x?l.x:h.x,u=l.y<h.y?l.y:h.y,d=l.x>h.x?l.x:h.x,f=l.y>h.y?l.y:h.y;if(o&&(a<c||a>d)||!o&&(a<u||a>f))return;let g=r,p=Math.floor((r+s)/2),m=s,y=-1;for(;;){const e=a-(o?t[p].x:t[p].y);if(e*(n?-1:1)>0)g=Math.min(p+1,m),y=Math.floor((g+m)/2);else{if(0===Math.abs(e))return p;m=Math.max(p-1,g),y=Math.floor((g+m)/2)}if(y===p){const i=p>r?Math.abs(a-(o?t[p-1].x:t[p-1].y)):ro,n=p<s?Math.abs(a-(o?t[p+1].x:t[p+1].y)):ro,l=Math.abs(e);switch(Math.min(l,i,n)){case i:return p-1;case n:return p+1;default:return p}}else p=y}},vr=(t,e,i,n,r,s)=>{const o="x"===i,a=o?e.x:e.y,l=t[r],h=t[s],c=l.x<h.x?l.x:h.x,u=l.y<h.y?l.y:h.y,d=l.x>h.x?l.x:h.x,f=l.y>h.y?l.y:h.y;if(o&&(a<c||a>d)||!o&&(a<u||a>f))return;let g=r,p=Math.floor((r+s)/2),m=s,y=-1;for(;;){const i=a-(o?t[p].x:t[p].y);if(i*(n?-1:1)>0)g=Math.min(p+1,m),y=Math.floor((g+m)/2);else{if(0===Math.abs(i))return{a:p,b:p,lerpAmount:0};m=Math.max(p-1,g),y=Math.floor((g+m)/2)}if(y===p){if(i*(n?-1:1)<0&&p>r){const i=t[p-1],n=t[p];return{a:p-1,b:p,lerpAmount:o?(e.x-i.x)/(n.x-i.x):(e.y-i.y)/(n.y-i.y)}}if(p<s){const i=t[p],n=t[p+1];return{a:p,b:p+1,lerpAmount:o?(e.x-i.x)/(n.x-i.x):(e.y-i.y)/(n.y-i.y)}}return{a:p,b:p,lerpAmount:0}}p=y}};let xr=0;class br{constructor(t,e,i){this.li=Fn(!0),this.ci=!1,this.ui=!0,this.di=!1,this.fi=void 0,this.Ai=0,this.L=new Er,this.gi=t,this.yi=e,this.pi=i,this.mi=xr,xr+=1,this.Si=t.bi.highlightColorOffset}xi(){let t;return this.Mi("DataPattern",(e=>(t=e.pattern,!0))),"ProgressiveX"===t||"RegressiveX"===t?dr.NearestX:"ProgressiveY"===t||"RegressiveY"===t?dr.NearestY:dr.Nearest}wi(){}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}D(t,e,i,n){this.L.D(t,e,{collectionMember:i,info:n})}removeEventListener(t,e){this.L.removeEventListener(t,e)}_i(t){return void 0!==this.pi.find((e=>e.type===t))}Mi(t,e){var i;return!!this._i(t)&&!0===e(null===(i=this.pi.find((e=>e.type===t)))||void 0===i?void 0:i.args)}dispose(){return this.ci||(this.gi.ki(this),this.ci=!0,this.yi(this),this.L.D("dispose",{})),this}isDisposed(){return this.ci}setVisible(t){const e=this.ui;return this.ui=t,!t&&e&&this.li.C()&&this.gi.ki(this),this}getVisible(){return this.ui}setPointerEvents(t){const e=this.li.C();return this.li._(t),t||e&&this.gi.ki(this),this}getPointerEvents(){return this.li.C()}Ci(t){return this.fi=t,this}Ti(){return this.fi?this.fi:Sr}Fi(t){return this.Ai=t,this}Ii(){return this.Ai}Pi(t){return this.Si=t,this}Li(){return this.Si}}const Sr=Tn(En(0,0),En(0,0)),Ar={click:!0,contextmenu:!0,dblclick:!0,gotpointercapture:!0,lostpointercapture:!0,pointercancel:!0,pointerdown:!0,pointerenter:!0,pointerleave:!0,pointermove:!0,pointerout:!0,pointerover:!0,pointerup:!0,touchcancel:!0,touchend:!0,touchmove:!0,touchstart:!0,wheel:!0,drag:!0,dragend:!0,dragenter:!0,dragleave:!0,dragover:!0,dragstart:!0,drop:!0};class Er{constructor(){this.Bi=new Array,this.Di=new Array,this.Ri=[],this.li=!0,this.Ei=!1,this.Oi=new Map}setPointerEvents(t){this.li=t,this.Ri.forEach((e=>e.setPointerEvents(t)))}getPointerEvents(){return this.li}addEventListener(t,e,i){const n=this.Bi.findIndex((i=>i.key===t&&i.listener===e)),r=this.Di.findIndex((i=>i.key===t&&i.listener===e));n>=0||r>=0||this.Di.push({listener:e,key:t,options:i||{},removed:!1})}removeEventListener(t,e){const i=this.Bi.find((i=>i.key===t&&i.listener===e));if(i)i.removed=!0;else{const i=this.Di.findIndex((i=>i.key===t&&i.listener===e));i>=0&&this.Di.splice(i,1)}}set draggable(t){this.Ei=t,this.Ri.forEach((e=>{e.di=t}))}get draggable(){return this.Ei}zi(){for(let t=0;t<this.Bi.length;t++)this.Bi[t].removed&&(this.Bi.splice(t,1),t--);for(const t of this.Di)this.Bi.push(t);this.Di.length=0}D(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.zi();for(let n=this.Bi.length-1;n>=0;n--){const r=this.Bi[n];r.key===t&&(r.listener(e,i),!0===r.options.once&&this.Bi.splice(n,1))}}Vi(t,e){const i=[];Object.keys(Ar).forEach((n=>{const r=(t,i)=>{const r=wr(t)?{clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY}:t,s=(null==e?void 0:e.getExtraData)&&void 0!==r.clientX?e.getExtraData(r,i.collectionMember,i.info):{};this.D(n,t,s),!t.defaultPrevented&&(null==e?void 0:e.continueIfNotPrevented)&&e.continueIfNotPrevented(n,t,s)};t.addEventListener(n,r),i.push((()=>t.removeEventListener(n,r)))})),this.Ri.push(t);const n=()=>{const e=this.Ri.indexOf(t);e>=0&&this.Ri.splice(e,1)};t.addEventListener("dispose",n),i.push((()=>t.removeEventListener("dispose",n))),this.Oi.set(t,(()=>{i.forEach((t=>t()))})),t.di=this.Ei,t.setPointerEvents(this.li)}Ni(){this.Oi.forEach((t=>t())),this.Oi.clear(),this.Ri.length=0}Gi(t,e){const i=[];Object.keys(Ar).forEach((n=>{const r=(t,i)=>{const r=e(i.collectionMember);r&&this.D(n,t,r)};t.addEventListener(n,r),i.push((()=>t.removeEventListener(n,r)))})),this.Ri.push(t);const n=()=>{const e=this.Ri.indexOf(t);e>=0&&this.Ri.splice(e,1)};t.addEventListener("dispose",n),i.push((()=>t.removeEventListener("dispose",n))),this.Oi.set(t,(()=>{i.forEach((t=>t()))})),t.setPointerEvents(this.li),t.di=this.Ei}$i(t){Object.keys(Ar).forEach((e=>{t.addEventListener(e,((t,i)=>{this.D(e,t,i)}))})),t.setPointerEvents(this.li),t.draggable=this.Ei}}const wr=t=>!(!t||"object"!=typeof t||!("touches"in t)),kr={linear:(t,e,i)=>{const n=e-t;return r=>r<i?t+n/i*r:e},easeIn:(t,e,i)=>n=>n<i?t+Math.abs(2*(Math.sqrt(.5)*n/i)**2)*(e-t):e,easeOut:(t,e,i)=>n=>n<i?t+Math.abs(1-2*(Math.sqrt(.5)*(1-n/i))**2)*(e-t):e,ease:(t,e,i)=>n=>n<i?t+(n<i/2?.5*(n/i*2)**2.5:.5+.5*(1-(1-2*(n/i-.5))**2.5))*(e-t):e,logarithmic:t=>{const e=ws(t);return(i,n,r)=>{const s=e(i),o=e(n);return e=>e<r?t**(s+Math.abs(1-2*(Math.sqrt(.5)*(1-e/r))**2)*(o-s)):n}}};class Cr{constructor(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:kr.linear,r=arguments.length>4?arguments[4]:void 0;this.delta=0,this.nextAnimations=new Array,this.Ui=!1,this.easing=kr.linear,this.isOver=()=>(this.delta===this.duration||this.Ui)&&0===this.nextAnimations.length,this.L=new Er,this.values=t,this.action=e,this.duration=i,this.easing=n,this.Yi=r,this.eases=t.map((t=>{let[e,r]=t;return n(e,r,i)}))}ji(){this.L.D("start",{})}start(){return this.Yi.includes(this)||this.Yi.push(this),this}addNextAnimations(t){return t instanceof Array?t.forEach((t=>this.nextAnimations.push(t))):this.nextAnimations.push(t),this}NextAnimation(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.duration,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.easing;const r=new Cr(t,e,i,n,this.Yi);return this.nextAnimations.push(r),r}finish(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.Ui=!0,this.Yi.splice(this.Yi.indexOf(this),1),this.nextAnimations.length>0){const e=this.nextAnimations[0];return t&&this.L.Bi.forEach((t=>{"allAnimationEnd"===t.key&&e.addEventListener("allAnimationEnd",t.listener),"everyAnimationEnd"===t.key&&e.addEventListener("everyAnimationEnd",t.listener)})),e.addNextAnimations(this.nextAnimations.slice(1)),e.start(),t&&(this.L.D("end",{nextAnimation:e}),this.L.D("everyAnimationEnd",{nextAnimation:e})),e}t&&(this.L.D("end",{nextAnimation:void 0}),this.L.D("everyAnimationEnd",{nextAnimation:void 0}),this.L.D("allAnimationEnd",{}))}finishAll(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this;for(;e;)e=e.finish(t)}getFinalValues(){return this.nextAnimations.length>0?this.nextAnimations[this.nextAnimations.length-1].values.map(Zr):this.values.map(Zr)}getTimeUntilFinish(){let t=this.duration-this.delta;for(let e=0;e<this.nextAnimations.length;e+=1)t+=this.nextAnimations[e].duration-this.nextAnimations[e].delta;return t}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}const Mr=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;e>60&&console.log("Note: Animator FPS is usually capped at 60 by the browser!");const i=[];let n,r,s=0;const o=()=>{n=void 0;const a=Date.now();r=r||a,s=a-r,s/1e3>=1/e&&(r=Date.now()-s%(1e3/e),i.forEach((t=>{0===t.delta&&t.ji(),t.delta+=s-s%(1e3/e),t.delta>t.duration&&(t.delta=t.duration),t.action(t.eases.map((e=>e(t.delta)))),t.delta===t.duration&&t.finish()})),t()),i.length>0?n=jr.requestAnimationFrame(o):(n=void 0,r=void 0)};return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kr.linear;return function(r,s){const a=new Cr(r,s,arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,e,i).start();return n||(n=jr.requestAnimationFrame(o)),a}}};var Tr;!function(t){t[t.Fill=0]="Fill",t[t.Fit=1]="Fit",t[t.Stretch=2]="Stretch",t[t.Center=3]="Center",t[t.Tile=4]="Tile"}(Tr||(Tr={}));const Pr=gn({type:"fillstyle",fillType:"image",source:void 0,surroundingColor:Vn(0,0,0,0),sourceMissingColor:Vn(0,0,0,0),fitMode:Tr.Fill});class Fr extends Pr{constructor(t){super(t)}setSource(t){return this.set("source",t)}getSource(){return this.get("source")}setSurroundingColor(t){return Dn(t)?this.set("surroundingColor",t):this.set("surroundingColor",t(this.get("surroundingColor")))}getSurroundingColor(){return this.get("surroundingColor")}setSourceMissingColor(t){return Dn(t)?this.set("sourceMissingColor",t):this.set("sourceMissingColor",t(this.get("sourceMissingColor")))}getSourceMissingColor(){return this.get("sourceMissingColor")}setFitMode(t){return this.set("fitMode",t)}getFitMode(){return this.get("fitMode")}toString(){return"imagefill:".concat(this.fitMode)}toCSS(){return"url(".concat(this.getSource().src,")")}}const Lr=t=>!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"image"===t.fillType),Rr=gn({type:"linestyle",lineType:"empty"}),Br=new class extends Rr{constructor(){super(...arguments),this.thickness=0}setThickness(t){return this}getThickness(){return 0}Hi(){return 0}setFillStyle(t){return this}getFillStyle(){return na}},zr=t=>!(!t||"object"!=typeof t||!("lineType"in t)||"empty"!==t.lineType),Ir=-34028234663852886e22,Dr="-340282346638528859811704183484516925440.0";var Vr,_r,Nr,Or;!function(t){t[t.Content=0]="Content",t[t.PaddedContent=1]="PaddedContent",t[t.PaddedBackground=2]="PaddedBackground",t[t.Everything=3]="Everything"}(Vr||(Vr={})),function(t){t[t.never=0]="never",t[t.always=1]="always",t[t.whenHovered=2]="whenHovered",t[t.whenDragged=3]="whenDragged",t[t.whenNotDragged=4]="whenNotDragged",t[t.whenHoveredOrDragged=5]="whenHoveredOrDragged"}(_r||(_r={})),function(t){t[t.notDraggable=0]="notDraggable",t[t.draggable=1]="draggable",t[t.onlyHorizontal=2]="onlyHorizontal",t[t.onlyVertical=3]="onlyVertical"}(Nr||(Nr={})),function(t){t[t.Up=0]="Up",t[t.Right=1]="Right",t[t.Down=2]="Down",t[t.Left=3]="Left"}(Or||(Or={}));const Hr=t=>"getHighlight"in t&&"setHighlight"in t,Ur=(t,e,i)=>void 0===t||"number"==typeof t?t:Array.isArray(t)?t.slice(e,i):t.subarray(e,i),Yr=function(){const t=t=>t&&"object"==typeof t&&!Array.isArray(t);for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.reduce(((e,i)=>i?(Object.keys(i).forEach((n=>{const r=e[n],s=i[n];t(r)&&t(s)?e[n]=Yr(r,s):e[n]=s})),e):e),{})},Gr=t=>{if(t.resourcesBaseUrl){const e=t.styleFactory(t.resourcesBaseUrl),i=Lr(e)&&e.getSource(),n=i&&i instanceof Image?i:void 0;return null==n||n.addEventListener("error",(()=>{js(t.resourcesBaseUrl,n.src,"Theme resource",{shouldCrash:!1})})),e}const e="".concat(jr.location.origin,"/resources"),i=t.styleFactory(e);if(Lr(i)){const e=i.getSource();e instanceof Image&&e.addEventListener("error",(()=>{const i=t.styleFactory("https://lcjs-resources.lightningchart.com/v1"),n=Lr(i)&&i.getSource(),r=n&&n instanceof Image?n:void 0;jr.console.warn("LightningChart JS warning | fallbacking to publicly hosted asset resources.\nFor more information, please see https://lightningchart.com/js-charts/docs/troubleshooting/warning-using-publicly-hosted-resources/"),null==r||r.addEventListener("load",(()=>{t.apply(i)})),null==r||r.addEventListener("error",(()=>{js(t.resourcesBaseUrl,e.src,"Theme resource",{shouldCrash:!1})}))}))}return i},jr="undefined"!=typeof window?window:"undefined"!=typeof global&&global._lcjs?global._lcjs:{},Xr=(t,e)=>t.x===e.x&&t.y===e.y,Wr=t=>t!==ro&&t!==so&&!Number.isNaN(t)&&Number.isFinite(t)&&t!==1/0&&t!==-1/0,Zr=t=>t[1],qr=t=>t.dispose(),Jr=()=>{},Kr=(t,e)=>t===e,Qr=(t,e,i)=>i>e?Math.min(Math.max(t,e),i):Math.min(Math.max(t,i),e),$r=t=>Array.prototype.concat.apply([],t),ts=(t,e)=>void 0===t||Number.isNaN(t)?e:t,es=t=>t.Wi(),is=t=>t.Xi(),ns=t=>t.Zi(),rs=t=>t.Ji(),ss=t=>t.min.x,os=t=>t.max.x,as=t=>t.min.y,ls=t=>t.max.y,hs=(t,e,i,n,r)=>{if(t.length>0){let s=r?n(r):void 0;for(let n=0;n<t.length;n+=1){const r=e(t[n]);void 0!==r&&(s=void 0!==s?i(s,r):r)}return s}if(r)return n(r)},cs=En(0,1),us=En(1,0),ds=En(0,-1),fs=En(-1,0),gs=En(0,0),ps=t=>{switch(t){case Or.Up:return cs;case Or.Right:return us;case Or.Down:return ds;case Or.Left:return fs;default:return gs}},ms=t=>t===Or.Left||t===Or.Right,ys=t=>{t.stopPropagation(),t.preventDefault()},vs=(t,e)=>{if(!e)return t;const i=t.length,n=new Float32Array(2*i);let r=0;for(let s=0;s<i;s+=1){const e=t[s],i=Math.fround(e);n[r+0]=i,n[r+1]=e-i,r+=2}return n},xs=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float32Array;if(!e){const e=t.length,n=new i(2*e);let r=0;for(let i=0;i<e;i+=1){const e=t[i];n[r+0]=e.x,n[r+1]=e.y,r+=2}return n}const n=t.length,r=new i(4*n);let s=0;for(let o=0;o<n;o+=1){const e=t[o],i=Math.fround(e.x),n=Math.fround(e.y);r[s+0]=i,r[s+1]=n,r[s+2]=e.x-i,r[s+3]=e.y-n,s+=4}return r},bs=t=>{const e=t.length,i=new Float32Array(3*e);let n=0;for(let r=0;r<e;r+=1){const e=t[r];i[n+0]=e.x,i[n+1]=e.y,i[n+2]=e.z,n+=3}return i},Ss=t=>e=>{const i=t.indexOf(e);i>=0&&t.splice(i,1)},As=(t,e,i)=>{const n=((t,e)=>{if(e<ro&&e>so&&t<ro&&t>so){const i=Math.abs(t/2**23),n=Math.abs(e/2**23),r=Math.min(i,n);return 10**Math.floor(Math.log10(r))}})(t,e);if(void 0!==n)return n*i},Es=t=>{let e=t.length;for(let i=0;i<e-1;i+=1)t[i].x===t[i+1].x&&t[i].y===t[i+1].y&&(t.splice(i,1),i-=1,e-=1);return t},ws=t=>{const e=Math.log(t);return t=>Math.log(t)/e},ks=ws(Math.E),Cs=(t,e)=>{const i=e[t];return i?i():void 0},Ms=(t,e)=>{let i;if(e)i=e;else{const e={x:0,y:0};for(let i=0;i<t.length;i+=1)e.x+=t[i].x/t.length,e.y+=t[i].y/t.length;i=e}return t.sort(((t,e)=>Oo(Bo(t,i))-Oo(Bo(e,i))))},Ts=(t,e,i)=>{if(0===t.length)return!1===i.canReturnB?e.slice():e;const n=e.length;if(n<1e5)return t.push.apply(t,e),t;for(let r=0;r<n;r+=1)t.push(e[r]);return t},Ps=t=>255===t.getA()?t:t.setA(255),Fs=(()=>{const t=Vn(0,0,0);return e=>(e=Ps(e),new Jn({angle:180,stops:[{offset:0,color:e},{offset:1,color:ur(e,t,.5)}]}))})(),Ls=(()=>{const t=(t,e)=>{var i;if(t){if(la(t)){if(0===t.getColor().getA())return;return t.getColor()}if(Zn(t)||Kn(t)){const e=t.getColorStops();return 2===e.length?e[1].color:null===(i=e[0])||void 0===i?void 0:i.color}return fa(t)&&void 0!==e?t.lut.getColors(e,void 0):void 0}};return(e,i,n)=>{var r;const s=[];if(n.fill&&s.push(n.fill),n.fill2&&s.push(n.fill2),n.stroke){const t=n.stroke.getFillStyle();t!==na&&("stroke"===(null===(r=n.behavior)||void 0===r?void 0:r.priority)?s.unshift(t):s.push(t))}if(n.point3D){const t=n.point3D;s.push(t.getFillStyle())}let o;if(n.behavior&&!0===n.behavior.colorStep){const[i,r]=s.reduce(((e,i)=>{if(e[0]&&e[1])return e;const r=t(i,n.lutValue);return r&&(void 0===e[0]?e[0]=r:e[1]=r),e}),[void 0,void 0]);o=i&&r?(a=i)===(l=r)||a.getR()===l.getR()&&a.getG()===l.getG()&&a.getB()===l.getB()?Fs(a):(a=Ps(a),l=Ps(l),new Jn({angle:0,stops:[{offset:0,color:l},{offset:.5,color:l},{offset:.5,color:a},{offset:1,color:a}]})):e.uiButtonFillStyle}else{const r=s.reduce(((e,i)=>e||t(i,n.lutValue)),void 0);o=r?i?new aa({color:r}):Fs(r):e.uiButtonFillStyle}var a,l;return o}})(),Rs=(t,e)=>{const i=t;if(fa(i))return{lut:i.getPalette(),lookUpProperty:i.getLookUpProperty(),valueRange:e}},Bs=t=>{let e=0;return()=>(e+=1,"".concat(t,"-").concat(e))},zs=(t,e)=>{let i="string"==typeof t?t:String(t);const n=i.indexOf(".");let r=n>=0?n:i.length;for(;r<e;r+=1)i="0".concat(i);return i},Is=(t,e)=>"function"==typeof t?t(e):t,Ds=(t,e)=>e(),Vs=()=>new Error("LightningChart JS encountered an unexpected error.\nPlease report this issue to https://lightningchart.com/js-charts/docs/contact"),_s=t=>t===oo||t.min.x===oo.min.x&&t.max.x===oo.max.x&&t.min.y===oo.min.y&&t.max.y===oo.max.y,Ns=t=>Array.from(new Set(t)),Os=t=>t.filter((t=>void 0!==t)),Hs=t=>"boolean"==typeof t?t?1:0:t>1?1:t<0?0:t,Us=(t,e)=>{throw new Error(e)},Ys=t=>{let e;return()=>e||(e=t(),e)},Gs=t=>{if(t===Br)return 0;const e=t.getThickness();return e<0?1:1*e},js=(t,e,i,n)=>{const r='LightningChart JS Resources not found.\nresourcesBaseUrl: "'.concat(t,'"\ninitiator: ').concat(i,"\nresource url: ").concat(e,"\nFor more information, please see https://lightningchart.com/js-charts/docs/troubleshooting/error-resources-not-found/");if(n.shouldCrash)throw jr.alert(r),new Error(r);jr.console.warn(r)},Xs=function(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t<i(n)||i(e)<t)return;const r=e;for(;n!==e;){const r=Math.ceil((n+e)/2);t<i(r)?e=r-1:n=r}const s=Math.abs(t-i(n));return n<r&&Math.abs(t-i(n+1))<s?n+1:n},Ws=()=>{const t=new Map;return{Qi:e=>(Object.keys(Ar).forEach((i=>{e.addEventListener(i,((e,n)=>{const r=n.collectionMember&&t.get(n.collectionMember);if(!r)return;const s=wr(e)?{clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY}:e,o=r.Ki(n.info,s,n.collectionMember);r.L.D(i,e,o)}))})),e),qi:(e,i)=>{t.set(e,i)},Ni:()=>{t.clear()}}},Zs={left:0,right:0,top:0,bottom:0},qs=()=>Math.round(Math.random()*Number.MAX_SAFE_INTEGER),Js=(t,e,i)=>{e&&e.ts();const n=i();return Object.keys(n).forEach((e=>{const i=e,r=n[i];t.addEventListener(i,r)})),{ss:t,ts:()=>{Object.entries(n).forEach((e=>{let[i,n]=e;const r=i,s=n;t.removeEventListener(r,s)}))}}},Ks=(t,e,i)=>{let n;const r=()=>(n=i(),n),s={...t,resolve:()=>n||r()};for(const o of Object.keys(e))Object.defineProperty(s,o,{get:function(){return n?n[o]:r()[o]}});return s},Qs=t=>{if(t)return"resolve"in t?t.resolve():t},$s=t=>{let e=t;return{es:t=>{const i=e;return e=i+t,[i,t]}}},to=t=>{jr.document.body.addEventListener(t,(t=>{t.stopPropagation(),t.preventDefault()}),{once:!0,capture:!0})},eo=()=>{const t=jr.performance.now();jr.document.body.addEventListener("contextmenu",(e=>{jr.performance.now()-t>5e3||e.preventDefault()}),{once:!0})},io=()=>{const t=jr.performance.now();jr.document.body.addEventListener("touchstart",(e=>{jr.performance.now()-t>5e3||e.preventDefault()}),{once:!0})},no={add:(t,e)=>Cn(t.x+e,t.y+e,t.z+e),addVec(t){const e={x:t.x,y:t.y,z:t.z};for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];for(const s of n)e.x+=s.x,e.y+=s.y,e.z+=s.z;return e},subtract:(t,e)=>Cn(t.x-e,t.y-e,t.z-e),subtractVec(t){const e={x:t.x,y:t.y,z:t.z};for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];for(const s of n)e.x-=s.x,e.y-=s.y,e.z-=s.z;return e},multiply:(t,e)=>Cn(t.x*e,t.y*e,t.z*e),divide:(t,e)=>Cn(t.x/e,t.y/e,t.z/e),multiplyVec(t){const e={x:t.x,y:t.y,z:t.z};for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];for(const s of n)e.x*=s.x,e.y*=s.y,e.z*=s.z;return e},divideVec(t){const e={x:t.x,y:t.y,z:t.z};for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];for(const s of n)e.x/=s.x,e.y/=s.y,e.z/=s.z;return e},length:t=>Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z),normalize:t=>no.divide(t,no.length(t)),dot:(t,e)=>t.x*e.x+t.y*e.y+t.z*e.z,cross:(t,e)=>Cn(t.y*e.z-t.z*e.y,t.z*e.x-t.x*e.z,t.x*e.y-t.y*e.x),angle:(t,e)=>Math.acos(no.dot(t,e)/(no.length(t)*no.length(e))),rotateAroundAxis(t,e,i){const n=Math.cos(i),r=Math.sin(i),s=no.dot(e,t),o=no.cross(e,t);return no.addVec(no.multiply(t,n),no.addVec(no.multiply(e,(1-n)*s),no.multiply(o,r)))},lerp:(t,e,i)=>(i=Qr(i,0,1),no.addVec(no.multiply(t,1-i),no.multiply(e,i))),equals:(t,e)=>Kr(t.x,e.x)&&Kr(t.y,e.y)&&Kr(t.z,e.z),abs:t=>({x:Math.abs(t.x),y:Math.abs(t.y),z:Math.abs(t.z)}),sign:t=>({x:Math.sign(t.x),y:Math.sign(t.y),z:Math.sign(t.z)})},ro=Number.MAX_VALUE,so=-Number.MAX_VALUE,oo=Tn(En(ro,ro),En(so,so)),ao=Tn(Cn(ro,ro,ro),Cn(so,so,so)),lo=(t,e)=>{const i=Math.log(t)/Math.log(e);return Math.floor((t=>(Math.ceil(t)-t<1e-4?t=Math.ceil(t):t-Math.floor(t)<1e-4&&(t=Math.floor(t)),t))(i))},ho=(t,e)=>!(e.min.x>t.max.x||e.max.x<t.min.x||e.min.y>t.max.y||e.max.y<t.min.y),co=(t,e)=>!(t[1].x<e[0].x||t[0].x>e[1].x||t[3].y<e[0].y||t[0].y>e[3].y),uo=(t,e)=>({min:{x:Math.min(t[0].x,e[0].x),y:Math.min(t[0].y,e[0].y)},max:{x:Math.max(t[2].x,e[2].x),y:Math.max(t[2].y,e[2].y)}}),fo=t=>{const e=t.length;for(let i=0;i<e;i+=1)for(let n=i+1;n<e;n+=1)if(ho(t[i],t[n]))return!0;return!1},go=(t,e)=>e+t,po=(t,e,i)=>{const n=Bo(e,t),r=n.x*n.x+n.y*n.y;if(0===r)return t;const s=Bo(i,t),o=(s.x*n.x+s.y*n.y)/r;return o<=0?t:o>=1?e:En(t.x+o*n.x,t.y+o*n.y)},mo=(t,e,i)=>i>e?t>=e&&t<=i:t>=i&&t<=e,yo=(t,e)=>{const i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)},vo=(t,e)=>{const i=t.x-e.x,n=t.y-e.y;return i*i+n*n},xo=(t,e,i)=>Ro(t,Lo(Bo(e,t),i)),bo=(t,e,i)=>no.addVec(t,no.multiply(no.subtractVec(e,t),i));function So(t){const e=t.length;if(e>0){let i=t[0].x,n=t[0].x,r=t[0].y,s=t[0].y;for(let o=1;o<e;o+=1){const e=t[o];e.x>i&&(i=e.x),e.x<n&&(n=e.x),e.y>r&&(r=e.y),e.y<s&&(s=e.y)}return Tn(En(n,s),En(i,r))}return oo}function Ao(t){const e=t.length;if(e>0){let i=t[0].x,n=t[0].x,r=t[0].y,s=t[0].y,o=t[0].z,a=t[0].z;for(let l=0;l<e;l+=1){const e=t[l];e.x>i&&(i=e.x),e.x<n&&(n=e.x),e.y>r&&(r=e.y),e.y<s&&(s=e.y),e.z>o&&(o=e.z),e.z<a&&(a=e.z)}return Tn(Cn(n,s,a),Cn(i,r,o))}return ao}const Eo=function(){const t={min:{x:ro,y:ro},max:{x:so,y:so}};for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];for(const r of i)t.min.x=t.min.x<r.min.x?t.min.x:r.min.x,t.max.x=t.max.x>r.max.x?t.max.x:r.max.x,t.min.y=t.min.y<r.min.y?t.min.y:r.min.y,t.max.y=t.max.y>r.max.y?t.max.y:r.max.y;return t},wo=(t,e)=>Tn(Cn(t.min.x<e.min.x?t.min.x:e.min.x,t.min.y<e.min.y?t.min.y:e.min.y,t.min.z<e.min.z?t.min.z:e.min.z),Cn(t.max.x>e.max.x?t.max.x:e.max.x,t.max.y>e.max.y?t.max.y:e.max.y,t.max.z>e.max.z?t.max.z:e.max.z));function ko(t,e,i,n){const r=t.x-n.x,s=t.y-n.y,o=n.x-i.x,a=i.y-n.y,l=a*r+o*s,h=(n.y-e.y)*r+(e.x-n.x)*s,c=a*(e.x-n.x)+o*(e.y-n.y);return c<0?l<=0&&h<=0&&l+h>=c:l>=0&&h>=0&&l+h<=c}function Co(t,e,i){return En(Math.cos(i)*(t.x-e.x)+Math.sin(i)*(t.y-e.y)+e.x,-Math.sin(i)*(t.x-e.x)+Math.cos(i)*(t.y-e.y)+e.y)}function Mo(t,e){return En(t.x-e.x,t.y-e.y)}function To(t){const e=Fo(t);return 0===e?En(0,0):En(t.x/e,t.y/e)}function Po(t,e){let i={x:e.x-t.x,y:e.y-t.y};i=To(i);const n=Math.PI/2,r=i.x;return i.x=-Math.sin(n)*i.y,i.y=r*Math.sin(n),i}function Fo(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function Lo(t,e){return En(t.x*e,t.y*e)}function Ro(t,e){return En(t.x+e.x,t.y+e.y)}function Bo(t,e){return En(t.x-e.x,t.y-e.y)}function zo(t,e){return En(t.x*e.x,t.y*e.y)}function Io(t,e){return En(t.x/e.x,t.y/e.y)}function Do(t){return Lo(t,-1)}function Vo(t,e){return t.x*e.x+t.y*e.y}const _o=(t,e,i)=>{const n=(i.y-e.y)/(i.x-e.x),r=e.y+(t-e.x)*n;return En(t,r)};function No(t){return t*Math.PI/180}function Oo(t){return 180*Math.atan2(t.y,t.x)/Math.PI}function Ho(t){return En(Math.cos(t),Math.sin(t))}const Uo=(t,e)=>{const i=t.length,n=e.length,r=new Uint16Array(i+n);return r.set(t,0),r.set(e,i),r};class Yo extends er{constructor(t,e,i,n){super(t,e,i,n),this.hs={internal:10,function:Go(10),number:10},this.U=1e3,this.H(1,1e3),this.Ht=this.rs()}st(t,e,i,n,r){if(t===e)return!1;const s=Math.min(t,e)<Xo,o=Math.max(t,e)>Wo;return!s&&!o||!!r&&(e>t?{start:s?Xo:t,end:o?Wo:e}:{start:o?Wo:t,end:s?Xo:e})}Bt(t){const e=this.bt(),i=this.xt(),n=Math.max(t,Xo);return e+(this.hs.function(n)-this.Ht.scaleStartLog)/this.Ht.scaleIntervalLog*(i-e)}Dt(t){const e=this.bt(),i=(t-e)/(this.xt()-e),n=this.Ht.scaleStartLog+i*this.Ht.scaleIntervalLog;return this.hs.number**n}Tt(){this.hs&&this.rs()}H(t,e){return super.H(t,e),this.hs&&this.rs(),this}St(t){return super.St(t),this.hs&&this.rs(),this}X(t){return super.X(t),this.hs&&this.rs(),this}ns(t){return this.hs={internal:t,function:Go(t),number:jo(t)},this}ls(){return this.hs.internal}Jt(t,e){const i=this.Bt(t)+e;return this.Dt(i)}Lt(){return this.rt||this.et||this.ot||this.ht}rs(){const t=this.hs.function(this.G),e=this.hs.function(this.$)-t,i=2*this.bt()/this.U-1,n=2*this.xt()/this.U-1-i;return this.Ht={scaleStartLog:t,scaleIntervalLog:e,viewportStart:i,viewportSize:n},this.Ht}jt(){return this.Ht}}const Go=t=>"e"===t?ks:ws(t),jo=t=>"e"===t?Math.E:t,Xo=.9*10**-20,Wo=1.1*10**25,Zo=[{prefix:"T",unit:10**12},{prefix:"B",unit:10**9},{prefix:"M",unit:1e6},{prefix:"K",unit:1e3}],qo=(t,e,i)=>{const n=Math.abs(i-e);if(0===n)return t.toFixed(0);const r=Math.max(2-lo(n,10),0);return t.toFixed(r)},Jo={Numeric:(t,e)=>{const{start:i,end:n}=e;return qo(t,i,n)},NumericUnits:(t,e)=>{const{start:i,end:n}=e,r=Math.abs(n-i),s=t<0;t=Math.abs(t);let o="",a="";if(r>=1e3&&t>1e3){let e="";for(const i of Zo){const n=Math.round(1e3*t/i.unit)/1e3;if(n>=1){e=n.toString(),a=i.prefix;break}}o=(s?"-":"")+e}else{let e=String(Math.floor(t));const i=lo(t,1e3);for(let t=1;t<=i;t+=1){const i=e.length-(3*t+(t-1));e="".concat(e.substring(0,i)," ").concat(e.substring(i,e.length))}o=(s?"-":"")+e+(r<=10?((t,e)=>{if(0===e)return"";let i=(Math.abs(t)-Math.abs(Math.floor(t))).toString().substring(1);return i.length>e&&(i=i.substring(0,e+1)),i})(t,2-lo(r,10)):"")}return o+=a,o},LogarithmicExponentsRounded:function(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;const r=Go(n)(t);return"".concat(n).concat(Ko(r))},LogarithmicExponents:function(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;const r=Go(n),s=Math.floor(r(t)),o=t/jo(n)**s;return"".concat(Math.round(o),"\xd7").concat(n).concat(Ko(s))},LogarithmicExtreme:function(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;const r=Go(n),s=Math.floor(r(t));return"".concat((t/jo(n)**s).toFixed(2),"\xd7").concat(n).concat(Ko(s))},LogarithmicNoExponents:function(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;const r=Go(n);if("e"===n)return"".concat(Math.floor(r(t)),"e");const s=t.toString();if(t>1)return s;const o=Math.floor(r(t));return t.toFixed(Math.abs(o))},Scientific:(t,e)=>{const{start:i,end:n}=e,r=Math.max(Math.abs(i),Math.abs(n)),s=Math.floor(Math.log10(r));return 0===t?"0.00e".concat(s<0?"":"+").concat(s):t.toExponential(2)}},Ko=t=>Math.round(t).toString().split("").map((t=>{switch(t){case"0":return"\u2070";case"1":return"\xb9";case"2":return"\xb2";case"3":return"\xb3";case"4":return"\u2074";case"5":return"\u2075";case"6":return"\u2076";case"7":return"\u2077";case"8":return"\u2078";case"9":return"\u2079";case"-":return"\u207b";default:return t}})).join(""),Qo=(t,e)=>t.value-e.value,$o=gn({type:"lut",steps:[],title:"",units:"",interpolate:!0,color:Vn(0,0,0,255),length:0,min:0,max:0,subranges:[],isValid:!1,percentageValues:!1,formatter:(t,e)=>e.percentageValues?"".concat((100*t).toFixed(0),"%"):qo(t,e.min,e.max)}),ta=t=>{const{steps:e}=t,i=e.length;e.sort(Qo);const[n,r]=i>0?[e[0].value,e[i-1].value]:[0,0],s=i>0?i-1:0,o=Array(s);for(let a=0;a<s;a+=1)o[a]={min:e[a],max:e[a+1]};return{min:n,max:r,length:i,steps:e,subranges:o,isValid:i>0&&n!==r}};const ea=(t,e)=>t.formatter(e,{min:t.min,max:t.max,percentageValues:t.percentageValues}),ia=gn({type:"fillstyle",fillType:"empty"});const na=new class extends ia{toString(){return"emptyFill"}toCSS(){return"transparent"}},ra=t=>!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"empty"===t.fillType),sa=gn({type:"fillstyle",fillType:"solid",color:Vn(255,255,255)});class oa extends sa{}class aa extends oa{constructor(t){super({...t,fillType:"solid"})}toString(){return"solidFill:".concat(this.color.toString())}toCSS(){return this.color.toRGBAString()}setColor(t){return Dn(t)?this.set("color",t):this.set("color",t(this.get("color")))}getColor(){return this.get("color")}setA(t){return this.setColor(this.getColor().setA(t))}setR(t){return this.setColor(this.getColor().setR(t))}setG(t){return this.setColor(this.getColor().setG(t))}setB(t){return this.setColor(this.getColor().setB(t))}}const la=t=>!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"solid"===t.fillType);class ha extends oa{constructor(t){super({...t,fillType:"individual"})}toString(){return"individualPointFill:".concat(this.color.toString())}toCSS(){return this.getFallbackColor().toRGBAString()}setFallbackColor(t){return Dn(t)?this.set("color",t):this.set("color",t(this.get("color")))}getFallbackColor(){return this.get("color")}}const ca=t=>!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"individual"===t.fillType),ua=gn({type:"fillstyle",fillType:"palette",lut:new class extends $o{constructor(t){super(((t,e)=>({steps:t.steps,title:t.title,units:t.units,interpolate:t.interpolate,percentageValues:t.percentageValues,color:t.color,formatter:t.formatter,length:e.length,min:e.min,max:e.max,subranges:e.subranges,isValid:e.isValid}))(t,ta(t)))}toString(){return"LUT:interpolate=".concat(this.interpolate,",steps=").concat(this.steps.length,",percentage=").concat(this.percentageValues)}setSteps(t){return this.merge(ta({...this,steps:t}))}getSteps(){return this.get("steps")}setTitle(t){return this.set("title",t)}getTitle(){return this.get("title")}setUnits(t){return this.set("units",t)}getUnits(){return this.get("units")}setInterpolation(t){return this.set("interpolate",t)}getInterpolation(){return this.get("interpolate")}setFallbackColor(t){return this.set("color",t)}getFallbackColor(){return this.get("color")}setPercentageValues(t){return this.set("percentageValues",t)}getPercentageValues(){return this.get("percentageValues")}setFormatter(t){return this.set("formatter",t)}getFormatter(){return this.get("formatter")}getColors(t,e){if(Array.isArray(t)){if(Array.isArray(t[0])){const i=t,n=i.length,r=i[0].length,s=[...Array(n)].map((()=>Array(r)));for(let t=0;t<n;t+=1)for(let n=0;n<r;n+=1)s[t][n]=this.cs(i[t][n],e);return s}const i=t,n=i.length,r=Array(n);for(let t=0;t<n;t+=1)r[t]=this.cs(i[t],e);return r}return this.cs(t,e)}cs(t,e){const{steps:i}=this,n=i.length;if(0===n)return this.getFallbackColor();if(1===n)return i[0].color||this.color;if(this.percentageValues,this.percentageValues&&e&&(t=Math.max(Math.min((t-e.min)/(e.max-e.min),1),0)),this.interpolate){for(let e=0;e<n-1;e+=1){const n=i[e],a=i[e+1],l=Math.min(n.value,a.value),h=Math.max(n.value,a.value);if(t>=l&&t<=h){if(l===h)return n.color;const e=(t-n.value)/(a.value-n.value);return r=n.color,s=a.color,o=e,new In({r:r.r+(s.r-r.r)*o,g:r.g+(s.g-r.g)*o,b:r.b+(s.b-r.b)*o,a:r.a+(s.a-r.a)*o})}}return t<i[0].value?i[0].color:i[n-1].color}var r,s,o;for(let a=n-1;a>=0;a-=1)if(t>=i[a].value)return i[a].color;return i[0].color}}({steps:[]}),lookUpProperty:"value"});class da extends ua{constructor(t){super({...t,fillType:"palette"})}toString(){return"palettedFill:lut=".concat(this.lut.toString(),",lookUpProperty=").concat(this.lookUpProperty)}toCSS(){return"linear-gradient(".concat(this.lut.getSteps().map((t=>t.color.toRGBAString())).join(", "),")")}getPalette(){return this.get("lut")}setLookUpProperty(t){return"function"==typeof t?this.set("lookUpProperty",t(this.get("lookUpProperty"))):this.set("lookUpProperty",t)}getLookUpProperty(){return this.get("lookUpProperty")}}const fa=t=>!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"palette"===t.fillType),ga=(t,e)=>t instanceof Yo||e instanceof Yo?(new or).Qt(t,e):(new sr).Qt(t,e),pa=t=>"client"===t,ma=t=>!!(t&&"object"==typeof t&&"clientX"in t&&"number"==typeof t.clientX&&"clientY"in t&&"number"==typeof t.clientY),ya=t=>"relative"===t,va=t=>!!(t&&"object"==typeof t&&"x"in t&&"number"==typeof t.x&&"y"in t&&"number"==typeof t.y),xa=(t,e,i,n)=>{let r,s,o=Number.MAX_VALUE;for(let a=0;a<e.length;a+=1){const l=e[a],h=i(l,t);if(h){const e=n(t,h);(void 0===r||e<o)&&(r=h,s=l,o=e)}}return r&&s?[r,s]:void 0},ba=(t,e,i,n,r,s)=>{if(!t)return;let o=t;const a="button"in i?i:void 0;if(a)if(0===a.button){if(!1===t.lmb)return;void 0!==t.lmb&&(o=Yr(o,t.lmb))}else if(1===a.button){if(!1===t.mmb)return;void 0!==t.mmb&&(o=Yr(o,t.mmb))}else if(2===a.button){if(!1===t.rmb)return;void 0!==t.rmb&&(o=Yr(o,t.rmb))}if(n){if(!1===t.shift)return;o=Yr(o,t.shift)}if(r){if(!1===t.ctrl)return;o=Yr(o,t.ctrl)}if(s){if(!1===t.alt)return;o=Yr(o,t.alt)}if(!e)return o;const l=o[e];return l?!0===l?o:Yr(o,l):void 0},Sa=t=>{const e=[];return{push:t=>{e.push(t)},end:()=>{e.length>1&&t&&jr.console.warn("LightningChart JS warning | event handler triggered more than 1 interaction.\nThis likely means that your `chart.setUserInteractions` configuration either enables conflicting interactions or more likely doesn't disable conflicting default interactions."),e.forEach((t=>t()))}}},Aa=(t,e,i)=>{if(t){const t={x:i.x.bt(),y:i.y.bt(),width:i.x.Mt(),height:i.y.Mt()};e.forEach((e=>{e.us=t}))}else e.forEach((t=>{t.us=void 0}))},Ea=(t,e)=>{var i;return e?"string"==typeof e?"".concat(t," ").concat(e):!1!==(null===(i=e.ds)||void 0===i?void 0:i.displayInCursor)&&e.getUnits()?"".concat(t," ").concat(e.getUnits()):t:t},wa=t=>{let e=!1,i={type:"linear"};if(t&&(void 0!==t.opposite&&(e=t.opposite),t.type&&"linear-highPrecision"===t.type&&(i={type:"linear-highPrecision"}),t.type&&"logarithmic"===t.type)){let n=10;if(t.base)if("E"===t.base||"e"===t.base||"natural"===t.base)n="e";else if("number"==typeof t.base)n=t.base;else if("string"==typeof t.base)try{n=Number(t.base)}catch(e){console.warn('Unidentified logarithmic base "'.concat(t.base,'"'))}i={base:n,type:"logarithmic"}}return{opposite:e,type:i}},ka=function(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Qr(t+.1*n*(e-t)+.5*n*Math.abs(i.getPixelSize())*Math.sign(e-t),t,e)},Ca=function(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const r=i.Bt(t),s=i.Bt(e);return Qr(i.Dt(r+.1*n*(s-r)+.5*n*Math.sign(s-r)),t,e)};var Ma,Ta;!function(t){t[t.noHighlighting=0]="noHighlighting",t[t.onHover=1]="onHover",t[t.onHoverIndividual=2]="onHoverIndividual"}(Ma||(Ma={}));class Pa{constructor(t,e,i,n){this.fs=Ma.onHover,this.ci=!1,this.ui=!0,this.As=[],this.gs=t,this.vs=e,this.bi=i,this.ys=new Map,this.ps=n,this.Ss=this.ps.bs(this,{xs:{themeEffectEnabled:this.bi.effectsText},Ms:{}}),this.gs.gi._s.ws(this,(t=>{this.ys.forEach(((e,i)=>i.Fi(t))),this.As.forEach((e=>e.Fi(t)))}),{animationEnabled:this.gs.getAnimationsEnabled()}),jr.requestAnimationFrame((()=>{this.ci||(this.addEventListener("pointerenter",(()=>{this.fs===Ma.onHover&&this.setHighlight(!0)})),this.addEventListener("pointerleave",(()=>{this.fs===Ma.onHover&&this.setHighlight(!1)})))}))}ks(){}Cs(t,e){const i=void 0===(null==e?void 0:e.setEventHandlers)||e.setEventHandlers,n=void 0!==(null==e?void 0:e.pointerEventsDisabled)&&e.pointerEventsDisabled,r=void 0!==(null==e?void 0:e.isText)&&e.isText;this.ys.set(t,{isText:r,pointerEventsDisabled:n});const s=Array.from(this.ys);this.Ss.xs.Ts(s.filter((t=>t[1].isText)).map((t=>t[0]))),this.Ss.Ms.Ts(s.filter((t=>!t[1].isText)).map((t=>t[0]))),t.setVisible(this.ui).Fi(this.gs.gi._s.Fs(this,!0)),jr.requestAnimationFrame((()=>{this.ci||t.isDisposed()||(t.setPointerEvents(!0!==(null==e?void 0:e.pointerEventsDisabled)&&this.getPointerEvents()),i&&this.L.Vi(t,{getExtraData:(t,e,i)=>this.Ki(i,t,e)}))}));const o=e=>{t.removeEventListener("dispose",o),this.ys.delete(t)};t.addEventListener("dispose",o)}Is(t){this.As=t;const e=this.gs.gi._s.Fs(this,!0);t.forEach((t=>{t.Fi(e).Ps(this.ui)}))}Ki(t,e,i){}Ls(t){const e=this.gs.gi.Bs(t);if(e&&Array.from(this.ys.keys()).includes(e.entity))return this.Ki(e.info,t,e.collectionMember)}setEffect(t){return this.Ss.xs.Ds(t&&this.bi.effectsText),this.Ss.Ms.Ds(t),this.gs.gi.Rs(),this}getEffect(){return this.Ss.xs.Es()||this.Ss.Ms.Es()}setIcon(t){return this.Os=t,this.gs.gi.Rs(),this}getIcon(){return this.Os}setName(t){return this.zs=t,this}getName(){return this.zs||"Component"}dispose(){return this.ci||(this.ci=!0,this.ys.forEach(((t,e)=>e.dispose())),this.vs(this),this.L.D("dispose",{}),this.gs.legend.remove(this),this.gs.gi.Rs()),this}setVisible(t){return t===this.ui||(this.ui=t,this.ys.forEach(((e,i)=>i.setVisible(t))),this.As.forEach((e=>e.Ps(t))),this.L.D("visiblechange",{isVisible:t}),this.gs.Vs.forEach((t=>t.Ns())),this.gs.gi.Rs()),this}getVisible(){return this.ui}setHighlight(t){return this.gs.gi._s.Gs(this,t),this.L.D("highlightchange",{highlight:Hs(t)}),this}getHighlight(){return this.gs.gi._s.Fs(this)}setAnimationHighlight(t){return this.gs.gi._s.$s(this,t),this}getAnimationHighlight(){return this.gs.gi._s.Us(this)}setPointerEvents(t){return this.L.setPointerEvents(t),this}getPointerEvents(){return this.L.getPointerEvents()}getPointed(){if(!this.gs.gi.Ys())return!1;for(const t of this.ys)if(this.gs.gi.js(t[0]))return!0;for(const t of this.As)if(this.gs.gi.js(void 0,t))return!0;return!1}setHighlightOnHover(t){return this.fs="boolean"==typeof t?t?Ma.onHover:Ma.noHighlighting:t,this.fs===Ma.noHighlighting&&this.getHighlight()>0&&this.setHighlight(!1),this}getHighlightOnHover(){return this.fs!==Ma.noHighlighting}Hs(){}Ws(){return this.Os}isDisposed(){return this.ci}set draggable(t){this.L.draggable=t}get draggable(){return this.L.draggable}}class Fa extends Pa{constructor(t,e,i,n,r,s,o,a){super(e,i,o,a),this.Xs=!0,this.Zs=t,this.axis=n,this.oi=r,this.Js=s,jr.requestAnimationFrame((()=>this.Qs()))}setClipping(t){return this.Xs=t,this.Zs.Rs(),this}getClipping(){return this.Xs}}!function(t){t[t.Other=0]="Other",t[t.CursorResultTable=1]="CursorResultTable",t[t.CursorTickMarker=2]="CursorTickMarker",t[t.ChartTitle=3]="ChartTitle",t[t.AxisTitle=4]="AxisTitle"}(Ta||(Ta={}));const La=t=>"object"==typeof t&&null!==t&&"setCornerRadius"in t;var Ra;!function(t){t[t.Square=0]="Square",t[t.Circle=1]="Circle",t[t.HollowCircle=2]="HollowCircle",t[t.Triangle=3]="Triangle",t[t.Cross=4]="Cross",t[t.Diamond=5]="Diamond",t[t.Plus=6]="Plus",t[t.Minus=7]="Minus",t[t.Arrow=8]="Arrow",t[t.Star=9]="Star"}(Ra||(Ra={}));const Ba=t=>"ProgressiveX"===t||"RegressiveX"===t?"x":"y",za=t=>"ProgressiveX"===t||"ProgressiveY"===t,Ia=(t,e,i)=>t*(1-i)+e*i,Da=(t,e,i,n,r)=>{if(void 0===e.value||void 0===i.value||void 0===n.value||void 0===r.value)return;const s=(t.x-i.point.x)/(r.point.x-i.point.x),o=(r.point.y-i.point.y)*s+i.point.y,a=(t.x-e.point.x)/(n.point.x-e.point.x),l=(n.point.y-e.point.y)*a+e.point.y,h=(t.y-l)/(o-l),c=Ia(i.value,r.value,s),u=Ia(e.value,n.value,a);return Ia(u,c,h)};class Va{constructor(){this.type="simple"}}const _a=new Va;class Na{constructor(t){this.type="phong",this.ambientReflection=1,this.specularReflection=.1,this.diffuseReflection=1,this.ambientColor=_n("#000"),this.specularColor=_n("#fff"),this.shininess=32,t&&(this.ambientReflection=Number.isNaN(Number(t.ambientReflection))?this.ambientReflection:Number(t.ambientReflection),this.specularReflection=Number.isNaN(Number(t.specularReflection))?this.specularReflection:Number(t.specularReflection),this.diffuseReflection=Number.isNaN(Number(t.diffuseReflection))?this.diffuseReflection:Number(t.diffuseReflection),this.ambientColor=t.ambientColor||this.ambientColor,this.specularColor=t.specularColor||this.specularColor,this.shininess=t.shininess||this.shininess)}}const Oa=new Na,Ha=Va,Ua=gn({type:"font",size:14,family:"Arial",weight:"normal",style:"normal",variant:!1});class Ya extends Ua{constructor(t){super(t)}setSize(t){return this.set("size",t)}setFamily(t){return this.set("family",t)}setWeight(t){return this.set("weight",t)}setStyle(t){return this.set("style",t)}setVariant(t){return this.set("variant",t)}getSize(){return this.get("size")}getFamily(){return this.get("family")}getWeight(){return this.get("weight")}getStyle(){return this.get("style")}getVariant(){return this.get("variant")}}const Ga=t=>!(!t||"object"!=typeof t||!("type"in t)||"font"!==t.type),ja=new Ya,Xa=new class{getFillStyle(){return na}},Wa=gn({type:"triangulated-points-3d",shape:"sphere",size:10,fillStyle:new aa,wireframeStyle:Br});class Za extends Wa{constructor(t){super(t)}setSize(t){return this.set("size",t)}getSize(){return this.get("size")}setFillStyle(t){return"function"==typeof t?this.set("fillStyle",t(this.get("fillStyle"))):this.set("fillStyle",t)}getFillStyle(){return this.get("fillStyle")}setWireframeStyle(t){return"function"==typeof t?this.set("wireframeStyle",t(this.get("wireframeStyle"))):this.set("wireframeStyle",t)}getWireframeStyle(){return this.get("wireframeStyle")}setShape(t){return this.set("shape",t)}getShape(){return this.get("shape")}}const qa=t=>!(!t||"object"!=typeof t||!("type"in t)||"triangulated-points-3d"!==t.type),Ja=gn({type:"pixelated-points-3d",size:5,fillStyle:new aa});const Ka=t=>!(!t||"object"!=typeof t||!("type"in t)||"pixelated-points-3d"!==t.type),Qa={Triangulated:Za,Pixelated:class extends Ja{constructor(t){super(t)}setSize(t){return this.set("size",t)}getSize(){return this.get("size")}setFillStyle(t){return"function"==typeof t?this.set("fillStyle",t(this.get("fillStyle"))):this.set("fillStyle",t)}getFillStyle(){return this.get("fillStyle")}}},$a=gn({type:"linestyle",lineType:"solid",fillStyle:new aa({color:Vn(255,255,255)}),thickness:1});class tl extends $a{constructor(t){super({...t,lineType:"solid"})}setFillStyle(t){return"function"==typeof t?this.set("fillStyle",t(this.getFillStyle())):this.set("fillStyle",t)}getFillStyle(){return this.get("fillStyle")}setThickness(t){return"function"==typeof t?this.set("thickness",t(this.getThickness())):this.set("thickness",t)}getThickness(){return this.get("thickness")}Hi(){const t=this.getThickness();return t<0?1:t}}const el=t=>!(!t||"object"!=typeof t||!("lineType"in t)||"solid"!==t.lineType),il={Dotted:[1,3],DottedDense:[1,1],Dashed:[3,1],DashedEqual:[2,2],DashedLoose:[2,4],DashDotted:[3,2,1,2]},nl=gn({type:"linestyle",lineType:"dashed",pattern:il.DashedEqual,fillStyle:new aa({color:Vn(255,255,255)}),thickness:1,patternScale:3});class rl extends nl{constructor(t){super({...t,lineType:"dashed"})}setFillStyle(t){return"function"==typeof t?this.set("fillStyle",t(this.getFillStyle())):this.set("fillStyle",t)}getFillStyle(){return this.get("fillStyle")}setThickness(t){return"function"==typeof t?this.set("thickness",t(this.getThickness())):this.set("thickness",t)}getThickness(){return this.get("thickness")}Hi(){const t=this.getThickness();return t<0?1:t}setPattern(t){return"function"==typeof t?this.set("pattern",t(this.getPattern())):this.set("pattern",t)}getPattern(){return this.get("pattern")}setPatternScale(t){return"function"==typeof t?this.set("patternScale",t(this.getPatternScale())):this.set("patternScale",t)}getPatternScale(){return this.get("patternScale")}}const sl=t=>!(!t||"object"!=typeof t||!("lineType"in t)||"dashed"!==t.lineType),ol=gn({type:"icon",width:void 0,height:void 0,Ks:void 0,qs:Jr,te:Jr});class al extends ol{constructor(t,e,i,n){super({...n,Ks:t,qs:e,te:i})}dispose(){return this.te(this),this}setWidth(t){const e=this.set("width",t);return this.qs(e),e}getWidth(){return this.get("width")}setHeight(t){const e=this.set("height",t);return this.qs(e),e}getHeight(){return this.get("height")}setSize(t,e){const i=this.withMutations((i=>{i.set("width",t).set("height",e)}));return this.qs(i),i}_t(){if(!this.Ks)return{x:0,y:0};const t=this.Ks.width,e=this.Ks.height;if(0===t||0===e)return{x:0,y:0};const i=this.width,n=this.height;return"number"==typeof i&&"number"==typeof n?{x:i,y:n}:"number"==typeof i?{x:i,y:e*i/t}:"number"==typeof n?{x:t*n/e,y:n}:{x:t,y:e}}}const ll=t=>!(!t||"object"!=typeof t||!("type"in t)||"icon"!==t.type),hl=gn({type:"glow",color:Vn(255,255,255,50),spread:1,blur:4,offset:{x:0,y:0}});class cl extends hl{constructor(t){super(t)}setSpread(t){return this.set("spread","function"==typeof t?t(this.get("spread")):t)}getSpread(){return this.get("spread")}setBlur(t){return this.set("blur","function"==typeof t?t(this.get("blur")):t)}getBlur(){return this.get("blur")}setColor(t){return this.set("color","function"==typeof t?t(this.get("color")):t)}getColor(){return this.get("color")}setOffset(t){return this.set("offset","function"==typeof t?t(this.get("offset")):t)}getOffset(){return this.get("offset")}}class ul extends rr{constructor(){super(...arguments),this.ei="RadialScale",this.ie={start:0,end:1},this.se=!1,this.ee=0,this.U=En(0,0),this.he=[0,0],this.re=[0,0],this.o=!0,this.It=!0,this.ne=!0,this.oe=!0,this.ae={x:0,y:0},this.Ht={x:{displacement:0,scaling:0,highPrecisionOffset:0},y:{displacement:0,scaling:0,highPrecisionOffset:0}}}le(t,e){return t===this.ie.start&&e===this.ie.end||(this.ie={start:t,end:e},this.ne=!0,this.ce()),this}ue(){return this.ie}de(){return this.ie.end>=this.ie.start}fe(t){this.se=t,this.oe=!0}Ae(){return!1===this.se}ge(t){this.ee=t,this.oe=!0}ve(){return this.ee}Lt(){return this.It}Ot(){return!1}hi(t,e,i,n){return this.x=new ir(t.x,e.x,i.x,n?n.x:void 0),this.y=new ir(t.y,e.y,i.y,n?n.y:void 0),this}jt(){return this.Ht}ye(){return this.ne}pe(){return this.oe}ri(){return this.ae}Y(){return this.o=!1,this.It=!1,this.ne=!1,this.oe=!1,this}j(){return this.o=!0,this.It=!0,this.ne=!0,this.oe=!0,this}X(t,e){return"object"==typeof t?(this.U.x=t.x,this.U.y=t.y):(this.U.x=t,this.U.y=e),this.ce(),this}Kt(t){return this.he=t,this.ce(),this}qt(t){return this.re=t,this.ce(),this}wt(){return En(this.he[0]+this.he[1],this.re[0]+this.re[1])}_t(){return this.U}ce(){const t=this.ie,e=En(this.x.kt(this.U.x),this.y.kt(this.U.y)),i=this.he[0]+this.he[1],n=this.re[0]+this.re[1],r=Math.max(e.x-i,0),s=Math.max(e.y-n,0),o=.5*(r>s?s:r),a=[this.he[0]+Math.max((r-2*o)/2,0),this.he[1]+Math.max((r-2*o)/2,0)],l=[this.re[0]+Math.max((s-2*o)/2,0),this.re[1]+Math.max((s-2*o)/2,0)],h=Math.abs(t.end-t.start);this.x.X(this.U.x).St(a).H(-h,h),this.y.X(this.U.y).St(l).H(-h,h),this.ae={x:this.x.getPixelSize(),y:this.y.getPixelSize()},this.Ht={x:this.x.jt(),y:this.y.jt()},this.j()}Jt(t,e){const i=this.ri();return{x:t.x+e.x*i.x,y:t.y+e.y*i.y}}ni(t,e,i,n){const r=this.ri(),s=Po(t,e);return s.x*=n,s.y*=n,{x:t.x+i*r.x*s.x,y:t.y+i*r.y*s.y}}}const dl=t=>{if(t instanceof sr||t instanceof ul)return t.Ot()?"linear-highPrecision":"linear";if(t instanceof or){const e={};return t.x instanceof Yo&&(e.x={base:t.x.ls()}),t.y instanceof Yo&&(e.y={base:t.y.ls()}),["logarithmic",e]}return"linear"},fl=(t,e,i)=>{if(0===i||360===i||180===i||i%180==0)return{x:t,y:e};if(90===i||-90===i||(i+90)%180==0)return{x:e,y:t};const n=i*Math.PI/180,r=Math.cos(n),s=Math.sin(n);return{x:Math.abs(t*r)+Math.abs(e*s),y:Math.abs(t*s)+Math.abs(e*r)}},gl=t=>{const e=Object.keys(t),i={};return e.forEach((e=>{const n=t[e];let r=!1;i[e]=t=>{if(!t)return r;const e=n();return r=e,e}})),i},pl=(t,e,i)=>"value"===t.getLookUpProperty()?i:"x"===t.getLookUpProperty()?{min:e.Wi(),max:e.Xi()}:"y"===t.getLookUpProperty()?{min:e.Zi(),max:e.Ji()}:"z"===t.getLookUpProperty()?{min:e.me(),max:e.Se()}:void 0,ml=t=>!(!t||"value"!==t.lookUpProperty||!t.lut.percentageValues);class yl{constructor(t,e){this.be=t,this.xe=e,this.Me=e.rows*Xl,this.we=e.columns*Wl}}var vl,xl;!function(t){t[t.ZoomIn=0]="ZoomIn",t[t.ZoomInX=1]="ZoomInX",t[t.ZoomInY=2]="ZoomInY",t[t.ZoomOut=3]="ZoomOut",t[t.ZoomOutX=4]="ZoomOutX",t[t.ZoomOutY=5]="ZoomOutY",t[t.ZoomToFit=6]="ZoomToFit",t[t.ToggleAnimations=7]="ToggleAnimations"}(vl||(vl={})),function(t){t[t.Circle=0]="Circle",t[t.Rectangle=1]="Rectangle",t[t.RoundedRectangle=2]="RoundedRectangle"}(xl||(xl={}));const bl={x:-43,y:0},Sl={x:-65,y:0},Al={x:-86,y:0},El={x:-107,y:-1},wl={x:-128,y:-3},kl={x:-150,y:0},Cl={x:-171,y:0},Ml={x:-276,y:0},Tl={x:-298,y:0},Pl={x:0,y:0},Fl={x:-21,y:0};class Ll extends yl{constructor(t,e,i,n){super(t,i),this._e=jr.document.createElement("button"),this.ke=jr.document.createElement("div"),this.Ce=jr.document.createElement("label"),this.xe=i,this.Te=e,this.gs=n}Fe(t,e,i,n){this.Ie(t,n),this.Pe(),this.Le(e),this.Be(),this.Ce.textContent=i||"";const r=jr.document.createElement("div");this.De(r),this._e.onclick=this.onClick.bind(this),r.appendChild(this.ke),r.appendChild(this.Ce),this._e.appendChild(r)}Be(){this._e.style.cursor="pointer"}De(t){t.style.display="flex",t.style.justifyContent="center",t.style.alignContent="center",t.style.flexDirection="column"}Le(t){"string"==typeof t?(this.ke.style.backgroundImage="url(".concat(t,")"),this.ke.style.backgroundSize="100%",this.ke.style.backgroundRepeat="no-repeat",this.ke.style.backgroundPosition="center",this.ke.style.width="20px",this.ke.style.height="20px"):this.applyStyleForSprite(t),this.ke.style.margin="auto"}Pe(){switch(this.Te){case xl.RoundedRectangle:this._e.style.borderRadius="10px";break;case xl.Rectangle:this._e.style.borderRadius="0px";break;case xl.Circle:default:this._e.style.borderRadius="31px"}}Ie(t,e){this._e.style.width="".concat(this.we.toString(),"px"),this._e.style.height="".concat(this.Me.toString(),"px"),this._e.style.backgroundColor=t,this._e.style.opacity=e||Zl,this._e.style.alignItems="center",this._e.style.border="2px solid #707070",this._e.style.transition="background-color .8s ease"}applyStyleForSprite(t){this.ke.style.backgroundImage="url(".concat(this.be,"/").concat(ql,")"),this.ke.style.backgroundPositionX="".concat(t.x,"px"),this.ke.style.backgroundPositionY="".concat(t.y,"px"),this.ke.style.backgroundSize="1600%",this.ke.style.backgroundRepeat="no-repeat",this.ke.style.width="20px",this.ke.style.height="20px"}Re(t){return t.appendChild(this._e),t}Ee(){return this._e}}class Rl extends Ll{constructor(t,e,i,n){super(t,e,i,n),this.Oe="",this.ze="",this.Ve=!1,this.gs=n}Ne(){this.Ge(),this.onToggledStateAction()}$e(){this.Ue(),this.onInitialStateAction()}Ue(){this.Ye(this.Oe)}Ge(){this.Ye(this.ze)}Ye(t){"string"==typeof t?this.ke.style.background=t:(this.ke.style.backgroundImage="url(".concat(this.be,"/").concat(ql,")"),this.ke.style.backgroundPositionX="".concat(t.x,"px"),this.ke.style.backgroundPositionY="".concat(t.y,"px"))}onClick(){this.Ve?this.$e():this.Ne(),this.Ve=!this.Ve}}class Bl extends Ll{constructor(t,e,i){super(t,i,{rows:1,columns:1},e),this.gs=e;const n=this.gs.getTheme();this.Fe(n.onScreenMenuBackgroundColor.toRGBAString(),bl)}onClick(){const t=this.gs.je();t&&this.gs.zoom(t,{x:-1,y:-1})}}class zl extends Ll{constructor(t,e,i){super(t,i,{rows:1,columns:1},e),this.gs=e;const n=this.gs.getTheme();this.Fe(n.onScreenMenuBackgroundColor.toRGBAString(),El)}onClick(){const t=this.gs.je();t&&this.gs.zoom(t,{x:-1,y:0})}}class Il extends Ll{constructor(t,e,i){super(t,i,{rows:1,columns:1},e),this.gs=e;const n=this.gs.getTheme();this.Fe(n.onScreenMenuBackgroundColor.toRGBAString(),kl)}onClick(){const t=this.gs.je();t&&this.gs.zoom(t,{x:0,y:-1})}}class Dl extends Ll{constructor(t,e,i){super(t,i,{rows:1,columns:1},e),this.gs=e;const n=this.gs.getTheme();this.Fe(n.onScreenMenuBackgroundColor.toRGBAString(),Sl)}onClick(){const t=this.gs.je();t&&this.gs.zoom(t,{x:1,y:1})}}class Vl extends Ll{constructor(t,e,i){super(t,i,{rows:1,columns:1},e),this.gs=e;const n=this.gs.getTheme();this.Fe(n.onScreenMenuBackgroundColor.toRGBAString(),wl)}onClick(){const t=this.gs.je();t&&this.gs.zoom(t,{x:1,y:0})}}class _l extends Ll{constructor(t,e,i){super(t,i,{rows:1,columns:1},e),this.gs=e;const n=this.gs.getTheme();this.Fe(n.onScreenMenuBackgroundColor.toRGBAString(),Cl)}onClick(){const t=this.gs.je();t&&this.gs.zoom(t,{x:0,y:1})}}class Nl extends Rl{constructor(t,e,i){super(t,i,{rows:1,columns:1},e),this.gs=e;const n=this.gs.getTheme();this.Oe=Ml,this.ze=Tl,this.Fe(n.onScreenMenuBackgroundColor.toRGBAString(),this.Oe)}onToggledStateAction(){this.gs.setAnimationsEnabled(!1)}onInitialStateAction(){this.gs.setAnimationsEnabled(!0)}}class Ol extends Ll{constructor(t,e,i){super(t,i,{rows:1,columns:1},e),this.gs=e;const n=this.gs.getTheme();this.Fe(n.onScreenMenuBackgroundColor.toRGBAString(),Al)}onClick(){this.gs.forEachAxis((t=>{t.fit(!0)}))}}class Hl extends Ll{constructor(t,e,i){super(t,e.shape||Jl,e.dimensions||{rows:1,columns:1},i);const n=i.getTheme(),r=e.color||n.onScreenMenuBackgroundColor.toRGBAString(),s=e.icon||"",o=e.label||"",a=e.opacity||"";this.Fe(r,s,o,a),this.He=e.action}onClick(){this.He(this.gs)}}class Ul extends Rl{constructor(t,e,i,n){super(t,e,{rows:1,columns:1},i),this.gs=i,this.We=n,this.Oe=Fl,this.ze=Pl,this.Fe(Kl,this.Oe)}Ue(){this.Ye(this.Oe),this._e.style.backgroundColor=Kl,this._e.style.border="2px solid #707070",this._e.style.margin="0px"}Ge(){this.Ye(this.ze),this._e.style.background="#FECC00 0% 0% no-repeat padding-box",this._e.style.border="10px solid #BCBCBC12",this._e.style.margin="1px"}onToggledStateAction(){var t;null===(t=this.We)||void 0===t||t.style.setProperty("display","block")}onInitialStateAction(){var t;null===(t=this.We)||void 0===t||t.style.setProperty("display","none")}}var Yl;!function(t){t.Move="move",t.ResizeColumn="col-resize",t.ResizeRow="row-resize",t.Horizontal="ew-resize",t.Vertical="ns-resize",t.NorthWest="nw-resize",t.NorthEast="ne-resize",t.Copy="copy",t.CrossHair="crosshair",t.Default="default",t.Help="help",t.Restricted="not-allowed",t.None="none",t.Point="pointer",t.Text="text",t.Wait="wait",t.ZoomIn="zoom-in",t.ZoomOut="zoom-out"}(Yl||(Yl={}));const Gl={LeftBottom:En(-1,-1),CenterBottom:En(0,-1),RightBottom:En(1,-1),LeftCenter:En(-1,0),Center:En(0,0),RightCenter:En(1,0),LeftTop:En(-1,1),CenterTop:En(0,1),RightTop:En(1,1)},jl=new aa({color:Vn(255,255,255,0)}),Xl=(new tl({thickness:1,fillStyle:jl}),60),Wl=60,Zl="1.0",ql="osm/osm-sprite-transparent.png",Jl=xl.Circle,Kl="#363636";var Ql;!function(t){t[t.TopRight=0]="TopRight",t[t.TopLeft=1]="TopLeft",t[t.BottomLeft=2]="BottomLeft",t[t.BottomRight=3]="BottomRight"}(Ql||(Ql={}));class $l extends Fa{constructor(t,e,i,n,r,s,o,a){super(t,e,i,n,r,s,o,a),this.zs="Band",this.Xe=0,this.Ze=1,this.Je=this.bi.bandFillStyle,this.Qe=this.bi.bandStrokeStyle,this.L=new Er,this.Ke=this.Zs.ih(this.oi).th(this.Je).qe(this.Qe).Fi(this.getHighlight()),this.Cs(this.Ke)}setValueStart(t){return this.Xe=t,this.L.D("valuechange",{start:this.Xe,end:this.Ze}),this.Zs.Rs(),this}getValueStart(){return this.Xe}setValueEnd(t){return this.Ze=t,this.L.D("valuechange",{start:this.Xe,end:this.Ze}),this.Zs.Rs(),this}getValueEnd(){return this.Ze}setFillStyle(t){this.Je="function"==typeof t?t(this.Je):t;const e=this.Je;return this.Ke.th(e),this.Zs.Rs(),this}getFillStyle(){return this.Je}setStrokeStyle(t){this.Qe="function"==typeof t?t(this.Qe):t;const e=this.Qe;return this.Ke.qe(e),this.Zs.Rs(),this}getStrokeStyle(){return this.Qe}sh(){return this.Ke.eh(this.Js.toVec2(this.Xe,this.Js.getHeight(this.oi).getInnerStart())).X(this.Js.toVec2(this.Ze-this.Xe,this.Js.getHeight(this.oi).getInnerInterval())),Aa(this.Xs,[this.Ke],this.oi),this}hh(){return{fill:this.Je,stroke:this.Qe}}rh(t,e){t.Fi(e),this.Zs.Rs()}Qs(){let t,e,i;const n=(n,r,s)=>{const o=hr(this.Zs.gi.oh(n.clientX,n.clientY),this.Zs.gi.oi,this.oi),a=this.Js.getWidth(o),l=this.axis.oi.Bt(this.Xe),h=this.axis.oi.Bt(this.Ze),c=(this.axis.oi.Bt(a)-l)/(h-l);t=r&&(!(c<.1||c>.9)||!s),e=s&&!t,e&&(i=c<.5)},r=i=>{const r=this.getUserInteractions(),s=ba(r.move,"drag",i,i.shiftKey,i.ctrlKey,i.altKey),o=ba(r.scale,"drag",i,i.shiftKey,i.ctrlKey,i.altKey);n(i,!!(null==s?void 0:s.drag),!!(null==o?void 0:o.drag));const a=t?Yl.Point:e?this.Js.getWidth({x:Yl.Horizontal,y:Yl.Vertical}):Yl.Default;this.ah=this.gs.engine.setMouseStyle(a,this.ah)},s=t=>{this.ah=this.gs.engine.restoreMouseStyle(this.ah)};this.addEventListener("pointermove",r),this.addEventListener("pointerleave",s);const o=(n,r,s,o)=>{const a=this.Js.getWidth(n);if(t){this.Xe=this.axis.oi.Jt(this.Xe,a),this.Ze=this.axis.oi.Jt(this.Ze,a);const t=null==s?void 0:s.on;t&&t({event:r})}else if(e&&i){this.Xe=this.axis.oi.Jt(this.Xe,a);const t=null==o?void 0:o.on;t&&t({event:r})}else if(e&&!i){this.Ze=this.axis.oi.Jt(this.Ze,a);const t=null==o?void 0:o.on;t&&t({event:r})}ys(r),this.L.D("valuechange",{start:this.Xe,end:this.Ze}),this.Zs.Rs()};this.addEventListener("pointerdown",(i=>{const n=this.getUserInteractions(),a=ba(n.move,"drag",i,i.shiftKey,i.ctrlKey,i.altKey),l=ba(n.scale,"drag",i,i.shiftKey,i.ctrlKey,i.altKey);if(!(null==a?void 0:a.drag)&&t)return;if(!(null==l?void 0:l.drag)&&e)return;ys(i);let h=i;const c=t=>{if(t.pointerId!==i.pointerId)return;const e={x:t.clientX-h.clientX,y:h.clientY-t.clientY};o(e,t,a,l),h=t},u=t=>{t.pointerId===i.pointerId&&(this.addEventListener("pointermove",r),this.addEventListener("pointerleave",s),jr.removeEventListener("pointermove",c),jr.removeEventListener("pointerup",u),eo())};this.removeEventListener("pointermove",r),this.removeEventListener("pointerleave",s),jr.addEventListener("pointermove",c),jr.addEventListener("pointerup",u)}))}setUserInteractions(t){return this.uh=void 0===t?{move:!1,scale:!1}:t,this}getUserInteractions(){return Yr({move:{drag:!0},scale:{drag:!0}},this.uh)}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class th extends Fa{constructor(t,e,i,n,r,s,o,a){super(t,e,i,n,r,s,o,a),this.zs="Constant Line",this.S=0,this.Qe=this.bi.constantLineStrokeStyle,this.dh=!0,this.L=new Er,this.fh=this.Zs.gh(this.oi).Ah(this.Qe).Fi(this.getHighlight()),this.Cs(this.fh)}setValue(t){return this.S=t,this.L.D("valuechange",{value:this.S}),this.Zs.Rs(),this}getValue(){return this.S}setStrokeStyle(t){this.Qe="function"==typeof t?t(this.Qe):t;const e=this.Qe;return this.fh.Ah(e),this.Zs.Rs(),this}getStrokeStyle(){return this.Qe}sh(){return this.fh.ph(this.Js.toVec2(this.S,this.Js.getHeight(this.oi).getInnerStart())).yh(this.Js.toVec2(this.S,this.Js.getHeight(this.oi).getInnerEnd())),Aa(this.Xs,[this.fh],this.oi),this}hh(){return{stroke:this.Qe}}rh(t,e){t.Fi(e),this.Zs.Rs()}setUserInteractions(t){return this.uh=void 0===t?{move:!1}:t,this}getUserInteractions(){return Yr({move:{drag:!0}},this.uh)}Qs(){this.addEventListener("pointerenter",(t=>{const e=this.getUserInteractions();if(ba(e.move,"drag",t,t.shiftKey,t.ctrlKey,t.altKey)){const t=this.Js.getWidth({x:Yl.Horizontal,y:Yl.Vertical});this.ah=this.gs.engine.setMouseStyle(t,this.ah)}})),this.addEventListener("pointerleave",(t=>{this.ah=this.gs.engine.restoreMouseStyle(this.ah)})),this.addEventListener("pointerdown",(t=>{const e=this.getUserInteractions(),i=ba(e.move,"drag",t,t.shiftKey,t.ctrlKey,t.altKey);if(i){ys(t),eo();let e=t;const n=t=>{const n={x:t.clientX-e.clientX,y:e.clientY-t.clientY};e=t,this.S=this.axis.oi.Jt(this.S,this.Js.getWidth(n)),this.L.D("valuechange",{value:this.S}),this.Zs.Rs();const r=i.on;r&&r({event:t})},r=e=>{e.pointerId===t.pointerId&&(jr.removeEventListener("pointermove",n),jr.removeEventListener("pointerup",r))};jr.addEventListener("pointermove",n),jr.addEventListener("pointerup",r)}}))}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}const eh="fitting",ih="expansion",nh="progressive",rh="regressive",sh=t=>{const e=void 0===(null==t?void 0:t.start)||t.start,i=void 0===(null==t?void 0:t.end)||t.end,n=void 0===(null==t?void 0:t.considerVisibleRangeOnly)||t.considerVisibleRangeOnly;return{id:eh,init:t=>{t.axis.mh((t=>t.curEnd>t.curStart?{startMin:t.dataMin,endMax:t.dataMax}:{endMin:t.dataMin,startMax:t.dataMax}))},considerVisibleRangeOnly:n,apply:t=>{if(t.seriesDataRange)return{start:e?t.curEnd>=t.curStart?t.seriesDataRange.min:t.seriesDataRange.max:t.curStart,end:i?t.curEnd>=t.curStart?t.seriesDataRange.max:t.seriesDataRange.min:t.curEnd,allowIntervalLengthChange:!0}}}},oh=t=>{const e=void 0!==(null==t?void 0:t.progressive)&&!t.progressive,i=!0===(null==t?void 0:t.realTime)?{}:null==t?void 0:t.realTime;if(i){const t=void 0!==i.catchUpThresholdMs?i.catchUpThresholdMs:3e3;let n;const r=t=>{t.isStopped&&(n=void 0)};return{id:e?rh:nh,init:t=>{t.axis.mh((t=>e?t.curEnd>t.curStart?{startMin:t.dataMin}:{endMin:t.dataMin}:t.curEnd>t.curStart?{endMax:t.dataMax}:{startMax:t.dataMax})),t.axis.addEventListener("stoppedchange",r)},dispose:t=>{t.axis.removeEventListener("stoppedchange",r)},considerVisibleRangeOnly:!0,apply:i=>{if(!i.seriesDataRange)return;const r=jr.performance.now();if(void 0!==n){const s=(r-n)*(e?-1:1);let o=i.curStart+s,a=i.curEnd+s;const l=i.axis.Sh({forStart:o,forEnd:a,allowIntervalLengthChange:!1});if(!e&&l&&i.curEnd>i.curStart&&l.end-a>=t){const t=l.end-a;a+=t,o+=t}if(!e&&l&&i.curEnd<i.curStart&&l.start-o>=t){const t=l.start-o;a+=t,o+=t}return n=r,{start:o,end:a,allowIntervalLengthChange:!1,keepScrolling:!0,allowAnimation:!1}}return n=r,{keepScrolling:!0,start:i.curStart,end:i.curEnd,allowIntervalLengthChange:!1,allowAnimation:!1}}}}return{id:e?rh:nh,init:t=>{t.axis.mh((t=>e?t.curEnd>t.curStart?{startMin:t.dataMin}:{endMin:t.dataMin}:t.curEnd>t.curStart?{endMax:t.dataMax}:{startMax:t.dataMax}))},considerVisibleRangeOnly:!0,apply:t=>{if(void 0!==t.seriesDataRange){if(Math.sign(t.curEnd-t.curStart)*Math.sign(e?-1:1)>0){const i=e?t.seriesDataRange.min:t.seriesDataRange.max;return{end:i,start:i+(t.curStart-t.curEnd),allowIntervalLengthChange:!1}}{const i=e?t.seriesDataRange.min:t.seriesDataRange.max;return{start:i,end:i+(t.curEnd-t.curStart),allowIntervalLengthChange:!1}}}}}},ah=t=>{const e=void 0===(null==t?void 0:t.start)||t.start,i=void 0===(null==t?void 0:t.end)||t.end;return{id:ih,considerVisibleRangeOnly:!0,apply:t=>{if(void 0!==t.seriesDataRange)return{start:e?t.curEnd>=t.curStart?t.seriesDataRange.min<t.curStart?t.seriesDataRange.min:t.curStart:t.seriesDataRange.max>t.curStart?t.seriesDataRange.max:t.curStart:t.curStart,end:i?t.curEnd>=t.curStart?t.seriesDataRange.max>t.curEnd?t.seriesDataRange.max:t.curEnd:t.seriesDataRange.min<t.curEnd?t.seriesDataRange.min:t.curEnd:t.curEnd,allowIntervalLengthChange:!0}}}},lh="Empty",hh="Numeric",ch=t=>void 0!==t.bh,uh=t=>void 0!==t.xh,dh=t=>void 0!==t.Mh,fh=(t,e,i,n,r,s,o)=>[s,o],gh=(t,e,i,n)=>{const r=[],s=Math.round(Math.abs((t-e)/i));for(let o=1;o<s;o+=1){let s=t+i*o;void 0!==n&&(s=Math.round(s*n)/n),s<e&&r.push(s)}return r},ph=(t,e,i,n,r)=>{Kr(t,0)&&(t=0),Kr(e,0)&&(e=0);const s=[],o=void 0!==n?((t,e,i)=>t-(t-i)%e)(t,i,n):t;let a=o;if(i<=0)throw new Error("_getRegularGreatKeyValues unit less than or equal to 0, unit: ".concat(i));let l=0;for(;(a-t)/(e-t)<.98;)s.push(a),l+=1,a=o+l*i,void 0!==r&&(a=Math.round(a*r)/r);return s.push(a),s},mh=(t,e,i,n)=>{const r=[];let s=i(t),o=0;for(;s<e&&!1===Kr(s,e);)if(r.push(s),s=n(s),o+=1,o>1e3)throw new Error("Infinite loop in Axis tick key values logic.");return r.push(s),r},yh=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];const r=i.length>0?i.length:t?1:0;return(e,n,s,o,a,l)=>{if(n>=r)return;const h=i[n]||1;let c=!1,u=!1,d=1;return t&&(c="ignore"in t?"first"===t.ignore||"both"===t.ignore:c,u="ignore"in t?"last"===t.ignore||"both"===t.ignore:u,d="offset"in t&&void 0!==t.offset?t.offset:d),((t,e,i,n,r)=>(i&&(t=t.filter(((t,e)=>e>0))),n&&(t=t.filter(((e,i)=>i<t.length-1))),t.filter(((t,i)=>(i+r)%e==0))))(e,h,c,u,d)}},vh=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const n=e.length>0?e.length:0;return(t,i,r,s,o,a)=>{if(i>=n)return;const l=e[i]||1;return t.filter(((t,e)=>e%l==0))}},xh=gn({cursorFormatter:void 0});class bh extends xh{wh(t){return{_h:[],kh:[],Ch:this.cursorFormatter?this.cursorFormatter:Jo.Numeric,Th:void 0,Fh:void 0}}setCursorFormatter(t){return this.set("cursorFormatter",t)}getCursorFormatter(){return this.get("cursorFormatter")}}const Sh=t=>t&&"function"==typeof t?t():t,Ah=(t,e,i,n,r,s,o,a,l,h,c)=>{let u=l.get(o);if(u||(u=new Map,l.set(o,u)),u.has(t))return u.get(t);if(0===e.length)return oo;const d=c.Ih(e,o.Ph.labelFont,r),f=a.Jt(i,{x:-(n.x/2+.5)*d.x+s.x-h,y:-(n.y/2+.5)*d.y+s.y-h}),g=a.Jt(f,{x:d.x+h,y:d.y+h}),p={min:{x:Math.min(f.x,g.x),y:Math.min(f.y,g.y)},max:{x:Math.max(f.x,g.x),y:Math.max(f.y,g.y)}};return u.set(t,p),p},Eh=(new bh).wh({type:"linear"});class wh{constructor(t,e,i,n,r,s,o){this.Lh=Eh,this.Bh=lh,this.Dh=new Map,this.Rh=!0,this.Eh=Mr((()=>this.chart.gi.Rs()))(300,kr.linear),this.Oh=!0,this.ui=!0,this.zh=!1,this.Vh=so,this.Nh=!1,this.Gh=!1,this.$h=so,this.Uh=so,this.Yh=so,this.jh=!1,this.Hh="",this.Wh=!1,this.Xh=!1,this.Zh=!1,this.Jh=()=>{this.Kh.Qh=Ta.AxisTitle,this.Kh.setPointerEvents(!0),this.title.Vi(this.Kh),this.Jh=void 0},this.qh=(t,e,i,n,r,s,o,a,l,h,c)=>{const u=this.tr(),d=[],f=t.filter((t=>this.ir(t.keyValue,t.labelText,e))),g=[...f,...l.filter((t=>this.ir(t.keyValue,t.labelText,t.tickLevel))),...h.filter((t=>t.labelText.length>0))];for(let p=0;p<f.length;p+=1){const t=f[p];let l,h=[];if(this.ir(t.keyValue,t.labelText,e)){const i=Ah(t.keyValue,t.labelText,t.labelPosition,t.labelAlignment,t.labelRotation,t.labelOffset,e,u,a,c,this.chart.gi.sr);h=Os(g.map((e=>e&&e!==t&&ho(i,Ah(e.keyValue,e.labelText,e.labelPosition,e.labelAlignment,e.labelRotation,e.labelOffset,e.tickLevel,u,a,c,this.chart.gi.sr))?e:void 0))),l=h.length>0}else l=!1;if(l){let a=!0;if(a&&h.every((t=>ch(t.tickLevel)))&&(a=!1),a&&e.er&&e.er.hr&&!1===e.er.hr(t.keyValue,i,n,r,s,o)&&(a=!1),!1===a){f.splice(p,1),p-=1;continue}return!0}d.push(t)}return d},this.formatValue=t=>this.Lh.Ch(t,{start:this.oi.getInnerStart(),end:this.oi.getInnerEnd()}),this.rr=!0,this.nr=!0,this.title=new Er,this.chart=t,this.ar=e,this.bi=n,this.lr=s,this.oi=i,this.cr=o,"logarithmic"===o.type&&this.setAnimationZoom(kr.logarithmic(jo(o.base))),this.ur=s.numeric,this.dr("Numeric"),this.Ar=i.getInnerStart(),this.gr=i.getInnerEnd(),this.setAnimationsEnabled(r),this.setScrollStrategy(sh)}setUnits(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.vr=t,this.ds=e,this.yr(),this}getUnits(){return this.vr}setDefaultInterval(t,e){return this.pr=t,!1!==(null==e?void 0:e.applyImmediately)&&(this.jh=!0,this.chart.gi.Rs()),this.mr=void 0!==(null==e?void 0:e.skipIntervalRestrictions)?e.skipIntervalRestrictions:void 0,this}getDefaultInterval(){return this.pr}getTitle(){return this.Hh}setTitle(t){return this.Hh=t,this.yr(),this}getTitleFillStyle(){return this.Kh.Sr()}setIntervalRestrictions(t){return this.br=t,this.Wh=!0,this.chart.gi.Rs(),this}getIntervalRestrictions(){if("function"==typeof this.br){const t=this.Mr();return this.br({curStart:this.Ar,curEnd:this.gr,dataMin:null==t?void 0:t.min,dataMax:null==t?void 0:t.max})}return this.br}mh(t){this.Wh||this.Xh||(this.br=t)}setTitleFillStyle(t){return this.Kh.th(t),this.chart.gi.Rs(),this}getTitleFont(){return this.Kh.wr()}setTitleFont(t){return this.Kh._r(t),this.chart.gi.Rs(),this}setTitleRotation(t){return this.Kh.kr(t),this.chart.gi.Rs(),this.Zh=!0,this}getTitleRotation(){return this.Kh.Cr()}setTitleEffect(t){return this.Tr.Ds(t),this.chart.gi.Rs(),this}getTitleEffect(){return this.Tr.Es()}dr(t,e){if(this.Dh.size>0&&this.Fr(),"Empty"===t){const i=e||(t=>t);this.ur=i(new bh),this.Lh=this.ur.wh(this.cr),this.Bh=t}else if("Numeric"===t){"Numeric"!==this.Bh&&(this.ur=this.lr.numeric);const i=e||(t=>t);this.ur=i(this.ur),this.Lh=this.ur.wh(this.cr),this.Bh=t}else if("DateTime"===t){"DateTime"!==this.Bh&&(this.ur=this.lr.datetime);const i=e||(t=>t);this.ur=i(this.ur),this.Lh=this.ur.wh(this.cr),this.Bh=t}else if("Time"===t){"Time"!==this.Bh&&(this.ur=this.lr.time);const i=e||(t=>t);this.ur=i(this.ur),this.Lh=this.ur.wh(this.cr),this.Bh=t}return this.chart.gi.Rs(),this}Ir(){return this.Lh}Pr(t,e){this.Lh=t,this.Bh=e,this.chart.gi.Rs()}setInterval(t){const{start:e,end:i,animate:n,stopAxisAfter:r}=t;return this.Wh||(this.Xh=!0,this.br=void 0),this.ai(void 0!==e?e:this.Ar,void 0!==i?i:this.gr,void 0!==n&&n,void 0===r||r,"userSetInterval"),this}ai(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4?arguments[4]:void 0,s={start:t,end:e};const o="synchronizedAxis"===r||"setDefaultInterval"===r&&!1!==this.mr,a="setDefaultInterval"!==r,l=Math.abs(e-t),h=Math.abs(this.gr-this.Ar);if(void 0!==this.Lh.Th&&this.Lh.Th>l){const i=(e+t)/2,n=(a?this.Lh.Th/2:h/2)*(t>e?-1:1);s={start:i-n,end:i+n}}if(void 0!==this.Lh.Fh&&this.Lh.Fh<l){const i=(e+t)/2,n=(a?this.Lh.Fh/2:h/2)*(t>e?-1:1);s={start:i-n,end:i+n}}const c=this.oi.st(s.start,s.end,this.Ar,this.gr,a);if(!1===c)return this;if(!0===c);else if(s=c,"zoomBandChartOther"===r)return this;let u;switch(r){case"userSetInterval":case"userFit":case"interactionSetInterval":case"interactionZoom":case"setDefaultInterval":case"zoomBandChartClick":u=!0;break;case"zoomBandChartOther":case"synchronizedAxis":u=!1;break;default:return Us(0,""),this}if(this.Lr&&this.Lr.finishAll(!1),this.Eh&&(!0===i||i>0)){this.setStopped(!0);const t=!0===i?void 0:i,e=!this.Lr||this.Lr.isOver()?this.Eh:this.Lr.NextAnimation.bind(this);this.Lr=e([[this.Ar,s.start],[this.gr,s.end]],(t=>{let[e,i]=t;this.Br(e,i,{allowIntervalLengthChange:a,skipIntervalRestriction:o})}),t),this.Lr.addEventListener("end",(()=>{this.Lr=void 0,u&&(this.Yh=jr.performance.now())})),this.Lr.addEventListener("end",(()=>{this.setStopped(n)}))}else this.Br(s.start,s.end,{allowIntervalLengthChange:a,skipIntervalRestriction:o}),this.setStopped(n),u&&(this.Yh=jr.performance.now());return this}getInterval(){return{start:this.Ar,end:this.gr}}setStopped(t){return t===this.zh||(t&&(this.Lr&&this.Lr.finishAll(!1),this.Lr=void 0),this.zh=t,this.L.D("stoppedchange",{isStopped:this.zh}),this.Vh=jr.performance.now(),this.chart.gi.Rs()),this}getStopped(){return this.zh}fit(t,e){const i=this.Mr(),n=this.pr||Ph,r="function"==typeof n?n({curStart:this.Ar,curEnd:this.gr,dataMin:null==i?void 0:i.min,dataMax:null==i?void 0:i.max}):n;return this.ai(void 0!==r.start?r.start:this.Ar,void 0!==r.end?r.end:this.gr,void 0!==t?t:void 0!==r.animate?r.animate:this.Oh,void 0!==e?e:void 0===r.stopAxisAfter||r.stopAxisAfter,this.pr?"setDefaultInterval":"userFit"),this}setScrollStrategy(t){var e,i;return(null===(e=this.Dr)||void 0===e?void 0:e.dispose)&&this.Dr.dispose({axis:this}),this.Dr=Sh(t),this.Wh||(this.br=void 0),(null===(i=this.Dr)||void 0===i?void 0:i.init)&&this.Dr.init({axis:this}),this.chart.gi.Rs(),this}getScrollStrategy(){return this.Dr}setAnimationScroll(t){return this.Rh=Boolean(t),this.chart.gi.Rs(),this}setAnimationZoom(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return this.Lr&&(this.Lr.finishAll(!1),this.Lr=void 0),this.Eh=t?Mr((()=>this.chart.gi.Rs()))(e,t):void 0,this}setAnimationsEnabled(t){return this.Oh=t,t?(this.setAnimationScroll(!0),this.setAnimationZoom(kr.ease,void 0)):(this.setAnimationScroll(void 0),this.setAnimationZoom(void 0)),this}getAnimationsEnabled(){return this.Oh}setVisible(t){const e=this.ui!==t;return this.ui=t,this.Kh.setVisible(t),this.Rr((e=>{e.Er.setVisible(t)})),e&&this.L.D("visiblechange",{isVisible:this.ui}),this}getVisible(){return this.ui}Or(t){return!1}zr(t){this.Jh&&this.Jh(),this.title.setPointerEvents(this.title.Bi.length>0);const e=this.Vr(),i=e.min,n=e.max;if(!this.Or(t)||!this.Nr||this.Zh){const e=new Map,r=new Map,s=Ch(this.Lh,i,n,this.Ar,this.gr,t.physicalAxisSize,Math.min(this.Ar,this.gr),Math.max(this.Ar,this.gr));this.Gr();const o=Ia(3,20,Qr((t.physicalAxisSize-30)/270,0,1)),a={...t,...this.$r(t)},l=this.Ur(this.Lh,Math.min(i,this.Ar,this.gr),Math.max(n,this.Ar,this.gr),s,e,a,r,o),h=this.Yr(this.Lh,Math.min(i,this.Ar,this.gr),Math.max(n,this.Ar,this.gr),s,e,a,l,r,o),c=new Map([...l,...h]),u=this.Lh.jr,d=void 0!==this.Lh.kh.find((t=>uh(t)&&!ra(t.Ph.labelFillStyle)));if(u&&d&&Array.from(c).reduce(((t,e)=>t+(e[1].labelText.length>0&&!ra(e[0].Er.Sr())?1:0)),0)<=1){this.Gr(),c.clear();const e=[Math.min(this.Ar,this.gr),Math.max(this.Ar,this.gr)],i={start:this.oi.getInnerStart(),end:this.oi.getInnerEnd()};e.forEach((e=>{const n=this.Hr(e,u,u.xh(e,i),t,a),r=this.Wr(n.keyValue,u,a,n,n.labelText);c.set(r,n)}))}return this.Xr(),this.Nr={...a,...this.Zr(t,c,!0),min:i,max:n},this.Nr}let r=!1;return this.Dh.forEach((t=>{t.forEach(((e,s)=>{(s<i||s>n)&&(e.dispose(),t.delete(s),r=!0)}))})),{...this.Nr,updatedTicks:r}}Jr(t,e,i){const n=e.Ph;i.length>0?t.Er.th(n.getLabelFillStyle())._r(n.getLabelFont()).Kr(i).setVisible(this.getVisible()).Qr(n.getLabelShadow()):t.Er.setVisible(!1)}Wr(t,e,i,n,r){const s=this.Dh.get(e)||new Map;this.Dh.set(e,s);let o=s.get(t);return o||(o=this.qr(t,e,i,n),s.set(t,o)),this.Jr(o,e,r),o.tn=!1,o}Ur(t,e,i,n,r,s,o,a){const l=new Map,h=this.tr(),c=[];for(const u of t._h){const t=n.get(u).filter((t=>t>=e&&t<=i)),d=t.map((t=>this.Hr(t,u,u.xh(t,{start:this.oi.getInnerStart(),end:this.oi.getInnerEnd()}),s,s)));for(let e=0;e<t.length;e+=1){const i=t[e],n=d[e],f=this.Wr(i,u,s,n,n.labelText),g=Ah(f.S,f.Er.sn(),n.labelPosition,n.labelAlignment,n.labelRotation,{x:0,y:0},u,h,r,a,this.chart.gi.sr);c.find(((t,e)=>{const i=d[e];return ho(g,Ah(t.S,t.Er.sn(),i.labelPosition,i.labelAlignment,i.labelRotation,{x:0,y:0},u,h,r,a,this.chart.gi.sr))}))&&f.Er.setVisible(!1),f.tn=!1,o.set(f,n),c.push(f),l.set(f,n)}}return l}Yr(t,e,i,n,r,s,o,a,l){var h;const c={start:this.oi.getInnerStart(),end:this.oi.getInnerEnd()},u=new Map,d=Array.from(o.values());let f,g=[];for(const p of t.kh){const m=p===t.kh[t.kh.length-1],y=n.get(p);if(!y)break;let v;if(void 0===f)v=[{start:e,end:i,keyValues:y}];else{v=[];for(let t=0;t<f.length-1;t+=1){const n=f[t],r=f[t+1],s={start:n,end:r,keyValues:[]};for(const t of y)t>=n&&t<r&&s.keyValues.push(t);s.end<e||s.start>i||v.push(s)}}if(f=y,dh(p))continue;let x,b=0,S=!1,A=-1,E=!0,w=[];for(let t=0;t<v.length;t+=1){const e=v[t].keyValues.map((t=>this.Hr(t,p,p.xh(t,c),s,s)));w=w.concat(e)}if(p.Ph.getLabelFillStyle()!==na)for(x=[];++A<v.length;){const t=v[A],n=t.start,s=t.end;let a=t.keyValues;if(b>0){if(void 0===p.er){E=!1;break}if(a=(0,p.er.en)(t.keyValues,b-1,n,s,e,i),void 0===a)break}const h=Os(a.map((t=>w.find((e=>e.keyValue===t)))));if(S)x=x.concat(h);else{const t=this.qh(h,p,b,n,s,e,i,r,d,g,l);if(!0===t){b+=1,A=-1,x=[];continue}x=x.concat(t)}t!==v[v.length-1]||o.size+x.reduce(((t,n)=>t+(mo(n.keyValue,e,i)?1:0)),0)>=2||m||S||(S=!0,b-=1,A=-1,x=[])}else x=w;const k=x.reduce(((t,n)=>t+(mo(n.keyValue,e,i)?1:0)),0);void 0!==p.hn&&k<p.hn&&(x.length=0);const C=[];for(const t of w){if(t.keyValue<e||t.keyValue>i)continue;const n=x.includes(t);if(!n&&"hide-tick"===(null===(h=p.er)||void 0===h?void 0:h.rn))continue;t.labelText=n?t.labelText:"";const r=this.Wr(t.keyValue,p,s,t,t.labelText);a.set(r,t),C.push(t),u.set(r,t)}if(g=C,!E)break}return u}Rr(t){for(const e of this.Dh.values())for(const i of e.values())t(i)}nn(t,e){for(const i of this.Dh.values())for(const n of i.values())e=t(e,n);return e}Fr(){this.Dh.forEach(((t,e)=>{t.forEach((t=>{t.dispose()}))})),this.Dh.clear()}Gr(){for(const t of this.Dh.values())for(const e of t.values())e.tn=!0}Xr(){for(const t of this.Dh.values()){const e=Array.from(t.entries());for(let i=0;i<e.length;i+=1){const[n,r]=e[i];r.tn&&(r.dispose(),t.delete(n))}}}Vr(){const t=this.oi.getInnerStart()<this.oi.getInnerEnd()?this.oi.getInnerStart():this.oi.getInnerEnd(),e=this.oi.getInnerEnd()>this.oi.getInnerStart()?this.oi.getInnerEnd():this.oi.getInnerStart();return Tn(t,e)}ir(t,e,i){return 0!==e.length&&(!ch(i)||!0===i.an)}ln(t,e){return"Empty"===this.Bh||(this.Lh._h.forEach((i=>{e=t(e,i.Ph)})),this.Lh.kh.forEach((i=>{uh(i)&&(e=t(e,i.Ph))}))),e}getSeriesDataRange(){const t=this.Mr();if(t&&!0!==t.emptyBounds)return t}Sh(t){const e=void 0!==t.forStart?t.forStart:this.Ar,i=void 0!==t.forEnd?t.forEnd:this.gr,n=this.Mr();if(n)return Th(this.br,n,{start:i>e?n.min:n.max,end:i>e?n.max:n.min},{start:e,end:i},!0)}Mr(){const t=!this.Dr||this.Dr.considerVisibleRangeOnly;let e=this.ar.cn(t);const i=this.ar.un(t);let n;if(void 0!==e&&Wr(e)&&void 0!==i&&Wr(i)&&("logarithmic"===this.cr.type&&(0===e&&(e=Math.min(1,i)),Math.sign(e)!==Math.sign(i)&&(e=Math.min(1,i-.1))),n?(n.min=Math.min(n.min,e),n.max=Math.max(n.max,i)):n=Tn(e,i)),n&&Wr(n.min)&&Wr(n.max))return Kr(n.min,n.max)?{min:n.min-1,max:n.max+1,emptyBounds:!0}:n}dn(){if(!1===this.rr)return{start:0,end:0};if("object"==typeof this.rr)return this.rr;let t=0;const e=this.ar.fn();return e&&(t=Math.max(t,e)),{start:t,end:t}}setScrollMargins(t){return this.rr=void 0!==t&&("number"==typeof t?{start:t,end:t}:t),this.chart.gi.Rs(),this}getScrollMargins(){return this.rr}setAutoRegionsEnabled(t){return this.setScrollMargins(t),this}An(){const t=this.Nh;let e=!1;if(this.jh&&this.pr){const t=this.Mr();if(t){const e="function"==typeof this.pr?this.pr({curStart:this.Ar,curEnd:this.gr,dataMin:null==t?void 0:t.min,dataMax:null==t?void 0:t.max}):this.pr;if("object"==typeof this.pr&&!this.Wh){const i=Th(this.br,t,{start:void 0!==e.start?e.start:this.Ar,end:void 0!==e.end?e.end:this.gr},this.getInterval(),!0);i.start===e.start&&i.end===e.end||(this.Xh=!0,this.br=void 0)}this.ai(void 0!==e.start?e.start:this.Ar,void 0!==e.end?e.end:this.gr,void 0!==e.animate&&e.animate,void 0===e.stopAxisAfter||e.stopAxisAfter,"setDefaultInterval"),this.jh=!1,this.mr=void 0}}if(this.Dr&&!this.zh){let t=this.Mr();(null==t?void 0:t.emptyBounds)&&this.Dr.id===ih&&(t=void 0);const i=this.Ar,n=this.gr,r=this.Dr.apply({axis:this,curStart:i,curEnd:n,seriesDataRange:t});if(r){const s=Th(this.br,t,{start:r.start,end:r.end},{start:i,end:n},r.allowIntervalLengthChange);let o=s.start,a=s.end;const l=!1===Kr(i,o)||r.keepScrolling,h=!1===Kr(n,a)||r.keepScrolling;if(o=l?o:i,a=h?a:n,l||h){let t=!1;if(this.Rh&&!this.nr&&!1!==r.allowAnimation)if(this.Rh){t=!0;const s=l?this.gn(i,o):i,c=h?this.gn(n,a):n;if(!0===this.Br(s,c,{allowIntervalLengthChange:r.allowIntervalLengthChange,skipIntervalRestriction:!1})&&(l&&!1===Kr(s,o)||h&&!1===Kr(c,a))||!0===r.keepScrolling){this.chart.gi.Rs(!0),e=!0;let t=Math.abs(a-o)/Math.abs(s-c);t<1&&(t=1/t),this.Gh=t>=1.4}}else t=!1;t||(this.Br(o,a,{allowIntervalLengthChange:r.allowIntervalLengthChange,skipIntervalRestriction:!1}),!0===r.keepScrolling&&this.chart.gi.Rs(!0)),this.nr=!1}}}return e?(this.Nh!==e&&(this.Nh=e,this.$h=jr.performance.now()),this.vn&&(clearTimeout(this.vn),this.vn=void 0)):!0===t&&void 0===this.vn&&(this.Gh=!1,this.vn=setTimeout((()=>{!1!==this.Nh&&(this.Nh=!1,this.$h=jr.performance.now()),this.vn=void 0,this.chart.gi.Rs()}),200)),this}yn(){const t=this.getInterval(),e=this.Mr();return"function"==typeof this.br?this.br({curStart:t.start,curEnd:t.end,dataMin:null==e?void 0:e.min,dataMax:null==e?void 0:e.max}):this.br}Br(t,e,i){let n={start:t,end:e};const{allowIntervalLengthChange:r,skipIntervalRestriction:s}=i;let o=!0;if(this.br&&!s){const t=this.Mr();n=Th(this.br,t,n,{start:this.Ar,end:this.gr},r)}const a=Math.abs(e-t),l=Math.abs(this.gr-this.Ar);if(void 0!==this.Lh.Th&&this.Lh.Th>a){const i=(e+t)/2,s=(r?this.Lh.Th/2:l/2)*(t>e?-1:1);n={start:i-s,end:i+s},o=!1}if(void 0!==this.Lh.Fh&&this.Lh.Fh<a){const i=(e+t)/2,s=(r?this.Lh.Fh/2:l/2)*(t>e?-1:1);n={start:i-s,end:i+s},o=!1}let h=this.oi.st(n.start,n.end,this.Ar,this.gr,r);if(!1===h)return!1;!0!==h&&(n=h);const c=this.dn(),u=this.pn(n.start,n.end,c);return h=this.oi.st(u.start,u.end,this.Ar,this.gr,!1),!!h&&(!0===h?this.oi.H(u.start,u.end):this.oi.H(n.start,n.end),this.Ar=n.start,this.gr=n.end,this.L.D("intervalchange",{start:n.start,end:n.end}),this.Uh=jr.performance.now(),this.chart.gi.Rs(),o)}mn(){return this.Nh}Sn(){return void 0!==this.Lr}yr(){var t;const e=!1!==(null===(t=this.ds)||void 0===t?void 0:t.displayOnAxis);this.Kh.Kr(this.vr&&e&&this.Hh?"".concat(this.Hh," (").concat(this.vr,")"):this.Hh),this.chart.gi.Rs()}}class kh{constructor(t,e,i,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i.Mn(n).xn(Zs).bn(Zs).setPointerEvents(!1);this.tn=!1,this.ci=!1,this.ys=[],this.wn=t,this.S=e,this._n=i,this.kn=n,this.Er=r,this.ys.push(r)}Ps(t){this.ys.forEach((e=>e.setVisible(t)))}dispose(){return this.ci||(this.ci=!0,this.ys.forEach((t=>t.dispose()))),this}}const Ch=function(t,e,i,n,r,s,o,a){let l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];const h=new Map;for(const u of t._h){let t=u.Cn(e,i,n,r,s,o,a);t=Mh(t),h.set(u,t)}let c;for(const u of t.kh){let n;if(void 0===c)n=u.Cn(e,i,e,i,s);else{if(l&&u===t.kh[t.kh.length-1])break;let r=[];const o=c.filter((t=>e<=t&&t<=i)).length;if(o>0){const t=s/(o-1);if(void 0!==u.Tn&&u.Tn>t)break}for(let t=0;t<c.length-1;t+=1){const n=u.Cn(c[t],c[t+1],e,i,s);r=r.concat(n)}n=r}n=Mh(n),h.set(u,n),c=n}return h},Mh=t=>Array.from(new Set(t)),Th=(t,e,i,n,r)=>{const s="function"==typeof t?t({curStart:n.start,curEnd:n.end,dataMin:null==e?void 0:e.min,dataMax:null==e?void 0:e.max}):t;if(!s)return i;const o={start:i.start,end:i.end};let a=Math.abs(i.end-i.start);if(void 0!==s.intervalMin&&a<s.intervalMin){const t=(o.start+o.end)/2;o.start=t+.5*Math.sign(i.start-t)*s.intervalMin,o.end=t+.5*Math.sign(i.end-t)*s.intervalMin}if(a=Math.abs(i.end-i.start),void 0!==s.intervalMax&&a>s.intervalMax){const t=(o.start+o.end)/2;o.start=t+.5*Math.sign(i.start-t)*s.intervalMax,o.end=t+.5*Math.sign(i.end-t)*s.intervalMax}return a=Math.abs(i.end-i.start),void 0!==s.startMin&&(o.start=Math.max(o.start,s.startMin),r||Kr(Math.abs(o.start-o.end),a)||(o.end=o.start+Math.sign(i.end-i.start)*a)),a=Math.abs(i.end-i.start),void 0!==s.startMax&&(o.start=Math.min(o.start,s.startMax),r||Kr(Math.abs(o.start-o.end),a)||(o.end=o.start+Math.sign(i.end-i.start)*a)),a=Math.abs(i.end-i.start),void 0!==s.endMin&&(o.end=Math.max(o.end,s.endMin),r||Kr(Math.abs(o.start-o.end),a)||(o.start=o.end+Math.sign(i.start-i.end)*a)),a=Math.abs(i.end-i.start),void 0!==s.endMax&&(o.end=Math.min(o.end,s.endMax),r||Kr(Math.abs(o.start-o.end),a)||(o.start=o.end+Math.sign(i.start-i.end)*a)),Math.sign(o.end-o.start)!==Math.sign(i.end-i.start)?{end:o.start,start:o.end}:o},Ph=t=>{if(void 0===t.dataMin||void 0===t.dataMax)return{stopAxisAfter:!1};const e=t.curEnd>=t.curStart;return{start:e?t.dataMin:t.dataMax,end:e?t.dataMax:t.dataMin,stopAxisAfter:!1}},Fh=t=>{const e=t.getDraggingMode();return void 0!==e&&e!==Nr.notDraggable?e===Nr.draggable?Yl.Move:e===Nr.onlyHorizontal?Yl.Horizontal:Yl.Vertical:void 0};class Lh{constructor(){this.ui=!0}set draggable(t){this.L.draggable=t}get draggable(){return this.L.draggable}setPointerEvents(t){return this.L.setPointerEvents(t),this}getPointerEvents(){return this.L.getPointerEvents()}setVisible(t){const e=this.ui!==t;return this.ui=t,e&&this.L.D("visiblechange",{isVisible:this.ui}),this}getVisible(){return this.ui}}class Rh extends Lh{constructor(t,e,i,n,r){super(),this.L=new Er,this.Fn=En(50,50),this.origin=En(0,0),this.size=En(0,0),this.ci=!1,this.In=void 0,this.Pn=void 0,this.Ln=Fh,this.Bn=void 0,this.nt=Ln(0,0,0,0),this.Zs=t,this.renderingScale=e,this.scale=i,this.yi=n,this.bi=r,this.Zs.Rs(),this.bi=r,this.addEventListener("pointerenter",(()=>{const t="function"==typeof this.Ln?this.Ln(this):this.Ln;t&&(this.Pn=this.Zs.gi.Dn(t))})),this.addEventListener("pointerleave",(()=>{this.Zs.gi.Rn(this.Pn)}));const s=t=>{const e=this.getDraggingMode();if(e===Nr.notDraggable)return;ys(t);let i=t;const n=t=>{const n={x:t.clientX-i.clientX,y:t.clientY-i.clientY};i=t;const r=this.scale.Jt(this.getPosition(),{x:e!==Nr.onlyVertical?n.x:0,y:e!==Nr.onlyHorizontal?-n.y:0}),s=this.scale,o=this.getSize(),a=this.getOrigin(),l=s.Jt({x:s.x.getInnerStart(),y:s.y.getInnerStart()},zo({x:(1+a.x)/2,y:(1+a.y)/2},o)),h=s.Jt({x:s.x.getInnerEnd(),y:s.y.getInnerEnd()},zo({x:(a.x-1)/2,y:(a.y-1)/2},o)),c={x:Math.min(Math.max(r.x,l.x),h.x),y:Math.min(Math.max(r.y,l.y),h.y)};this.setPosition(c)},r=t=>{this.Zs.gi.En.removeEventListener("pointermove",n),this.Zs.gi.En.removeEventListener("pointerup",r),this.addEventListener("pointerdown",s)};this.removeEventListener("pointerdown",s),this.Zs.gi.En.addEventListener("pointermove",n),this.Zs.gi.En.addEventListener("pointerup",r)};this.addEventListener("pointerdown",s)}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}setPointerEvents(t){return this.L.setPointerEvents(t),this}getPointerEvents(){return this.L.getPointerEvents()}setEffect(t){return this.Ss=this.Ss||this.Zs.gi.Ss.bs(this,{On:{shapes:this.zn()}}),this.Ss.On.Ds(t),this}getEffect(){return!!this.Ss&&this.Ss.On.Es()}setAutoDispose(t){return this.Bn=t,this.Zs.Rs(),this}getAutoDispose(){return this.Bn}getSize(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr.Everything)===Vr.Everything?En(this.size.x+(this.nt.left+this.nt.right),this.size.y+(this.nt.bottom+this.nt.top)):this.size}setContentSize(t){this.size=t}setMargin(t){return this.nt="object"==typeof t?Bn(this.nt,t):{left:t,top:t,right:t,bottom:t},this.Zs.Rs(),this}getMargin(){return this.nt}sh(){if(this.Bn){const t=this.size,e=this.renderingScale._t(),i={x:t.x/e.x,y:t.y/e.y};("max-width"===this.Bn.type&&i.x>=this.Bn.maxWidth||"max-height"===this.Bn.type&&i.y>=this.Bn.maxHeight)&&this.dispose()}return this}zr(){return this}dispose(){return this.ci||(this.Zs.Rs(),this.ci=!0,this.yi(this),this.L.D("dispose",{}),this.zn().forEach((t=>t.dispose()))),this}setVisible(t){return super.setVisible(t),this.zn().forEach((e=>e.setVisible(t))),this.Zs.Rs(),this}isDisposed(){return this.ci}setPosition(t){return this.Fn=t,this.Zs.Rs(),this}getPosition(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.origin,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vr.Everything;const i=this.getSize(Vr.Everything),n=this.scale.Jt(this.Fn,zo({x:-(this.origin.x+1)/2,y:-(this.origin.y+1)/2},i));if(e===Vr.Everything)return this.scale.Jt(n,zo({x:(t.x+1)/2,y:(t.y+1)/2},i));const r=this.scale.Jt(n,{x:this.nt.left,y:this.nt.bottom}),s=this.getSize(Vr.Content);return this.scale.Jt(r,zo({x:(t.x+1)/2,y:(t.y+1)/2},s))}setOrigin(t){return this.origin=t,this.Zs.Rs(),this}getOrigin(){return this.origin}setDraggingMode(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr.notDraggable;return this.In=t,this.Zs.Rs(),this}getDraggingMode(){return void 0!==this.In?this.In:Nr.notDraggable}setMouseStyle(t){return this.Ln=t,this}getMouseStyle(){return this.Ln}}class Bh extends Rh{constructor(t,e,i,n,r,s){super(t,e,i,r,s),this.Vn=Ln(),this.Nn=0,this.Gn=n,this.backgroundElement=new this.Gn(this.Zs,this.renderingScale,this.scale,Jr,s),this.L.$i(this.backgroundElement)}setPointerEvents(t){return super.setPointerEvents(t),this.backgroundElement.setPointerEvents(t),this}zn(){return this.backgroundElement.zn()}setBackground(t){return t(this.backgroundElement),this}getBackground(){return this.backgroundElement}sh(){return super.sh(),this.ci||(void 0!==this.$n&&(this.backgroundElement.$n=this.$n-.01),this.backgroundElement.setOrigin(this.origin).setPosition(this.getPosition(this.origin,Vr.PaddedBackground)).sh()),this}zr(){const t=this.getSize(Vr.PaddedContent);return this.backgroundElement.Un(t).zr(),super.zr()}dispose(){return super.dispose(),this.backgroundElement.dispose(),this}setVisible(t){return super.setVisible(t),this.backgroundElement.setVisible(t),this}setPadding(t){return this.Vn="object"==typeof t?Bn(this.Vn,t):{left:t,top:t,right:t,bottom:t},this.Zs.Rs(),this}getPadding(){return this.Vn}getSize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr.Everything,e=super.getSize(t);return t>=Vr.PaddedContent&&(e=En(e.x+this.Vn.left+this.Vn.right,e.y+this.Vn.bottom+this.Vn.top)),t>=Vr.PaddedBackground&&(e=En(e.x+this.backgroundElement.Yn()+this.backgroundElement.jn(),e.y+this.backgroundElement.Hn()+this.backgroundElement.Wn())),e}getPosition(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.origin,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vr.Everything;if(e===Vr.Everything)return super.getPosition(t,e);const i=super.getPosition(En(-1,-1),Vr.Everything),n=this.getMargin(),r=this.scale.Jt(i,{x:n.left,y:n.bottom});if(e===Vr.PaddedBackground){const e=this.getSize(Vr.PaddedBackground);return this.scale.Jt(r,zo({x:(t.x+1)/2,y:(t.y+1)/2},e))}const s=this.scale.Jt(r,{x:this.backgroundElement.Yn(),y:this.backgroundElement.Hn()});if(e===Vr.PaddedContent){const e=this.getSize(Vr.PaddedContent);return this.scale.Jt(s,zo({x:(t.x+1)/2,y:(t.y+1)/2},e))}const o=this.getPadding(),a=this.scale.Jt(s,{x:o.left,y:o.bottom}),l=this.getSize(Vr.Content);return this.scale.Jt(a,zo({x:(t.x+1)/2,y:(t.y+1)/2},l))}getHighlight(){return this.Nn}setHighlight(t){return this.Nn=Hs(t),this.backgroundElement.setHighlight(t),this.L.D("highlightchange",{highlight:this.Nn}),this}}const zh=t=>"setBackground"in t,Ih=t=>{const e=t.getPosition({x:-1,y:-1},Vr.PaddedBackground),i=t.getSize(Vr.PaddedBackground),n=t.scale.Jt(e,i),r=hr(e,t.scale,t.Zs.gi.oi),s=hr(n,t.scale,t.Zs.gi.oi),o=t.Zs.gi.Xn(r.x,r.y),a=t.Zs.gi.Xn(s.x,s.y);return{p1:{clientX:o.x,clientY:o.y},p2:{clientX:a.x,clientY:a.y}}};class Dh extends Lh{constructor(t,e,i,n,r,s,o,a,l,h,c){super(),this.S=0,this.Zn=1,this.Jn=!0,this.Qn=new Ya,this.Kn=!0,this.ci=!1,this.L=new Er,this.axisScale=n,this.renderingScale=r,this.qn=o,this.io=a,this.so=l,this.yi=h,this.eo=e,this.ho=i,this.ro=this.eo.gh(this.renderingScale),this.L.Vi(this.ro),this.bi=c,this.no=this.so.setDirection(this.io).oo(this.ho,this.renderingScale,s,Jr,this.bi,!1).setOrigin(ps(this.io)),this.L.$i(this.no),this.axis=t,this.setPointerEvents(!1),"major"===this.no.ao?this.ro.Ah(c.xAxisNumericTicks.majorTickStyle.gridStrokeStyle):"minor"===this.no.ao?this.ro.Ah(c.xAxisNumericTicks.minorTickStyle.gridStrokeStyle):"other"===this.no.ao&&this.ro.Ah(c.cursorGridStrokeStyleX)}setValue(t){return this.S=t,this.ho.Rs(),this.L.D("valuechange",{value:this.S}),this}getValue(){return this.S}setTextFormatter(t){return this.lo=t,this.ho.Rs(),this}setTickLength(t){return this.no.setPointerLength(t),this.eo.Rs(),this}getTickLength(){return this.no.getPointerLength()}setTickLabelPadding(t){return this.no.setTickLabelPadding(t),this.eo.Rs(),this}setTickLabelRotation(t){return this.no.setTextRotation(t),this.eo.Rs(),this}getTickLabelRotation(){return this.no.getTextRotation()}getTickLabelPadding(){return this.no.getTickLabelPadding()}setGridStrokeLength(t){return this.Zn=t,this.eo.Rs(),this}getGridStrokeLength(){return this.Zn}setGridStrokeStyle(t){return this.ro.Ah(t),this.eo.Rs(),this}getGridStrokeStyle(){return this.ro.co()}dispose(){return this.ci||(this.ci=!0,this.ro.dispose(),this.no.dispose(),this.yi(this),this.eo.gi.Rs(),this.L.D("dispose",{})),this}setMarkerVisible(t){return this.Jn=t,this.ho.Rs(),this}getMarkerVisible(){return this.Jn}setMarker(t){return t(this.no),this.ho.Rs(),this}getMarker(){return this.no}setPointerEvents(t){return this.L.setPointerEvents(t),this}getPointerEvents(){return this.L.getPointerEvents()}setAllocatesAxisSpace(t){return this.Kn=t,this.ho.Rs(),this}getAllocatesAxisSpace(){return this.Kn}isInScale(){return mo(this.S,this.axisScale.getInnerStart(),this.axisScale.getInnerEnd())}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class Vh extends Dh{constructor(t,e,i,n,r,s,o,a,l,h,c){super(t,e,i,n,r,s,o,a,c,l,h),this.uo=!1,this.yi=l,this.eo=e,this.ho=i}dispose(){return this.uo=!1,super.dispose()}update(){return this}plot(t,e,i,n,r){if(this.isInScale()&&this.getVisible()&&t){this.uo=!1;const t=lr(this.S,this.axisScale,this.qn.getWidth(this.renderingScale));this.ro.setVisible(!0).ph(this.qn.toPoint(t,e)).yh(this.qn.toPoint(t,e-(n+i*this.Zn))),this.Jn?(this.lo&&this.no.setText(this.lo(this.S,this)),this.no.setVisible(!0).setPosition(this.qn.toPoint(t,r))):this.no.setVisible(!1)}else this.ro.setVisible(!1),this.no.setVisible(!1);return this.no.zr().sh(),this}do(){this.Jn?(this.lo&&this.no.setText(this.lo(this.S,this)),this.no.setVisible(!0)):this.no.setVisible(!1);const t=this.no.zr().getSize();return this.qn.getHeight(t)}}const _h={fo:"X0Z1bGxBY2Nlc3M=",Ao:"X0Jhc2VDaGFydHM=",vo:"RGF0YSBHcmlk",yo:"X0hhc0hhcmRFeHBpcmF0aW9u",po:"X0lzVHJpYWw=",mo:"X0lzQ29tbXVuaXR5",So:"T0hMQyBTZXJpZXM=",bo:"QmFyIENoYXJ0",xo:"c2xpY2VkIGNoYXJ0cw==",Mo:"R2F1Z2UgQ2hhcnQ=",wo:"U3BpZGVyIENoYXJ0",_o:"UG9sYXIgQ2hhcnQ=",ko:"M0QgQ2hhcnQ=",Co:"Wm9vbSBCYW5kIENoYXJ0",To:"TWFwIENoYXJ0",Fo:"WFkgQ2hhcnQ=",Io:"WFkgU2VyaWVz",Po:"SGVhdG1hcCBTZXJpZXM=",Lo:"RmlndXJlIFNlcmllcw==",Bo:"bG9nYXJpdGhtaWMgYXhpcw==",Do:"cmVhbC10aW1lIHZpc3VhbGl6YXRpb24=",Ro:"aW5kaXZpZHVhbCBwb2ludCBzaXpl",Eo:"aW5kaXZpZHVhbCBwb2ludCBjb2xvcg==",Oo:"VHJlZU1hcCBDaGFydA==",zo:"UGFyYWxsZWwgQ29vcmRpbmF0ZSBDaGFydA==",Vo:"X1B5dGhvbkxpY2Vuc2U="},Nh=(t,e)=>t.setTextFillStyle(e.uiTextFillStyle).setTextFont(e.uiTextFont),Oh=(t,e,i)=>{i&&zh(t)&&t.setBackground((t=>t.setFillStyle(e.uiBackgroundFillStyle).setStrokeStyle(e.uiBackgroundStrokeStyle))).setEffect(!0)},Hh={uiElement:void 0,stylers:ai(),addStyler(t){return{...this,stylers:this.stylers.push(t)}},applyStylers(t,e){return this.stylers.forEach((i=>void 0!==i?i(t,e):void 0)),t}},Uh={background:void 0,setBackground(t){return{...this,background:t}}},Yh={oo(t,e,i,n,r,s){const o=this.applyStylers(new this.uiElement(t,e,i,n,r),r);return Oh(o,r,s),o}},Gh={oo(t,e,i,n,r,s){const o=this.applyStylers(new this.uiElement(t,e,i,this.background,n,r),r);return Oh(o,r,s),o}};class jh extends Rh{constructor(){super(...arguments),this.No=!0}sh(){return super.sh(),this}setPointerEvents(t){return this.No=t,this}getPointerEvents(){return this.No}zn(){return[]}}class Xh{constructor(t){this.Go=new Map,this.gi=t}ws(t,e,i){const n=i.animationEnabled;this.Go.set(t,{applyHighlight:e,curUnanimatedHighlightValue:0,curAnimationPositionMillis:0,animationEnabled:n,curAnimatedHighlightValue:0});const r=()=>{this.Go.delete(t),t.removeEventListener("dispose",r)};jr.requestAnimationFrame((()=>{t.addEventListener("dispose",r)}))}$o(t,e){let i=e.animationEnabled;const n=[],r=()=>{n.forEach((t=>{this.Go.delete(t)})),t.removeEventListener("dispose",r)};return jr.requestAnimationFrame((()=>{t.addEventListener("dispose",r)})),{Uo:(t,e)=>{const r={applyHighlight:e,curUnanimatedHighlightValue:0,curAnimationPositionMillis:0,animationEnabled:i,curAnimatedHighlightValue:0};n.push(t),this.Go.set(t,r)},Yo:()=>{n.forEach((t=>{this.Go.delete(t)})),n.length=0},jo:t=>{i=t,n.forEach((t=>{this.$s(t,i)}))},Ho:()=>i}}Gs(t,e){const i=this.Go.get(t);i&&(i.curUnanimatedHighlightValue=Hs(e),this.gi.Rs())}Fs(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.Go.get(t);return i?e?i.curAnimatedHighlightValue:i.curUnanimatedHighlightValue:0}$s(t,e){const i=this.Go.get(t);i&&(i.animationEnabled=e)}Us(t){const e=this.Go.get(t);return!!e&&e.animationEnabled}zr(t){let e=!1;this.Go.forEach(((i,n)=>{let r;if(i.animationEnabled){const n=1e3;if(i.curUnanimatedHighlightValue>0){const s=i.curAnimationPositionMillis/n;r=i.curUnanimatedHighlightValue*Math.abs(Math.sin(s*Math.PI/2+.5));const o=0===i.curAnimatedHighlightValue?1:t;i.curAnimationPositionMillis+=o,e=!0}else i.curAnimatedHighlightValue>0&&0===i.curUnanimatedHighlightValue?(r=Math.max(i.curAnimatedHighlightValue-t/n,0),e=e||r>0):r=0,i.curAnimationPositionMillis=0}else r=i.curUnanimatedHighlightValue;r!==i.curAnimatedHighlightValue&&(i.applyHighlight(r),i.curAnimatedHighlightValue=r)})),e&&this.gi.Rs(!0)}}const Wh=new Map,Zh=(t,e)=>{const i=t.getSize(),n=t.getFamily(),r=t.getWeight(),s=t.getStyle(),o=t.getVariant(),a="".concat(s," ").concat(o?"small-caps":"normal"," ").concat(r," ").concat(i,"px ").concat(n),l="".concat(a," ").concat(e.toFixed(2));let h=Wh.get(l);return h||(h=((t,e,i,n)=>({font:t,properties:e,dpr:i,id:n}))(a,{type:"font",size:i,family:n,style:s,variant:o,weight:r},e,l),Wh.set(l,h)),h},qh=t=>({container:t.En,setMouseStyle:(e,i)=>t.Dn(e,i),restoreMouseStyle:e=>t.Rn(e),clearMouseStyle:()=>t.Wo(),captureFrame:(e,i,n)=>t.Xo(e,i,n),renderFrame:function(e,i){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.Zo(e,i,n)},layout:()=>{t.Jo(),t.Qo(),t.qo.Ko(),t.Rs()},setBackgroundFillStyle(e){return t.setBackgroundFillStyle(e),this},setBackgroundStrokeStyle(e){return t.setBackgroundStrokeStyle(e),this},getBackgroundFillStyle:()=>t.getBackgroundFillStyle(),getBackgroundStrokeStyle:()=>t.getBackgroundStrokeStyle(),addCustomIcon:(e,i)=>t.ta(e,i),addEventListener:(e,i,n)=>t.R(e,i,n),removeEventListener:(e,i)=>t.V(e,i)}),Jh=[];let Kh;const Qh=()=>{if(void 0!==Kh){const t=jr.getComputedStyle(jr.document.body),e=Number(t.getPropertyValue("margin-top").replace("px",""))+Number(t.getPropertyValue("margin-bottom").replace("px",""));Kh.style.height=jr.innerHeight-e+"px",(()=>{for(let t=0;t<Jh.length;t+=1)Jh[t]()})()}},$h=new aa({color:Vn(255,255,255)}),tc={font:Zh(ja,0),fillStyle:$h,lineStyle:new tl({fillStyle:$h,thickness:1}),pointStyle3D:new Qa.Triangulated};class ec{constructor(t,e,i){this.oi=ar.d2({scaleXYConstructor:sr}),this.ia=new Map,this.sa=Mr((()=>this.Rs()),60),this.ea=En(0,0),this.ha=!1,this.ra=Jr,this.na=()=>{},this.oa=[],this.aa=-1,this.la=[],this.ci=!1,this.ca=!1,this.ua=t=>{t.dataTransfer&&t.dataTransfer.setDragImage(new Image,0,0)},this.da=new Map,this.fa=(t,e)=>{var i,n,r;const s=e instanceof PointerEvent&&e,o=wr(e)?{clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY}:{clientX:e.clientX,clientY:e.clientY};if(s){if(!s.pointerType)return;this.Aa=e}const a=this.Bs({x:o.clientX,y:o.clientY});if(("pointermove"===t||"pointerenter"===t)&&a&&s){const t=this.da.get(s.pointerId);let n=t;n||(n={lastEvent:s,entity:a.entity,collectionMember:a.collectionMember,info:a.info},this.da.set(s.pointerId,n));const r=void 0===t||t.entity!==a.entity||t.collectionMember!==a.collectionMember;r&&t&&t.entity.D("pointerleave",e,t.collectionMember,t.info),r&&a&&a.entity.D("pointerenter",e,a.collectionMember,a.info),a&&(a.entity.D("pointermove",e,a.collectionMember,a.info),this.En.draggable=null!==(i=a.entity.di)&&void 0!==i&&i),n.lastEvent=s,n.entity=a.entity,n.collectionMember=a.collectionMember,n.info=a.info}else if("pointerleave"===t&&s){const t=this.da.get(s.pointerId);t&&(t.entity.D("pointerleave",e,t.collectionMember,t.info),this.da.delete(s.pointerId))}else if("click"===t&&s){const t=(null===(n=this.ga)||void 0===n?void 0:n.event)instanceof PointerEvent&&this.ga.event.pointerId===s.pointerId&&this.ga;t&&t.entity.D("click",s,t.collectionMember,t.info)}else if("dblclick"===t&&e instanceof MouseEvent){const t="click"===(null===(r=this.ga)||void 0===r?void 0:r.event.type)&&this.ga;t&&t.entity.D("dblclick",e,t.collectionMember,t.info)}else{const i=e instanceof PointerEvent?this.da.get(e.pointerId):a;null==i||i.entity.D(t,e,i.collectionMember,i.info)}e&&a&&!["touchend"].includes(t)&&(this.ga={...a,event:e})},this.Qo=()=>{const{bottom:t,left:e}=this.En.getBoundingClientRect(),i=En(Math.floor(e),Math.floor(t));return i.x===this.ea.x&&i.y===this.ea.y||this.L.D("locationchange",{}),this.ea=i,this.va=jr.performance.now(),this},this.Jo=()=>{this.ya&&this.ya()},this.Dn=(t,e)=>{if(void 0!==e){const i=this.la.find((t=>t[0]===e));return i&&(i[1]=t,this.la.indexOf(i)===this.la.length-1&&(this.En.style.cursor=t)),e}const i=this.aa;return this.aa+=1,this.la.push([i,t]),this.En.style.cursor=t,i},this.Rn=t=>{var e;const i=this.la.find((e=>e[0]===t));if(i){const t=this.la.indexOf(i),n=t===this.la.length-1;if(this.la.splice(t,1),n){const t=(null===(e=this.la[this.la.length-1])||void 0===e?void 0:e[1])||"default";this.En.style.cursor=t}}},this.pa=t=>(this.ma._(t),this),this.Sa=()=>this.ma.C(),this.ba=()=>{this.ra&&this.ra(1e3/60),this.xa(),this.Ma(),this.na&&this.na()},this.wa=t=>(this.ia.set(t._a(),t),this.ia=new Map([...this.ia.entries()].sort(((t,e)=>t[0]-e[0]))),t),this.ka=t=>(this.ia.delete(t),this),this.Y=()=>(this.ma.o=!1,this),this.j=()=>(this.ma.o=!0,this),this.Ca=()=>this.Aa,this.L=new Er,this.qo=t,this.bi=e.theme,this.Ta=i.Ta,this.Fa=i.Ia,this.Pa={be:e&&void 0!==e.resourcesBaseUrl&&null!==e.resourcesBaseUrl?e.resourcesBaseUrl:void 0,La:!e||!("warnings"in e)||"boolean"!=typeof e.warnings||e.warnings,Ba:(()=>{const t=null==e?void 0:e.pickingPrecision;if("string"==typeof t){const e=t.toLowerCase();if("best"===e)return 1;if("high"===e)return.5;if("low"===e)return 1/8}return 1/4})(),Da:void 0===(null==e?void 0:e.interactable)||e.interactable,Ra:void 0===e.textPixelSnappingEnabled||e.textPixelSnappingEnabled};const n=e?e.container:void 0;if(n){if("string"==typeof n){const t=jr.document.getElementById(n);if(!t)throw new Error('Container "'.concat(n,"\" doesn't exist."));this.En=t}else this.En=n;jr.addEventListener("resize",this.Jo),this.oa.push((()=>{jr.removeEventListener("resize",this.Jo)}))}else{if(void 0===Kh){const t=jr.document.createElement("div");t.id="lcjs-auto-flexbox",t.style.position="relative",t.style.width="100%",t.style.display="flex",t.style.flexDirection="column",jr.document.body.appendChild(t),Kh=t,jr.addEventListener("resize",Qh)}let t=1;for(;null!==jr.document.getElementById("chart-".concat(t));)t+=1;this.En=jr.document.createElement("div"),this.En.id="chart-".concat(t),this.En.style.flex="1",this.En.style.height="100%",Kh.appendChild(this.En),Qh(),Jh.push(this.Jo),this.oa.push((()=>{Kh&&Kh.removeChild(this.En),Jh.includes(this.Jo)&&Jh.splice(Jh.indexOf(this.Jo),1),0===Jh.length&&Kh&&(jr.document.body.removeChild(Kh),Kh=void 0,jr.removeEventListener("resize",Qh))}))}if(jr.ResizeObserver){const t=t=>{for(const e of t)e.target===this.En&&this.Jo()};this.Ea=new jr.ResizeObserver(t.bind(this)),this.Ea.observe(this.En)}this.En.style.position="relative",this.En.style.boxSizing="content-box",!1!==this.Pa.Da&&(this.En.style.touchAction="none"),this.En.style.overflow="hidden",this.En.addEventListener("fullscreenchange",this.Jo),this.En.addEventListener("webkitfullscreenchange",this.Jo),this.En.addEventListener("dragstart",this.ua);const r=e?e.maxFps:void 0;this.Oa=r?-1===r?-1:0!==r?1e3/r:0:0,Object.keys(Ar).forEach((t=>{const e=e=>{this.fa(t,e)};this.En.addEventListener(t,e),this.oa.push((()=>{this.En.removeEventListener(t,e)}))})),jr.addEventListener("scroll",this.Qo,{passive:!0}),this.ma=Fn(new In({r:0,g:0,b:0,a:0})),this._s=new Xh(this)}za(t,e,i){this.Va=t?{entity:t,timestamp:i,pointed:e}:void 0}Na(t,e){const i=Array.from(this.da.values()).find((e=>e.entity===t.entity&&(void 0===t.collectionMember||t.collectionMember===e.collectionMember)));i&&(i.entity=e.entity,i.collectionMember=e.collectionMember)}ki(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const i=Array.from(this.da.values()).find((i=>i.entity===t&&(void 0===e||e===i.collectionMember)));i&&(t.D("pointerleave",i.lastEvent,i.collectionMember,i.info),this.da.delete(i.lastEvent.pointerId))}Ga(){this.ca=!0,this.ra=void 0,this.na=void 0}Wo(){this.la.length=0,this.En.style.cursor="unset"}$a(){return this.Ua}Ya(){return this.ja}setBackgroundFillStyle(t){return this.Ha.th(t),this.Rs(),this}getBackgroundFillStyle(){return this.Ha.Sr()}setBackgroundStrokeStyle(t){return this.Ha.qe(t),this.Rs(),this}getBackgroundStrokeStyle(){return this.Ha.Wa()}Xa(t){return this.na=t,this}Za(t){return this.ra=t,this}Ja(t){return this.ia.get(t)}Qa(){return Array.from(this.ia.keys()).reverse().reduce(((t,e)=>e!==Number.MAX_SAFE_INTEGER&&e>t?e:t),0)+1}N(){if(!this.ci){if(this.ci=!0,this.ia)for(const t of this.ia.values())t.N();this.ra=void 0,this.na=void 0,jr.removeEventListener("scroll",this.Qo),this.En.removeEventListener("fullscreenchange",this.Jo),this.En.removeEventListener("webkitfullscreenchange",this.Jo),this.En.removeEventListener("dragstart",this.ua),this.Ea&&(this.Ea.disconnect(),this.Ea=void 0),this.oa.forEach((t=>{t()})),this.oa.length=0}}oh(t,e){return En(t-this.ea.x,this.ea.y-e)}Xn(t,e){return En(t+this.ea.x,this.ea.y-e)}Ka(t){const e=this.oh(t.clientX,t.clientY);return{engineX:e.x,engineY:e.y}}qa(t){const e=this.Xn(t.engineX,t.engineY);return{clientX:e.x,clientY:e.y}}tl(t,e,i,n){const r=hr(t,i,this.oi),s=hr(e,i,this.oi),o=this.qa({engineX:r.x,engineY:r.y}),a=this.qa({engineX:s.x,engineY:s.y});return{p1:{clientX:Math.min(o.clientX,a.clientX)-n.left,clientY:Math.min(o.clientY,a.clientY)-n.top},p2:{clientX:Math.max(o.clientX,a.clientX)+n.right,clientY:Math.max(o.clientY,a.clientY)+n.bottom}}}R(t,e,i){this.L.addEventListener(t,e,i)}V(t,e){this.L.removeEventListener(t,e)}}class ic extends br{constructor(t,e,i,n){super(t,i,n),this.$n=0,this.Zs=e,this.Zs.il=!0}sl(){}el(t){return this.$n===t||(this.$n=t,this.Zs.il=!0),this}hl(){return this.$n}}class nc extends ic{constructor(t,e,i,n,r){super(t,e,n,r),this.rl=!0,this.oi=i}}const rc=(t,e,i)=>{if(i instanceof sr){const n=i.ri(),r=zo(e,{x:Math.abs(n.x),y:Math.abs(n.y)});return Tn(En(t.min.x-r.x,t.min.y-r.y),En(t.max.x+r.x,t.max.y+r.y))}return Tn(i.Jt(En(t.min.x,t.min.y),Lo(e,-1)),i.Jt(En(t.max.x,t.max.y),e))},sc=(t,e)=>"function"==typeof e?e(t):e,oc=(t,e)=>!t||t!==e,ac=t=>t!==na;class lc extends nc{constructor(t,e,i,n,r){super(t,e,i,n,r),this.Je=tc.fillStyle,this.gi=t}th(t){return this.Je=sc(this.Je,t),this}Sr(){return this.Je}nl(){return oc(this.ol,this.Je)}al(){return((t,e)=>t===na&&e!==na)(this.ol,this.Je)}ll(){return ac(this.Je)}cl(t){this.ol=t}}class hc extends lc{constructor(t,e,i,n,r){super(t,e,i,n,r),this.Qe=tc.lineStyle,this.gi=t}qe(t){return this.Qe="function"==typeof t?t(this.Qe):t,this}Wa(){return this.Qe}ul(){return!this.dl||this.dl!==this.Qe}fl(t){return!this.dl||this.dl.getThickness()!==t}ll(){return this.Qe!==Br||super.ll()}al(){return(this.Qe!==Br||this.Je!==na)&&this.dl===Br&&this.ol===na}Al(t){this.dl=t}}class cc extends lc{constructor(t,e,i,n,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Fn(tc.font);super(t,e,i,n,r),this.vl=Fn(""),this.yl=!1,this.pl={x:1,y:-1},this.Fn=Fn(En(0,0)),this.ml=Fn(0),this.Sl=Fn(0),this.bl=Fn(En(0,0)),this.xl=Fn(0),this.Ml=Fn(ja),this.wl=En(0,0),this.nt=Fn(Ln(1,1,1,1)),this.Vn=Fn(Rn(4,4,4,4)),this.font=Fn(tc.font),this._l=!1,this.font=s}ll(){return ac(this.Je)&&this.vl.C().length>0}al(){return!1===this._l&&this.ll()}Kr(t){return this.vl._(t),this}sn(){return this.vl.C()}_r(t){return Ga(t)?this.Ml._(t):this.Ml._(t(this.Ml.C())),this}wr(){return this.Ml.C()}kl(t){return this.Ml._(this.Ml.C().setFamily(t)),this}Cl(){return this.Ml.C().getFamily()}Tl(t){return this.Ml._(this.Ml.C().setSize(t)),this}Fl(){return this.Ml.C().getSize()}Il(t){return this.Ml._(this.Ml.C().setWeight(t)),this}Pl(){return this.Ml.C().getWeight()}Ll(t){return this.Ml._(this.Ml.C().setStyle(t)),this}Bl(){return this.Ml.C().getStyle()}Dl(t){return this.Ml._(this.Ml.C().setVariant(t)),this}Rl(){return this.Ml.C().getVariant()}eh(t){return this.Fn._(t),this}El(){return this.Fn.C()}kr(t){return this.xl._(t),this}Cr(){return this.xl.C()}Qr(t){return this.Ol=t,this}zl(){return this.Ol}Vl(t,e){return this.bl._(En(t,e)),this}Nl(){return this.bl.C()}Gl(t){return this.Sl._(t),this}$l(){return this.Sl.C()}Ul(){return{x:this.Sl.C(),y:this.ml.C()}}Yl(t){return this.ml._(t),this}jl(){return this.ml.C()}Hl(t){return this.Sl._(t.x),this.ml._(t.y),this}bn(t){return this.nt._(t),this}Wl(){return this.nt.C()}xn(t){return this.Vn._(t),this}Xl(){return this.Vn.C()}}class uc extends hc{constructor(t,e,i,n,r){super(t,e,i,n,r),this.Fn=Fn(En(0,0)),this.U=Fn(En(100,100)),this.xl=Fn(0),this.wl=Fn(En(0,0)),this.Zl=!1}zr(){return this.Jl(),this}eh(t){const e=this.Fn.C();return t.x===e.x&&t.y===e.y||(this.Fn._(t),this.Jl()),this}El(){return this.Fn.C()}Ql(t){const e=this.Fn.C();return t!==e.x&&(this.Fn._(En(t,e.y)),this.Jl()),this}Kl(t){const e=this.Fn.C();return t!==e.y&&(this.Fn._(En(e.x,t)),this.Jl()),this}X(t){const e=this.U.C();return t.x===e.x&&t.y===e.y||(this.U._(En(t.x,t.y)),this.Jl()),this}_t(){return this.U.C()}ql(t){const e=this.U.C();return t!==e.x&&(this.U._(En(t,e.y)),this.Jl()),this}tc(t){const e=this.U.C();return t!==e.x&&(this.U._(En(e.x,t)),this.Jl()),this}kr(t){return this.xl._(t),this}Cr(){return this.xl.C()}sc(t){const e=this.wl.C();return t===e&&e.x===t.x&&e.y===t.y||(void 0===t?(this.Zl=!1,this.Jl()):(this.Zl=!0,this.wl._(t))),this}Jl(){if(!this.Zl){const t=this.Fn.C(),e=this.U.C(),i=En(t.x+e.x/2,t.y+e.y/2),n=this.wl.C();i.x===n.x&&i.y===n.y||this.wl._(i)}}}class dc extends hc{constructor(){super(...arguments),this.hc=[],this.Fn=Fn(En(0,0)),this.rc=oo,this.nc=!1}oc(t){return t=Es(t),this.hc=t,this.nc=!0,this}ac(){return this.hc}Xi(){return this.rc.max.x}Wi(){return this.rc.min.x}Ji(){return this.rc.max.y}Zi(){return this.rc.min.y}lc(){return 0}cc(){return 0}}class fc extends lc{constructor(t,e,i,n,r){super(t,e,i,n,r),this.uc=new Array,this.dc=new Array,this.rc=oo,this.fc=0,this.Ac=!1,this.gc=[Array(),Array()],this.vc=!1,this.yc=(new aa).setColor(Vn(42,171,240)),this.mc=!1,this.Sc=!1,this.bc=!1}xc(t,e){const i=this.fc-1,n=i>0&&!this.vc;let[r,s]=n?[[this.uc[i]],[this.dc[i]]]:[[],[]];if(t instanceof Array){const[e,i]=Mn(t);r=Ts(r,e,{canReturnB:!0}),s=Ts(s,i,{canReturnB:!0})}else{const e=t.position;r.push(En(e,t.high)),s.push(En(e,t.low))}return this.vc?(this.gc[0]=Ts(this.gc[0],r,{canReturnB:!0}),this.gc[1]=Ts(this.gc[1],s,{canReturnB:!0})):(this.gc=[r,s],this.vc=!0),this.rc=Eo(this.rc,e||Eo(So(r),So(s))),this}Ni(){return this.mc=!0,this.uc.length=0,this.dc.length=0,this.fc=0,this.rc=oo,this}Mc(){return[this.uc,this.dc]}wc(){return[this.gc[0],this.gc[1]]}_c(t){return this.yc="function"==typeof t?t(this.yc):t,this}kc(){return this.yc}Cc(){return this.fc-(Number(this.Sc)+Number(this.bc))}Tc(){return this.gc.length}Fc(t){return this.Sc=t,this}Ic(){return this.Sc}Pc(t){return this.bc=t,this}Lc(){return this.bc}al(){return this.ol===na&&this.Bc===na&&(this.Je!==na||this.yc!==na)}Dc(t){this.Bc=t}ll(){return this.yc!==na||super.ll()}nl(){return super.nl()||!this.Bc||this.Bc!==this.yc}}class gc extends hc{constructor(t,e,i,n,r){super(t,e,i,n,r),this.Fn=Fn(En(0,0)),this.Rc=Fn(0),this.$t=Fn(360),this.Ec=Fn(100),this.Oc=Fn(100),this.zc=Fn(0),this.Vc=Fn(void 0),this.Nc=En(0,0),this.Gc=En(0,0),this.$c=En(0,0)}Uc(){return this.Ec.C()}Yc(){return this.Oc.C()}El(){return this.Fn.C()}jc(){return this.Rc.C()}Gt(){return this.$t.C()}Hc(){return this.zc.C()}Wc(){return this.Vc.C()}Xc(){return this.Nc}Zc(){return this.Gc}Jc(){return this.$c}eh(t){return this.Fn._(t),this}Qc(t){return this.Rc._(t),this}yh(t){return this.$t._(t),this}Kc(t){return this.Oc._(t),this.Ec._(t),this}qc(t){return this.Ec._(t),this}tu(t){return this.Oc._(t),this}iu(t){return this.zc._(t<0?0:t),this}su(t){return this.Vc._(void 0!==t&&t<=0?void 0:t),this}}var pc;!function(t){t[t.Complex=0]="Complex",t[t.Simple=1]="Simple"}(pc||(pc={}));class mc extends nc{constructor(t,e,i,n,r){super(t,e,i,n,r),this.eu=tc.lineStyle,this.engine=t}Ah(t){return this.eu=((t,e)=>"function"==typeof e?e(t):e)(this.eu,t),this}co(){return this.eu}ul(){return((t,e)=>!t||t!==e)(this.hu,this.eu)}ru(t){return((t,e)=>!t||t.getThickness()!==e)(this.hu,t)}al(){return((t,e)=>t===Br&&e!==Br)(this.hu,this.eu)}ll(){return(t=>t!==Br&&t.getFillStyle()!==na)(this.eu)}nu(t){this.hu=t}}class yc extends mc{constructor(t,e,i,n,r){super(t,e,i,n,r),this.Yt=En(0,0),this.$t=En(0,0),this.ou=!1}_(t){let{min:e,max:i}=t;return e.x===this.Yt.x&&e.y===this.Yt.y&&i.x===this.$t.x&&i.y===this.$t.y||(this.ou=!0,this.Yt=e,this.$t=i),this}Ut(){return this.Yt}Gt(){return this.$t}ph(t){return t.x===this.Yt.x&&t.y===this.Yt.y||(this.ou=!0,this.Yt=t),this}yh(t){return t.x===this.$t.x&&t.y===this.$t.y||(this.ou=!0,this.$t=t),this}}class vc extends mc{constructor(t,e,i,n,r){super(t,e,i,n,r),this.au=void 0,this.lu=0}}class xc extends mc{constructor(t,e,i,n,r){super(t,e,i,n,r),this.cu=[],this.rc=oo,this.gc=new Array,this.uu=0,this.mc=!1,this.du=Fn(void 0),this.Sc=!1,this.bc=!1}wc(){return this.gc}Mc(){return this.cu}Ni(){return this.mc=!0,this.cu.length=0,this.uu=0,this.gc=[],this.rc=oo,this}Cc(){return this.uu-(Number(this.Sc)+Number(this.bc))}Tc(){return this.gc.length}Fc(t){return this.Sc=t,this}Ic(){return this.Sc}Pc(t){return this.bc=t,this}Lc(){return this.bc}}class bc extends cc{constructor(t,e,i,n,r){super(t,e,i,n,[]),this.fu={uid:r,text:"",font:"",color:"",position:"absolute",left:0,top:0,padding:"",alignmentX:0,alignmentY:0,rotation:0,identifier:Ta.Other,visible:!0}}Au(){var t;if(!this.getVisible()||0===this.vl.C().length||ra(this.Je))return this.fu.visible=!1,this.fu;this.fu.visible=!0;const e=Zh(this.Ml.C(),devicePixelRatio);this.fu.identifier=null!==(t=this.Qh)&&void 0!==t?t:Ta.Other,this.fu.text=this.vl.C(),this.fu.font=e.font,this.fu.color=la(this.Je)?"rgba(".concat(255*this.Je.color.r,",").concat(255*this.Je.color.g,",").concat(255*this.Je.color.b,",").concat(this.Je.color.a,")"):this.fu.color;const i=this.Fn.C(),n=hr(i,this.oi,this.gi.oi),r=Math.round(10*n.x)/10,s=Math.round(10*(this.gi._t().y-n.y))/10;this.fu.top=s,this.fu.left=r,this.fu.alignmentX=this.Sl.C(),this.fu.alignmentY=this.ml.C(),this.fu.rotation=this.xl.C();const o=this.nt.C(),a=this.Vn.C();return this.fu.padding="".concat(o.top+a.top,"px ").concat(o.right+a.right,"px ").concat(o.bottom+a.bottom,"px ").concat(o.left+a.left,"px"),this.fu}gu(){var t;this.Au();const e=null===(t=this.gi.vu)||void 0===t?void 0:t.yu.getTextBoundingBox;if(e){const t=e(this.fu);if(t){const e=this.gi.Ka({clientX:t.left,clientY:t.top}),i=this.gi.Ka({clientX:t.left+t.width,clientY:t.top+t.height}),n=hr({x:e.engineX,y:e.engineY},this.gi.oi,this.oi),r=hr({x:i.engineX,y:i.engineY},this.gi.oi,this.oi);return{min:{x:Math.min(n.x,r.x),y:Math.min(n.y,r.y)},max:{x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)}}}}return oo}pu(){var t;this.Au();const e=null===(t=this.gi.vu)||void 0===t?void 0:t.yu.measureText;if(e){const t=e(this.fu);if(t)return t}return this.gi.mu.sr.Ih(this.vl.C(),this.Ml.C(),this.xl.C())}_t(){if(!(this.oi instanceof sr))return{x:0,y:0};const t=this.oi.ri(),e=this.pu();return{x:e.x*t.x,y:e.y*t.y}}zr(){return this}Xi(){return 0}Wi(){return 0}Ji(){return 0}Zi(){return 0}lc(){return 0}cc(){return 0}Su(t,e){return{}}bu(){return this}xu(t,e,i,n,r){return{}}}class Sc extends Rh{constructor(){super(...arguments),this.Nn=0}getHighlight(){return this.Nn}setHighlight(t){return this.Nn=t,this.zn().forEach((e=>e.Fi(t))),this.L.D("highlightchange",{highlight:t}),this.Zs.Rs(),this}}class Ac extends Sc{}class Ec extends Ac{constructor(t,e,i,n,r,s){super(t,e,i,r,s),this.Mu=this.Zs.wu(this.renderingScale,pc.Simple).setVisible(!1).th(na).qe(Br),this.L.Vi(this.Mu)}_u(){const t=this.ku();if(t.length>2){const e=So(t),i=En(e.max.x-e.min.x,e.max.y-e.min.y);this.setContentSize(i);const n=t.map((t=>{const n=Ro(t,Lo(e.min,-1));return this.scale.Jt(this.Fn,Ro(n,zo(Lo(Ro(this.origin,En(1,1)),-.5),i)))})).map((t=>hr(t,this.scale,this.renderingScale)));this.Mu.oc(n).setVisible(this.getVisible()).setVisible(this.getVisible())}else this.Mu&&this.Mu.setVisible(!1),this.setContentSize(En(0,0))}sh(){return super.sh(),this.ci||(this._u(),void 0!==this.$n&&this.Mu.el(this.$n)),this}zr(){return this._u(),super.zr()}setVisible(t){return super.setVisible(t),this.Mu.setVisible(t),this}}const wc=t=>!(!t||"object"!=typeof t||!("elementAt"in t)),kc=t=>{if("srcLoopArray"in t){const{srcLoopArray:e,dataRanges:i,NewArray:n}=t;return{length:i.reduce(((t,e)=>t+e.count),0),elementAt:t=>{let n=0;for(const r of i){if(n+r.count-1>=t){const i=r.offset+(t-n);return e[i]}n+=r.count}return Ds(0,(()=>{})),-1},toArray:(t,r)=>{const s=r-t+1;if(1===i.length){const n=i[0],s=n.offset+t,o=n.offset+r;return e.subarray(s,o+1)}{const o=i[0],a=i[1],l=0,h=l+o.count-1,c=h+1,u=c+a.count-1,d=new n(s);let f=0;if(!(r<l||t>h)){const i=Math.max(l,t),n=Math.min(h,r)-i+1,s=o.offset+(t+f-l);d.set(e.subarray(s,s+n),f),f+=n}if(!(r<c||t>u)){const i=Math.max(c,t),n=Math.min(u,r)-i+1,s=a.offset+(t+f-c);d.set(e.subarray(s,s+n),f),f+=n}return d}}}}return{length:t.length,elementAt:e=>t[e],toArray:(e,i)=>Ur(t,e,i+1)}},Cc=(t,e)=>Object.keys(t).length===Object.keys(e).length&&!Object.keys(t).find((t=>void 0===e[t]))&&!Object.entries(t).find((t=>{let[i,n]=t;return e[i]!==n}));class Mc{constructor(t){if(this.Cu=0,this.Tu=0,this.Fu=0,this.Iu=!1,this.Pu=!0,this.Lu=!1,this.Bu={warningDisplayed:!1,expandEvents:[]},this.L=new Er,this.Pu=!t||void 0===t.autoSortingEnabled||t.autoSortingEnabled,this.Du=!1!==(null==t?void 0:t.allowInputModification),this.Ru=void 0===(null==t?void 0:t.includesNaN)||t.includesNaN,this.Eu=void 0!==(null==t?void 0:t.strictMode)&&t.strictMode,this.La=void 0===(null==t?void 0:t.warnings)||t.warnings,this.Ou=void 0===(null==t?void 0:t.autoDetectPatterns)||t.autoDetectPatterns,null==t?void 0:t.schema){const e={};Object.entries(t.schema).forEach((t=>{let[i,n]=t;var r;let s=void 0!==n.pattern?n.pattern:void 0;n.auto&&(s=("object"==typeof n.auto&&null!==(r=n.auto.step)&&void 0!==r?r:1)>0?"progressive":"regressive");const o={dataStorage:n.storage,zu:{effective:s,userSpecified:s},auto:n.auto,cache:void 0,ensureNoDuplication:void 0!==n.ensureNoDuplication&&n.ensureNoDuplication};if(this.Eu&&void 0===n.pattern)throw new Error("LightningChart JS error - DataSetXY property ('".concat(i,"') data pattern not specified. This is not allowed when strict mode is enabled."));e[i]=o})),this.Vu=e}if(this.Eu&&!this.Vu)throw new Error("LightningChart JS error - DataSetXY schema not defined. This is not allowed when strict mode is enabled.")}appendJSON(t,e,i){if(!Array.isArray(t))return this.appendJSON([t]);const n=t.length;if(0===n)return this;const r=Object.keys(t[0]).filter((t=>(!(null==e?void 0:e.whitelist)||e.whitelist.includes(t))&&(!(null==e?void 0:e.blacklist)||!e.blacklist.includes(t))));if(0===r.length)return this;const s=Object.fromEntries(r.map((t=>{const e=this.Vu&&this.Vu[t];return[t,new((null==e?void 0:e.dataStorage)||Float64Array)(n)]})));for(let o=0;o<n;o+=1){const e=t[o];for(const t of r)s[t][o]=e[t]}return i&&Object.entries(i).forEach((t=>{let[e,i]=t;s[e]=i})),this.appendSamples(s,e),this}appendSample(t,e){const i=Object.keys(t).filter((t=>(!(null==e?void 0:e.whitelist)||e.whitelist.includes(t))&&(!(null==e?void 0:e.blacklist)||!e.blacklist.includes(t))));if(0===i.length)return this;const n=Object.fromEntries(i.map((e=>{var i,n;return[e,Ic(t[e],this.Vu&&null!==(n=null===(i=this.Vu[e])||void 0===i?void 0:i.dataStorage)&&void 0!==n?n:Float64Array)]}))),r=this.Nu({appendCount:1,keys:i,parsedDataArrs:n,opts:e});if(!r.incomingDataReplacedCache&&this.Pu){let t=this.Gu(n);if(t=t&&t.filter((t=>this.Vu&&this.Vu[t].zu&&!("autoDetectResult"in this.Vu[t].zu))),t&&t.length>0)if(this.Lu);else{t.length>1&&this.La&&jr.console.warn("LightningChart JS warning - DataSetXY data pushed in order that doesn't match data pattern. Automatic sorting is attempted, but there is more than 1 data pattern mismatch. Behavior may be compromised.");for(const e of t){const t=this.Vu?this.Vu[e]:void 0;if(!(t&&t.zu&&"autoDetectResult"in t.zu))return this.$u(e,{parsedDataArrs:Object.fromEntries(r.keys.map((t=>[t,"number"==typeof n[t]?new Array(1).fill(n[t]):n[t]]))),offset:0,count:1}),this}jr.console.error("LightningChart JS error - data is arriving in wrong order and auto sorting is either disabled or not applicable. Chart functionality is compromised. Following data properties didn't match their configured pattern: ".concat(t.map((t=>"'".concat(t,"'"))).join(", ")))}}for(const s of r.keys){const t=r.buckets[s].cache;if(!t)continue;const e=n[s];t[this.Cu]="number"==typeof e?e:e[0]}return this.L.D("change",{type:"change",iDataStart:this.Cu,iDataEnd:this.Cu}),this.Cu+=1,this.Cu>r.maxSampleCount-1&&(this.Cu=0,this.Iu=!0,this.L.D("loop",{type:"loop"})),this.Tu=Math.min(this.Tu+1,r.maxSampleCount),this.Fu+=1,this}appendSamples(t,e){const i=Object.keys(t);if(0===i.length)return this;const n=Object.entries(t).filter((t=>{let[,e]=t;return"object"==typeof e&&"length"in e})).map((t=>t[0])),r=n.reduce(((e,i)=>Math.min(e,t[i].length)),Number.MAX_SAFE_INTEGER);n.forEach((e=>{const i=t[e];i.length>r&&(jr.console.warn("LightningChart JS warning - insymmetric DataSetXY input (".concat(e,"). Extra measurements will be dropped")),Array.isArray(i)?this.Du?i.length=r:t[e]=i.slice(0,r):t[e]=i.subarray(0,r))}));let s=null==e?void 0:e.offset,o=null==e?void 0:e.count;if(s=void 0!==s?s:0,o=void 0!==o?o:r-s,o<=0)return this;const a=Object.fromEntries(i.map((e=>{var i,n;const r=t[e];return this.Vu&&this.Vu[e]&&void 0!==this.Vu[e].dataStorage||this.Eu||!Vc(r)?[e,Ic(t[e],this.Vu&&null!==(n=null===(i=this.Vu[e])||void 0===i?void 0:i.dataStorage)&&void 0!==n?n:Float64Array)]:[e,r]}))),l=this.Nu({appendCount:o,keys:i,parsedDataArrs:a,opts:e});if(Object.entries(l.buckets).forEach((t=>{let[e,i]=t;if(0===this.Tu&&i.ensureNoDuplication){const t=a[e],n=i.cache;if(Array.isArray(t)||n!==t)throw new Error("LightningChart JS error | DataSetXY ensureNoDuplication check failed for '".concat(e,"'"))}})),!l.incomingDataReplacedCache&&this.Pu){let t=this.Gu(a);if(t=t&&t.filter((t=>this.Vu&&this.Vu[t].zu&&!("autoDetectResult"in this.Vu[t].zu))),t&&t.length>0)if(this.Lu);else{t.length>1&&this.La&&jr.console.warn("LightningChart JS warning - DataSetXY data pushed in order that doesn't match data pattern. Automatic sorting is attempted, but there is more than 1 data pattern mismatch. Behavior may be compromised.");for(const e of t){const t=this.Vu?this.Vu[e]:void 0;if(!(t&&t.zu&&"autoDetectResult"in t.zu))return this.$u(e,{parsedDataArrs:Object.fromEntries(i.map((t=>[t,"number"==typeof a[t]?new Array(o).fill(a[t]):a[t]]))),offset:s,count:o}),this}jr.console.error("LightningChart JS error - data is arriving in wrong order and auto sorting is either disabled or not applicable. Chart functionality is compromised. Following data properties didn't match their configured pattern: ".concat(t.map((t=>"'".concat(t,"'"))).join(", ")))}}const h=l.maxSampleCount-this.Cu,c=Math.min(o,h);if(c>0){if(!l.incomingDataReplacedCache)for(const t of l.keys){const e=l.buckets[t].cache,i=a[t];Lc(e,i,s,c,this.Cu)}this.L.D("change",{type:"change",iDataStart:this.Cu,iDataEnd:this.Cu+c-1}),this.Cu+=c,this.Cu>l.maxSampleCount-1&&(this.Cu=0,this.Iu=!0,this.L.D("loop",{type:"loop"}))}if(this.Tu=Math.min(this.Tu+c,l.maxSampleCount),this.Fu+=c,o-c>0&&!l.incomingDataReplacedCache){const t={};for(const e of l.keys)t[e]=Ur(a[e],s+c,void 0);this.appendSamples(t,e)}else this.Uu();return this}fill(t){return this.Vu?(Object.keys(t).forEach((t=>{this.Vu&&!this.Vu[t]&&this.La&&jr.console.warn("LightningChart JS warning - DataSetXY.fill() tried to fill data property that doesn't exist in schema (\"".concat(t,'")'))})),Object.entries(this.Vu).forEach((e=>{let[i,n]=e,r=t[i];n.cache&&void 0!==r&&(Dn(r)&&(r=r.toUint32()),n.cache.fill(r))})),this.L.D("clear",{type:"clear"}),this):this}setSamples(t,e){return this.clear().appendSamples(t,e)}alterSamplesStartingFrom(t,e,i){var n,r,s;const o=Object.values(e).find((t=>"number"!=typeof t));let a=null==i?void 0:i.offset,l=null==i?void 0:i.count;const h=o?o.length:1;if(a=void 0!==a?a:0,l=void 0!==l?l:h-a,l<=0)return this;const c=Object.keys(e),u=Object.fromEntries(c.map((t=>{var i,n;return[t,Ic(e[t],this.Vu&&null!==(n=null===(i=this.Vu[t])||void 0===i?void 0:i.dataStorage)&&void 0!==n?n:Float64Array)]}))),d=this.Fu-1,f=void 0!==this.Yu?Math.max(this.Fu-this.Yu,0):0,g=t+l-1,p=Math.max(t,f),m=Math.min(g,d),y=m-p+1;if(this.Fu>0&&y>0){const e=this.Nu({appendCount:0,keys:c,parsedDataArrs:u,opts:i}),o=null!==(s=null===(r=null===(n=Object.values(e.buckets).find((t=>t.cache)))||void 0===n?void 0:n.cache)||void 0===r?void 0:r.length)&&void 0!==s?s:0;if(void 0!==this.Yu&&this.Iu&&this.Fu%this.Yu!=0){const i=this.Fu-this.Fu%this.Yu,n=this.Fu-1,r=this.Fu-this.Tu,s=i-1,l=Math.max(p,r),h=Math.min(m,s)-l+1;if(h>0){const i=l-t,n=Tc(l,this.Fu,o,this.Cu);for(const t of e.keys){const r=e.buckets[t].cache,s=u[t];Lc(r,s,a+i,h,n)}}const c=Math.max(p,i),d=Math.min(m,n)-c+1;if(d>0){const i=c-t,n=Tc(c,this.Fu,o,this.Cu);for(const t of e.keys){const r=e.buckets[t].cache,s=u[t];Lc(r,s,a+i,d,n)}}}else{const t=p-f;for(const i of e.keys){const n=e.buckets[i].cache,r=u[i];Lc(n,r,a,y,t)}}this.L.D("clear",{type:"clear"})}const v=t+l-1-d;if(v>0){const i=m+1-t;this.appendSamples(e,{offset:a+i,count:v})}return this}alterSamplesByIndex(t,e){var i;if(!this.Vu)return this;const n=t.length,r=Object.keys(e),s=Object.fromEntries(r.map((t=>{var i,n;return[t,Ic(e[t],this.Vu&&null!==(n=null===(i=this.Vu[t])||void 0===i?void 0:i.dataStorage)&&void 0!==n?n:Float64Array)]}))),o=this.Fu-1,a=void 0!==this.Yu?Math.max(this.Fu-this.Yu,0):0;if(n<=0)return this;let l=!1;const h=Object.values(this.Vu).find((t=>t.cache)).cache.length;for(let c=0;c<n;c+=1){const e=t[c];if(e<a||e>o)continue;const n=Tc(e,this.Fu,h,this.Cu);for(const t of r){const e=null===(i=this.Vu[t])||void 0===i?void 0:i.cache,r=s[t];e&&(e[n]="number"==typeof r?r:r[c],l=!0)}}return l&&this.L.D("clear",{type:"clear"}),this}alterSamplesByMatch(t,e,i){var n;if(!this.Vu)return this;const r=e.length,s=this.Tu,o=this.Fu-1,a=Math.max(o-s+1,0),l=Object.keys(i),h=Object.fromEntries(l.map((t=>{var e,n;return[t,Ic(i[t],this.Vu&&null!==(n=null===(e=this.Vu[t])||void 0===e?void 0:e.dataStorage)&&void 0!==n?n:Float64Array)]})));if(r<=0)return this;let c=!1;const u=this.Vu[t].cache,d=this.ju(t);if(!u)return this;const f=u.length;for(let g=0;g<r;g+=1){const i=e[g];let r;if(d){const t=Fc(i,a,o,!0,(t=>u[Tc(t,this.Fu,f,this.Cu)]));r=Tc(t,this.Fu,f,this.Cu)}else for(let t=0;t<f;t+=1)if(u[t]===i){r=t;break}if(void 0!==r){if(u[r]===i)for(const t of l){const e=null===(n=this.Vu[t])||void 0===n?void 0:n.cache,i=h[t];e&&(e[r]="number"==typeof i?i:i[g],c=!0)}}else this.La&&jr.console.warn('LightningChart JS warning - DataSetXY.alterSamplesByMatch no match found for "'.concat(t,"=").concat(i,'"'))}return c&&this.L.D("clear",{type:"clear"}),this}Uu(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.Vu&&this.Ou&&Object.entries(this.Vu).forEach((e=>{let i,[n,r]=e;if(r.cache)if(r.zu&&"userSpecified"in r.zu)i=r.zu.userSpecified;else if(r.zu&&"autoDetectResult"in r.zu)i=r.zu.autoDetectResult;else if(r.cache&&this.Fu>0&&!t){const t=void 0!==this.Yu&&this.Iu?this.Cu:0,e=this.Tu-1,s=void 0!==this.Yu&&this.Iu?0:void 0,o=void 0!==this.Yu&&this.Iu?this.Cu-1:void 0,[a,l]=void 0!==s&&void 0!==o&&Math.abs(o-s)>Math.abs(e-t)?[s,o]:[t,e];if(1+l-a>=5){let t,e=r.cache[a];for(let i=a+1;i<=l;i+=1)if(!1!==t){const n=r.cache[i],s=Math.sign(n-e);0!==s&&t&&t.direction!==s?t=!1:0===s||t||(t={direction:s}),e=n}i=t&&t.direction>0?"progressive":t&&t.direction<0?"regressive":null,r.zu={autoDetectResult:i,effective:i},this.La&&jr.console.warn("LightningChart JS DataSetXY warning | Data pattern was detected automatically (".concat(n,"=").concat(i,").\nAutomatic detection is only intended for kick-starting application development, not for production use.\nDefine data patterns in schema when creating series or DataSetXY to clear this warning and improve performance."))}}}))}Nu(t){var e,i,n,r,s,o,a;if(this.Vu||(this.Vu=Object.fromEntries(t.keys.map((e=>[e,{dataStorage:Dc(t.parsedDataArrs[e]),zu:void 0}])))),0===this.Tu&&this.Vu&&!this.Eu){const e=this.Vu;t.keys.forEach((i=>{e[i]||(e[i]={dataStorage:Dc(t.parsedDataArrs[i])})}))}if((this.Tu>0||this.Eu)&&this.Vu){const e=this.Vu,i=t.keys.filter((t=>!e[t]));if(i.length>0&&t.appendCount>0){if(this.Eu)throw new Error("LightningChart JS error - Input data includes data properties that are not defined in schema. This is not allowed when strict mode is enabled. Extra data properties: ".concat(i.map((t=>"'".concat(t,"'"))).join(", ")));this.La&&jr.console.warn("LightningChart JS warning - Input data includes data properties that are not defined in schema. This is OK for data sets that don't yet have data pushed in, but this was not the case. Extra data properties were dropped: ".concat(i.map((t=>"'".concat(t,"'"))).join(", ")))}i.forEach((e=>{delete t.parsedDataArrs[e]})),t.keys=Object.keys(t.parsedDataArrs)}if(Object.entries(this.Vu).forEach((e=>{let[i,n]=e;n.dataStorage||(n.dataStorage=Dc(t.parsedDataArrs[i]))})),0===this.Tu&&1===Object.keys(this.Vu).length&&!this.Eu){const a=(null!==(i=null===(e=t.opts)||void 0===e?void 0:e.step)&&void 0!==i?i:1)>0?"progressive":"regressive";this.Vu._auto={dataStorage:Float64Array,auto:{start:null!==(r=null===(n=t.opts)||void 0===n?void 0:n.start)&&void 0!==r?r:0,step:null!==(o=null===(s=t.opts)||void 0===s?void 0:s.step)&&void 0!==o?o:1},zu:{userSpecified:a,effective:a}}}Object.entries(this.Vu).forEach((e=>{let[i,n]=e;var r,s,o,a,l,h,c;if(!n.auto)return;const u=null!==(o=null!==(r="object"==typeof n.auto?n.auto.start:void 0)&&void 0!==r?r:null===(s=t.opts)||void 0===s?void 0:s.start)&&void 0!==o?o:0,d=null!==(h=null!==(a="object"==typeof n.auto?n.auto.step:void 0)&&void 0!==a?a:null===(l=t.opts)||void 0===l?void 0:l.step)&&void 0!==h?h:1;let f;if(0===this.Tu)f=u;else{const t=this.Hu();if(!t)return;f=t[i]+d}const g=new(null!==(c=n.dataStorage)&&void 0!==c?c:Float64Array)(t.appendCount);for(let p=0;p<t.appendCount;p+=1)g[p]=f+p*d;t.parsedDataArrs[i]=g})),t.keys=Object.keys(t.parsedDataArrs);const l=Object.keys(this.Vu).filter((e=>!t.keys.includes(e)));if(l.length>0&&t.appendCount>0){if(this.Eu)throw new Error("LightningChart JS error - Input data is missing keys that were defined in schema. This is not allowed when strict mode is enabled. Missing keys: ".concat(l.map((t=>"'".concat(t,"'"))).join(", ")));this.La&&jr.console.warn("LightningChart JS warning - Input data is missing keys that were defined in schema. They will be filled with `0`. Missing keys: ".concat(l.map((t=>"'".concat(t,"'"))).join(", ")))}for(const c of l)t.parsedDataArrs[c]=new(null!==(a=this.Vu[c].dataStorage)&&void 0!==a?a:Float64Array)(t.appendCount).fill(0);if(t.keys=Object.keys(t.parsedDataArrs),0===this.Tu&&0===Object.values(this.Vu).reduce(((t,e)=>t+(e.cache?1:0)),0)&&(void 0===this.Yu||this.Yu===t.appendCount)&&this.Du)return Object.entries(this.Vu).forEach((e=>{let[i,n]=e;var r,s;n.cache="number"==typeof t.parsedDataArrs[i]?new(null!==(r=n.dataStorage)&&void 0!==r?r:Float64Array)(t.appendCount).fill(t.parsedDataArrs[i]):Rc(t.parsedDataArrs[i],null!==(s=n.dataStorage)&&void 0!==s?s:Float64Array)})),this.Uu(),{maxSampleCount:t.appendCount,buckets:this.Vu,incomingDataReplacedCache:!0,keys:t.keys};if(void 0===this.Yu){const e=this.Tu+t.appendCount;if(!Object.values(this.Vu).find((t=>t.cache)))return Object.values(this.Vu).forEach((t=>{var i;t.cache=new(null!==(i=t.dataStorage)&&void 0!==i?i:Float64Array)(e)})),this.Uu(),{maxSampleCount:e,buckets:this.Vu,keys:t.keys};const i=Object.values(this.Vu)[0].cache.length;if(i<e){if(!this.Bu.warningDisplayed){const i=jr.performance.now();if(this.Bu.expandEvents=this.Bu.expandEvents.filter((t=>i-t.timestamp<5e3)),e>1e3&&this.Bu.expandEvents.push({timestamp:i}),this.Bu.expandEvents.length>5)return this.La&&jr.console.warn("LightningChart JS warning - DataSetXY append operation was performed more than 5 times in 5 seconds.\nAutomatic max sample count control was enabled.\nFor streaming applications, DataSetXY.setMaxSampleCount() or Series.setMaxSampleCount() should be configured explicitly to get rid of this warning."),this.Bu.warningDisplayed=!0,this.setMaxSampleCount({mode:"auto"}),this.Nu(t)}return Object.values(this.Vu).forEach((t=>{var i;const n=new(null!==(i=t.dataStorage)&&void 0!==i?i:Float64Array)(e);n.set(t.cache),t.cache=n})),this.Cu=this.Tu,this.Uu(),{maxSampleCount:e,buckets:this.Vu,keys:t.keys}}return i>4*e?(Object.values(this.Vu).forEach((t=>{var i;const n=new(null!==(i=t.dataStorage)&&void 0!==i?i:Float64Array)(e);n.set(t.cache.subarray(0,this.Tu)),t.cache=n})),this.Uu(),{maxSampleCount:e,buckets:this.Vu,keys:t.keys}):(this.Uu(),{maxSampleCount:e,buckets:this.Vu,keys:t.keys})}t.appendCount+this.Tu>this.Yu&&this.L.D("maxsamplecountexceed",{type:"maxsamplecountexceed",currentSampleCount:this.Tu,currentMaxSampleCount:this.Yu,newTotalSampleCount:this.Tu+t.appendCount});const h=this.Yu;return Object.values(this.Vu).forEach((t=>{var e;t.cache=t.cache||new(null!==(e=t.dataStorage)&&void 0!==e?e:Float64Array)(h)})),this.Uu(),{maxSampleCount:h,buckets:this.Vu,keys:t.keys}}getSampleCount(){return this.Tu}getNextSampleIndex(){return this.Fu}ju(t){const e=this.Vu&&this.Vu[t];if(e)return e.zu&&"userSpecified"in e.zu?e.zu.userSpecified:e.zu&&"autoDetectResult"in e.zu?e.zu.autoDetectResult:void 0}Wu(t){if(!this.Vu)return;const e=null==t?void 0:t.x,i=null==t?void 0:t.y,n=e?this.Vu[e]:void 0,r=i?this.Vu[i]:void 0;if(n&&n.zu&&"userSpecified"in n.zu){if("progressive"===n.zu.userSpecified)return"ProgressiveX";if("regressive"===n.zu.userSpecified)return"RegressiveX"}if(r&&r.zu&&"userSpecified"in r.zu){if("progressive"===r.zu.userSpecified)return"ProgressiveY";if("regressive"===r.zu.userSpecified)return"RegressiveY"}if(n&&n.zu&&"autoDetectResult"in n.zu&&n.zu.autoDetectResult){if("progressive"===n.zu.autoDetectResult)return"ProgressiveX";if("regressive"===n.zu.autoDetectResult)return"RegressiveX"}if(r&&r.zu&&"autoDetectResult"in r.zu&&r.zu.autoDetectResult){if("progressive"===r.zu.autoDetectResult)return"ProgressiveY";if("regressive"===r.zu.autoDetectResult)return"RegressiveY"}}Xu(t){if(!t||!this.Vu)return{dataPattern:void 0,Zu:Float64Array,Ju:Float64Array};const e={dataPattern:this.Wu(t)};for(const i of Object.keys(t)){const n=i,r=t[n];if(!r)continue;const s=this.Vu[r];s&&s.cache&&("x"===n&&(e.Qu=s.cache,e.Zu=s.dataStorage),"y"===n&&(e.Ku=s.cache,e.Ju=s.dataStorage),"color"===n&&(e.qu=s.cache),"rotation"===n&&(e.td=s.cache),"size"===n&&(e.sd=s.cache),"lookupValue"===n&&(e.ed=s.cache))}return e}setMaxSampleCount(t){if("object"==typeof t){this.hd&&this.removeEventListener("maxsamplecountexceed",this.hd);const e=t.max,i=t.initial;this.hd=t=>{if(void 0!==e&&t.currentMaxSampleCount>=e)return;let i=Math.max(2*t.currentMaxSampleCount,t.newTotalSampleCount);void 0!==e&&(i=Math.min(i,e)),this.setMaxSampleCount(i)},this.addEventListener("maxsamplecountexceed",this.hd),void 0===this.Yu&&(void 0!==i?this.setMaxSampleCount(i):this.setMaxSampleCount(Math.min(2*this.Tu,void 0!==e?e:Number.MAX_SAFE_INTEGER)))}else if("number"==typeof t){const e=t;if(void 0!==this.Yu&&this.Yu>e)throw new Error("LightningChart JS | DataSetXY.setMaxSampleCount attempted to shrink data set. This is currently not supported.");if(!this.Vu||!Object.values(this.Vu).find((t=>t.cache)))return this.Yu=e,this;if(e===this.Yu)return this;if(this.Iu&&0!==this.Cu)throw new Error("LightningChart JS | DataSetXY.setMaxSampleCount attempted to expand data set that has exceeded its max sample count. This is currently not supported.");this.Yu=e,this.Tu<e?(this.Cu=this.Tu,this.Iu=!1):(this.Cu=0,this.Iu=!0),Object.values(this.Vu).forEach((t=>{var i;const n=new(null!==(i=t.dataStorage)&&void 0!==i?i:Float64Array)(e);n.set(t.cache),t.cache=n}))}return this}getMaxSampleCount(){return this.Yu}clear(){return this.Cu=0,this.Tu=0,this.Fu=0,this.Iu=!1,this.L.D("clear",{type:"clear"}),this}readBack(t){var e;if(!this.Vu)return{data:{},iSampleFirst:0};const i=null===(e=Object.values(this.Vu).find((t=>t.cache)))||void 0===e?void 0:e.cache;if(!i)return{data:{},iSampleFirst:0};const n=i.length;let r,s=[];if(null==t?void 0:t.onlyInRange){const e=this.Vu[t.onlyInRange.key],i=this.ju(t.onlyInRange.key),n=e.cache;if(!i)throw new Error("LightningChart JS - attempted to use `DataSetXY.readBack` with `onlyInRange` without a data pattern.\nThis operation is only supported for progressive data");if(!n)return{data:{},iSampleFirst:0};const o=Math.min(t.onlyInRange.start,t.onlyInRange.end),a=Math.max(t.onlyInRange.start,t.onlyInRange.end),l=Pc(o,a,n,this.Fu,this.Tu,this.Cu,i,0);if(!l)return{data:{},iSampleFirst:0};s=l.dataRanges,r=l.iFirstSample}else if(void 0!==this.Yu&&this.Iu&&this.Fu%this.Yu!=0){const t=this.Cu,e=n-t,i=this.Cu-1;s.push({offset:t,count:e}),s.push({offset:0,count:i+1}),r=this.Fu-n}else s.push({offset:0,count:this.Tu}),r=0;const o=s.reduce(((t,e)=>t+e.count),0),a=Object.fromEntries(Object.entries(this.Vu).filter((t=>{let[e,i]=t;return i.cache})).map((t=>{let[e,i]=t;var n;const r=i.cache;let a;if(1===s.length&&s[0].count===r.length)a=r;else{a=new(null!==(n=i.dataStorage)&&void 0!==n?n:Float64Array)(o);let t=0;for(const e of s)a.set(i.cache.subarray(e.offset,e.offset+e.count),t),t+=e.count}return[e,a]})));return{data:a,iSampleFirst:r}}rd(t,e){var i,n;const r=this.readBack(e);return{xValues:null!==(i=r.data[t.x])&&void 0!==i?i:new Float64Array,yValues:null!==(n=r.data[t.y])&&void 0!==n?n:new Float64Array,lookupValues:t.lookupValue?r.data[t.lookupValue]:void 0,colors:t.color?r.data[t.color]:void 0,sizes:t.size?r.data[t.size]:void 0,rotations:t.rotation?r.data[t.rotation]:void 0,iSampleFirst:r.iSampleFirst}}nd(t){}od(){return{min:0,max:void 0!==this.Yu&&this.Iu?this.Yu-1:this.Tu-1}}ad(t){t=Math.min(t,this.Tu),this.Fu-=t,this.Tu-=t,this.Cu-=t,this.Cu<0&&void 0!==this.Yu&&(this.Cu+=this.Yu)}$u(t,e){const i=this.Vu;if(!i)return;const n=this.ju(t),r="progressive"===n,s=i[t].cache,o=e.parsedDataArrs[t],a=Object.keys(e.parsedDataArrs);if(!n||!s||!o)return;const l=e.count,h=o[0];if(this.Gu(Object.fromEntries(a.map((t=>[t,e.parsedDataArrs[t][e.offset+e.count-1]]))))){const t=s.length,n=this.Tu,o=this.Fu-1,c=Math.max(o-n+1,0),u=Fc(h,c,o,r,(e=>s[Tc(e,this.Fu,t,this.Cu)])),d=u-1,f=u+1,g=s[Tc(u,this.Fu,t,this.Cu)],p=f<=this.Fu-1?s[Tc(f,this.Fu,t,this.Cu)]:void 0,m=void 0!==p&&(r&&p<h||!r&&p>h)?f+1:r&&g<h||!r&&g>h?u+1:d+1,y=o-m+1,v=Object.fromEntries(a.map((t=>{var e;return[t,new(null!==(e=i[t].dataStorage)&&void 0!==e?e:Float64Array)(y)]})));let x=0;for(let e=m;e<=o;e+=1){const n=Tc(e,this.Fu,t,this.Cu);for(const t of a)v[t][x]=i[t].cache[n];x+=1}this.ad(y);const b=Object.fromEntries(a.map((t=>{var n;const r=new(null!==(n=i[t].dataStorage)&&void 0!==n?n:Float64Array)(l+y);return r.set(e.parsedDataArrs[t]),r.set(v[t],l),[t,r]})));this.Lu=!0,this.appendSamples(b),this.Lu=!1,this.L.D("clear",{type:"clear"})}else{const i=this.Hu(),n=i?i[t]:0;let r=0;for(let t=0;t<l;t+=1)if(o[t]>n){r=t;break}this.Lu=!0,this.appendSamples(e.parsedDataArrs,{offset:r}),this.Lu=!1}}Gu(t){const e=this.Hu();if(!e||!this.Vu)return;const i=Object.keys(t),n=[];for(const r of i){const i=this.ju(r);if(!i)continue;const s=e[r],o=t[r],a="number"==typeof o?o:o[0];("progressive"===i&&a<s||"regressive"===i&&a>s)&&n.push(r)}return n.length>0?n:void 0}ld(t){const e=this.Xu(t);if(!e.Qu||!e.Ku||0===this.Tu)return;if(void 0===this.Yu)return this.Fu>0?{x:e.Qu[0],y:e.Ku[0]}:void 0;if(!this.Iu)return{x:e.Qu[0],y:e.Ku[0]};let i=this.Cu-this.Tu;return i<0&&(i+=this.Yu),{x:e.Qu[i],y:e.Ku[i]}}ud(t){const e=this.Xu(t);if(!e.Qu||!e.Ku||0===this.Tu)return;if(void 0===this.Yu){const t=this.Tu-1;return t>=0?{x:e.Qu[t],y:e.Ku[t]}:void 0}let i=this.Cu-1;return i<0&&(i+=this.Yu),{x:e.Qu[i],y:e.Ku[i]}}dd(){if(!this.Vu||0===this.Tu)return;let t;if(void 0===this.Yu){if(this.Fu>0)return;t=0}else this.Iu?(t=this.Cu-this.Tu,t<0&&(t+=this.Yu)):t=0;return Object.fromEntries(Object.entries(this.Vu).map((e=>{let[i,n]=e;return[i,n.cache[t]]})))}Hu(){if(!this.Vu||0===this.Tu)return;let t;return void 0===this.Yu?t=this.Tu-1:(t=this.Cu-1,t<0&&(t+=this.Yu)),Object.fromEntries(Object.entries(this.Vu).map((e=>{let[i,n]=e;return[i,n.cache[t]]})))}fd(t,e){const i=this.Xu(t);if(!(this.Vu&&0!==this.Tu&&i&&i.Qu&&i.Ku))return;const n=i.Qu.length,r=this.Tu,s=this.Fu-1,o=Math.max(s-r+1,0)+e,a=Tc(o,this.Fu,n,this.Cu);return{x:i.Qu[a],y:i.Ku[a],lookupValue:i.ed?i.ed[a]:void 0,color:i.qu?i.qu[a]:void 0,size:i.sd?i.sd[a]:void 0,rotation:i.td?i.td[a]:void 0,iSample:o,sample:Object.fromEntries(Object.entries(this.Vu).map((t=>{let[e,i]=t;return[e,i.cache?i.cache[a]:void 0]})))}}Ad(t,e,i,n,r){if(!t)return;const s=this.Vu,o=this.Xu(t),a=o.dataPattern,l=o.Qu,h=o.Ku;if(!l||!h||!s)return;const c=(t,e)=>({x:l[t],y:h[t],lookupValue:o.ed?o.ed[t]:void 0,color:o.qu?o.qu[t]:void 0,size:o.sd?o.sd[t]:void 0,rotation:o.td?o.td[t]:void 0,iSample:e,sample:Object.fromEntries(Object.entries(s).map((e=>{let[i,n]=e;return[i,n.cache?n.cache[t]:void 0]})))}),u=l.length,d=this.Tu,f=this.Fu-1,g=Math.max(f-d+1,0);if(a){const n=za(a),r=this.ld(t),l=this.ud(t);if(!(r&&l&&o.Qu&&o.Ku))return;const h="ProgressiveX"===a||"RegressiveX"===a?"x":"y",d="x"===h?"y":"x",p="x"===h?o.Qu:o.Ku,m="x"===d?o.Qu:o.Ku,y=e[h],v=Math.min(r[h],l[h]),x=Math.max(r[h],l[h]);if(y<v||y>x)return;const b=Fc(y,g,f,n,(t=>p[Tc(t,this.Fu,u,this.Cu)])),S=Tc(b,this.Fu,u,this.Cu);if(!i)return c(S,b);const A=b-1,E=b+1,w=p[S],k=n?y>=w?E<=f?E:void 0:A>=g?A:void 0:y<=w?E<=f?E:void 0:A>=g?A:void 0;if(void 0===k)return;const C=Tc(k,this.Fu,u,this.Cu),M=b<k?{pos:p[S],val:m[S],iSample:b}:{pos:p[C],val:m[C],iSample:k},T=b>k?{pos:p[S],val:m[S],iSample:b}:{pos:p[C],val:m[C],iSample:k},P=(y-M.pos)/(T.pos-M.pos),F=Ia(M.val,T.val,P),L=Object.fromEntries(Object.entries(s).map((t=>{let[e,i]=t;return[e,i.cache?i.cache[S]:void 0]})));return"x"===Ba(a)?{x:y,y:F,iSample:Ia(M.iSample,T.iSample,P),sample:L}:{y:y,x:F,iSample:Ia(M.iSample,T.iSample,P),sample:L}}let p,m=Number.MAX_VALUE;const y=hr(e,n,r),v=this.Tu-1;for(let x=0;x<=v;x+=1){const t=l[x],e=h[x];if(!this.Ru||!Number.isNaN(t)&&!Number.isNaN(e)){const i=lr(t,n.x,r.x),s=lr(e,n.y,r.y),o=(i-y.x)**2+(s-y.y)**2;o<m&&(m=o,p=x)}}return void 0===p?void 0:c(p,p)}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}const Tc=(t,e,i,n)=>t%i,Pc=(t,e,i,n,r,s,o,a)=>{if(0===n||0===r)return;const l="progressive"===o,h=i.length,c=n-1,u=Math.max(c-r+1,0),d=wc(i)?Fc(t,u,c,l,(t=>i.elementAt(Tc(t,n,h)))):Fc(t,u,c,l,(t=>i[Tc(t,n,h)])),f=wc(i)?Fc(e,u,c,l,(t=>i.elementAt(Tc(t,n,h)))):Fc(e,u,c,l,(t=>i[Tc(t,n,h)])),g=Math.min(d,f),p=Math.max(d,f);if(g===p&&(0===g||g===c))return;const m=Math.max(g-a,u),y=Math.min(p+a,c),v=Tc(m,n,h),x=Tc(y,n,h);return v>x?{iFirstSample:m,iLastSample:y,iFirstSampleDataArray:v,iLastSampleDataArray:x,dataRanges:[{offset:v,count:h-v},{offset:0,count:x+1}]}:{iFirstSample:m,iLastSample:y,iFirstSampleDataArray:v,iLastSampleDataArray:x,dataRanges:[{offset:v,count:x-v+1}]}},Fc=(t,e,i,n,r)=>{const s=i;for(;e!==i;){const s=Math.ceil((e+i)/2),o=r(s);n&&t<o||!n&&t>o?i=s-1:e=s}const o=Math.abs(t-r(e));return e<s&&Math.abs(t-r(e+1))<o?e+1:e},Lc=(t,e,i,n,r)=>{if("number"==typeof e)t.fill(e,r,r+n);else{const s=e.length;if(Array.isArray(e))for(let o=0;o<n;o+=1)t[r+o]=e[i+o];else t.set(s===n?e:e.subarray(i,i+n),r)}},Rc=(t,e)=>void 0===t?void 0:Array.isArray(t)?new e(t):t instanceof e?t:new e(t),Bc=/^(\d{4}-\d{2}-\d{2})(?:T(\d{2}:\d{2}:\d{2}(?:\.\d+)?)(Z|[+-]\d{2}:\d{2})?)?$/,zc=t=>"string"==typeof t&&Bc.test(t)&&!jr.isNaN(Date.parse(t)),Ic=(t,e)=>{if("number"==typeof t)return t;if(Dn(t))return t.toUint32();if(t instanceof Date)return t.getTime();if("string"==typeof t){if(zc(t))return new Date(t).getTime();throw new Error("LightningChart JS error - XY coordinate supplied as unrecognized String format. Coordinates must be Numbers, Date objects or ISO 8601 Date strings")}const i=t.length,n=t[0]&&t[0]instanceof Date,r=t[0]&&zc(t[0]),s=t[0]&&Dn(t[0]);if(!r&&t[0]&&"string"==typeof t[0])throw new Error("LightningChart JS error - XY coordinate supplied as unrecognized String format. Coordinates must be Numbers, Date objects or ISO 8601 Date strings");if(r){const n=new e(i);for(let e=0;e<i;e+=1)n[e]=new Date(t[e]).getTime();return n}if(n){const n=new e(i);for(let e=0;e<i;e+=1)n[e]=t[e].getTime();return n}if(s){const e=t.length,i=new Uint32Array(e);for(let n=0;n<e;n+=1){const e=t[n],r=255*e.a<<24|255*e.b<<16|255*e.g<<8|255*e.r;i[n]=r}return i}return t},Dc=t=>{if(t&&Array.isArray(t))return Float64Array;const e="object"==typeof t?Object.getPrototypeOf(t).constructor:void 0;return null!=e?e:Float64Array},Vc=t=>!!t&&!Array.isArray(t)&&(t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array);class _c extends Sc{constructor(t,e,i,n,r){var s;super(t,e,i,n,r),this.vl="label",this.Mu=this.Zs.Mn(this.renderingScale).Kr(this.vl).th(na).bn(Zs).xn(Zs),this.setMargin(null!==(s=r.uiTextPadding)&&void 0!==s?s:5),this.L.Vi(this.Mu)}zn(){return[this.Mu]}setFillStyle(t){return this.Mu.th(t),this.Zs.Rs(),this}getFillStyle(){return this.Mu.Sr()}sh(){void 0!==this.$n&&this.Mu.el(this.$n);const t=this.getPosition(En(0,0),Vr.Content),e=hr(t,this.scale,this.renderingScale);return this.Mu.eh(e),this.Mu.Qh=this.Qh,this}zr(){this.Mu.zr();const t=0===this.vl.length?En(0,0):this.Mu.pu();return this.setContentSize(t),super.zr()}setText(t){return this.vl=t,this.Mu.Kr(this.vl),this.Zs.Rs(),this}getText(){return this.vl}setFont(t){return this.Mu._r(t),this.Zs.Rs(),this}getFont(){return this.Mu.wr()}setTextRotation(t){return this.Mu.kr(t),this.Zs.Rs(),this}getTextRotation(){return this.Mu.Cr()}}const Nc={...Hh,...Yh,uiElement:_c};class Oc extends Ac{constructor(t,e,i,n,r){super(t,e,i,n,r),this.fitTo=this.Un.bind(this),this.setSize=this.fitTo,this.Mu=this.Zs.gd(e).th(na).qe(Br),this.vd=this.Mu.Uo(),this.L.Vi(this.Mu)}zn(){return[this.Mu]}setCornerRadius(t,e){var i,n,r,s;return this.yd=t,this.vd.pd(t?{extent:t,c_x1_y1:null===(i=null==e?void 0:e.bottomLeft)||void 0===i||i,c_x1_y2:null===(n=null==e?void 0:e.topLeft)||void 0===n||n,c_x2_y1:null===(r=null==e?void 0:e.bottomRight)||void 0===r||r,c_x2_y2:null===(s=null==e?void 0:e.topRight)||void 0===s||s,skipTooSmallCheck:!!e}:void 0),this.Zs.Rs(),this}getCornerRadius(){return this.yd}setFillStyle(t){return this.Mu.th(t),this.Zs.Rs(),this}getFillStyle(){return this.Mu.Sr()}setStrokeStyle(t){return this.Mu.qe(t),this.Zs.Rs(),this}getStrokeStyle(){return this.Mu.Wa()}sh(){void 0!==this.$n&&this.Mu.el(this.$n);const t=So([this.getPosition(En(-1,-1),Vr.Content),this.getPosition(En(1,1),Vr.Content)].map((t=>hr(t,this.scale,this.renderingScale))));return this.vd.md(t.min.x,t.min.y,t.max.x,t.max.y),this}Un(t){return this.setContentSize(t),this.Zs.Rs(),this}Yn(){return 0}jn(){return 0}Wn(){return 0}Hn(){return 0}}class Hc extends Ec{constructor(t,e,i,n,r){super(t,e,i,pc.Simple,n,r),this.wd=Fn(En(0,0)),this._d=Fn(10),this.kd=Fn(void 0),this.io=Fn(Or.Right),this._u()}zn(){return[this.Mu]}setFillStyle(t){return this.Mu.th(t),this.Zs.Rs(),this}getFillStyle(){return this.Mu.Sr()}setStrokeStyle(t){return this.Mu.qe(t),this.Zs.Rs(),this}getStrokeStyle(){return this.Mu.Wa()}setDirection(t){return this.io._(t),this.Zs.Rs(),this}getDirection(){return this.io.C()}setPointerLength(t){return this._d._(t),this.Zs.Rs(),this}getPointerLength(){return this._d.C()}setPointerAngle(t){return this.kd._(t),this.Zs.Rs(),this}getPointerAngle(){let t=this.kd.C();if(void 0===t){const e=this.Cd();if(0===e)return 0;t=0!==e?180*Math.atan(2*this.getPointerLength()/e)/Math.PI:0}return Math.min(Math.max(t,1),89)}Un(t){return this.wd._(t),this.Zs.Rs(),this}Td(){const t=this.getPointerAngle();return 0===t?0:2*this.getPointerLength()/Math.tan(t*Math.PI/180)}Fd(){return ms(this.io.C())?this.wd.C().x:this.wd.C().y}Cd(){return ms(this.io.C())?this.wd.C().y:this.wd.C().x}Yn(){switch(this.io.C()){case Or.Right:return 0;case Or.Left:return this.getPointerLength();case Or.Up:case Or.Down:return Math.max(0,this.Td()-this.Cd());default:return 0}}jn(){switch(this.io.C()){case Or.Right:return this.getPointerLength();case Or.Left:return 0;case Or.Up:case Or.Down:return Math.max(0,this.Td()-this.Cd());default:return 0}}Wn(){switch(this.io.C()){case Or.Right:case Or.Left:return Math.max(0,this.Td()-this.Cd());case Or.Up:return this.getPointerLength();case Or.Down:default:return 0}}Hn(){switch(this.io.C()){case Or.Right:case Or.Left:return Math.max(0,this.Td()-this.Cd());case Or.Up:return 0;case Or.Down:return this.getPointerLength();default:return 0}}ku(){const t=ps(this.io.C()),e=Po(En(0,0),t),i=this.getPointerLength(),n=this.Td(),r=this.Fd(),s=this.Cd();if(!(0!==i&&0!==n||0!==r&&0!==s))return[];const o=En(0,0),a=Ro(Ro(o,Lo(t,-i)),Lo(e,n/2)),l=Ro(a,Lo(e,(s-n)/2)),h=Ro(l,Lo(t,-r)),c=Ro(Ro(o,Lo(t,-i)),Lo(e,-n/2)),u=Ro(c,Lo(e,-(s-n)/2)),d=Ro(u,Lo(t,-r));let f;return f=0===r||0===s?[o,a,c]:0===i||0===n?[l,h,d,u]:Kr(s,n)?[o,a,h,d,c]:[o,a,l,h,d,u,c],f}}class Uc extends Sc{constructor(t,e,i,n,r){super(t,e,i,n,r),this.fitTo=this.Un.bind(this),this.setSize=this.fitTo,this.Id=new Mc,this.Mu=this.Zs.Dd(e).Ah(Br).Bd(na).Ld(na).Pd(this.Id,{x:"x",y:"y"}),this.L.Vi(this.Mu)}zn(){return[this.Mu]}setShape(t){return this.Mu.Rd(t),this}getShape(){return this.Mu.Ed()}setRotation(t){return this.Mu.Od(t),this}getRotation(){return this.Mu.zd()}setFillStyle(t){return this.Mu.Ld(t),this.Zs.Rs(),this}getFillStyle(){return this.Mu.Vd()}setStrokeStyle(t){return this.Mu.Nd(t),this.Zs.Rs(),this}getStrokeStyle(){return this.Mu.Gd()}sh(){void 0!==this.$n&&this.Mu.el(this.$n);const t=hr(this.getPosition({x:0,y:0},Vr.Content),this.scale,this.renderingScale),e=Math.max(this.size.x,this.size.y);if(this.Id.clear(),e>0){const i=this.Mu.Ed(),n=this.Mu.Vd(),r=ll(i)&&i,s=Lr(n)&&n;if(r){const t=e/r._t().y;this.Mu.$d(t)}else if(s){const t=s.source;if(t instanceof Image){const i=e/t.height;this.Mu.$d(i)}}else this.Mu.$d(e);this.Id.appendSample(t)}return this}Un(t){return this.setContentSize(t),this.Zs.Rs(),this}Yn(){return 0}jn(){return 0}Wn(){return 0}Hn(){return 0}}const Yc={...Hh,...Yh,uiElement:Uc};class Gc extends jh{setSize(t){return this.setContentSize(t),this.Zs.Rs(),this}}class jc extends Bh{constructor(){super(...arguments),this.Ud=[],this.Yd=0,this.jd=t=>{const e=this.Ud.indexOf(t);e>=0&&this.Ud.splice(e,1)}}getMembers(){return this.Ud}getMemberCount(){return this.Ud.length}setMinimumSize(t){return this.Hd=t,this.Zs.Rs(),this}getMinimumSize(){return this.Hd}addElement(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const i=t.oo(this.Zs,this.renderingScale,this.scale,this.jd,this.bi,!1);return i.setPointerEvents(this.getPointerEvents()),e>=0?this.Ud.splice(e,0,i):this.Ud.push(i),i.setVisible(this.getVisible()),this.L.$i(i),this.ci&&(Ds(0,(()=>{})),i.dispose()),i}dispose(){return super.dispose(),this.Ud.slice().forEach(qr),this}sh(){super.sh(),this.Ud.forEach((t=>{t.Qh=this.Qh}));const t=this.$n;return void 0!==t&&this.Ud.forEach(((e,i)=>{e.$n=t+1+.01*i})),this}setVisible(t){return super.setVisible(t),this.Ud.forEach((e=>e.setVisible(t))),this}setPointerEvents(t){super.setPointerEvents(t);for(let e=0;e<this.Ud.length;e+=1)this.Ud[e].setPointerEvents(t);return this}getPointerEvents(){if(super.getPointerEvents())return!0;for(let t=0;t<this.Ud.length;t+=1)if(this.Ud[t].getPointerEvents())return!0;return!1}setHighlight(t){super.setHighlight(t);for(let e=0;e<this.Ud.length;e+=1){const i=this.Ud[e];Hr(i)&&i.setHighlight(t)}return this}}class Xc extends jc{sh(){super.sh();const t=this.getPosition(En(-1,1),Vr.Content),e=this.Ud.reduce(((t,e)=>t+ +(e instanceof Gc)),0),i=e>0?(this.size.x-this.Yd)/e:0;return this.Ud.reduce(((e,n)=>n instanceof Gc?this.scale.Jt({x:e,y:t.y},{x:i+n.getSize().x,y:0}).x:n.setOrigin(En(-1,1)).setPosition(En(e,t.y)).sh().getPosition(En(1,0)).x),t.x),this}zr(){for(let i=0;i<this.Ud.length;i+=1){const t=this.Ud[i];t instanceof Wc&&t.setMinimumSize(0),t.zr()}const t=this.Ud.reduce(this.Wd.bind(this),wn(0,0));this.Yd=t.x;const e=void 0===this.Hd?t:En(Math.max(t.x,this.Hd),t.y);this.setContentSize(e);for(let i=0;i<this.Ud.length;i+=1){const t=this.Ud[i];t instanceof Wc&&t.setMinimumSize(e.y).zr()}return super.zr()}Wd(t,e){const i=e.getSize();return t.x+=i.x,t.y=Math.max(t.y,i.y),t}addGap(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.addElement(Zc,e).setSize(En(0,t))}}class Wc extends jc{sh(){super.sh();const t=this.getPosition(En(-1,1),Vr.Content),e=this.Ud.reduce(((t,e)=>t+ +(e instanceof Gc)),0),i=e>0?(this.size.y-this.Yd)/e:0;return this.Ud.reduce(((e,n)=>n instanceof Gc?this.scale.Jt({x:t.x,y:e},{x:0,y:-(i+n.getSize().y)}).y:n.setOrigin(En(-1,1)).setPosition(En(t.x,e)).sh().getPosition(En(0,-1)).y),t.y),this}zr(){for(let i=0;i<this.Ud.length;i+=1){const t=this.Ud[i];t instanceof Xc&&t.setMinimumSize(0),t.zr()}const t=this.Ud.reduce(this.Wd.bind(this),wn(0,0));this.Yd=t.y;const e=void 0===this.Hd?t:En(t.x,Math.max(t.y,this.Hd));this.setContentSize(e);for(let i=0;i<this.Ud.length;i+=1){const t=this.Ud[i];t instanceof Xc&&t.setMinimumSize(e.x).zr()}return super.zr()}Wd(t,e){const i=e.getSize();return t.y+=i.y,t.x=Math.max(t.x,i.x),t}addGap(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.addElement(Zc,e).setSize(En(0,t))}}const Zc={...Hh,...Yh,uiElement:Gc};class qc extends Wc{constructor(){super(...arguments),this.Ud=[]}addRow(){return this.addElement(Qc,void 0)}getRow(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&this.Ud.length<=t?(this.addRow(),this.getRow(t,!0)):this.Ud[t]}}const Jc={...Hh,...Uh,...Gh},Kc={...Jc,uiElement:Wc,background:Oc},Qc={...Jc,uiElement:Xc,background:Oc},$c={setTextLabel:null,setText(t){return this.setTextLabel.setText(t),this},getText(){return this.setTextLabel.getText()}},tu=(t=>{const e={},i="stylable".concat(t,"s");return e[i]=[],e["set".concat(t,"FillStyle")]=function(t){return this[i].forEach((e=>e.setFillStyle(t))),this},e["get".concat(t,"FillStyle")]=function(){return this[i][0].getFillStyle()},e["set".concat(t,"Font")]=function(t){return this[i].forEach((e=>e.setFont(t))),this},e["get".concat(t,"Font")]=function(){return this[i][0].getFont()},e["set".concat(t,"Rotation")]=function(t){return this[i].forEach((e=>e.setTextRotation(t))),this},e["get".concat(t,"Rotation")]=function(){return this[i][0].getTextRotation()},e})("Text"),eu={button:void 0,isLocked:!1,setOn(t){const e=this.button.getOn()!==t;return this.button.setOn(t),e&&this.L.D("switch",{state:t}),this},getOn(){return this.button.getOn()},setLocked(t){return this.isLocked=t,this},getLocked(){return this.isLocked},setButtonOffFillStyle(t){return this.button.setOffFillStyle(t),this},getButtonOffFillStyle(){return this.button.getOffFillStyle()},setButtonOnFillStyle(t){return this.button.setOnFillStyle(t),this},getButtonOnFillStyle(){return this.button.getOnFillStyle()},setButtonStrokeStyle(t){return this.button.setStrokeStyle(t),this},getButtonStrokeStyle(){return this.button.getStrokeStyle()},setButtonSize(t){return this.button.setSize(t),this},getButtonSize(){return this.button.getSize()},setButtonShape(t){return this.button.setButtonShape(t),this},getButtonShape(){return this.button.getButtonShape()}},iu={textFillStyleHidden:void 0,setTextFillStyleHidden(t){return this.textFillStyleHidden="function"==typeof t?t(this.textFillStyleHidden):t,this},getTextFillStyleHidden(){return this.textFillStyleHidden}},nu={pointable:void 0,setDirection(t){return this.pointable.setDirection(t),this},getDirection(){return this.pointable.getDirection()},setPointerLength(t){return this.pointable.setPointerLength(t),this},getPointerLength(){return this.pointable.getPointerLength()}},ru={...Hh,...Uh,background:Oc,oo(t,e,i,n,r,s){const o=new Xc(t,e,i,this.background,n,r),a=o.addElement(Nc,void 0),l=Object.assign(o,$c,{setTextLabel:a},tu,{stylableTexts:[a]});return Oh(l,r,s),this.applyStylers(l,r)}}.addStyler(Nh),su={...Hh,...Uh,background:Hc,direction:Or.Up,setDirection(t){return this.direction=t,this},oo(t,e,i,n,r,s){const o=this.direction,a=new Xc(t,e,i,this.background,n,r),l=a.addElement(Nc,void 0),h=a.getBackground().setDirection(o),c=a.sh.bind(a),u=Object.assign(a,$c,{setTextLabel:l},tu,{stylableTexts:[l]},nu,{pointable:h},{setTickLabelPadding(t){return this.getDirection()===Or.Up?(this.setPadding({top:t}),l.setMargin({top:0})):this.getDirection()===Or.Down?(this.setPadding({bottom:t}),l.setMargin({bottom:0})):this.getDirection()===Or.Right?(this.setPadding({right:t}),l.setMargin({right:0})):this.getDirection()===Or.Left&&(this.setPadding({left:t}),l.setMargin({left:0})),this},getTickLabelPadding(){return this.getDirection()===Or.Up?this.getPadding().top:this.getDirection()===Or.Down?this.getPadding().bottom:this.getDirection()===Or.Right?this.getPadding().right:this.getPadding().left},Qh:void 0,sh(){l.Qh=this.Qh,c()}});return u.ao="other",u.setPointerLength(r.xAxisNumericTicks.majorTickStyle.getTickLength()).setTickLabelPadding(r.xAxisNumericTicks.majorTickStyle.getTickPadding()).setTextFont(r.uiTextFont).setTextFillStyle(r.uiTextFillStyle).setBackground((t=>t.setFillStyle(r.uiBackgroundFillStyle).setStrokeStyle(r.uiBackgroundStrokeStyle))),Oh(u,r,s),this.applyStylers(u,r)}};const ou={...Hh,uiElement:class extends Rh{constructor(t,e,i,n,r,s){super(t,e,i,r,s),this.Xd=!1,this.Zd=na,this.Jd=na,this.getOn=()=>this.Xd,this.Jd=s.uiButtonFillStyleHidden||s.uiButtonFillStyle,this.Qd=new Uc(this.Zs,this.renderingScale,this.scale,Jr,s).setShape(n).setFillStyle(this.Jd),this.L.$i(this.Qd)}zn(){return[...this.Qd.zn()]}setOn(t){return this.Xd=t,this.Qd.setFillStyle(t?this.Zd:this.Jd),this.Zs.Rs(),this}setOffFillStyle(t){return this.Jd="function"==typeof t?t(this.Jd):t,this.Xd||this.Qd.setFillStyle(this.Jd),this}getOffFillStyle(){return this.Jd}setSize(t){return this.Qd.fitTo("number"==typeof t?En(t,t):t),this}getSize(){return this.Qd.getSize()}setOnFillStyle(t){return this.Zd="function"==typeof t?t(this.Zd):t,this.Xd&&this.Qd.setFillStyle(this.Zd),this}getOnFillStyle(){return this.Zd}setStrokeStyle(t){return this.Qd.setStrokeStyle(t),this}getStrokeStyle(){return this.Qd.getStrokeStyle()}setButtonShape(t){return this.Qd.setShape(t),this.Zs.Rs(),this}getButtonShape(){return this.Qd.getShape()}sh(){return super.sh(),this.Qd.$n=this.$n,this.Qd.setVisible(this.getVisible()).setPosition(this.getPosition(En(0,0),Vr.Content)).sh(),this}zr(){const t=this.Qd.zr().getSize();return this.setContentSize(t),super.zr()}dispose(){return super.dispose(),this.Qd.dispose(),this}setPointerEvents(t){return this.Qd.setPointerEvents(t),this}getPointerEvents(){return this.Qd.getPointerEvents()}setHighlight(t){const e=Hs(t);return this.Qd.setHighlight(e),this.L.D("highlightchange",{highlight:e}),this.Zs.Rs(),this}getHighlight(){return this.Qd.getHighlight()}},buttonShape:Ra.Circle,setButtonShape(t){return{...this,buttonShape:t}},oo(t,e,i,n,r,s){const o=this.applyStylers(new this.uiElement(t,e,i,this.buttonShape,n,r),r);return Oh(o,r,s),o}},au={...Hh,...Uh,background:Oc,buttonBuilder:ou,setButtonShape(t){return{...this,buttonBuilder:this.buttonBuilder.setButtonShape(t)}},oo(t,e,i,n,r,s){var o;const a=new Xc(t,e,i,this.background,n,r),l=a.addElement(Kc);l.addGap();const h=l.addElement(this.buttonBuilder);l.addGap();const c=a.addElement(Kc);c.addGap();const u=c.addElement(Nc);c.addGap(),a.addGap();const d=Object.assign(a,$c,{setTextLabel:u},tu,{stylableTexts:[u]},eu,{button:h},iu);let f;return d.addEventListener("click",(()=>{d.getLocked()||d.setOn(!d.getOn())})),d.addEventListener("pointerenter",(()=>{d.setHighlight(!0)})),d.addEventListener("pointerleave",(()=>{d.setHighlight(!1)})),d.setMouseStyle(Yl.Point),d.setTextFillStyleHidden(r.uiTextFillStyleHidden||r.uiTextFillStyle),d.addEventListener("switch",(t=>{t.state?f&&d.setTextFillStyle(f):(f=d.getTextFillStyle(),d.setTextFillStyle(d.getTextFillStyleHidden()))})),d.setPadding({left:null!==(o=r.uiTextPadding)&&void 0!==o?o:5}),Oh(d,r,s),this.applyStylers(d,r)}}.addStyler(Nh).addStyler(((t,e)=>(t.setButtonOnFillStyle(e.uiButtonFillStyle).setButtonOffFillStyle(e.uiButtonFillStyleHidden).setButtonSize(e.uiButtonSize).setButtonStrokeStyle(e.uiButtonStrokeStyle),t)));class lu extends Rh{constructor(t,e,i,n,r){super(t,e,i,n,r),this.Kd=10,this.qd=Or.Up,this.tf=0,this.ao="major",this.vl=t.Mn(this.renderingScale).bn(Zs).xn(Zs),this.L.Vi(this.vl),this.fh=t.gh(this.renderingScale),this.L.Vi(this.fh)}zn(){return[this.vl]}sh(){if(super.sh(),this.ci)return this;const t=hr(this.getPosition(),this.scale,this.renderingScale),e=this.renderingScale.Jt(t,{x:this.qd===Or.Right?-this.Kd:this.qd===Or.Left?this.Kd:0,y:this.qd===Or.Up?-this.Kd:this.qd===Or.Down?this.Kd:0}),i=this.renderingScale.Jt(e,{x:this.qd===Or.Right?-this.tf:this.qd===Or.Left?this.tf:0,y:this.qd===Or.Up?-this.tf:this.qd===Or.Down?this.tf:0});return this.fh.ph(t).yh(e),this.vl.eh(i).Hl(this.qd===Or.Up?{x:0,y:1}:this.qd===Or.Down?{x:0,y:-1}:this.qd===Or.Right?{x:1,y:0}:{x:-1,y:0}),this.vl.Qh=this.Qh,this}zr(){const t=this.fh.co().getThickness();return this.size=this.qd===Or.Left||this.qd===Or.Right?{x:this.Kd+this.tf+this.vl.zr().pu().x,y:t}:{y:this.Kd+this.tf+this.vl.zr().pu().y,x:t},super.zr()}dispose(){return super.dispose(),this.vl.dispose(),this.fh.dispose(),this}setVisible(t){return super.setVisible(t),this.vl.setVisible(t),this.fh.setVisible(t),this}setPointerEvents(t){return this.vl.setPointerEvents(t),this.fh.setPointerEvents(t),this}getPointerEvents(){return this.vl.getPointerEvents()}getText(){return this.vl.sn()}setTextFillStyle(t){return this.vl.th(t),this.Zs.Rs(),this}getTextFillStyle(){return this.vl.Sr()}setTextFont(t){return this.vl._r(t),this}setTextRotation(t){return this.vl.kr(t),this}getTextRotation(){return this.vl.Cr()}getTextFont(){return this.vl.wr()}setText(t){return this.vl.Kr(t),this.Zs.Rs(),this}setDirection(t){return this.qd=t,this.Zs.Rs(),this}getDirection(){return this.qd}setPointerLength(t){return this.Kd=t,this.Zs.Rs(),this}getPointerLength(){return this.Kd}setTickLabelPadding(t){return this.tf=t,this.Zs.Rs(),this}getTickLabelPadding(){return this.tf}setTickStyle(t){return this.fh.Ah(t),this.Zs.Rs(),this}getTickStyle(){return this.fh.co()}}const hu={...Hh,direction:Or.Up,setDirection(t){return this.direction=t,this},oo(t,e,i,n,r,s){const o=this.direction,a=new lu(t,e,i,n,r);return Oh(a,r,s),a.setDirection(o),this.applyStylers(a,r)}}.addStyler(Nh),cu=hu.addStyler(((t,e)=>(t.ao="major",t.setPointerLength(e.xAxisNumericTicks.majorTickStyle.tickLength).setTickLabelPadding(e.xAxisNumericTicks.majorTickStyle.tickPadding).setTickStyle(e.xAxisNumericTicks.majorTickStyle.tickStyle).setTextFont(e.xAxisNumericTicks.majorTickStyle.labelFont).setTextFillStyle(e.xAxisNumericTicks.majorTickStyle.labelFillStyle)))),uu=hu.addStyler(((t,e)=>(t.ao="minor",t.setPointerLength(e.xAxisNumericTicks.minorTickStyle.tickLength).setTickLabelPadding(e.xAxisNumericTicks.minorTickStyle.tickPadding).setTickStyle(e.xAxisNumericTicks.minorTickStyle.tickStyle).setTextFont(e.xAxisNumericTicks.minorTickStyle.labelFont).setTextFillStyle(e.xAxisNumericTicks.minorTickStyle.labelFillStyle))));class du extends Rh{constructor(t,e,i,n,r,s){var o,a,l,h,c,u;super(t,e,i,n,r),this.if=[],this.sf="",this.ef=(t,e)=>void 0!==t.label?t.label:ea(e,t.value),this.hf=0,this.rf=!1,this.nf=s,this.af=t.gd(e).qe(Br),this.vd=this.af.Uo().pd("number"==typeof r.legendLUTCornerRadius?{extent:r.legendLUTCornerRadius,c_x1_y1:!0,c_x1_y2:!0,c_x2_y1:!0,c_x2_y2:!0}:void 0),this.L.Vi(this.af),this.lf=t.Mn(e).th(r.uiTextFillStyle)._r(r.uiTextFont).setPointerEvents(!1),this.L.Vi(this.lf),this.cf=null!==(o=r.legendLUTLabelMargin)&&void 0!==o?o:7,this.uf=null!==(a=r.legendLUTUnitLabelMargin)&&void 0!==a?a:7,"vertical"===s?(this.df=null!==(l=r.legendLUTLengthVertical)&&void 0!==l?l:140,this.ff=null!==(h=r.legendLUTThicknessVertical)&&void 0!==h?h:25):(this.df=null!==(c=r.legendLUTLengthHorizontal)&&void 0!==c?c:160,this.ff=null!==(u=r.legendLUTThicknessHorizontal)&&void 0!==u?u:15)}zn(){return[this.af,this.lf]}Af(t){return this.lf.bn(t),this.if.forEach((e=>e.bn(t))),this.Zs.Rs(),this}gf(t){this.vf=t;const e=pu(t,"vertical"===this.nf?0:90,this.rf);return this.af.th(e),this.Zs.Rs(),this}Hs(){return this.vf}yf(t){return this.df=t,this.Zs.Rs(),this}Hl(t){return this.nf=t,this.Zs.Rs(),this}pf(){return this.df}mf(t){return this.ff=t,this.Zs.Rs(),this}Sf(){return this.ff}bf(t){return this.sf=t,this.Zs.Rs(),this}xf(){return this.sf}Mf(t){return this.ef=t,this.Zs.Rs(),this}setLUTDisplayProportionalSteps(t){if(this.rf=t,this.vf){const t=pu(this.vf,"vertical"===this.nf?0:90,this.rf);this.af.th(t)}return this.Zs.Rs(),this}getLUTDisplayProportionalSteps(){return this.rf}setFillStyle(t){return this.lf.th(t),this.Zs.Rs(),this}getFillStyle(){return this.lf.Sr()}setFont(t){return this.lf._r(t),this.Zs.Rs(),this}getFont(){return this.lf.wr()}setTextRotation(t){return this.hf=t,this.lf.kr(t),this.Zs.Rs(),this}getTextRotation(){return this.lf.Cr()}sh(){var t,e,i,n;if(super.sh(),this.ci||!this.getVisible())return this;const r=this.vf;if(r){const s=this.renderingScale.ri(),o=r.min,a=r.max;if("vertical"===this.nf){const i=this.getPosition({x:-1,y:-1},Vr.Content),n=Ro(i,{x:this.ff*this.renderingScale.x.getPixelSize()+this.cf*s.x,y:0}),l={x:n.x,y:n.y+(this.sf.length>0?this.uf*s.y+this.lf._t().y:0)+.5*((null===(t=this.if[0])||void 0===t?void 0:t._t().y)||0)},h={x:l.x,y:this.getPosition({x:-1,y:1},Vr.Content).y-.5*((null===(e=this.if[this.if.length-1])||void 0===e?void 0:e._t().y)||0)};this.vd.md(i.x,l.y,i.x+this.ff*this.renderingScale.x.getPixelSize(),l.y+this.df*this.renderingScale.y.getPixelSize()),this.lf.Hl({x:-1,y:-1}).eh(n),r.getSteps().forEach(((t,e)=>{const i=xo(l,h,this.rf?!0===r.getInterpolation()?(t.value-o)/(a-o):.9*(t.value-o)/(a-o):!0===r.getInterpolation()?e/(r.getSteps().length-1):e/r.getSteps().length);this.if[e].Hl({x:-1,y:0}).eh(i)}))}else{const t=this.getPosition({x:-1,y:-1},Vr.Content),e=this.getPosition({x:1,y:1},Vr.Content),l=Math.max(this.if.reduce(((t,e)=>Math.max(t,e._t().y)),0),this.lf.zr()._t().y),h=Ro(t,{x:.5*((null===(i=this.if[0])||void 0===i?void 0:i._t().x)||0),y:l}),c={x:e.x,y:h.y},u={x:r.getInterpolation()?c.x-(.5*((null===(n=this.if[this.if.length-1])||void 0===n?void 0:n._t().x)||0)+(this.sf.length>0?this.uf*s.x+this.lf._t().x:0)):h.x+this.df*this.renderingScale.x.getPixelSize(),y:h.y},d={x:h.x,y:h.y+this.cf*s.y};this.vd.md(d.x,d.y,d.x+this.df*this.renderingScale.x.getPixelSize(),d.y+this.ff*this.renderingScale.y.getPixelSize()),this.lf.Hl({x:1,y:1}).eh(c),r.getSteps().forEach(((t,e)=>{const i=xo(h,u,this.rf?!0===r.getInterpolation()?(t.value-o)/(a-o):.9*(t.value-o)/(a-o):!0===r.getInterpolation()?e/(r.getSteps().length-1):e/r.getSteps().length);this.if[e].Hl({x:0,y:1}).eh(i)}))}}return this}zr(){if(this.vf&&this.getVisible()){const t=this.vf.getSteps();for(let e=this.if.length;e<t.length;e+=1){const t=this.Zs.Mn(this.renderingScale).setPointerEvents(!1);this.if.push(t),this.L.Vi(t)}for(let e=0;e<t.length;e+=1)this.if[e].th(this.lf.Sr())._r(this.lf.wr()).Kr(this.ef(t[e],this.vf)).kr(this.hf);for(let e=t.length;e<this.if.length;e+=1)this.if[e].dispose();if(this.if.length=t.length,this.lf.Kr(this.sf),"vertical"===this.nf){const t=this.ff,e=this.df,i=t+Math.max(this.if.reduce(((t,e)=>Math.max(t,e.zr().pu().x)),0),this.lf.zr().pu().x),n=(this.sf.length>0?this.uf+this.lf.zr().pu().y:0)+e+.5*this.if[0].zr().pu().y+.5*this.if[this.if.length-1].zr().pu().y;this.setContentSize({x:i,y:n})}else{const t=this.df,e=this.ff,i=Math.max(this.sf.length>0?this.uf+this.lf.zr().pu().x+(this.vf.getInterpolation()?.5*this.if[this.if.length-1].zr().pu().x:0):0,this.vf.getInterpolation()?.5*this.if[this.if.length-1].zr().pu().x:0),n=t+.5*this.if[0].zr().pu().x+i,r=e+this.cf+Math.max(this.if.reduce(((t,e)=>Math.max(t,e.zr().pu().y)),0),this.lf.zr().pu().y);this.setContentSize({x:n,y:r})}}else this.if.forEach((t=>t.dispose())),this.if.length=0,this.lf.setVisible(!1),this.af.setVisible(!1),this.setContentSize({x:0,y:0});return super.zr()}dispose(){return super.dispose(),this.af.dispose(),this.if.forEach(qr),this.lf.dispose(),this}setPointerEvents(t){return this.af.setPointerEvents(t),this}getPointerEvents(){return this.af.getPointerEvents()}}const fu={lutElement:{},setLUT(t){return this.lutElement.gf(t),this},getLUT(){return this.lutElement.Hs()},setLUTLength(t){return this.lutElement.yf(t),this},getLUTLength(){return this.lutElement.pf()},setLUTThickness(t){return this.lutElement.mf(t),this},getLUTThickness(){return this.lutElement.Sf()},setLookUpUnit(t){return this.lutElement.bf(t),this},getLookUpUnit(){return this.lutElement.xf()},setLUTStepValueFormatter(t){return this.lutElement.Mf(t),this},setLUTDisplayProportionalSteps(t){return this.lutElement.setLUTDisplayProportionalSteps(t),this},getLUTDisplayProportionalSteps(){return this.lutElement.getLUTDisplayProportionalSteps()}},gu={...Hh,...Uh,background:Oc,alignment:"horizontal",setAlignment(t){return{...this,alignment:t}},oo(t,e,i,n,r,s){const o=new Wc(t,e,i,this.background,n,r),a=o.addElement({oo:()=>new du(t,e,i,Jr,r,this.alignment)}),l=Object.assign(o,tu,{stylableTexts:[a]},fu,{lutElement:a});return Oh(l,r,s),this.applyStylers(l,r)}}.addStyler(Nh),pu=(t,e,i)=>{const n=t.getSteps(),r=t.min,s=t.max-r;if(!0===t.getInterpolation())return new Jn({angle:e,stops:n.map(((e,o)=>({offset:i?(e.value-r)/s:o/(n.length-1),color:e.color||t.color})))});const o=[];for(let a=0;a<n.length;a+=1){const e=n[a];o.push({offset:i?.9*(e.value-r)/s:a/n.length,color:e.color||t.color});const l=a<n.length-1?n[a+1]:void 0;o.push({offset:i?l?.9*(l.value-r)/s:1:l?(a+1)/n.length:1,color:e.color||t.color})}return new Jn({angle:e,stops:o})},mu=au.addStyler((t=>t.addEventListener("switch",(e=>!0===e.state?setTimeout((()=>t.setOn(!1)),300):void 0)))),yu={TextBox:ru,CheckBox:au,ButtonBox:mu,PointableTextBox:su,AxisTickMajor:cu,AxisTickMinor:uu,LUTRange:gu};class vu extends kh{constructor(t,e,i,n,r,s){super(t,e,i,n,s),this.wf=r}}class xu extends wh{constructor(t,e,i,n,r,s,o,a,l,h,c,u,d,f,g,p){var m,y,v;super(h,l,o,f,g,{numeric:l.getWidth({x:f.xAxisNumericTicks,y:f.yAxisNumericTicks}),datetime:l.getWidth({x:f.xAxisDateTimeTicks,y:f.yAxisDateTimeTicks}),time:l.getWidth({x:f.xAxisTimeTicks,y:f.yAxisTimeTicks})},p),this._f=new Map,this.kf=void 0,this.Cf=0,this.Tf=[],this.Ff=[],this.If=!0,this.Pf=[],this.Lf=t=>{const e=this.Ff.indexOf(t);e>=0&&this.Ff.splice(e,1)},this.Bf=t=>(this.Ff.indexOf(t)<0&&this.Ff.push(t),this.Lf),this.Df=!0,this.Rf=Ss(this.Pf),this.df={relative:1},this.Ef=(t,e)=>e.getAllocatesAxisSpace()?Math.max(t,e.update().do()):t,this.Of=t=>{const e=this.Tf.indexOf(t);-1!==e&&this.Tf.splice(e,1)},this.fs=Ma.onHover,this.L=new Er,this.uh={},this.zf=o instanceof ir?o:void 0,this.isX=this.ar.getWidth({x:!0,y:!1}),this.isY=this.ar.getHeight({x:!0,y:!1}),this.Vf=t,this.Nf=e,this.Gf=n,this.$f=r,this.chart=h,this.Uf=u,this.Yf=i,this.ps=s,"logarithmic"===p.type&&this.chart.gi.Ta(_h.Bo),this.br=Su,d(this,this.Bf),o.jf=this,this.Hf=c,this.Wf=this.Hf>50?1:-1,this.Xf=(v=this.ar.toPoint(0,-this.Wf),Math.abs(v.x)>=Math.abs(v.y)?v.x>=0?Or.Right:Or.Left:v.y>=0?Or.Up:Or.Down),this.Zf=a,this.Jf=this.oi instanceof ir?(new sr).Qt(this.ar.toVec2(this.oi,this.Zf)):(new or).Qt(this.ar.toVec2(this.oi,this.Zf)),this.Qf=this.chart.Kf,this.qf=(new sr).Qt(this.ar.toVec2(this.ar.getWidth(this.Qf),this.Zf)),this.tA=this.Nf.gh(this.Jf).setPointerEvents(!1),this.iA=this.Yf.ih(this.Qf).th(l.getWidth({x:f.xAxisOverlayStyle,y:f.yAxisOverlayStyle})).qe(Br).Pi(f.highlightColorOffsetAxisOverlay||f.highlightColorOffset),this.sA=this.Yf.ih(this.Qf).th(l.getWidth({x:f.xAxisZoomingBandFillStyle,y:f.yAxisZoomingBandFillStyle})).qe(l.getWidth({x:f.xAxisZoomingBandStrokeStyle,y:f.yAxisZoomingBandStrokeStyle})).Pi(f.highlightColorOffsetAxisOverlay||f.highlightColorOffset),this.Kh=this.Yf.Mn(this.Jf).setPointerEvents(!1).kr(this.ar.getTitleTextRotation(this.Wf)).xn(Zs).bn(Zs),this.chart.gi._s.ws(this.iA,(t=>this.iA.Fi(t)),{animationEnabled:this.Oh}),this.L.Vi(this.iA),this.tA.Ah(l.getWidth({x:f.xAxisStrokeStyle,y:f.yAxisStrokeStyle})),this.Kh.th(l.getWidth({x:f.xAxisTitleFillStyle,y:f.yAxisTitleFillStyle}))._r(l.getWidth({x:f.xAxisTitleFont,y:f.yAxisTitleFont})),this.Ss=s.bs(this,{}),this.Tr=this.Ss.eA([this.Kh]).Ds(f.effectsText),this.hA=null!==(m=l.getWidth({x:f.xAxisMarginAfterTicks,y:f.yAxisMarginAfterTicks}))&&void 0!==m?m:7,this.rA=null!==(y=l.getWidth({x:f.xAxisMarginAfterTitle,y:f.yAxisMarginAfterTitle}))&&void 0!==y?y:7}setHighlight(t){return this.chart.gi._s.Gs(this.iA,t),this.L.D("highlightchange",{highlight:Hs(t)}),this}getHighlight(){return this.chart.gi._s.Fs(this)}mn(){return this.Nh}Sn(){return void 0!==this.Lr}setKeepTickLabelsInAxisBounds(t){return this.Df=t,this.chart.gi.Rs(),this}getKeepTickLabelsInAxisBounds(){return this.Df}setTickStrategy(t,e){return super.dr(t,e)}getTickStrategy(){return this.Bh}addBand(t){var e;const i=null===(e=null==t?void 0:t.onTop)||void 0===e||e,n=null==t?void 0:t.legend,r=i?this.$f:this.Gf,s=new $l(r,this.chart,this.Rf,this,this.Jf,this.ar,this.bi,this.ps);return n&&this.chart.legend.add(s,n),this.Pf.push(s),s}addConstantLine(t){var e;const i=null===(e=null==t?void 0:t.onTop)||void 0===e||e,n=null==t?void 0:t.legend,r=i?this.$f:this.Gf,s=new th(r,this.chart,this.Rf,this,this.Jf,this.ar,this.bi,this.ps);return n&&this.chart.legend.add(s,n),this.Pf.push(s),s}nA(t){this.Pf.forEach(t)}oA(t){return this.Pf.map(t)}getHighlighters(){return this.Pf}setThickness(t){return"number"==typeof t?(this.aA=t,this.lA=t):"object"==typeof t?(this.aA=t.min,this.lA=t.max):void 0===t&&(this.aA=void 0,this.lA=void 0),this.Nr=void 0,this.chart.gi.Rs(),this}getThickness(){return{min:this.aA,max:this.lA}}cA(){return this.Ff}$r(t){return{}}Hr(t,e,i,n,r){var s;const o=e.Ph;return{keyValue:t,tickLevel:e,labelText:i,labelPosition:this.ar.toPoint(t,0),labelAlignment:this.ar.toPoint(o.getLabelAlignment(),null!==(s=o.labelAlignmentOpposite)&&void 0!==s?s:-this.Wf),labelOffset:{x:0,y:0},labelRotation:e.Ph.labelRotation}}Zr(t,e,i){if(!this.ui)return{uA:0,dA:0,fA:0,ticksInfo:e,updatedTicks:i};const n=this.Kh&&this.Kh.sn().length>0&&this.getTitleFillStyle()!==na,r=this.ar.getHeight(n?this.Kh.zr().pu():{x:0,y:0})+(n?this.rA:0);let s=0;this.Dh.forEach(((t,e)=>{const i=e.Ph.tickLength<0||e.Ph.tickPadding<0,n=e.Ph.tickLength+e.Ph.tickPadding;t.forEach((t=>{if(!t.Er.getVisible()||ra(t.Er.Sr()))return void(i||(s=Math.max(s,n)));const e=n+this.ar.getHeight(t.Er.zr().pu());i||(s=Math.max(s,e))}))}));const o=this.Tf.reduce(this.Ef,0);s=Math.max(s,o),s+=this.hA;const a=Qr(r+s,void 0!==this.aA?this.aA:0,void 0!==this.lA?this.lA:ro);return this.Cf=a,{uA:s,dA:r,fA:a,ticksInfo:e,updatedTicks:i}}qr(t,e){return new vu(e,t,this.Nf,this.Jf,this.Jf)}tr(){return this.Jf}Fr(){if(this._f){for(const t of this._f)t[1].grid.dispose(),t[1].tick.dispose();this._f.clear()}super.Fr()}gn(t,e){return"linear"===this.cr.type||"linear-highPrecision"===this.cr.type?ka(t,e,this.oi):Ca(t,e,this.oi)}AA(t,e){return e instanceof ir?ka:Ca}pn(t,e,i){if("logarithmic"!==this.cr.type){const n=this.oi.Zt(Math.abs(e-t));return{start:t+Math.sign(t-e)*i.start*n,end:e+Math.sign(e-t)*i.end*n}}const n=this.oi,r={start:n.G,end:n.$};n.H(t,e).rs();const s={start:n.Jt(t,i.start*Math.sign(t-e)),end:n.Jt(e,i.end*Math.sign(e-t))};return n.H(r.start,r.end).rs(),s}Or(t){var e,i;const n=this.Vr(),r=n.min,s=n.max,o=this.Dh.size>0,a=(null===(e=this.Nr)||void 0===e?void 0:e.physicalAxisSize)!==t.physicalAxisSize;let l=(null===(i=this.Nr)||void 0===i?void 0:i.min)!==r||this.Nr.max!==s;if(this.Nr&&this.zf){const t=this.zf.getPixelSize(),e=Math.abs(s-this.Nr.max),i=Math.abs(e/t),n=Math.abs(r-this.Nr.min),o=Math.abs(n/t);l=Math.max(i,o)>=10}return!(!o||a||l||t.anyPreviousAxisUpdated)}sh(t){const e=this.getVisible()&&t.gA>0,i=this.oi.getInnerStart()<this.oi.getInnerEnd()?this.oi.getInnerStart():this.oi.getInnerEnd(),n=this.oi.getInnerEnd()>this.oi.getInnerStart()?this.oi.getInnerEnd():this.oi.getInnerStart();e||this.Fr();const r=this.tA.co().getThickness()*this.Wf/2,s=this.Zf.getInnerInterval(),o=this.Hf/100*s,a=o+t.vA,l=s*this.Wf,h=a+r;if("Empty"!==this.Bh&&e){const e=this.oi.bt(),i=this.oi.xt(),n=Math.min(e,i),r=Math.max(e,i);for(const[s,c]of this.Dh){let e=this._f.get(s);if(!e)if(s.bh)e={grid:this.Vf[0].yA(this.Jf).setPointerEvents(!1),tick:this.Vf[0].yA(this.Jf).setPointerEvents(!1)};else if("pA"in s){const t=Array.from(this.Dh.keys()).filter((t=>"pA"in t)).reverse().indexOf(s),i=this.Vf[t];if(!i)throw new Error("Not enough tick layers. This is an internal LCJS error - if you see this, please contact LightningChart support.");e={grid:i.yA(this.Jf).setPointerEvents(!1),tick:i.yA(this.Jf).setPointerEvents(!1)}}if(!e)continue;e.grid.Ni(),e.tick.Ni();const i=s.Ph,u=o-l*i.getGridStrokeLength(),d=h+i.getTickLength()*this.Wf,f=d+i.getTickPadding()*this.Wf;for(const[s,o]of c){const i=t.ticksInfo.get(o);if(!i)continue;const s={start:this.ar.toPoint(o.S,a),end:this.ar.toPoint(o.S,u)},l={start:this.ar.toPoint(o.S,h),end:this.ar.toPoint(o.S,d)};let c=0;if(this.Df){const t=o.Er.pu(),e=this.oi.Bt(i.keyValue)+this.ar.getWidth(i.labelOffset)+(-.5*this.ar.getWidth(i.labelAlignment)-.5)*this.ar.getWidth(t),s=e+this.ar.getWidth(t);c=s>r?r-s:e<n?n-e:0}o.Er.eh(this.ar.toPoint(this.oi.Jt(o.S,c),f)).Hl(i.labelAlignment).kr(i.labelRotation),e.grid.Uo().mA(s.start,s.end),e.tick.Uo().mA(l.start,l.end)}e.grid.Ah(s.Ph.getGridStrokeStyle()),e.tick.Ah(s.Ph.getTickStyle()),this._f.set(s,e)}}const c=h,u=c+this.Wf*t.fA,d={start:this.ar.toVec2(this.oi.getInnerStart(),c),end:this.ar.toVec2(this.oi.getInnerEnd(),u)},f=hr(d.start,this.Jf,this.Qf),g=hr(d.end,this.Jf,this.Qf);this.tA.ph(this.ar.toPoint(i,a)).yh(this.ar.toPoint(n,a)).setVisible(e);let p=this.SA;p||(p="center-chart",("pixels"in this.df||void 0!==this.bA||void 0!==this.xA||1!==t.MA||this.isY)&&(p="center"));const m=a+t.uA*this.Wf;if(this.Kh.eh(this.ar.toPoint(this.ar.getWidth(hr("center-chart"===p?{x:.5*this.Qf.x.getInnerInterval(),y:.5*this.Qf.y.getInnerInterval()}:"center"===p?Lo(Ro(f,g),.5):"start"===p?f:g,this.Qf,this.Jf)),m)).Hl(this.ar.toPoint("center-chart"===p||"center"===p?0:"start"===p?-1:1,-1*this.Wf)).setVisible(e),this.kf){const e=this.Hf/100*s+t.vA,i=-this.Wf*s-t.vA,n={start:this.ar.toVec2(this.kf.min,h+this.Wf*this.Cf),end:this.ar.toVec2(this.kf.max,e+i)},r=hr(n.start,this.Jf,this.Qf),o=hr(n.end,this.Jf,this.Qf);this.sA.eh(r).X(Bo(o,r)).setVisible(!0)}else this.sA.setVisible(!1);this.iA.eh(f).X(Bo(g,f)).setVisible(e);for(const y of this.Tf)if(y.update().plot(e,a,l,t.vA,h),this.Yf.gi.vu&&y.getVisible()&&y.getMarkerVisible()&&y.no.Qh===Ta.CursorTickMarker){const t=Ih(y.no);this.Yf.gi.vu.wA({...t,blacklist:[Ta.CursorResultTable,Ta.CursorTickMarker]})}for(const y of this.Pf)y.sh();return{width:Math.abs(g.x-f.x),height:Math.abs(g.y-f.y),left:Math.min(f.x,g.x),right:this.Qf.x.getInnerEnd()-Math.max(f.x,g.x),bottom:Math.min(f.y,g.y),top:this.Qf.y.getInnerEnd()-Math.max(f.y,g.y)}}setLength(t){return this.df=t,this.Nr=void 0,this.chart.gi.Rs(),this}getLength(){return this.df}setMargins(t,e){return this.bA=t,this.xA=e,this.Nr=void 0,this.chart.gi.Rs(),this}getMargins(){var t,e;return{start:null!==(t=this.bA)&&void 0!==t?t:0,end:null!==(e=this.xA)&&void 0!==e?e:0}}getStackIndex(){var t,e;return null!==(e=null===(t=[...this.chart._A,...this.chart.kA,...this.chart.CA,...this.chart.TA].find((t=>t.axis===this)))||void 0===t?void 0:t.iStack)&&void 0!==e?e:0}getParallelIndex(){var t,e;return null!==(e=null===(t=[...this.chart._A,...this.chart.kA,...this.chart.CA,...this.chart.TA].find((t=>t.axis===this)))||void 0===t?void 0:t.iParallel)&&void 0!==e?e:0}FA(){return this.Cf}IA(t,e){e=e||yu.AxisTickMajor;const i=new Vh(this,t?this.Vf[0]:this.Yf,this.Yf,this.oi,this.qf,this.qf,this.ar,this.Xf,this.Of,this.bi,e).setTextFormatter(this.formatValue);return this.Tf.push(i),this.Nr=void 0,"other"===i.no.ao&&(i.no.Qh=Ta.CursorTickMarker),i}PA(t,e){const i=-this.ar.getWidth(e);this.pan(i)}pan(t,e){var i,n;const r=this.Ar,s=this.gr,o=this.oi.Jt(r,t),a=this.oi.Jt(s,t);this.Br(o,a,{allowIntervalLengthChange:!1,skipIntervalRestriction:!1});const l=this.Mr();if(!1!==(null==e?void 0:e.releaseScrollingAxisIfLiveReached)&&(null===(i=this.Dr)||void 0===i?void 0:i.id)===nh&&this.zh&&l){const t=this.Sh({forStart:o,forEnd:a,allowIntervalLengthChange:!1});t&&(this.gr>this.Ar&&this.gr>=t.end||this.gr<this.Ar&&this.Ar>=t.start)&&this.setStopped(!1)}if(!1!==(null==e?void 0:e.releaseScrollingAxisIfLiveReached)&&(null===(n=this.Dr)||void 0===n?void 0:n.id)===rh&&this.zh&&l){const t=this.Sh({forStart:o,forEnd:a,allowIntervalLengthChange:!1});t&&(this.gr<this.Ar&&this.gr<=t.end||this.gr>this.Ar&&this.Ar<=t.start)&&this.setStopped(!1)}}zoom(t,e){const i=this.oi.Bt(this.Ar),n=this.oi.Bt(this.gr),r=this.oi.Bt(t),s=Qr((r-i)/(n-i),0,1),o=.2*this.oi.Mt(),a=s*o*-e,l=(1-s)*o*e,h=this.oi.Jt(this.Ar,a),c=this.oi.Jt(this.gr,l),u=this.yn();let d=h,f=c;if(void 0!==(null==u?void 0:u.intervalMax)&&Math.abs(f-d)>u.intervalMax){const t=u.intervalMax-Math.abs(f-d);d-=t*s,f+=t*(1-s)}if(void 0!==(null==u?void 0:u.intervalMin)&&Math.abs(f-d)<u.intervalMin){const t=u.intervalMin-Math.abs(f-d);d-=t*s,f+=t*(1-s)}this.Br(d,f,{allowIntervalLengthChange:!0,skipIntervalRestriction:!1})}addCustomTick(t){return this.IA(!0,t)}setTitlePosition(t){return this.SA=t,this.chart.gi.Rs(),this}getTitlePosition(){var t;return null!==(t=this.SA)&&void 0!==t?t:"center-chart"}getUiPosition(){return this.Hf}setStrokeStyle(t){return this.tA.Ah(t),this.Nf.Rs(),this}getStrokeStyle(){return this.tA.co()}getOverlayStyle(){return this.iA.Sr()}setOverlayStyle(t){return this.iA.th(t),this.Nf.Rs(),this}setAnimationHighlight(t){return this.chart.gi._s.$s(this.iA,t),this}getAnimationHighlight(){return this.chart.gi._s.Us(this.iA)}getMarginAfterTicks(){return this.hA}setMarginAfterTicks(t){return this.hA=t,this.Nr=void 0,this.Nf.Rs(),this}getMarginAfterTitle(){return this.rA}setMarginAfterTitle(t){return this.rA=t,this.Nr=void 0,this.Nf.Rs(),this}Y(){return this.oi.Y(),this}j(){return this.oi.j(),this}dispose(){var t;(null===(t=this.Dr)||void 0===t?void 0:t.dispose)&&this.Dr.dispose({axis:this}),this.tA.dispose(),this.iA.dispose(),this.sA.dispose(),this.Kh.dispose(),this.Rr(qr);for(const e of this._f.values())e.grid.dispose(),e.tick.dispose();return this.Ff.slice().forEach(qr),this.Pf.slice().forEach(qr),this.Uf(this),this.L.D("dispose",{}),this}setVisible(t){this.tA.setVisible(t),this.Kh.setVisible(t),this.iA.setVisible(t),this.Rr((e=>{e.Ps(t)}));for(const e of this._f.values())e.grid.setVisible(t),e.tick.setVisible(t);return super.setVisible(t),this.Nr=void 0,this.chart.gi.Rs(),this}setAnimationsEnabled(t){return super.setAnimationsEnabled(t),this.setAnimationHighlight(this.Oh),this}setHighlightOnHover(t){return this.fs=t?Ma.onHover:Ma.noHighlighting,!1===t&&this.getHighlight()>0&&this.setHighlight(!1),this}getHighlightOnHover(){return this.fs!==Ma.noHighlighting}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}setPointerEvents(t){return this.L.setPointerEvents(t),this}getPointerEvents(){return this.L.getPointerEvents()}set draggable(t){this.L.draggable=t}get draggable(){return this.L.draggable}setUserInteractions(t){return this.uh=void 0===t?{pan:!1,zoom:!1,rectangleZoom:!1,restoreDefault:!1,chartInteractions:{pan:!1,paginate:!1,zoom:!1,rectangleZoom:!1,restoreDefault:!1,restorePrevious:!1}}:t,this}getUserInteractions(){return this.uh}}var bu;!function(t){t.Start="start",t.Center="center",t.End="end",t.CenterChart="center-chart"}(bu||(bu={}));const Su=t=>t.curEnd>t.curStart?{startMin:t.dataMin,endMax:t.dataMax}:{endMin:t.dataMin,startMax:t.dataMax},Au={getWidth:t=>t.x,getHeight:t=>t.y,toVec2:(t,e)=>({x:t,y:e}),toPoint:(t,e)=>En(t,e)},Eu={getWidth:t=>t.y,getHeight:t=>t.x,toVec2:(t,e)=>({x:e,y:t}),toPoint:(t,e)=>En(e,t)},wu=t=>!!(t&&"object"==typeof t&&"x"in t&&t.x instanceof xu&&"y"in t&&t.y instanceof xu),ku=gn({type:"tick-style",gridStrokeLength:1,gridStrokeStyle:new tl,tickLength:7,tickStyle:new tl,tickPadding:0,labelFont:new Ya,labelFillStyle:new aa,labelAlignment:0,labelAlignmentOpposite:void 0,labelRotation:0,labelShadow:void 0});class Cu extends ku{constructor(t){super(t)}setGridStrokeLength(t){return this.set("gridStrokeLength",t)}getGridStrokeLength(){return this.get("gridStrokeLength")}setGridStrokeStyle(t){return this.set("gridStrokeStyle","function"==typeof t?t(this.get("gridStrokeStyle")):t)}getGridStrokeStyle(){return this.get("gridStrokeStyle")}setTickLength(t){return this.set("tickLength",t)}getTickLength(){return this.get("tickLength")}setTickStyle(t){return this.set("tickStyle","function"==typeof t?t(this.get("tickStyle")):t)}getTickStyle(){return this.get("tickStyle")}setTickPadding(t){return this.set("tickPadding",t)}getTickPadding(){return this.get("tickPadding")}setLabelFillStyle(t){return this.set("labelFillStyle","function"==typeof t?t(this.get("labelFillStyle")):t)}getLabelFillStyle(){return this.get("labelFillStyle")}setLabelShadow(t){return this.set("labelShadow",t)}getLabelShadow(){return this.get("labelShadow")}setLabelFont(t){return this.set("labelFont","function"==typeof t?t(this.get("labelFont")):t)}getLabelFont(){return this.get("labelFont")}setLabelAlignment(t,e){return this.withMutations((i=>i.set("labelAlignment",t).set("labelAlignmentOpposite",e)))}getLabelAlignment(){return this.get("labelAlignment")}setLabelRotation(t){return this.set("labelRotation",t)}getLabelRotation(){return this.get("labelRotation")}}const Mu=t=>!(!t||"object"!=typeof t||!("type"in t)||"tick-style"!==t.type),Tu=new Cu({labelFillStyle:na,gridStrokeStyle:Br,tickStyle:Br}),Pu=t=>Mu(t)&&ra(t.labelFillStyle)&&zr(t.gridStrokeStyle)&&zr(t.tickStyle),Fu=1e6,Lu=gn({type:"time-ticks",cursorFormatter:void 0,timeOrigin:void 0,majorTickStyle:new Cu,minorTickStyle:new Cu,majorFormattingFunction:void 0,minorFormattingFunction:void 0}),Ru=36e5,Bu=6e4,zu=1e3,Iu=1e-6,Du=(t,e)=>{const i=e-t;return i>=864e5?"MajorHours12":i>=Ru?"MajorHours":i>=6e5?"MajorMinutes15":i>=9e4?"MajorMinutes":i>=10500?"MajorSeconds15":i>=zu?"MajorSeconds":i>=100?"MajorMilliseconds100":i>=10?"MajorMilliseconds10":i>=1?"MajorMilliseconds":i>=.1?"MajorMicroseconds100":i>=.01?"MajorMicroseconds10":i>=.001?"MajorMicroseconds":i<=.001?"MajorNanoseconds100":"Unknown"},Vu={hhmmss:t=>{let e=Math.abs(t);const i=t>=0?"":"-",n=Math.floor(e/Ru);e%=Ru;const r=Math.floor(e/Bu);e%=Bu;const s=Math.floor(e/zu);return"".concat(i).concat(zs(n,2),":").concat(zs(r,2),":").concat(zs(s,2))},hhmmssmmm:t=>{let e=Math.abs(t);const i=t>=0?"":"-",n=Math.floor(e/Ru);e%=Ru;const r=Math.floor(e/Bu);e%=Bu;const s=Math.floor(e/zu);e%=zu;const o=Math.floor(e/1);return"".concat(i).concat(zs(n,2),":").concat(zs(r,2),":").concat(zs(s,2),".").concat(zs(o,3))},hhmmssmmmuuu:t=>{const e=Math.abs(t),i=t>=0?"":"-",n=Math.floor(e/Ru),r=Math.floor(e/Bu)%60,s=Math.floor(e/zu)%60,o=Math.floor(e/1)%1e3,a=t.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}).split(".")[1];return"".concat(i).concat(zs(n,2),":").concat(zs(r,2),":").concat(zs(s,2),".").concat(zs(o,3)).concat(a)},hhmmssmmmuuunnn:t=>{const e=Math.abs(t),i=t>=0?"":"-",n=Math.floor(e/Ru),r=Math.floor(e/Bu)%60,s=Math.floor(e/zu)%60,o=Math.floor(e/1)%1e3,a=t.toLocaleString("en-US",{minimumFractionDigits:6,maximumFractionDigits:6}).split(".")[1];return"".concat(i).concat(zs(n,2),":").concat(zs(r,2),":").concat(zs(s,2),".").concat(zs(o,3)).concat(a)}},_u={MajorHours12:{major:{format:Vu.hhmmss,getKeyValues:(t,e,i,n)=>{const r=432e5;return t=Math.floor(t/(4*r))*r*4,ph(t,e,r,void 0,Fu)},fitKeyValues:yh({ignore:"first"},2,4)},minor:{format:Vu.hhmmss,getKeyValues:(t,e,i,n)=>gh(t,e,36e5,Fu),fitKeyValues:yh({},2,3,4,6)},defaultValueFormatter:Vu.hhmmss},MajorHours:{major:{format:Vu.hhmmss,getKeyValues:(t,e,i,n)=>{const r=Ru;return t=Math.floor(t/(12*r))*r*12,ph(t,e,r,void 0,Fu)},fitKeyValues:yh({ignore:"first"},2,6,12)},minor:{format:Vu.hhmmss,getKeyValues:(t,e,i,n)=>gh(t,e,3e5,Fu),fitKeyValues:yh({},2,4,6)},defaultValueFormatter:Vu.hhmmss},MajorMinutes15:{major:{format:Vu.hhmmss,getKeyValues:(t,e,i,n)=>(t=Math.floor(t/Ru)*Ru,ph(t,e,9e5,void 0,Fu)),fitKeyValues:yh({ignore:"first"},2)},minor:{format:Vu.hhmmss,getKeyValues:(t,e,i,n)=>gh(t,e,6e4,Fu),fitKeyValues:yh({},3,5)},defaultValueFormatter:Vu.hhmmss},MajorMinutes:{major:{format:Vu.hhmmss,getKeyValues:(t,e,i,n)=>(t=6e4*Math.floor(t/6e5)*10,ph(t,e,6e4,void 0,Fu)),fitKeyValues:yh({ignore:"first"},2,5)},minor:{format:Vu.hhmmss,getKeyValues:(t,e,i,n)=>gh(t,e,5e3,Fu),fitKeyValues:yh({},2,3,4,6)},defaultValueFormatter:Vu.hhmmss},MajorSeconds15:{major:{format:Vu.hhmmss,getKeyValues:(t,e,i,n)=>(t=15e3*Math.floor(t/6e4)*4,ph(t,e,15e3,void 0,Fu)),fitKeyValues:yh({ignore:"first"},2,4)},minor:{format:Vu.hhmmss,getKeyValues:(t,e,i,n)=>gh(t,e,1e3,Fu),fitKeyValues:yh({},3,5)},defaultValueFormatter:Vu.hhmmss},MajorSeconds:{major:{format:Vu.hhmmss,getKeyValues:(t,e,i,n)=>(t=1e3*Math.floor(t/1e4)*10,ph(t,e,1e3,void 0,Fu)),fitKeyValues:yh({ignore:"first"},2,5)},minor:{format:Vu.hhmmssmmm,getKeyValues:(t,e,i,n)=>gh(t,e,100,Fu),fitKeyValues:yh({},2,3,5)},defaultValueFormatter:Vu.hhmmssmmm},MajorMilliseconds100:{major:{format:Vu.hhmmssmmm,getKeyValues:(t,e,i,n)=>(t=100*Math.floor(t/1e3)*10,ph(t,e,100,void 0,Fu)),fitKeyValues:yh({ignore:"first"},2,5)},minor:{format:Vu.hhmmssmmm,getKeyValues:(t,e,i,n)=>gh(t,e,10,Fu),fitKeyValues:yh({},2,3,5)},defaultValueFormatter:Vu.hhmmssmmm},MajorMilliseconds10:{major:{format:Vu.hhmmssmmm,getKeyValues:(t,e,i,n)=>(t=10*Math.floor(t/100)*10,ph(t,e,10,void 0,Fu)),fitKeyValues:yh({ignore:"first"},2,5)},minor:{format:Vu.hhmmssmmm,getKeyValues:(t,e,i,n)=>gh(t,e,1,Fu),fitKeyValues:yh({},2,3,5)},defaultValueFormatter:Vu.hhmmssmmm},MajorMilliseconds:{major:{format:Vu.hhmmssmmmuuu,getKeyValues:(t,e,i,n)=>(t=1*Math.floor(t/10)*10,ph(t,e,1,void 0,Fu)),fitKeyValues:yh({ignore:"first"},2,5)},minor:{format:Vu.hhmmssmmmuuu,getKeyValues:(t,e,i,n)=>gh(t,e,.1,Fu),fitKeyValues:yh({},2)},defaultValueFormatter:Vu.hhmmssmmmuuu},MajorMicroseconds100:{major:{format:Vu.hhmmssmmmuuu,getKeyValues:(t,e,i,n)=>(t=.1*Math.floor(t/1)*10,ph(t,e,.1,void 0,Fu)),fitKeyValues:yh({ignore:"first"},2,5)},minor:{format:Vu.hhmmssmmmuuu,getKeyValues:(t,e,i,n)=>gh(t,e,.01,Fu),fitKeyValues:yh({},2,3,5)},defaultValueFormatter:Vu.hhmmssmmmuuu},MajorMicroseconds10:{major:{format:Vu.hhmmssmmmuuu,getKeyValues:(t,e,i,n)=>(t=.01*Math.floor(t/.1)*10,ph(t,e,.01,void 0,Fu)),fitKeyValues:yh({ignore:"first"},2,5)},minor:{format:Vu.hhmmssmmmuuu,getKeyValues:(t,e,i,n)=>gh(t,e,.001,Fu),fitKeyValues:yh({},2,3,5)},defaultValueFormatter:Vu.hhmmssmmmuuu},MajorMicroseconds:{major:{format:Vu.hhmmssmmmuuunnn,getKeyValues:(t,e,i,n)=>(t=.001*Math.floor(t/.01)*10,ph(t,e,.001,void 0,Fu)),fitKeyValues:yh({ignore:"first"},2,5)},minor:{format:Vu.hhmmssmmmuuunnn,getKeyValues:(t,e,i,n)=>gh(t,e,100*Iu,Fu),fitKeyValues:yh({},2,3,5)},defaultValueFormatter:Vu.hhmmssmmmuuunnn},MajorNanoseconds100:{major:{format:Vu.hhmmssmmmuuunnn,getKeyValues:(t,e,i,n)=>{const r=100*Iu;return t=Math.floor(t/.001)*r*10,ph(t,e,r,void 0,Fu)},fitKeyValues:yh({ignore:"first"},2,5)},minor:{format:Vu.hhmmssmmmuuunnn,getKeyValues:(t,e,i,n)=>gh(t,e,10*Iu,Fu),fitKeyValues:yh({},2,3,5)},defaultValueFormatter:Vu.hhmmssmmmuuunnn},Unknown:{major:{format:(t,e,i)=>"",getKeyValues:(t,e,i,n)=>[],fitKeyValues:void 0},minor:{format:(t,e,i)=>"",getKeyValues:(t,e,i,n)=>[],fitKeyValues:void 0},defaultValueFormatter:(t,e,i)=>""}};class Nu extends Lu{wh(t){const e=this.timeOrigin||0,i=[{Er:"Major ticks",pA:0,Ph:this.majorTickStyle,xh:this.majorFormattingFunction?this.majorFormattingFunction:(t,i,n)=>{const r=Du(Math.min(i.start,i.end),Math.max(i.start,i.end));return(0,_u[r].major.format)(t+e,i,n)},Cn:(t,e,i,n,r)=>{const s=Du(i,n);return(0,_u[s].major.getKeyValues)(t,e,i,n,r)},er:{en:(t,e,i,n,r,s)=>{const o=Du(r,s),a=_u[o].major.fitKeyValues;if(a)return a(t,e,i,n,r,s)},rn:"hide-label"},Tn:void 0}];return Mu(this.minorTickStyle)&&i.push({Er:"Minor ticks",pA:1,Ph:this.minorTickStyle,xh:this.minorFormattingFunction?this.minorFormattingFunction:(t,i,n)=>{const r=Du(Math.min(i.start,i.end),Math.max(i.start,i.end));return(0,_u[r].minor.format)(t+e,i,n)},Cn:(t,e,i,n,r)=>{const s=Du(i,n);return(0,_u[s].minor.getKeyValues)(t,e,i,n,r)},er:{en:(t,e,i,n,r,s)=>{const o=Du(r,s),a=_u[o].minor.fitKeyValues;if(a)return a(t,e,i,n,r,s)},rn:"hide-tick"},Tn:void 0}),{_h:[],kh:i,Ch:this.cursorFormatter||((t,i,n)=>{const r=Du(Math.min(i.start,i.end),Math.max(i.start,i.end));return _u[r].defaultValueFormatter(t+e,i,n)}),Th:1e-4,Fh:864e6}}setTickStyle(t){return this.setMajorTickStyle(t).setMinorTickStyle(t)}setMajorTickStyle(t){return"function"==typeof t?this.set("majorTickStyle",t(this.get("majorTickStyle"))):this.set("majorTickStyle",t)}getMajorTickStyle(){return this.get("majorTickStyle")}setMinorTickStyle(t){if("function"==typeof t){const e=this.get("minorTickStyle");return this.set("minorTickStyle",t(e))}return this.set("minorTickStyle",t)}getMinorTickStyle(){return this.get("minorTickStyle")}setCursorFormatter(t){return this.set("cursorFormatter",t)}getCursorFormatter(){return this.get("cursorFormatter")}setTimeOrigin(t){return this.set("timeOrigin",t)}getTimeOrigin(){return this.get("timeOrigin")}setFormattingFunction(t){return this.withMutations((e=>e.set("majorFormattingFunction",t).set("minorFormattingFunction",t).set("cursorFormatter",t)))}getMajorFormattingFunction(){return this.get("majorFormattingFunction")}setMajorFormattingFunction(t){return this.set("majorFormattingFunction",t)}getMinorFormattingFunction(){return this.get("minorFormattingFunction")}setMinorFormattingFunction(t){return this.set("minorFormattingFunction",t)}}const Ou=(t,e,i,n,r)=>(s,o)=>a=>{const l=new Date(a+s),h={year:o?l.getUTCFullYear():l.getFullYear(),monthIndex:o?l.getUTCMonth():l.getMonth(),day:o?l.getUTCDate():l.getDate(),hours:o?l.getUTCHours():l.getHours(),minutes:o?l.getUTCMinutes():l.getMinutes(),seconds:o?l.getUTCSeconds():l.getSeconds(),millis:o?l.getUTCMilliseconds():l.getMilliseconds()},c=n?n(h):void 0;if(0===t&&!0===c)return a;const u=h[e];r.includes("year")&&(h.year=Math.floor(h.year/i)*i),r.includes("monthIndex")&&(h.monthIndex=0),r.includes("day")&&(h.day=1),r.includes("hours")&&(h.hours=0),r.includes("minutes")&&(h.minutes=0),r.includes("seconds")&&(h.seconds=0),r.includes("millis")&&(h.millis=0);let d=(0===t?1:t)*i;return-1===t&&!1===c&&(d=0),0!==d&&(h[e]=i*(d>0?Math.floor((u+d)/i):Math.ceil((u+d)/i))),o?Date.UTC(h.year,h.monthIndex,h.day,h.hours,h.minutes,h.seconds,h.millis)-s:new Date(h.year,h.monthIndex,h.day,h.hours,h.minutes,h.seconds,h.millis).getTime()-s},Hu=function(t,e,i){for(var n=arguments.length,r=new Array(n>3?n-3:0),s=3;s<n;s++)r[s-3]=arguments[s];return Ou(-1,t,e,i,r)},Uu=function(t,e,i){for(var n=arguments.length,r=new Array(n>3?n-3:0),s=3;s<n;s++)r[s-3]=arguments[s];return Ou(-1,t,e,i,r)},Yu=function(t,e,i){for(var n=arguments.length,r=new Array(n>3?n-3:0),s=3;s<n;s++)r[s-3]=arguments[s];return Ou(0,t,e,i,r)},Gu=function(t,e){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return Ou(1,t,e,void 0,n)},ju=t=>(e,i)=>n=>{const r=new Date(n+e),s=i?r.getUTCDay():r.getDay(),o=1===s&&0===(i?r.getUTCHours():r.getHours())&&0===(i?r.getUTCMinutes():r.getMinutes())&&0===r.getSeconds()&&0===r.getMilliseconds();if(0===t&&!0===o)return n;let a=i?r.getUTCDate():r.getDate();return-1===t&&1===s&&!1===o||(-1===t?a-=s>=2?s-1:s+6:a+=s>0?8-s:1),i?Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),a,0,0,0,0)-e:new Date(r.getFullYear(),r.getMonth(),a,0,0,0,0).getTime()-e},Xu=[{label:"NanoSecond10",unit:1e-5,irregular:!1,greatTicks:void 0,majorTicks:{fitFunction:yh({offset:0},2,5)},minorTicks:{amount:4,fitFunction:yh(void 0,2)}},{label:"NanoSecond100",unit:1e-4,irregular:!1,greatTicks:{getReferenceKeyValue:(t,e)=>t=>1e-4*Math.floor(t/1e-4)},majorTicks:{fitFunction:yh({offset:0},2,5)},minorTicks:{amount:4,fitFunction:yh(void 0,2)}},{label:"MicroSecond1",unit:.001,irregular:!1,greatTicks:{getReferenceKeyValue:(t,e)=>t=>.001*Math.floor(t/.001)},majorTicks:{fitFunction:yh({offset:0},2,5)},minorTicks:{amount:4,fitFunction:yh(void 0,2)}},{label:"MicroSecond10",unit:.01,irregular:!1,greatTicks:{getReferenceKeyValue:(t,e)=>t=>.01*Math.floor(t/.01)},majorTicks:{fitFunction:yh({offset:0},2,5)},minorTicks:{amount:4,fitFunction:yh(void 0,2)}},{label:"MicroSecond100",unit:.1,irregular:!1,greatTicks:{getReferenceKeyValue:(t,e)=>t=>.1*Math.floor(t/.1)},majorTicks:{fitFunction:yh({offset:0},2,5)},minorTicks:{amount:4,fitFunction:yh(void 0,2)}},{label:"MilliSecond1",unit:1,irregular:!1,greatTicks:{getReferenceKeyValue:Hu("millis",1,(t=>t.millis%1==0),"millis")},majorTicks:{fitFunction:yh({offset:0},2,5)},minorTicks:{amount:4,fitFunction:yh(void 0,2)}},{label:"MilliSecond10",unit:10,irregular:!1,greatTicks:{getReferenceKeyValue:Hu("millis",10,(t=>t.millis%10==0),"millis")},majorTicks:{fitFunction:yh({offset:0},2,5)},minorTicks:{amount:4,fitFunction:yh(void 0,2)}},{label:"MilliSecond100",unit:100,irregular:!1,greatTicks:{getReferenceKeyValue:Hu("millis",100,(t=>t.millis%100==0),"millis")},majorTicks:{fitFunction:yh({offset:0},2,5)},minorTicks:{amount:4,fitFunction:yh(void 0,2)}},{label:"Second",unit:1e3,irregular:!1,greatTicks:{getReferenceKeyValue:Hu("seconds",1,(t=>0===t.millis),"millis")},majorTicks:{fitFunction:vh(3,5,10,15,30)},minorTicks:{amount:4,fitFunction:yh(void 0,2)}},{label:"Minute",unit:6e4,irregular:!1,greatTicks:{getReferenceKeyValue:Hu("minutes",1,(t=>0===t.seconds&&0===t.millis),"seconds","millis")},majorTicks:{fitFunction:vh(3,5,10,15,30)},minorTicks:{amount:12,fitFunction:yh(void 0,3,6)}},{label:"Hour",unit:36e5,irregular:!1,greatTicks:{getReferenceKeyValue:Hu("hours",1,(t=>0===t.minutes&&0===t.seconds&&0===t.millis),"minutes","seconds","millis")},majorTicks:{fitFunction:vh(3,6,12)},minorTicks:{amount:8,fitFunction:yh(void 0,2,4)}},{label:"Day",unit:864e5,irregular:!1,greatTicks:{getReferenceKeyValue:Hu("day",1,(t=>0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis),"hours","minutes","seconds","millis")},majorTicks:{fitFunction:yh({ignore:"last"},2,4)},minorTicks:{amount:7,fitFunction:yh({ignore:"last"},2,3)}},{label:"Week",unit:6048e5,irregular:!0,getPrevKeyValue:ju(-1),getNextKeyValueIncludingRef:ju(0),getNextKeyValue:ju(1),greatTicks:!0,majorTicks:{fitFunction:yh(void 0,2)},minorTicks:{fitFunction:void 0}},{label:"Month",unit:2592e6,irregular:!0,getPrevKeyValue:Uu("monthIndex",1,(t=>1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis),"day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:Yu("monthIndex",1,(t=>1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis),"day","hours","minutes","seconds","millis"),getNextKeyValue:Gu("monthIndex",1,"day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:yh(void 0,2,3,6)},minorTicks:{fitFunction:yh(void 0,2,4,6)}},{label:"Year",unit:31536e6,irregular:!0,getPrevKeyValue:Uu("year",1,(t=>1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis),"monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:Yu("year",1,(t=>1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis),"monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValue:Gu("year",1,"monthIndex","day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:yh({ignore:"first"},2,5)},minorTicks:{fitFunction:yh(void 0,2,5)}},{label:"Decade",unit:31536e7,irregular:!0,getPrevKeyValue:Uu("year",10,(t=>t.year%10==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:Yu("year",10,(t=>t.year%10==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValue:Gu("year",10,"year","monthIndex","day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:yh(void 0,2,4)},minorTicks:{fitFunction:yh(void 0,2,5)}},{label:"Century",unit:316224e7,irregular:!0,getPrevKeyValue:Uu("year",100,(t=>t.year%100==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:Yu("year",100,(t=>t.year%100==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValue:Gu("year",100,"year","monthIndex","day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:void 0},minorTicks:void 0},{label:"Millennium",unit:316224e8,irregular:!0,getPrevKeyValue:Uu("year",1e3,(t=>t.year%1e3==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:Yu("year",1e3,(t=>t.year%1e3==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValue:Gu("year",1e3,"year","monthIndex","day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:void 0},minorTicks:void 0}],Wu=(t,e,i,n,r)=>{const s=e-t;let o;for(let a=r?0:Xu.length-1;r?a<Xu.length:a>=0;r?a+=1:a-=1){const t=s/Xu[a].unit;if((void 0===i||t>=i)&&(void 0===n||t<=n)){o=Xu[a];break}}return o},Zu=(t,e,i)=>{let n=Wu(e,i,void 0,2,!0);if(void 0!==n&&0===Xu.indexOf(n)&&(n=Xu[1]),void 0===n)return;if("great"===t)return n;const r="major"===t?1:2,s=Xu[Xu.indexOf(n)-r];return void 0===s?Xu[0]:s},qu=(t,e,i)=>(n,r,s,o)=>{const a=Zu("great",n,r);if(void 0===a)return[];if("Decade"===a.label||"Century"===a.label||"Millennium"===a.label)return[];const l=o>s?n:r,h=(n+r)/2,c=o>s?r:n;if(Xu.indexOf(a)<=Xu.findIndex((t=>"Hour"===t.label)))return"left"===i?[l]:[];let u;if(!0===a.irregular)u=mh(n,r,a.getPrevKeyValue(t,e),a.getNextKeyValue(t,e));else{const i=a.greatTicks.getReferenceKeyValue(t,e)(n);u=ph(n,r,a.unit,i,void 0)}const d=((t,e,i)=>{for(const n of i)if(n>=t&&n<=e)return n})(n,r,u);return"left"===i?void 0===d||mo(d,h,c)?[l]:[d]:void 0!==d&&mo(d,h,c)?[d]:[c]},Ju=(t,e,i)=>(n,r,s,o)=>{const a=Zu(t,s,o);let l;if(void 0===a)return[];if("great"===t&&void 0!==a.greatTicks)if(!0===a.irregular)l=mh(n,r,a.getPrevKeyValue(e,i),a.getNextKeyValue(e,i));else{const t=a.greatTicks.getReferenceKeyValue(e,i)(n);l=ph(n,r,a.unit,t,void 0)}else if("major"===t&&void 0!==a.majorTicks)l=!0===a.irregular?((t,e,i,n)=>{const r=[];let s=i(t),o=0;for(;s<e;)if(r.push(s),s=n(s),o+=1,o>1e3)throw new Error("Infinite loop in Axis tick key values logic.");return r.push(s),r})(n,r,a.getPrevKeyValue(e,i),a.getNextKeyValue(e,i)):((t,e,i)=>{const n=[];let r=t,s=0;for(;(r-t)/(e-t)<.98;)if(n.push(r),s+=1,r=t+s*i,s>1e3)throw new Error("Infinite loop in Axis tick key values logic.");return n.push(r),n})(n,r,a.unit);else{if("minor"!==t||void 0===a.minorTicks)return[];if(!0===a.irregular)l=((t,e,i,n)=>{const r=[];let s=n(t),o=0;for(;s<e;)if(r.push(s),s=n(s),o+=1,o>1e3)throw new Error("Infinite loop in Axis tick key values logic.");return r})(n,r,a.getNextKeyValueIncludingRef(e,i),a.getNextKeyValue(e,i));else{const t=(t=>{if(void 0!==t)return Xu[Xu.indexOf(t)+1]})(a);if(void 0===t)return[];l=gh(n,r,t.unit/a.minorTicks.amount,void 0)}}return l},Ku=t=>(e,i,n,r,s,o)=>{const a=Zu(t,s,o);if(void 0===a)return;let l;return"major"===t?l=a.majorTicks.fitFunction:a.minorTicks&&(l=a.minorTicks.fitFunction),l?l(e,i,n,r,s,o):void 0},Qu=gn({utc:!1,locale:void 0,dateOrigin:void 0,cursorFormatter:void 0,greatTickStyle:new Cu,majorTickStyle:new Cu,minorTickStyle:new Cu,formatOptionsMajorCentury:{year:"numeric",hour12:!1},formatOptionsMinorDecade:{year:"numeric",hour12:!1},formatOptionsMajorDecade:{year:"numeric",hour12:!1},formatOptionsMinorYear:{year:"numeric",hour12:!1},formatOptionsMajorYear:{year:"numeric",hour12:!1},formatOptionsMinorMonth:{month:"short",hour12:!1},formatOptionsGreatYear:{year:"numeric",hour12:!1},formatOptionsMajorMonth:{month:"long",hour12:!1},formatOptionsMinorWeek:{day:"numeric",hour12:!1},formatOptionsGreatMonth:{year:"numeric",month:"long",hour12:!1},formatOptionsMajorWeek:{day:"numeric",weekday:"short",hour12:!1},formatOptionsMinorDay:{day:"numeric",weekday:"short",hour12:!1},formatOptionsGreatWeek:(t,e,i)=>{const n=new Date(t),r=(t=>{const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));const i=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-i.getTime())/864e5+1)/7)})(n);return"".concat(new Intl.DateTimeFormat(i,{year:"numeric",month:"long",hour12:!1}).format(n)," Week ").concat(r)},formatOptionsMajorDay:{weekday:"long",day:"numeric",hour12:!1},formatOptionsMinorHour:{hour:"2-digit",minute:"2-digit",hour12:!1},formatOptionsGreatDay:{year:"numeric",month:"long",day:"numeric",hour12:!1},formatOptionsMajorHour:{hour:"2-digit",minute:"2-digit",hour12:!1},formatOptionsMinorMinute:{hour:"2-digit",minute:"2-digit",hour12:!1},formatOptionsGreatHour:{year:"numeric",month:"long",day:"numeric",hour12:!1},formatOptionsMajorMinute:{hour:"2-digit",minute:"2-digit",hour12:!1},formatOptionsMinorSecond:{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},formatOptionsGreatMinute:{year:"numeric",month:"long",day:"numeric",hour12:!1},formatOptionsMajorSecond:{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},formatOptionsMinorMillisecond:t=>{const e=new Date(t);return e.setHours(0,0,0,0),Vu.hhmmssmmm(t-e.getTime())},formatMillisecondRange:t=>{const e=new Date(t);return e.setHours(0,0,0,0),Vu.hhmmssmmm(t-e.getTime())},formatMicrosecondRange:t=>{const e=new Date(t);return e.setHours(0,0,0,0),Vu.hhmmssmmmuuu(t-e.getTime())},formatNanosecondRange:(t,e,i,n)=>{if(n){const t=new Date(n.valueShifted);return t.setHours(0,0,0,0),Vu.hhmmssmmmuuunnn(n.valueShifted-t.getTime())}{const e=new Date(t);return e.setHours(0,0,0,0),Vu.hhmmssmmmuuunnn(t-e.getTime())}},formatOptionsGreatSecond:{},formatOptionsMajorMilliSecond:{}});class $u extends Qu{wh(t){const e=void 0!==this.dateOrigin?this.dateOrigin.getTime():0,i=t=>Xu.map((e=>{const i=((t,e,i)=>{switch(i.label){case"NanoSecond10":case"NanoSecond100":return t.formatNanosecondRange;case"MicroSecond1":case"MicroSecond10":case"MicroSecond100":return t.formatMicrosecondRange;case"MilliSecond1":case"MilliSecond10":case"MilliSecond100":return"Great"===e?t.formatOptionsGreatMinute:t.formatMillisecondRange;case"Second":return"Great"===e?t.formatOptionsGreatMinute:"Major"===e?t.formatOptionsMajorSecond:t.formatOptionsMinorSecond;case"Minute":return"Great"===e?t.formatOptionsGreatMinute:"Major"===e?t.formatOptionsMajorMinute:t.formatOptionsMinorMinute;default:case"Hour":return"Great"===e?t.formatOptionsGreatHour:"Major"===e?t.formatOptionsMajorHour:t.formatOptionsMinorHour;case"Day":return"Great"===e?t.formatOptionsGreatDay:"Major"===e?t.formatOptionsMajorDay:t.formatOptionsMinorDay;case"Week":return"Great"===e?t.formatOptionsGreatWeek:"Major"===e?t.formatOptionsMajorWeek:t.formatOptionsMinorWeek;case"Month":return"Great"===e?t.formatOptionsGreatMonth:"Major"===e?t.formatOptionsMajorMonth:t.formatOptionsMinorMonth;case"Year":return"Great"===e?t.formatOptionsGreatYear:"Major"===e?t.formatOptionsMajorYear:t.formatOptionsMinorYear;case"Decade":return"Great"===e?void 0:"Major"===e?t.formatOptionsMajorDecade:t.formatOptionsMinorDecade;case"Century":return"Great"===e?void 0:"Major"===e?t.formatOptionsMajorCentury:void 0;case"Millennium":return}})(this,t,e);if("object"!=typeof i)return i;try{return new Intl.DateTimeFormat(this.locale,i)}catch(t){let n="";for(const t in i)n+=" ".concat(t,": ").concat(i[t],",");jr.console.error("Invalid Intl.DateTimeFormat ( locale: ".concat(this.locale,", formatOptions {").concat(n,"} )"))}})),n=new Map;n.set("great",i("Great")),n.set("major",i("Major")),n.set("minor",i("Minor"));const r=t=>String(t),s=(t,i)=>(s,o)=>{let a=s,l=s+e;const h=o.start,c=o.end,u=h>c,d=Zu(t,u?c:h,u?h:c);if(void 0===d)return r(l);if("great"===t){const t=Kr(s,"left"===i?h:c);let n;if(n=!1===t?s:!1===d.irregular?"left"===i&&!1===u||"right"===i&&!0===u?d.greatTicks.getReferenceKeyValue(e,this.utc)(s):d.greatTicks.getReferenceKeyValue(e,this.utc)(s+1*d.unit):"left"===i&&!1===u||"right"===i&&!0===u?d.getPrevKeyValue(e,this.utc)(s):d.getNextKeyValue(e,this.utc)(s),a=n,l=n+e,"right"===i&&!0===t)return"";if("right"===i&&"Week"===d.label)return""}const f=n.get(t);if(void 0===f)return r(l,this.locale);const g=f[Xu.indexOf(d)];return void 0===g?"":"function"==typeof g?g(l,o,this.locale,{valueShifted:a,shiftOrigin:this.dateOrigin?this.dateOrigin.getTime():0}):g.format(l)},o=[],a=[{Er:"Great ticks (directive)",pA:0,Mh:!0,Cn:Ju("great",e,this.utc),Tn:void 0},{Er:"Major ticks",pA:1,Ph:this.majorTickStyle,xh:s("major"),Cn:Ju("major",e,this.utc),er:{en:Ku("major"),rn:"hide-tick"},Tn:void 0}];Pu(this.greatTickStyle)||o.push({Er:"Great ticks (left)",Ph:this.greatTickStyle.setLabelAlignment(-1),xh:s("great","left"),Cn:qu(e,this.utc,"left"),bh:!0,an:!1}),Pu(this.minorTickStyle)||a.push({Er:"Minor ticks",pA:2,Ph:this.minorTickStyle,xh:s("minor"),Cn:Ju("minor",e,this.utc),er:{en:Ku("minor"),hr:(t,e,i,n,r,s)=>{const o=Zu("minor",r,s);return!o||"Week"!==o.label},rn:"hide-tick"},Tn:void 0,hn:2});const l=this.cursorFormatter;return{_h:o,kh:a,Ch:l?(t,i,n)=>l(e+t,i,n):(t,i,n)=>{const r=Wu(Math.min(i.start,i.end),Math.max(i.start,i.end),void 0,1,!0),s=r&&r.unit<=.1,o=r&&r.unit<=100,a=r&&r.unit<=6e4,l=new Date(e+t),h=new Date(e+t);h.setHours(0,0,0,0);const c=s?this.formatNanosecondRange:o?this.formatMicrosecondRange:a?this.formatMillisecondRange:Vu.hhmmss;return"".concat(new Intl.DateTimeFormat(n,{year:"numeric",month:"numeric",day:"numeric"}).format(l)," ").concat(c(l.getTime()-h.getTime(),i,this.locale,{valueShifted:t,shiftOrigin:e}))},Th:10**-5,Fh:31536e9}}setCursorFormatter(t){return this.set("cursorFormatter",t)}getCursorFormatter(){return this.get("cursorFormatter")}setTickStyle(t){return this.setGreatTickStyle(t).setMajorTickStyle(t).setMinorTickStyle(t)}setGreatTickStyle(t){if("function"==typeof t){const e=this.get("greatTickStyle");return this.set("greatTickStyle",t(e))}return this.set("greatTickStyle",t)}getGreatTickStyle(){return this.get("greatTickStyle")}setMajorTickStyle(t){return"function"==typeof t?this.set("majorTickStyle",t(this.get("majorTickStyle"))):this.set("majorTickStyle",t)}getMajorTickStyle(){return this.get("majorTickStyle")}setMinorTickStyle(t){if("function"==typeof t){const e=this.get("minorTickStyle");return this.set("minorTickStyle",t(e))}return this.set("minorTickStyle",t)}getMinorTickStyle(){return this.get("minorTickStyle")}setUTC(t){return this.set("utc",t)}getUTC(){return this.get("utc")}setLocale(t){return this.set("locale",t)}getLocale(){return this.get("locale")}setDateOrigin(t){return this.set("dateOrigin",t)}getDateOrigin(){return this.get("dateOrigin")}setFormatting(t,e,i){return this.withMutations((n=>n.set("formatOptionsGreatYear",t||this.formatOptionsGreatYear).set("formatOptionsGreatMonth",t||this.formatOptionsGreatMonth).set("formatOptionsGreatWeek",t||this.formatOptionsGreatWeek).set("formatOptionsGreatDay",t||this.formatOptionsGreatDay).set("formatOptionsGreatHour",t||this.formatOptionsGreatHour).set("formatOptionsGreatMinute",t||this.formatOptionsGreatMinute).set("formatOptionsMajorCentury",e||this.formatOptionsMajorCentury).set("formatOptionsMajorDecade",e||this.formatOptionsMajorDecade).set("formatOptionsMajorYear",e||this.formatOptionsMajorYear).set("formatOptionsMajorMonth",e||this.formatOptionsMajorMonth).set("formatOptionsMajorWeek",e||this.formatOptionsMajorWeek).set("formatOptionsMajorDay",e||this.formatOptionsMajorDay).set("formatOptionsMajorHour",e||this.formatOptionsMajorHour).set("formatOptionsMajorMinute",e||this.formatOptionsMajorMinute).set("formatOptionsMajorSecond",e||this.formatOptionsMajorSecond).set("formatOptionsMinorDecade",i||this.formatOptionsMinorDecade).set("formatOptionsMinorYear",i||this.formatOptionsMinorYear).set("formatOptionsMinorMonth",i||this.formatOptionsMinorMonth).set("formatOptionsMinorWeek",i||this.formatOptionsMinorWeek).set("formatOptionsMinorDay",i||this.formatOptionsMinorDay).set("formatOptionsMinorHour",i||this.formatOptionsMinorHour).set("formatOptionsMinorMinute",i||this.formatOptionsMinorMinute).set("formatOptionsMinorSecond",i||this.formatOptionsMinorSecond)))}setFormattingDecade(t,e){return this.withMutations((i=>(t&&(i=i.set("formatOptionsMajorDecade",t)),e&&(i=i.set("formatOptionsMinorYear",e)),i)))}setFormattingYear(t,e){return this.withMutations((i=>(t&&(i=i.set("formatOptionsMajorYear",t)),e&&(i=i.set("formatOptionsMinorMonth",e)),i)))}setFormattingMonth(t,e,i){return this.withMutations((n=>(t&&(n=n.set("formatOptionsGreatYear",t)),e&&(n=n.set("formatOptionsMajorMonth",e)),i&&(n=n.set("formatOptionsMinorWeek",i)),n)))}setFormattingWeek(t,e,i){return this.withMutations((n=>(t&&(n=n.set("formatOptionsGreatMonth",t)),e&&(n=n.set("formatOptionsMajorWeek",e)),i&&(n=n.set("formatOptionsMinorDay",i)),n)))}setFormattingDay(t,e,i){return this.withMutations((n=>(t&&(n=n.set("formatOptionsGreatWeek",t)),e&&(n=n.set("formatOptionsMajorDay",e)),i&&(n=n.set("formatOptionsMinorHour",i)),n)))}setFormattingHour(t,e,i){return this.withMutations((n=>(t&&(n=n.set("formatOptionsGreatDay",t)),e&&(n=n.set("formatOptionsMajorHour",e)),i&&(n=n.set("formatOptionsMinorMinute",i)),n)))}setFormattingMinute(t,e,i){return this.withMutations((n=>(t&&(n=n.set("formatOptionsGreatHour",t)),e&&(n=n.set("formatOptionsMajorMinute",e)),i&&(n=n.set("formatOptionsMinorSecond",i)),n)))}setFormattingSecond(t,e,i){return this.withMutations((n=>(t&&(n=n.set("formatOptionsGreatMinute",t)),e&&(n=n.set("formatOptionsMajorSecond",e)),i&&(n=n.set("formatOptionsMinorMillisecond",i)),n)))}setFormattingMilliSecond(t,e){return this.withMutations((i=>(t&&(i=i.set("formatOptionsGreatSecond",t)),e&&(i=i.set("formatOptionsMajorMilliSecond",e)),i)))}}const td=(t,e)=>(i,n,r,s,o)=>{const a=n-i;if(e){let e=5;o<=125?e=2:o<=250?e=3:o<=500&&(e=4);const r=Math.log10(a/e),s=Math.floor(2*r)/2;let l;l=s%1==0?10**(s-t):10**Math.ceil(s)/2;const h=1/l;l=Math.round(l*h)/h;const c=Math.round(Math.floor(i/(10*l))*l*10*h)/h;return ph(c,n,l,void 0,h)}let l=a/5;const h=1/l;return l=Math.round(l*h)/h,gh(i,n,l,h)},ed=(t,e,i,n,r,s)=>0===e?t.filter(((t,e)=>e%2==0)):1===e?t.filter(((t,e)=>e%5==0)):2===e?t.filter(((t,e)=>e%10==0)):void 0,id=(t,e,i,n,r,s)=>{},nd=(t,e,i,n,r,s)=>0===e?t.filter(((t,e)=>e%2==0)):1===e?t.filter(((t,e)=>e%3==0)):2===e?t.filter(((t,e)=>e%4==0)):3===e?t.filter(((t,e)=>e%5==0)):void 0,rd=(t,e,i,n,r,s)=>0===e?[t[1],t[3],t[5]]:1===e?[t[0],t[3]]:2===e?[t[1]]:void 0,sd=(t,e)=>{const i=Go(t),n=jo(t);if(e)return(t,e)=>{const r=[],s=Math.floor(i(t)),o=Math.ceil(i(e));for(let i=s-1;i<=o+1;i+=1){const t=n**i;r.push(t)}return r};const r=10===t?9:4;return(t,e)=>{const s=Math.round(i(t)),o=Math.round(i(e)),a=[],l=n**s,h=(n**o-l)/r;for(let i=1;i<=r;i+=1){const n=l+h*i;n>t&&n<e&&a.push(n)}return a}},od=gn({cursorFormatter:void 0,extremeTickStyle:new Cu,majorTickStyle:new Cu,minorTickStyle:new Cu,formattingOffset:void 0,extremeFormattingFunction:void 0,majorFormattingFunction:void 0,minorFormattingFunction:void 0,fallBackToExtremeTicksAutomatically:!0});class ad extends od{wh(t){const e=this.formattingOffset,i=this.get("extremeFormattingFunction")||("logarithmic"===t.type?(e,i)=>Jo.LogarithmicNoExponents(e,i,void 0,t.base):Jo.Numeric),n=this.get("majorFormattingFunction")||("logarithmic"===t.type?(e,i)=>Jo.LogarithmicNoExponents(e,i,void 0,t.base):Jo.Numeric),r=this.get("minorFormattingFunction")||("logarithmic"===t.type?(e,i)=>Jo.LogarithmicNoExponents(e,i,void 0,t.base):Jo.Numeric),s=[],o=[];Pu(this.extremeTickStyle)||s.push({Er:"Extreme ticks",Ph:this.extremeTickStyle,xh:void 0===e?i:(t,n,r)=>i(e+t,n,r),Cn:fh,bh:!0,an:!0});const a={Er:"Major ticks",pA:0,Ph:this.majorTickStyle,xh:void 0===e?n:(t,i,r)=>n(e+t,i,r),Cn:"logarithmic"===t.type?sd(t.base,!0):td(0,!0),er:{rn:"hide-label",en:"logarithmic"===t.type?nd:ed},Tn:void 0};if(o.push(a),!Pu(this.minorTickStyle)){const i="logarithmic"===t.type?sd(t.base,!1):td(1,!1);o.push({Er:"Minor ticks",pA:1,Ph:this.minorTickStyle,xh:void 0===e?r:(t,i,n)=>r(e+t,i,n),Cn:(t,e,n,r,s)=>i(t,e,n,r,s),er:{rn:"hide-tick",en:"logarithmic"===t.type?rd:id},Tn:80})}const l=this.cursorFormatter?this.cursorFormatter:Jo.Numeric;return{_h:s,kh:o,Ch:void 0===e?l:(t,i,n)=>l(e+t,i,n),Th:1e-9,Fh:void 0,jr:this.fallBackToExtremeTicksAutomatically?a:void 0}}setCursorFormatter(t){return this.set("cursorFormatter",t)}getCursorFormatter(){return this.get("cursorFormatter")}setExtremeTickStyle(t){if("function"==typeof t){const e=this.get("extremeTickStyle");return this.set("extremeTickStyle",t(e))}return this.set("extremeTickStyle",t)}getExtremeTickStyle(){return this.get("extremeTickStyle")}setFormattingOffset(t){return this.set("formattingOffset",t)}getFormattingOffset(){return this.get("formattingOffset")}setTickStyle(t){const e=this.setMajorTickStyle(t).setMinorTickStyle(t);return e.extremeTickStyle!==Tu?e.setExtremeTickStyle(t):e}setMajorTickStyle(t){return"function"==typeof t?this.set("majorTickStyle",t(this.get("majorTickStyle"))):this.set("majorTickStyle",t)}getMajorTickStyle(){return this.get("majorTickStyle")}setMinorTickStyle(t){if("function"==typeof t){const e=this.get("minorTickStyle");return this.set("minorTickStyle",t(e))}return this.set("minorTickStyle",t)}getMinorTickStyle(){return this.get("minorTickStyle")}setFormattingFunction(t){return this.withMutations((e=>e.set("extremeFormattingFunction",t).set("majorFormattingFunction",t).set("minorFormattingFunction",t).set("cursorFormatter",t)))}getExtremeFormattingFunction(){return this.get("extremeFormattingFunction")}setExtremeFormattingFunction(t){return this.set("extremeFormattingFunction",t)}getMajorFormattingFunction(){return this.get("majorFormattingFunction")}setMajorFormattingFunction(t){return this.set("majorFormattingFunction",t)}getMinorFormattingFunction(){return this.get("minorFormattingFunction")}setMinorFormattingFunction(t){return this.set("minorFormattingFunction",t)}getFallBackToExtremeTicksAutomatically(){return this.get("fallBackToExtremeTicksAutomatically")}setFallBackToExtremeTicksAutomatically(t){return this.set("fallBackToExtremeTicksAutomatically",t)}}const ld=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/png",n=arguments.length>3?arguments[3]:void 0;e+=".".concat(i.slice(i.indexOf("image/")+6));const r=t.captureFrame(i,n);if("image/png"!==i&&r.type.includes("image/png"))throw new Error("saveToFile | type not supported by browser: ".concat(i,"\nCheck support table for HTMLCanvasElement.toDataURL"));if(jr.navigator.msSaveBlob)jr.navigator.msSaveBlob(r,e);else{const t=jr.document.createElement("a");jr.document.body.appendChild(t);const i=jr.URL.createObjectURL(r);t.href=i,t.download=e,t.click(),setTimeout((()=>{jr.URL.revokeObjectURL(i),jr.document.body.removeChild(t)}),0)}},hd=(t,e,i,n,r,s)=>{const o=t.oo(e,i,n,r,s,!0);return o.setDraggingMode(Nr.draggable),o},cd=(t,e)=>{if("relative"===t)return e;if(t instanceof rr)return t;const i=t.x instanceof wh?t.x.oi:t.x.x,n=t.y instanceof wh?t.y.oi:t.y.y;return ga(i,n)},ud=(t,e,i,n,r)=>{if(i){const s=t,o=e,a=wu(o)?o:ya(o)?n:void 0;if(a&&pa(i)){const t=hr(s,a,r.oi);return r.qa({engineX:t.x,engineY:t.y})}if(a&&ya(i))return hr(s,a,n);if(a&&wu(i))return hr(s,a,i)}else{const i=t;if(ya(e)){const t=r.Ka(i);return hr({x:t.engineX,y:t.engineY},r.oi,n)}if(wu(e)){const t=e,n=r.Ka(i);return hr({x:n.engineX,y:n.engineY},r.oi,t)}}throw new Error("translateCoordinate unexpected error. Input or target coordinate system not recognized.")};class dd{constructor(t){this.LA=[],this.BA=t}DA(){return this.RA(),{add:()=>this.EA(),finishPlot:()=>{this.OA()}}}EA(){let t=this.LA.find((t=>t.isFree));return t||(t={isFree:!1,shape:this.BA()},this.LA.push(t)),t.isFree=!1,t.shape}RA(){this.LA.forEach((t=>{t.isFree=!0}))}OA(){this.LA.filter((t=>t.isFree)).forEach((t=>{t.shape.dispose(),this.LA.splice(this.LA.indexOf(t),1)}))}zA(){this.LA.forEach((t=>t.shape.dispose())),this.LA.length=0}zn(){return this.LA.map((t=>t.shape))}}const fd=t=>{const e=t.layer,i=t.scale,n=t.panel,r=t.legend;let s;const o=n.gi._s,a=new Map,l=(t,e,i,n)=>{var r;a.has(t)||a.set(t,[]),null===(r=a.get(t))||void 0===r||r.push({eventType:e,callback:i}),t.addEventListener(e,i,n)},h=()=>{for(const[t,e]of a.entries())for(const{eventType:i,callback:n}of e)t.removeEventListener(i,n);a.clear()},c=[];let u=[],d=[];const f=new dd((()=>e.Mn(i).bn(Zs).xn(Zs))),g=new dd((()=>e.Dd(i))),p=e.gd(i).th(n.getTheme().uiBackgroundFillStyle).setVisible(!1),m=p.Uo().pd({extent:8,c_x1_y1:!0,c_x1_y2:!0,c_x2_y1:!0,c_x2_y2:!0}),y=n.getTheme().uiButtonFillStyle,v=n.getTheme().uiButtonFillStyleHidden,x=n.getTheme().uiTextFillStyle,b=n.getTheme().uiTextFillStyleHidden,S=n.getTheme().uiTextFont,A=n.getTheme().uiBackgroundFillStyle,E=n.getTheme().uiBackgroundStrokeStyle,w=n.getTheme().uiButtonStrokeStyle,k=()=>{p.setVisible(!1),c.forEach((t=>t.setVisible(!1).zr())),u.forEach((t=>t.setVisible(!1))),d.forEach((t=>t.setVisible(!1)))},C=t=>{var s,a,u,d;h(),t.titleEvents.Ni(),t.backgroundEvents.Ni(),c.forEach((t=>t.dispose())),c.length=0;const p=f.DA(),m=g.DA(),A=null!==(s=t.marginInner)&&void 0!==s?s:0,E=t.marginOuter,k=t.chartPadding,C={left:E.left+k.left,right:E.right+k.right,top:E.top+k.top,bottom:E.bottom+k.bottom},M=n.getSizePixels();let T,P={x:-1,y:1};if("number"==typeof t.position)switch(t.position){case xd.TopLeft:case xd.TopCenter:case xd.TopRight:case xd.BottomLeft:case xd.BottomCenter:case xd.BottomRight:T={x:M.x-t.chartTitleSpace.left-t.chartTitleSpace.right-C.left-C.right,y:M.y-t.chartTitleSpace.top-t.chartTitleSpace.bottom-C.top-C.bottom};break;default:T={x:M.x-C.left-C.right,y:M.y-C.top-C.bottom}}else t.position.origin&&(P=t.position.origin),T={x:M.x-t.position.x*(P.x+1)/2,y:t.position.y*(P.y+1)/2};const F=void 0!==t.orientation?t.orientation===bd.Vertical:"number"==typeof t.position&&t.position<6,L=null!==(a=t.padding)&&void 0!==a?a:{left:5,right:5,top:5,bottom:5},R=L.top+L.bottom,B=L.left+L.right,z=null!==(u=t.entryMargin)&&void 0!==u?u:10,I={left:z,right:z,top:z,bottom:z};let D=0,V=0,_=0,N=0;const O=[],H=t.title?p.add().Hl({x:-1,y:0}).Kr(t.title)._r(t.titleFont?new Ya(t.titleFont):S.setWeight("bold")).th(null!==(d=t.titleFillStyle)&&void 0!==d?d:x).bn(I):void 0;if(H){const e=H.zr().pu();_=F?e.y:e.x+z,N=F?e.x:e.y,D=e.x,V=e.y,t.titleEvents.Vi(H)}const U=t.entries.filter((t=>!1!==t.options.show)),Y=U.map(((t,s)=>{var a,h;const u=void 0!==t.options.text?t.options.text:t.component&&"getName"in t.component?t.component.getName():"",d=t.component&&t.component.getVisible?t.component.getVisible()?void 0!==t.options.textFillStyle?t.options.textFillStyle:x:b:void 0!==t.options.textFillStyle?t.options.textFillStyle:x,f=t.options.textFont?new Ya(t.options.textFont):S,g=p.add().Hl({x:-1,y:0}).Kr(u).th(d)._r(f).bn(I),A=void 0!==t.options.buttonShape?t.options.buttonShape:t.component&&t.component.Ws?t.component.Ws():Ra.Circle,E=ll(A);E&&A.Ks instanceof Image&&l(A.Ks,"load",(()=>{r.Ns()}));const k=t.component&&t.component.getVisible?t.component.getVisible()?void 0!==t.options.buttonFillStyle?t.options.buttonFillStyle:t.component&&t.component.hh?Ls(n.getTheme(),t.options.matchStyleExactly||!1,t.component.hh()):y:v:void 0!==t.options.buttonFillStyle?t.options.buttonFillStyle:t.component&&t.component.hh?Ls(n.getTheme(),t.options.matchStyleExactly||!1,t.component.hh()):y,C=null!==(a=t.options.buttonStrokeStyle)&&void 0!==a?a:w,M=void 0!==t.options.buttonSize?t.options.buttonSize:E?Math.max(A._t().x,A._t().y):u?10:0,P=void 0!==t.options.buttonRotation?t.options.buttonRotation:t.component&&t.component.getPointRotation?t.component.getPointRotation():0,L=m.add().VA({x:-1,y:0}).$d(M).Od(P);k&&L.Ld(k),void 0!==A&&L.Rd(A),L.Nd(C);const H=null===t.options.lut?void 0:t.options.lut?t.options.lut:t.component&&t.component.Hs?null===(h=t.component.Hs())||void 0===h?void 0:h.lut:void 0;let Y;H&&(Y=new du(e,i,i,(()=>{}),n.getTheme(),F?"vertical":"horizontal").gf(H),c.push(Y),Y.gf(H).setVisible(!0).Hl(F?"vertical":"horizontal").setFillStyle(d).setFont(f).setMargin(z).Af(Zs),t.options.lutLength&&Y.yf(t.options.lutLength),t.options.lutThickness&&Y.mf(t.options.lutThickness),t.options.lutDisplayProportionalSteps&&Y.setLUTDisplayProportionalSteps(t.options.lutDisplayProportionalSteps),t.options.lutStepValueFormatter&&Y.Mf(t.options.lutStepValueFormatter),H.units&&Y.bf(H.units)),o.ws(g,(t=>{g.Fi(t)}),{animationEnabled:!0}),o.ws(L,(t=>{L.Fi(t)}),{animationEnabled:!0});const G=t.component&&Hr(t.component)?t.component:void 0;G&&l(G,"highlightchange",(t=>{const e=t.highlight;g.Fi(e),L.Fi(e),n.gi.Rs()})),[g,L].forEach((e=>{e&&(l(e,"pointerenter",(()=>{!1!==t.options.highlight&&(G&&G.setHighlight(!0),g.Fi(1),L.Fi(1))})),l(e,"pointerleave",(()=>{G&&G.setHighlight(!1),g.Fi(0),L.Fi(0)})))})),[g,L,Y].forEach((e=>{e&&(l(e,"pointerenter",(()=>{n.engine.setMouseStyle(Yl.Point)})),l(e,"pointerleave",(()=>{n.engine.clearMouseStyle()})),t.options.events&&Object.entries(t.options.events).forEach((i=>{let[n,r]=i;l(e,n,(e=>r(e,{entry:t,allEntries:U})))})),l(e,"click",(()=>{r.Ns(),n.gi.Rs()})))}));const j=g.zr().pu();let X={length:0,thickness:0};if(Y){const t=Y.zr().getSize();X=F?{length:t.y,thickness:t.x}:{length:t.x,thickness:t.y}}const W=F?{width:(M?z+M:0)+Math.max(j.x,X.thickness),height:Math.max(M,j.y)+X.length}:{width:(M?z+M:0)+j.x+X.length,height:Math.max(M,j.y,X.thickness)};return D=Math.max(W.width,D),V=Math.max(W.height,V),(F?_+W.height<T.y-R:_+W.width<T.x-B)?(N=F?Math.max(W.width,N):Math.max(W.height,N),_+=F?W.height:W.width,s===U.length-1&&O.push(F?{width:N,height:0===O.length?_:T.y-R}:{width:0===O.length?_:T.x-B,height:N})):(O.push(F?{width:N,height:T.y-R}:{width:T.x-B,height:N}),_=F?W.height:W.width,s===U.length-1&&O.push(F?{width:W.width,height:T.y-R}:{width:T.x-B,height:W.height}),N=F?W.width:W.height),{text:u?g:void 0,button:u&&0!==M?L:void 0,buttonSize:M,lut:Y}}));return{entries:Y,sectionSizes:O,legendTitle:H,isVertical:F,availableChartSize:T,horizontalLegendPadding:B,verticalLegendPadding:R,marginInner:A,totalMarginOuter:C,maxEntryWidth:D,maxEntryHeight:V,chartSize:M,legendSpace:{left:0,right:0,top:0,bottom:0},origin:P,legendPadding:L,entryMarginValue:z,shapeProviderText:p,shapeProviderMarker:m}};return{update:t=>{if(!t.visible||t.renderOnTop)return Zs;const e=C(t);s=e;const{entries:i,sectionSizes:n,isVertical:r,availableChartSize:o,horizontalLegendPadding:a,verticalLegendPadding:l,marginInner:h,totalMarginOuter:c,maxEntryWidth:u,maxEntryHeight:d,legendSpace:f,shapeProviderText:g,shapeProviderMarker:p}=e;if(g.finishPlot(),p.finishPlot(),0===i.length&&0===n.length)return Zs;const m=pd(r,n,a,l,o);if(t.autoHideThreshold&&gd(t.autoHideThreshold,m,o,r,u,d))return Zs;const y={...f},v=t.chartPadding,x=Math.max(0,c.left-v.left),b=Math.max(0,c.right-v.right),S=Math.max(0,c.top-v.top),A=Math.max(0,c.bottom-v.bottom);switch(t.position){case xd.RightTop:case xd.RightCenter:case xd.RightBottom:y.right=m.width+h+b;break;case xd.LeftTop:case xd.LeftCenter:case xd.LeftBottom:y.left=m.width+h+x;break;case xd.TopLeft:case xd.TopCenter:case xd.TopRight:y.top=m.height+h+S;break;case xd.BottomLeft:case xd.BottomCenter:case xd.BottomRight:y.bottom=m.height+h+A}return y},plot:t=>{var e;if(!t.visible)return void k();const i=s||C(t);s=void 0;const{entries:n,sectionSizes:r,legendTitle:o,isVertical:a,availableChartSize:l,horizontalLegendPadding:h,verticalLegendPadding:c,chartSize:y,maxEntryWidth:v,maxEntryHeight:x,origin:b,legendPadding:S,entryMarginValue:w,shapeProviderText:M,shapeProviderMarker:T,totalMarginOuter:P}=i;if(u=f.zn(),d=g.zn(),0===n.length&&0===r.length)return k(),M.finishPlot(),void T.finishPlot();const F=pd(a,r,h,c,l);if(t.autoHideThreshold&&gd(t.autoHideThreshold,F,l,a,v,x))return k(),M.finishPlot(),void T.finishPlot();const L=(b.x+1)*F.width/2,R=(b.y+1)*F.height/2;u.forEach((t=>t.setVisible(!0))),d.forEach((t=>t.setVisible(!0)));const B=t.chartTitleSpace;let z={leftBottom:{x:0,y:0},leftTop:{x:0,y:0},rightTop:{x:0,y:0},rightBottom:{x:0,y:0}};switch(t.position){case xd.RightTop:case xd.RightCenter:case xd.RightBottom:z={leftBottom:{x:y.x-F.width-P.right,y:0+P.bottom},leftTop:{x:y.x-F.width-P.right,y:y.y-P.top},rightTop:{x:y.x-P.right,y:y.y-P.top},rightBottom:{x:y.x-P.right,y:0+P.bottom}};break;case xd.LeftTop:case xd.LeftCenter:case xd.LeftBottom:z={leftBottom:{x:0+P.left,y:0+P.bottom},leftTop:{x:0+P.left,y:y.y-P.top},rightTop:{x:F.width+P.left,y:y.y-P.top},rightBottom:{x:F.width+P.left,y:0+P.bottom}};break;case xd.TopLeft:case xd.TopCenter:case xd.TopRight:z={leftBottom:{x:0+P.left,y:y.y-F.height-P.top-B.top},leftTop:{x:0+P.left,y:y.y-P.top-B.top},rightTop:{x:y.x-P.right,y:y.y-P.top-B.top},rightBottom:{x:y.x-P.right,y:y.y-F.height-P.top-B.top}};break;case xd.BottomLeft:case xd.BottomCenter:case xd.BottomRight:z={leftBottom:{x:0+P.left,y:0+P.bottom+B.bottom},leftTop:{x:0+P.left,y:F.height+P.bottom+B.bottom},rightTop:{x:y.x-P.right,y:F.height+P.bottom+B.bottom},rightBottom:{x:y.x-P.right,y:0+P.bottom+B.bottom}};break;default:z={leftBottom:{x:t.position.x-L,y:t.position.y-R},leftTop:{x:t.position.x-L,y:t.position.y-R+F.height},rightTop:{x:t.position.x-L+F.width,y:t.position.y-R+F.height},rightBottom:{x:t.position.x-L+F.width,y:t.position.y-R}}}if(t.backgroundVisible){let e={x:0,y:0};const i=F.width,n=F.height;switch(t.position){case xd.RightTop:e={x:y.x-F.width-P.right,y:y.y-F.height-P.top};break;case xd.RightCenter:e={x:y.x-F.width-P.right,y:y.y/2-F.height/2-P.top/2+P.bottom/2};break;case xd.RightBottom:e={x:y.x-F.width-P.right,y:0+P.bottom};break;case xd.LeftTop:e={x:0+P.left,y:y.y-F.height-P.top};break;case xd.LeftCenter:e={x:0+P.left,y:y.y/2-F.height/2-P.top/2+P.bottom/2};break;case xd.LeftBottom:e={x:0+P.left,y:0+P.bottom};break;case xd.TopLeft:e={x:0+P.left,y:y.y-F.height-P.top-B.top};break;case xd.TopCenter:e={x:y.x/2-F.width/2+P.left/2-P.right/2,y:y.y-F.height-P.top-B.top};break;case xd.TopRight:e={x:y.x-F.width-P.right,y:y.y-F.height-P.top-B.top};break;case xd.BottomLeft:e={x:0+P.left,y:0+P.bottom+B.bottom};break;case xd.BottomCenter:e={x:y.x/2-F.width/2+P.left/2-P.right/2,y:0+P.bottom+B.bottom};break;case xd.BottomRight:e={x:y.x-F.width-P.right,y:0+P.bottom+B.bottom};break;default:e={x:t.position.x-L,y:t.position.y-R}}m.md(e.x,e.y,e.x+i,e.y+n)}t.backgroundEvents.Vi(p),p.setVisible(null===(e=t.backgroundVisible)||void 0===e||e),p.th(void 0!==t.backgroundFillStyle?t.backgroundFillStyle:A),p.qe(void 0!==t.backgroundStrokeStyle?t.backgroundStrokeStyle:E);let I={x:0,y:0};switch(t.position){case xd.LeftTop:case xd.RightTop:I={x:z.leftTop.x,y:z.leftTop.y};break;case xd.LeftCenter:case xd.RightCenter:I={x:z.leftBottom.x,y:z.leftBottom.y+(z.leftTop.y-z.leftBottom.y)/2+F.height/2};break;case xd.LeftBottom:case xd.RightBottom:I={x:z.leftBottom.x,y:z.leftBottom.y+F.height};break;case xd.TopLeft:case xd.BottomLeft:I={x:z.leftTop.x,y:z.leftTop.y};break;case xd.TopCenter:case xd.BottomCenter:I={x:z.leftBottom.x+(z.rightBottom.x-z.leftBottom.x)/2-F.width/2,y:z.leftTop.y};break;case xd.TopRight:case xd.BottomRight:I={x:z.rightTop.x-F.width,y:z.leftTop.y};break;default:I={x:z.leftTop.x,y:z.leftTop.y}}I={x:I.x+S.left,y:I.y-S.top};const D={...I};let V=0,_=0;if(o){const t=o.pu();o.eh({...I,y:I.y-t.y/2}),_+=a?t.y:t.x+w,I=a?{...I,y:I.y-t.y}:{...I,x:I.x+t.x+w}}n.forEach((t=>{const e=t.text?t.text.pu():{x:0,y:0},i=t.button?t.buttonSize:0,n=t.lut||void 0,s=md(e,i,a,w,t.lut);_+s>=(a?r[V].height:r[V].width)&&r.length-1>V&&(I=a?{x:I.x+r[V].width,y:D.y}:{x:D.x,y:I.y-r[V].height},V+=1,_=0),_+=s,yd(I,t.button,t.text,n,e,i,a,w),I=a?{...I,y:I.y-s}:{...I,x:I.x+s}})),M.finishPlot(),T.finishPlot()},dispose:()=>{h(),f.zA(),g.zA(),p.dispose(),c.forEach((t=>t.dispose()))}}},gd=(t,e,i,n,r,s)=>(n?Math.ceil(e.width)>=Math.ceil(i.x*t):Math.ceil(e.height)>=Math.ceil(i.y*t))||r>i.x||s>i.y,pd=(t,e,i,n,r)=>t?{width:e.reduce(((t,e)=>t+e.width),0)+i,height:e.length>1?r.y:e[0].height+n}:{width:e.length>1?r.x:e[0].width+i,height:e.reduce(((t,e)=>t+e.height),0)+n},md=function(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0;if(r){const s=r.zr().getSize(),o=i?{length:s.y,thickness:s.x}:{length:s.x,thickness:s.y};return i?Math.max(e,t.y)+o.length:(e?n+e:0)+t.x+o.length}return i?Math.max(e,t.y):(e?n+e:0)+t.x},yd=function(t,e,i,n,r,s,o){let a,l,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;if(r.y>s?(a={x:t.x+(s?h:0),y:t.y-r.y/2},l={x:a.x+s,y:t.y-r.y/2}):(a={x:t.x+(s?h:0),y:t.y-s/2},l={x:a.x+s,y:t.y-s/2}),e&&e.Pd(new Mc({schema:{x:{},y:{}}}).appendSample(a),{x:"x",y:"y"}),i&&i.eh(l),n){const e=n.zr().getSize(),i=o?{length:e.y,thickness:e.x}:{length:e.x,thickness:e.y},a=o?{x:l.x+i.thickness/2,y:t.y-Math.max(s,r.y)-i.length/2}:{x:l.x+r.x+i.length/2,y:t.y-i.thickness/2};n.setPosition(a),n.sh()}},vd=t=>"Hs"in t;var xd,bd;!function(t){t[t.RightTop=0]="RightTop",t[t.RightCenter=1]="RightCenter",t[t.RightBottom=2]="RightBottom",t[t.LeftTop=3]="LeftTop",t[t.LeftCenter=4]="LeftCenter",t[t.LeftBottom=5]="LeftBottom",t[t.TopLeft=6]="TopLeft",t[t.TopCenter=7]="TopCenter",t[t.TopRight=8]="TopRight",t[t.BottomLeft=9]="BottomLeft",t[t.BottomCenter=10]="BottomCenter",t[t.BottomRight=11]="BottomRight"}(xd||(xd={})),function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical"}(bd||(bd={}));const Sd={toggleIndividualVisibility:(t,e)=>{if(!e.entry.component||!e.entry.component.getVisible||!e.entry.component.setVisible)return;const i=e.entry.component.getVisible();e.entry.component.setVisible(!i)},focusClicked:(t,e)=>{if(!e.entry.component||!e.entry.component.getVisible||!e.entry.component.setVisible)return;let i=!1;e.allEntries.forEach((t=>{t.component&&t.component.getVisible&&t.component.getVisible()&&t!==e.entry&&(i=!0)})),e.allEntries.forEach((t=>{t.component&&t.component.setVisible&&t.component.setVisible(!i)})),e.entry.component.setVisible(!0)},doNothing:()=>{}};class Ad{constructor(t,e,i,n,r,s){var o;this.NA=[],this.GA=!0,this.Fn=xd.BottomCenter,this.Hh=void 0,this.$A=!1,this.UA=!1,this.YA=!0,this.jA=!1,this.HA={left:0,right:0,top:0,bottom:0},this.ci=!1,this.WA=5,this.XA={x:0,y:0},this.ZA=!0,this.JA=.5,this.QA=[],this.title=new Er,this.background=new Er,this.KA=e,this.qA=null!==(o=e.getTheme().panelPadding)&&void 0!==o?o:7,this.tg={events:{click:Sd.toggleIndividualVisibility}},t!==fd&&(this.$A=!0);const a=this.$A?{panel:e}:{panel:e,layer:i,scale:n,legend:this};this.ig=t(a),r&&(this.NA=r),s&&this.setOptions(s),this.KA.gi.Rs();const l=()=>{jr.setTimeout((()=>{this.Ns(),this.KA.gi.Rs()}),0)};jr.setTimeout((()=>{this.ci||this.KA.addEventListener("resize",l)}),0),this.sg=()=>{this.KA.removeEventListener("resize",l)}}eg(t,e){const i=t&&"number"==typeof t?{...Zs,top:t}:t&&"number"!=typeof t?t:Zs;let n={visible:this.NA.length>0&&this.GA,chartTitleSpace:i,marginOuter:this.HA,chartPadding:e,titleEvents:this.title,backgroundEvents:this.background,position:this.Fn,orientation:this.hg,padding:this.Vn?this.Vn:this.UA?{left:5,right:5,top:5,bottom:5}:Zs,entryMargin:this.WA,marginInner:this.qA,renderOnTop:this.jA,title:this.Hh,titleFont:this.rg,titleFillStyle:this.ng,backgroundVisible:this.UA,backgroundFillStyle:this.og,backgroundStrokeStyle:this.ag,autoHideThreshold:this.JA,entries:this.NA};if(this.$A){const t=this.KA.getTheme().uiTextFillStyle,e=this.KA.getTheme().uiButtonFillStyle,i=this.KA.getTheme().uiTextFont,r=this.NA.map((n=>{var r,s,o,a,l;return{component:n.component,options:{...n.options,show:null===(r=n.options.show)||void 0===r||r,text:null!==(s=n.options.text)&&void 0!==s?s:n.component&&n.component.getName?n.component.getName():"",textFont:n.options.textFont?n.options.textFont:i,textFillStyle:n.options.textFillStyle?n.options.textFillStyle:t,buttonSize:null!==(o=n.options.buttonSize)&&void 0!==o?o:10,buttonShape:null!==(a=n.options.buttonShape)&&void 0!==a?a:Ra.Circle,buttonRotation:null!==(l=n.options.buttonRotation)&&void 0!==l?l:0,buttonFillStyle:n.component&&n.component.hh?Ls(this.KA.getTheme(),n.options.matchStyleExactly||!1,n.component.hh()):e,events:{click:Sd.toggleIndividualVisibility,...n.options.events}}}}));n={...n,entries:r}}return n}lg(){let t=!1;const e=this.KA.getSizePixels(),i=this.KA.getMinimumSize(),n=void 0===i||e.x>i.x&&e.y>i.y;return e.x===this.XA.x&&e.y===this.XA.y&&n||(t=!0),this.XA=e,t}cg(){const t=this.NA.map((t=>({entryText:t.component&&t.component.getName?t.component.getName():void 0,buttonShape:t.component&&t.component.Ws?t.component.Ws():void 0,legendStyle:t.component&&t.component.hh?t.component.hh():void 0})));if(this.QA.length!==t.length)return this.QA=t,!0;const e=t.some(((t,e)=>{var i,n,r,s;const o=this.QA[e];if(t.entryText!==o.entryText)return!0;if(t.buttonShape!==o.buttonShape)return!0;if(t.legendStyle&&o.legendStyle){if(t.legendStyle.fill!==o.legendStyle.fill)return!0;if(t.legendStyle.fill2!==o.legendStyle.fill2)return!0;if(t.legendStyle.stroke!==o.legendStyle.stroke)return!0;if(t.legendStyle.point3D!==o.legendStyle.point3D)return!0;if((null===(i=t.legendStyle.behavior)||void 0===i?void 0:i.colorStep)!==(null===(n=o.legendStyle.behavior)||void 0===n?void 0:n.colorStep))return!0;if((null===(r=t.legendStyle.behavior)||void 0===r?void 0:r.priority)!==(null===(s=o.legendStyle.behavior)||void 0===s?void 0:s.priority))return!0;if(t.legendStyle.lutValue!==o.legendStyle.lutValue)return!0}}));return this.QA=t,e}zr(t,e){var i;if(this.ci)return Zs;if((this.lg()||this.cg())&&(this.ZA=!0),!this.ZA&&!this.$A)return null!==(i=this.ug)&&void 0!==i?i:Zs;const n=this.eg(t,e),r=this.ig.update(n);return this.ug=r||Zs,this.ug}sh(t,e){if(!this.ci&&this.ZA){const i=this.eg(t,e);this.ig.plot(i),this.ZA=!1}}xc(t,e){if(void 0===t||!this.NA.some((e=>e.component===t))){if(this.NA.push({component:t,options:{...this.tg,...e}}),t instanceof Pa){const e=()=>{this.Ns(),this.KA.gi.Rs()},i=()=>{t.removeEventListener("dispose",i),t.removeEventListener("visiblechange",e),this.remove(t),this.KA.gi.Rs()};t.addEventListener("visiblechange",e),t.addEventListener("dispose",i)}return this.ZA=!0,this}}dg(){return this.YA}Ns(){return this.ZA=!0,this}Ag(t){const e=(t=Array.isArray(t)?t:[t]).map((t=>vd(t)?this.NA.find((e=>e.component===t)):this.NA.find((e=>{var i,n,r;return(null===(i=e.component)||void 0===i?void 0:i.Hs)&&(null===(r=null===(n=e.component)||void 0===n?void 0:n.Hs())||void 0===r?void 0:r.lut)===t})))).filter((t=>void 0!==t)),i=this.NA.filter((t=>!e.includes(t)));return this.NA=[...e,...i],this.ZA=!0,this.KA.gi.Rs(),this}add(t,e){return void 0===t&&void 0===e||(t instanceof Cd?t.gg().forEach((t=>this.xc(t,e))):t&&!vd(t)?this.xc({Hs:()=>({lut:t})},e):this.xc(t,e),this.ZA=!0,this.KA.gi.Rs()),this}remove(t){const e=this.NA.find((e=>e.component===t));if(e){const t=this.NA.indexOf(e);this.NA.splice(t,1)}return this.ZA=!0,this.KA.gi.Rs(),this}clear(){return this.NA=[],this.ZA=!0,this.KA.gi.Rs(),this}dispose(){return this.ci||(this.ci=!0,this.sg(),this.ig.dispose&&this.ig.dispose(),this.ZA=!0,this.KA.gi.Rs()),this}setOptions(t){var e,i,n,r,s,o,a,l;return void 0!==t.addEntriesAutomatically&&(this.YA=t.addEntriesAutomatically),void 0!==t.position&&(this.Fn=t.position),void 0!==t.orientation&&(this.hg=t.orientation),void 0!==t.padding&&("number"==typeof t.padding?this.Vn={left:t.padding,right:t.padding,top:t.padding,bottom:t.padding}:this.Vn={left:null!==(e=t.padding.left)&&void 0!==e?e:0,right:null!==(i=t.padding.right)&&void 0!==i?i:0,top:null!==(n=t.padding.top)&&void 0!==n?n:0,bottom:null!==(r=t.padding.bottom)&&void 0!==r?r:0}),void 0!==t.marginOuter&&("number"==typeof t.marginOuter?this.HA={left:t.marginOuter,right:t.marginOuter,top:t.marginOuter,bottom:t.marginOuter}:this.HA={left:null!==(s=t.marginOuter.left)&&void 0!==s?s:0,right:null!==(o=t.marginOuter.right)&&void 0!==o?o:0,top:null!==(a=t.marginOuter.top)&&void 0!==a?a:0,bottom:null!==(l=t.marginOuter.bottom)&&void 0!==l?l:0}),void 0!==t.entryMargin&&(this.WA=t.entryMargin),void 0!==t.marginInner&&(this.qA=t.marginInner),void 0!==t.renderOnTop&&(this.jA=t.renderOnTop),void 0!==t.title&&(this.Hh=t.title),void 0!==t.titleFont&&(this.rg=t.titleFont),void 0!==t.titleFillStyle&&(this.ng=t.titleFillStyle),void 0!==t.visible&&(this.GA=t.visible),void 0!==t.backgroundVisible&&(this.UA=t.backgroundVisible),void 0!==t.backgroundFillStyle&&(this.og=t.backgroundFillStyle),void 0!==t.backgroundStrokeStyle&&(this.ag=t.backgroundStrokeStyle),void 0!==t.autoHideThreshold&&(this.JA=t.autoHideThreshold),void 0!==t.entries&&(this.tg={...this.tg,...t.entries},this.NA.forEach((t=>{t.options={...this.tg,...t.options}}))),this.ZA=!0,this.KA.gi.Rs(),this}getOptions(){return{addEntriesAutomatically:this.YA,position:this.Fn,orientation:this.hg,padding:this.Vn,marginOuter:this.HA,entryMargin:this.WA,marginInner:this.qA,renderOnTop:this.jA,title:this.Hh,titleFont:new Ya(this.rg),titleFillStyle:this.ng,visible:this.GA,backgroundVisible:this.UA,backgroundFillStyle:this.og,backgroundStrokeStyle:this.ag,autoHideThreshold:this.JA,entries:this.tg}}setEntryOptions(t,e){const i=vd(t)?this.NA.find((e=>e.component===t)):this.NA.find((e=>{var i,n,r;return(null===(i=e.component)||void 0===i?void 0:i.Hs)&&(null===(r=null===(n=e.component)||void 0===n?void 0:n.Hs())||void 0===r?void 0:r.lut)===t}));return i&&(i.options={...i.options,...e}),this.ZA=!0,this.KA.gi.Rs(),this}getEntryOptions(t){const e=vd(t)?this.NA.find((e=>e.component===t)):this.NA.find((e=>{var i,n,r;return(null===(i=e.component)||void 0===i?void 0:i.Hs)&&(null===(r=null===(n=e.component)||void 0===n?void 0:n.Hs())||void 0===r?void 0:r.lut)===t}));if(e)return e.options}getEntries(){return this.NA}}class Ed{constructor(t,e,i,n,r,s,o,a,l){this.coordsRelative="relative",this.coordsClient="client",this.vg=[],this.Vs=[],this.yg=void 0,this.pg=void 0,this.mg=void 0,this.nt=Ln(0,0,0,0),this.Sg=!1,this.ci=!1,this.bg=()=>{this.xg=!0,this.Mg.Rs()},this.wg=t=>e=>{const i=this.vg.indexOf(e);-1!==i&&this.vg.splice(i,1),this.gi.Rs(),t.N()},this.xg=!0,this.background=new Er,this._g=t,this.kg=i,this.Mg=n,this.removePanel=r,this.bi=e.gi.bi;const h=e.gi._t();this.uiScale=i.d2({scaleXYConstructor:sr}).ti(0,100).ii(0,100).X(h),this.Kf=i.d2({scaleXYConstructor:sr}).ti(0,this.uiScale.x.getCellSize()).ii(0,this.uiScale.y.getCellSize()).X(h),this.engine=e.gi.Cg,this.gi=e.gi.mu,this.Ss=this.gi.Ss.bs(this,{}),this.Tg=()=>e.Fg("unidentified ui"),this.Ig=e.Pg(),this.Lg=this.Mg.ih(this.uiScale).eh(En(0,0)).X(En(100,100)).th(s).qe(o),this.background.Vi(this.Lg),a?(a.addEventListener("resize",this.bg),this.Bg=()=>a.removeEventListener("resize",this.bg)):(e.gi.R("resize",this.bg),this.Dg=()=>e.gi.V("resize",this.bg));const c=t=>{this.Sg=t.isInView,this.L.D("inviewchanged",{isInView:this.Sg})};e.gi.R("inviewchanged",c),this.Rg=()=>e.gi.V("inviewchanged",c),this.yg=r,this.legend=new Ad(null!=l?l:fd,this,this.Ig,this.Kf),this.Vs=[this.legend]}getTheme(){return this.bi}getSizePixels(){return this.Kf.getInnerIntervalPixels()}setBackgroundFillStyle(t){return this.Lg.th(t),this.Mg.Rs(),this}getBackgroundFillStyle(){return this.Lg.Sr()}setBackgroundStrokeStyle(t){return this.Lg.qe(t),this.Mg.Rs(),this}getBackgroundStrokeStyle(){return this.Lg.Wa()}translateCoordinate(t,e,i){return ud(t,e,i,this.Kf,this.gi)}Eg(t){return this.vg.push(t),this.gi.Rs(),t}addUIElement(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ru,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.uiScale;e=cd(e,this.Kf);const i=this.Tg();return this.Eg(hd(t,i,this.uiScale,e,this.wg(i),this.bi))}dispose(){return this.ci||(this.ci=!0,this.Dg&&this.Dg(),this.Bg&&this.Bg(),wd(this.uiScale),wd(this.Kf),this.Rg&&this.Rg(),this.pg&&this.pg(),this.Mg.N(),this.Ig.N(),this.vg.slice().forEach((t=>{t.dispose()})),this.Vs.forEach((t=>t.dispose())),this.gi.Rs(),this.yg&&this.yg(this),this.L.D("dispose",{})),this}isDisposed(){return this.ci}saveToFile(t,e,i){return ld(this.engine,t,e,i),this}bn(t){this.nt=t,this.bg()}Y(){return this.Kf.Y(),this.uiScale.Y(),this}j(){return this.Kf.j(),this.uiScale.j(),this}sh(t){if(this.xg){const t=this.Mg.gi._t(),e=t.x,i=t.y;this.uiScale.X(e,i),this.Kf.X(e,i);const n=[this.nt.left,this.nt.right],r=[this.nt.bottom,this.nt.top];this.uiScale.Kt(n),this.uiScale.qt(r);const s=this.uiScale.getInnerIntervalPixels();this.Kf.ti(0,s.x).Kt(n).ii(0,s.y).qt(r),this.L.D("resize",{width:s.x,height:s.y,engineHeight:i,engineWidth:e})}this.xg=!1}Og(){for(let t=0;t<this.vg.length;t+=1)this.vg[t].zr().sh();this.mg&&this.mg()}zg(t,e){if(t){const i=t(e);this.addEventListener("resize",i.zr.bind(i)),this.pg=i.N.bind(i),this.mg=i.zr.bind(i)}}getIsInView(){return this.Sg}}const wd=t=>{t.yt&&t.yt()};class kd extends Ed{constructor(t,e,i,n,r,s,o){super(t,e,i,e.Vg("uipanel bg",0),n,e.gi.bi.uiPanelBackgroundFillStyle,e.gi.bi.uiPanelBackgroundStrokeStyle,s),this.L=new Er,this.legend.setOptions({position:xd.LeftTop,...o}),this.zg(r,this.Kf)}setMinimumSize(t){return this.Hd=t,this.gi.Rs(),this}getMinimumSize(){return this.Hd}sh(t){this.Vs.forEach((t=>t.zr(0,Zs))),super.sh(t),super.Og(),this.Vs.forEach((t=>t.sh(0,Zs)))}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class Cd extends Ed{constructor(t,e,i,n,r,s,o,a,l,h,c,u){super(t,e,i,n,r,s,o,c,u),this.Ng={},this.Oh=!0,this.Gg={left:!1,top:!1,right:!1,bottom:!1},this.title=new Er,this.$g=e.Ug("chart internal ui",0),this.Vn=void 0!==this.bi.panelPadding?{left:this.bi.panelPadding,right:this.bi.panelPadding,top:this.bi.panelPadding,bottom:this.bi.panelPadding}:{left:7,right:7,top:7,bottom:7},this.Hh=this.$g.Mn(this.uiScale).Kr("Chart").eh(En(50,100)).Hl(En(0,1))._r(a).th(l).setPointerEvents(!1).Qr(h),this.Hh.Qh=Ta.ChartTitle,this.title.Vi(this.Hh),this.Yg=this.Ss.eA([this.Hh]).Ds(this.bi.effectsText)}addLegend(t){var e;let i;(t={addEntriesAutomatically:!1,backgroundVisible:!0,...t}).addEntriesAutomatically&&this.legend&&(i=this.legend.getEntries());const n=null!==(e=t.customLegend)&&void 0!==e?e:fd,r=new Ad(n,this,this.Ig,this.Kf,i,t);return this.Vs.push(r),this.gi.Rs(),r}setAnimationsEnabled(t){return this.Oh=t,this}getAnimationsEnabled(){return this.Oh}setTitle(t){return this.Hh.Kr(t),this.gi.Rs(),this}getTitle(){return this.Hh.sn()}getTitleSize(){return this.Hh.zr().pu()}setTitleFillStyle(t){return this.Hh.th(t),this.bg(),this}getTitleFillStyle(){return this.Hh.Sr()}setTitleShadow(t){return this.Hh.Qr(t),this.gi.Rs(),this}getTitleShadow(){return this.Hh.zl()}setTitleFont(t){return this.Hh._r(t),this.bg(),this}getTitleFont(){return this.Hh.wr()}setTitleRotation(t){return this.Hh.kr(t),this.gi.Rs(),this}getTitleRotation(){return this.Hh.Cr()}setTitleEffect(t){return this.Yg.Ds(t),this.gi.Rs(),this}getTitleEffect(){return this.Yg.Es()}setTitleMargin(t){var e,i;return this.Ng="object"==typeof t?this.Ng?(e=this.Ng,{left:void 0!==(i=t).left?i.left:e.left,top:void 0!==i.top?i.top:e.top,right:void 0!==i.right?i.right:e.right,bottom:void 0!==i.bottom?i.bottom:e.bottom}):t:{left:t,top:t,right:t,bottom:t},this.bg(),this}getTitleMargin(){return this.Ng}xn(t,e){const i="object"==typeof t?Bn(this.Vn,t):{left:t,top:t,right:t,bottom:t};return i.bottom===this.Vn.bottom&&i.left===this.Vn.left&&i.right===this.Vn.right&&i.top===this.Vn.top||(Object.entries(t).forEach((t=>{const i=t[0],n=t[1];void 0===n||!e&&this.Gg[i]||(this.Vn[i]=n,this.Gg[i]=e)})),this.bg()),this}setPadding(t){return this.xn("object"==typeof t?t:{left:t,top:t,right:t,bottom:t},!0),this}getPadding(){return this.Vn}jg(t){const e=t.Hg(),i=null==e?void 0:e.height,n=null==e?void 0:e.width;if(void 0!==i&&void 0!==n)return{x:i/2,y:n/2}}dispose(){return super.dispose(),this.$g.N(),this}}const Md={Wg(t,e){var i,n;return t.Sr()!==na&&0!==t.sn().length&&t.getVisible()?t.zr().pu().y+(null!==(i=e.bottom)&&void 0!==i?i:10)+(null!==(n=e.top)&&void 0!==n?n:10):0},Xg(t,e,i,n,r){var s;const o=r&&r.left?r.left:0,a=r&&r.right?r.right:0,l={x:50,y:100-i.y*(n.top+(null!==(s=e.top)&&void 0!==s?s:10))};t.eh(l).Hl({x:0,y:1}).bn({top:0,bottom:0,right:n.right+(e.right||0)+a,left:n.left+(e.left||0)+o})}};class Td extends Pa{constructor(t,e,i,n,r){super(t,e,n,r),this.Zg=Oa,this.Jg=!0,this.Qg=!0,this.Kg=!0,this.gs=t,this.qg=i,this.ys=new Map}Ki(t,e,i){const n=null==t?void 0:t.dataPoint;if(n)return{cursorPosition:{resultTable:this.gs.translateCoordinate(e,this.gs.coordsRelative),resultTableScale:this.gs.Kf,axisLocation:n},...n,series:this,axisX:this.gs.getDefaultAxisX(),axisY:this.gs.getDefaultAxisY(),axisZ:this.gs.getDefaultAxisZ()}}setCursorEnabled(t){return this.Jg=t,this}getCursorEnabled(){return this.Jg}setCursorFormattingOverride(t){return this.tv=t,this}getCursorFormattingOverride(){return this.tv}sv(){return this.getCursorEnabled()}setAutoScrollingEnabled(t){return this.Qg=t,this.gs.gi.Rs(),this}getAutoScrollingEnabled(){return this.Qg}setColorShadingStyle(t){return this.Zg=t,this.ys.forEach(((e,i)=>i.ev(t))),this.qg.Rs(),this}getColorShadingStyle(){return this.Zg}setDepthTestEnabled(t){return this.Kg=t,this.ys.forEach(((e,i)=>i.hv(t))),this.qg.Rs(),this}getDepthTestEnabled(){return this.Kg}rv(){}sh(){}nv(){}getXMax(){const t=this.Mu;return t?t.Xi():0}getXMin(){const t=this.Mu;return t?t.Wi():0}getYMax(){const t=this.Mu;return t?t.Ji():0}getYMin(){const t=this.Mu;return t?t.Zi():0}getZMax(){const t=this.Mu;return t?t.Se():0}getZMin(){const t=this.Mu;return t?t.me():0}fn(){const t=this.Mu;return t?Cn(t.lc(),t.cc(),t.ov()):Cn(0,0,0)}}class Pd extends Td{constructor(t,e,i,n,r,s){super(t,e,i,n,s),this.zs="Box Series 3D",this.av=.25,this.lv=!1,this.L=new Er,this.Je=Is(this.bi.boxSeries3DFillStyle,r),this.Mu=this.qg.uv().hv(this.Kg).th(this.Je).cv(this.av).Fi(this.getHighlight()),this.Cs(this.Mu)}dv(){return this.lv}invalidateData(t){const e=t.length;if(0===e)return this;this.lv&&this.gs.gi.Ta(_h.Do);const i=t[0];if(!i)return this;let n;if("xMin"in i||"yMin"in i||"zMin"in i||"xMax"in i||"yMax"in i||"zMax"in i){n=[];for(let i=0;i<e;i+=1){const e=t[i],r="xMin"in e&&"xMax"in e,s="yMin"in e&&"yMax"in e,o="zMin"in e&&"zMax"in e;n[i]={color:e.color,value:e.value,id:e.id,xCenter:r?(e.xMin+e.xMax)/2:void 0,yCenter:s?(e.yMin+e.yMax)/2:void 0,zCenter:o?(e.zMin+e.zMax)/2:void 0,xSize:r?e.xMax-e.xMin:void 0,ySize:s?e.yMax-e.yMin:void 0,zSize:o?e.zMax-e.zMin:void 0}}}else n=t;return this.Mu.fv(n.slice()),this.gs.gi.Rs(),this.lv=!0,this}setFillStyle(t){return this.Je="function"==typeof t?t(this.Je):t,this.Mu.th(t),this.gs.gi.Rs(),this}getFillStyle(){return this.Je}setRoundedEdges(t){return void 0!==t&&isNaN(t)&&(console.error("'BoxSeries3D.setRoundedEdges | NaN was supplied.'"),t=void 0),this.av=void 0!==t?Qr(t,0,1):void 0,this.Mu.cv(this.av),this.qg.Rs(),this}getRoundedEdges(){return this.av}Av(){return this.Qg&&this.getVisible()}rh(t,e){t.Fi(e),this.gs.gi.Rs()}Hs(){return Rs(this.Je,this.Mu.wi())}sh(){super.sh(),this.Mu.zr(!1)}hh(){return{fill:this.Je}}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}const Fd=t=>{if(el(t)){const e=t.getThickness(),i=t.getFillStyle();if(la(i))return 1===e?Xa:new Za({size:e,fillStyle:i,shape:"sphere"})}return Xa},Ld={UserSeries:{type:"ApplicationType",args:{type:"UserSeries"}},InternalUI:{type:"ApplicationType",args:{type:"InternalUI"}}};class Rd{constructor(t,e,i,n,r,s,o,a,l,h){this.S=0,this.ui=!0,this.ci=!1,this.li=!0,this.L=new Er,this.Rs=t,this.gv=e,this.vv=i,this.yv=n,this.pv=r,this.mv=s,this.hf=o,this.Sv=a,this.bv=l,this.lo=h}setValue(t){return t===this.S||(this.S=t,this.Rs(),this.L.D("valuechange",{value:this.S})),this}getValue(){return this.S}setTickStyle(t){return this.vv="function"==typeof t?t(this.vv):t,this.Rs(),this}getTickStyle(){return this.vv}setTickLength(t){return this.yv=t,this.Rs(),this}getTickLength(){return this.yv}setGridStrokeStyle(t){return this.pv="function"==typeof t?t(this.pv):t,this.Rs(),this}getGridStrokeStyle(){return this.pv}setTextPadding(t){return this.mv=t,this.Rs(),this}getTextPadding(){return this.mv}setTextRotation(t){return this.hf=t,this.Rs(),this}getTextRotation(){return this.hf}setTextFillStyle(t){return this.Sv="function"==typeof t?t(this.Sv):t,this.Rs(),this}getTextFillStyle(){return this.Sv}setTextFont(t){return this.bv="function"==typeof t?t(this.bv):t,this.Rs(),this}getTextFont(){return this.bv}setTextFormatter(t){return this.lo=t,this.Rs(),this}dispose(){return this.ci||(this.ci=!0,this.gv(),this.Rs(),this.L.D("dispose",{})),this}isDisposed(){return this.ci}setVisible(t){const e=this.ui!==t;return this.ui=t,e&&(this.L.D("visiblechange",{isVisible:this.ui}),this.Rs()),this}getVisible(){return this.ui}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}setPointerEvents(t){return this.li=t,this.Rs(),this}getPointerEvents(){return this.li}}class Bd extends Rd{constructor(t,e,i,n,r,s,o,a,l,h,c,u,d){super(t,e,i,n,r,s,o,a,l,h),this.og=c,this.ag=u,this.Vn=d}setBackgroundFillStyle(t){return this.og="function"==typeof t?t(this.og):t,this.Rs(),this}getBackgroundFillStyle(){return this.og}setBackgroundStrokeStyle(t){return this.ag="function"==typeof t?t(this.ag):t,this.Rs(),this}getBackgroundStrokeStyle(){return this.ag}setPadding(t){return this.Vn="number"==typeof t?{left:t,top:t,right:t,bottom:t}:{...this.Vn,...t},this.Rs(),this}getPadding(){return this.Vn}}class zd{constructor(t,e,i,n){this.xv=[],this.Mv=new Map,this.wv=t,this._v=e,this.kv=i,this.nv=n}DA(){this.kv&&this.kv();const t=[];return{add:(e,i)=>{t.push({instanceUniqueProperties:e,instanceSharedProperties:i})},finishPlot:()=>{const e=[];let i=[];t.forEach((t=>{const i=e.find((e=>((t,e)=>{const i=Object.keys(t);for(const n of i)if(t[n]!==e[n])return!1;return!0})(e.sharedProperties,t.instanceSharedProperties)));i?i.instances.push(t.instanceUniqueProperties):e.push({sharedProperties:t.instanceSharedProperties,instances:[t.instanceUniqueProperties]})}));const n=this.xv.slice(),r=[];e.forEach((t=>{let e=n.shift();e||(e=this.wv(),this.xv.push(e));const s=[],o=e.Cv().slice();t.instances.forEach((t=>{const e=o.shift();s.push({...t,existingMember:e})}));const a=this._v(e,s,t.sharedProperties);i=Ts(i,a,{canReturnB:!0});for(let i=0;i<t.instances.length;i+=1)r.push({mi:t.instances[i].mi,collection:e,member:a[i]});o.forEach((t=>{null==e||e.jd(t)}))})),n.forEach((t=>{t.dispose();const e=this.xv.indexOf(t);e<0?Ds(0,(()=>{})):this.xv.splice(e,1)})),r.forEach((t=>{const e=this.Mv.get(t.mi);e&&t.collection.gi.Na({entity:e.collection,collectionMember:e.member},{entity:t.collection,collectionMember:t.member})})),this.Mv.clear(),r.forEach((t=>{this.Mv.set(t.mi,t)})),this.nv&&this.nv(this.xv,i)}}}zA(){this.xv.forEach((t=>{t.dispose()})),this.xv.length=0}}class Id extends wh{constructor(t,e,i,n,r,s,o,a,l){super(t,e,i,n,a,{numeric:e.Tv({x:t.gi.bi.xAxis3DNumericTicks,y:t.gi.bi.yAxis3DNumericTicks,z:t.gi.bi.zAxis3DNumericTicks}),datetime:e.Tv({x:t.gi.bi.xAxis3DDateTimeTicks,y:t.gi.bi.yAxis3DDateTimeTicks,z:t.gi.bi.zAxis3DDateTimeTicks}),time:e.Tv({x:t.gi.bi.xAxis3DTimeTicks,y:t.gi.bi.yAxis3DTimeTicks,z:t.gi.bi.zAxis3DTimeTicks})},{type:"linear"}),this.Tf=[],this.L=new Er,this.chart=t,this.qg=r,this.Fv=s,this.Iv=o,this.Pv=this.qg.oi;const h=this.ar.Tv({x:this.bi.xAxis3DStrokeStyle,y:this.bi.yAxis3DStrokeStyle,z:this.bi.zAxis3DStrokeStyle});this.Lv=this.qg.Dv([Ld.InternalUI]).Ah(h).Bv(Fd(h)).setPointerEvents(!1),this.Kh=this.Fv.Mn(this.Iv).setPointerEvents(!1).th(e.Tv({x:t.gi.bi.xAxis3DTitleFillStyle,y:t.gi.bi.yAxis3DTitleFillStyle,z:t.gi.bi.zAxis3DTitleFillStyle}))._r(e.Tv({x:t.gi.bi.xAxis3DTitleFont,y:t.gi.bi.yAxis3DTitleFont,z:t.gi.bi.zAxis3DTitleFont})).el(3),this.Rv=new dd((()=>this.Fv.Mn(this.Iv).el(2).xn(Zs).bn(Zs))),this.Ev=new zd((()=>this.Fv.Ov(this.Iv).setPointerEvents(!1).el(1)),((t,e,i)=>(t.th(i.fillStyle).qe(i.strokeStyle),e.map((e=>{let{positions:i,existingMember:n}=e;const r=n||t.Uo();return r.oc(i),r}))))),this.zv=new zd((()=>this.qg.yA().setPointerEvents(!1)),((t,e,i)=>(t.Ni().Ah(i.lineStyle),e.map((e=>{let{positions:i,existingMember:n}=e;return n||t.xc(i)}))))),this.Ss=l,this.Tr=this.Ss.eA([this.Kh]).Ds(n.effectsText),i.jf=this}setTickStrategy(t,e){return super.dr(t,e)}getTickStrategy(){return this.Bh}addCustomTick(){const t=new Bd((()=>this.chart.gi.Rs()),(()=>{const e=this.Tf.indexOf(t);e>=0&&this.Tf.splice(e,1)}),this.bi.xAxis3DNumericTicks.majorTickStyle.tickStyle,this.bi.xAxis3DNumericTicks.majorTickStyle.tickLength,this.bi.xAxis3DNumericTicks.majorTickStyle.gridStrokeStyle,this.bi.xAxis3DNumericTicks.majorTickStyle.tickPadding,this.bi.xAxis3DNumericTicks.majorTickStyle.labelRotation,this.bi.xAxis3DNumericTicks.majorTickStyle.labelFillStyle,this.bi.xAxis3DNumericTicks.majorTickStyle.labelFont,(t=>this.formatValue(t)),na,Br,{left:4,right:4,top:4,bottom:4});return this.Tf.push(t),this.chart.gi.Rs(),t}setStrokeStyle(t){return this.Lv.Ah(t).Bv(Fd(this.Lv.co())),this.chart.gi.Rs(),this}getStrokeStyle(){return this.Lv.co()}setVisible(t){return super.setVisible(t),this.Lv.setVisible(t),!1===t&&(this.zv.zA(),this.Rv.zA(),this.Ev.zA()),this.qg.Rs(),this}cA(){return this.chart.getSeries()}pn(t,e,i){const n=Math.abs(this.oi.Z(Math.abs(e-t))*this.qg.Vv(1));return{start:t+i.start*n*Math.sign(t-e),end:e+i.end*n*Math.sign(e-t)}}$r(t){const e=this.Pv,i=Cn(e.x.q(),e.y.q(),e.z.q()),{gridlinePositionA:n,gridlinePositionB:r,gridlinePositionC:s}=this.ar.Nv(t.cameraDirection),o=t=>({x:-1===t.x?this.Pv.x.getInnerStart():1===t.x?this.Pv.x.getInnerEnd():0,y:-1===t.y?this.Pv.y.getInnerStart():1===t.y?this.Pv.y.getInnerEnd():0,z:-1===t.z?this.Pv.z.getInnerStart():1===t.z?this.Pv.z.getInnerEnd():0}),a=o(n),l=o(r),h=o(s),c=this.ar.qd,u=bo(t.start,t.end,.5),d=no.addVec(u,no.multiplyVec(no.multiply(c,-1),i)),f=this.qg.Gv(u)||En(0,0),g=this.qg.Gv(d)||En(0,0);return{center:u,wuSize:i,tickDirection3D:c,tickDirection2D:To(Bo(hr(f,this.chart.gi.oi,this.Iv),hr(g,this.chart.gi.oi,this.Iv))),gridlinePositionA:a,gridlinePositionB:l,gridlinePositionC:h}}Hr(t,e,i,n,r){return{...this.$v(r,t,e.Ph.tickLength,e.Ph.tickPadding),keyValue:t,tickLevel:e,labelText:i,labelOffset:{x:0,y:0},labelRotation:e.Ph.labelRotation}}qr(t,e){const i=new Dd(e,t,this.Fv,this.Iv,this.qg);return i.Er.el(0),i}Zr(t,e,i){return{ticksInfo:e,updatedTicks:i}}tr(){return this.Iv}$v(t,e,i,n){const{wuSize:r,start:s,end:o,tickDirection3D:a,tickDirection2D:l}=t,h=(e-this.oi.getInnerStart())/(this.oi.getInnerEnd()-this.oi.getInnerStart()),c=no.addVec(bo(s,o,h),no.multiplyVec(no.multiply(a,this.qg.Vv(.5*this.Lv.co().getThickness())),r)),u=no.addVec(c,no.multiplyVec(no.multiply(a,this.qg.Vv(i)),r)),d=this.qg.Gv(u)||En(0,0);return{labelPosition:Ro(hr(d,this.chart.gi.oi,this.Iv),Lo(l,n)),labelAlignment:{x:-l.x,y:-l.y},posTickEnd3D:u,posTickStart3D:c,tickPositionRelative:h}}Uv(t,e,i){const{wuSize:n,start:r,end:s,tickDirection3D:o}=e,a=(t-this.oi.getInnerStart())/(this.oi.getInnerEnd()-this.oi.getInnerStart()),l=no.addVec(bo(r,s,a),no.multiplyVec(no.multiply(o,this.qg.Vv(.5*this.Lv.co().getThickness())),n)),h=no.addVec(l,no.multiplyVec(no.multiply(o,this.qg.Vv(10)),n)),c=this.qg.Gv(l)||En(0,0),u=this.qg.Gv(h)||En(0,0);return this.Fv.gh(this.Iv).ph(c).yh(u).Ah(new tl({fillStyle:new aa({color:Nn(120*i)}),thickness:1}))}gn(t,e){return Vd(t,e,this.oi)}Yv(t){const e=this.Pv;let i,n;this.jv()?(i=Cn(e.x.getInnerEnd(),e.y.getInnerStart(),e.z.getInnerStart()),n=Cn(e.x.getInnerEnd(),e.y.getInnerStart(),e.z.getInnerEnd())):(i=Cn(e.x.getInnerStart(),e.y.getInnerStart(),e.z.getInnerStart()),n=this.ar.Hv(Cn(e.x.getInnerEnd(),e.y.getInnerEnd(),e.z.getInnerEnd()),i));const r=this.qg.Gv(i)||En(0,0),s=this.qg.Gv(n)||En(0,0);return{cameraDirection:t,physicalAxisSize:Fo(Bo(r,s)),start:i,end:n,start2D:r,end2D:s}}sh(t){if(!this.ui)return;const e=Math.min(this.Ar,this.gr),i=Math.max(this.Ar,this.gr);this.Lv.Ni().xc([t.start,t.end]);const n=this.zv.DA();for(const[d,f]of this.Dh)for(const[,e]of f){const i=t.ticksInfo.get(e);if(!i)continue;const r=this.Wv(t,i);n.add({mi:0,positions:[r.tickStroke.start,r.tickStroke.end]},{lineStyle:d.Ph.tickStyle}),r.gridStroke&&n.add({mi:0,positions:r.gridStroke},{lineStyle:d.Ph.gridStrokeStyle}),e.Er.eh(i.labelPosition).Hl(i.labelAlignment).kr(i.labelRotation).Vl(i.labelOffset.x,i.labelOffset.y)}const r=this.Rv.DA(),s=this.Ev.DA(),o={x:0,y:0};this.Tf.forEach((a=>{if(!a.ui||a.S<e||a.S>i)return;const l=this.$v(t,a.S,a.yv,a.mv),h=this.Wv(t,l);if(a.Sv!==na){const t=r.add().eh(l.labelPosition).Hl(l.labelAlignment).th(a.Sv)._r(a.bv).Kr(a.lo(a.S)).kr(a.hf).setPointerEvents(a.li);t.Qh=a.Qh;const e=t.zr()._t();if(o.x=Math.max(o.x,e.x),o.y=Math.max(o.y,e.y),a.og!==na){const e=t.gu(),i=[{x:e.min.x-a.Vn.left,y:e.max.y+a.Vn.top},{x:e.max.x+a.Vn.right,y:e.max.y+a.Vn.top},{x:e.max.x+a.Vn.right,y:e.min.y-a.Vn.bottom},{x:e.min.x-a.Vn.left,y:e.min.y-a.Vn.bottom}];s.add({mi:0,positions:i},{fillStyle:a.og,strokeStyle:a.ag}),this.Fv.gi.vu&&a.Qh===Ta.CursorTickMarker&&this.Fv.gi.vu.wA({...this.Fv.gi.tl(e.min,e.max,t.oi,a.Vn),blacklist:[Ta.CursorTickMarker]})}}n.add({mi:0,positions:[h.tickStroke.start,h.tickStroke.end]},{lineStyle:a.vv}),h.gridStroke&&n.add({mi:0,positions:h.gridStroke},{lineStyle:a.pv})})),r.finishPlot(),s.finishPlot(),n.finishPlot();const a=this.nn(((t,e)=>{const i=e.Er.zr()._t();return t.x=Math.max(t.x,i.x),t.y=Math.max(t.y,i.y),t}),{x:o.x,y:o.y}),l=Math.atan((t.end2D.y-t.start2D.y)/(t.end2D.x-t.start2D.x));this.Kh.Hl({x:0,y:0}).kr(180*-l/Math.PI);const h=no.addVec(t.center,no.multiplyVec(no.multiply(t.tickDirection3D,this.qg.Vv(.5*this.Lv.co().getThickness()+this.ln(((t,e)=>Math.max(t,e.tickLength)),0))),t.wuSize)),c=this.qg.Gv(h)||En(0,0),u=Ro(hr(c,this.chart.gi.oi,this.Iv),Ro(Ro(zo(a,t.tickDirection2D),Lo(t.tickDirection2D,this.ln(((t,e)=>Math.max(t)),0))),zo(Lo(this.Kh.zr()._t(),.5),t.tickDirection2D)));this.Kh.eh(u)}Wv(t,e){const{gridlinePositionA:i,gridlinePositionB:n,gridlinePositionC:r}=t,s=e.posTickStart3D,o=e.posTickEnd3D,a=e.tickPositionRelative;let l;return Kr(a,0)||Kr(a,1)||(l=[this.Xv()?{...i,x:s.x}:this.Zv()?{...i,y:s.y}:this.jv()?{...i,z:s.z}:{x:0,y:0,z:0},this.Xv()?{...n,x:s.x}:this.Zv()?{...n,y:s.y}:this.jv()?{...n,z:s.z}:{x:0,y:0,z:0},this.Xv()?{...r,x:s.x}:this.Zv()?{...r,y:s.y}:this.jv()?{...r,z:s.z}:{x:0,y:0,z:0}]),{gridStroke:l,tickStroke:{start:s,end:o}}}Jv(t){const e=this.Ar,i=this.gr,n=.01*t*(i-e),r=e+n,s=i+n;this.Br(r,s,{allowIntervalLengthChange:!1,skipIntervalRestriction:!1})}Qv(t,e,i){if(0===e)return;i<0&&(e*=-1,i*=-1);const n=this.gr-this.Ar,r=n*(e>=1?1+.02*i:1-.02*i)-n;"centered"===t?this.Br(this.Ar+r/2,this.gr-r/2,{allowIntervalLengthChange:!0,skipIntervalRestriction:!1}):"keep-start"===t?this.Br(this.Ar,this.gr-r/2,{allowIntervalLengthChange:!0,skipIntervalRestriction:!1}):"keep-end"===t&&this.Br(this.Ar+r/2,this.gr,{allowIntervalLengthChange:!0,skipIntervalRestriction:!1})}Fr(){super.Fr(),this.zv.zA(),this.Rv.zA(),this.Ev.zA()}Xv(){return this.ar.Xv()}Zv(){return this.ar.Zv()}jv(){return this.ar.jv()}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}setPointerEvents(t){return this.L.setPointerEvents(t),this}getPointerEvents(){return this.L.getPointerEvents()}}class Dd extends kh{constructor(t,e,i,n,r,s){super(t,e,i,n,s),this.Kv=r}}const Vd=(t,e,i)=>Qr(t+.1*(e-t)+Math.abs(i.q())/100*Math.sign(e-t),Math.min(t,e),Math.max(t,e)),_d=(t,e,i,n)=>({cn:i=>{const n=t();let r;for(const t of n){if(!t.Av())continue;const n=e(t,i);r=void 0===n?r:void 0!==r?Math.min(r,n):n}return r},un:e=>{const n=t();let r;for(const t of n){if(!t.Av())continue;const n=i(t,e);r=void 0===n?r:void 0!==r?Math.max(r,n):n}return r},fn:()=>{const e=t();let i;for(const t of e){if(!t.Av())continue;const e=n(t);i=void 0===e?i:void 0!==i?Math.max(i,e):e}return i}}),Nd=t=>({..._d(t,(t=>t.getYMin()),(t=>t.getYMax()),(t=>t.fn().y)),Tv:t=>t.y,Hv:(t,e)=>({x:e.x,y:t.y,z:e.z}),qd:Cn(-1,0,0),Nv:t=>{const e={x:t.x>=0?1:-1,y:t.y>=0?1:-1,z:t.z>=0?1:-1};return{gridlinePositionA:Cn(e.x,0,e.z),gridlinePositionB:Cn(e.x,0,-e.z),gridlinePositionC:Cn(-e.x,0,-e.z)}},Xv:()=>!1,Zv:()=>!0,jv:()=>!1}),Od=t=>({..._d(t,(t=>t.getZMin()),(t=>t.getZMax()),(t=>t.fn().z)),Tv:t=>t.z,Hv:(t,e)=>({x:e.x,y:e.y,z:t.z}),qd:Cn(1,0,0),Nv:t=>{const e={x:t.x>=0?1:-1,y:t.y>=0?1:-1,z:t.z>=0?1:-1};return{gridlinePositionA:Cn(e.x,-e.y,0),gridlinePositionB:Cn(e.x,e.y,0),gridlinePositionC:Cn(-e.x,e.y,0)}},Xv:()=>!1,Zv:()=>!1,jv:()=>!0});class Hd extends Td{constructor(t,e,i,n,r){super(t,e,i,n,r),this.lv=!1,this.L=new Er}dv(){return this.getPointAmount()>0}setStrokeStyle(t){this.eu="function"==typeof t?t(this.eu):t;const e=this.eu;return this.Mu.Ah(e),this.qg.Rs(),this}getStrokeStyle(){return this.eu}add(t){return this.lv&&this.gs.gi.Ta(_h.Do),this.lv=!0,(t=Array.isArray(t)?t:[t])?(this.Mu.xc(t.slice()),this.qg.Rs(),this):this}clear(){return this.Mu.Ni(),this}getPointAmount(){const t=this.Mu;return t.Cc()+t.Tc()}Av(){return this.Qg&&this.getPointAmount()>0&&this.getVisible()}rh(t,e){t.Fi(e),this.qg.Rs()}hh(){return{stroke:this.eu}}Hs(){return Rs(this.eu.getFillStyle(),this.Mu.wi())}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class Ud extends Hd{constructor(t,e,i,n,r,s){super(t,e,i,n,s),this.zs="Line Series 3D",this.eu=Is(n.lineSeries3DStrokeStyle,r),this.qv=tc.pointStyle3D,this.ty(this.eu),this.Mu=this.qg.Dv([Ld.UserSeries]).hv(this.Kg).Ah(this.eu).Bv(this.qv).Fi(this.getHighlight()),this.Cs(this.Mu)}setStrokeStyle(t){super.setStrokeStyle(t),this.ty(this.eu);const e=this.qv;return this.Mu.Bv(e),this}ty(t){const e=new Qa.Triangulated({shape:"sphere",fillStyle:t.getFillStyle(),size:t.getThickness()});this.qv=e}}class Yd extends Hd{constructor(t,e,i,n,r,s){super(t,e,i,n,s),this.zs="Point Line Series 3D",this.qv=Is(n.pointLineSeries3DPointStyle,r),this.eu=Is(n.lineSeries3DStrokeStyle,r),this.iy(),this.Mu=this.qg.Dv([Ld.UserSeries]).hv(this.Kg).Ah(this.eu).Bv(this.qv).Fi(this.getHighlight()),this.Cs(this.Mu)}setPointStyle(t){return this.qv="function"==typeof t?t(this.qv):t,this.iy(),this.Mu.Bv(this.qv),this.qg.Rs(),this}getPointStyle(){return this.qv}setStrokeStyle(t){super.setStrokeStyle(t);const e=this.eu,i=Math.abs(e.getThickness()),n=this.qv,r=n.getSize();i>("object"==typeof r?Math.max(r.x,r.y,r.z):r)&&(this.qv=n.setSize(i)),this.iy();const s=this.qv;return this.Mu.Bv(s),this.qg.Rs(),this}Hs(){return Rs(this.eu.getFillStyle(),this.Mu.wi())||Rs(this.qv.getFillStyle(),this.Mu.wi())}iy(){const t=this.qv,e=t.getSize();this.qv=t.setSize(e)}rh(t,e){t.Fi(e),this.qg.Rs()}}class Gd extends Td{constructor(t,e,i,n,r,s){super(t,e,i,n,r),this.lv=!1,this.L=new Er,((null==s?void 0:s.individualPointSizeAxisEnabled)||(null==s?void 0:s.individualPointSizeEnabled))&&this.gs.gi.Ta(_h.Ro)}dv(){return this.getPointAmount()>0}add(t){return this.lv&&this.gs.gi.Ta(_h.Do),this.lv=!0,(t=Array.isArray(t)?t:[t])?(this.Mu.xc(t.slice()),this.qg.Rs(),this):this}clear(){return this.Mu.Ni(),this}getPointAmount(){const t=this.Mu;return t.Cc()+t.Tc()}Av(){return this.Qg&&this.getPointAmount()>0&&this.getVisible()}rh(t,e){t.Fi(e),this.qg.Rs()}hh(){return{point3D:this.sy}}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class jd extends Gd{constructor(t,e,i,n,r,s){super(t,e,i,n,r,s),this.zs="Point Series 3D";const o=void 0!==(null==s?void 0:s.automaticColorIndex)?s.automaticColorIndex:this.gs.getSeries().length;this.sy=Is(n.pointSeries3DPointStyle,o);const a={individualPointColorEnabled:!1,individualPointSizeEnabled:!1,individualLookupValuesEnabled:!1,individualPointSizeAxisEnabled:!1,...s};this.Mu=this.qg.hy(a).hv(this.Kg).ey(this.sy).Fi(this.getHighlight()),this.Cs(this.Mu)}setPointStyle(t){this.sy="function"==typeof t?t(this.sy):t;const e=this.sy;return this.Mu.ey(e),this.qg.Rs(),this}getPointStyle(){return this.sy}Hs(){return Rs(this.sy.getFillStyle(),this.Mu.wi())}}class Xd extends Cd{constructor(t,e,i,n,r,s,o,a,l,h,c,u){super(t,e,i,n,r,s,o,a,l,h,c,u),this.ny=[],this.oy=0,this.ly=t=>{const e=this.ny.indexOf(t);e>=0&&(this.ny.splice(e,1),this.L.D("seriesdispose",{series:t}))},this.seriesBackground=new Er,this.uy=this.Ss.eA()}setAnimationsEnabled(t){return super.setAnimationsEnabled(t),this.ny.forEach((e=>e.setAnimationHighlight(t))),this}Ay(t,e){this.uy.Ts([e]),this.seriesBackground.Vi(t)}setSeriesBackgroundFillStyle(t){return this.gy.th(t),this.gi.Rs(),this}getSeriesBackgroundFillStyle(){return this.gy.Sr()}setSeriesBackgroundStrokeStyle(t){return this.vy.qe(t),this.gi.Rs(),this}getSeriesBackgroundStrokeStyle(){return this.vy.Wa()}setSeriesBackgroundEffect(t){return this.uy.Ds(t),this.gi.Rs(),this}getSeriesBackgroundEffect(){return this.uy.Es()}yy(t,e){this.ny.push(t),void 0!==this.py&&t.setHighlightOnHover(this.py),this.L.D("seriesadd",{series:t}),this.Vs.forEach((i=>{i.dg()&&null!==(null==e?void 0:e.legend)&&i.xc(t,null==e?void 0:e.legend)}))}gg(){return this.ny}setSeriesHighlightOnHover(t){return this.py=t,this.ny.forEach((e=>e.setHighlightOnHover(t))),this}dispose(){return this.ny.slice().forEach(qr),super.dispose()}}const Wd=no.normalize({x:-.5610788649579117,y:-.35242840511865414,z:-1.1349149375849081});class Zd{constructor(t,e,i,n){this.my=!0,this.Sy=!0,this.by=2*-Math.PI/2160,this.xy=2*Math.PI/2160,this.My=.1,this.wy=1*Math.PI/180,this._y=t,this.ky=e,this.Cy=i,this.Gv=n}getDefaultCameraConfiguration(t,e){const i={direction:Wd,location:no.multiply(Wd,-1)};return this.cameraLocationChanged({boundingBox:t,cameraDirection:i.direction,cameraLocation:i.location,projection:e})||i}applyCameraInteractions(t,e){let i={direction:t.cameraDirection,location:t.cameraLocation};return e.forEach((t=>{"rotate"===t.type?i=this.Ty(i,t):"wheel-zoom"===t.type?i=this.Fy(i,t):"rotate+zoom"===t.type?i=this.Iy(i,t):"fixed-rotate"===t.type?i=this.Py(i,t):"move"===t.type&&(i=this.Ly(i,t))})),this.my?i=this.By(t.boundingBox,i):this.Sy&&(i=this.Dy(t.boundingBox,t.projection,i)),i}Ty(t,e){const{rotation:i}=e,n=t.location,r=no.multiply(no.normalize(t.location),-1),{Right:s,Up:o}=this.Ry(r);let a=n;const l=this.Ey(r),h=i.x*this.by*l;a=no.rotateAroundAxis(a,o,h);const c=(i.y>0?1:-1)*Math.min(Math.abs(i.y)*this.xy,l-this.wy);return 0!==c&&(a=no.rotateAroundAxis(a,s,c)),{location:a,direction:no.multiply(no.normalize(a),-1)}}Fy(t,e){const{deltaY:i}=e;this.my&&this.Oy(!1);const n=t.location,r=no.multiply(no.normalize(n),-1),s=i*this.My,o=no.length(n)*-s;return{direction:r,location:no.addVec(n,no.multiply(r,o))}}Iy(t,e){const{rotation:i,cameraDistance:n}=e;this.my&&this.Oy(!1);let r=this.Ty(t,{type:"rotate",rotation:i});const s=r.location,o=no.multiply(no.normalize(s),-1),a=no.multiply(o,-n);return r={direction:no.multiply(no.normalize(a),-1),location:a},r}Py(t,e){this.my&&this.Oy(!1);const{rotation:i}=e,n=t.location,r=t.direction,{Right:s,Up:o}=this.Ry(r),a=i.x*this.by;let l=no.normalize(no.rotateAroundAxis(r,o,a));const h=i.y*this.xy;return l=no.normalize(no.rotateAroundAxis(l,s,h)),{location:n,direction:l}}Ly(t,e){this.my&&this.Oy(!1),this.Sy=!1;const{amountRight:i,amountForward:n}=e,r=t.location,s=t.direction,{Right:o}=this.Ry(s);return{location:no.addVec(r,no.multiply(s,.01*n),no.multiply(o,.01*i)),direction:s}}projectionChanged(t,e){return this.viewportChanged(t)}boundingBoxChanged(t){const e={location:t.cameraLocation,direction:no.multiply(no.normalize(t.cameraLocation),-1)};return this.my?this.By(t.boundingBox,e):this.Dy(t.boundingBox,t.projection,e)}cameraLocationChanged(t){const e={location:t.cameraLocation,direction:no.multiply(no.normalize(t.cameraLocation),-1)};return this.my?this.By(t.boundingBox,e):this.Dy(t.boundingBox,t.projection,e)}viewportChanged(t){const e={location:t.cameraLocation,direction:no.multiply(no.normalize(t.cameraLocation),-1)};if(this.my)return this.By(t.boundingBox,e)}By(t,e,i){let n=e;i=void 0!==i?i:0,n=this.zy(t,n,100,20,1,i,5);const r=this.Ey(n.direction);return n=this.Vy(n,this.Ny(t,n,100,1),r),n}zy(t,e,i,n,r,s,o){return qd(s,o,(t=>({direction:e.direction,location:no.multiply(e.direction,-t)})),(e=>this.Gy(t,e)),i,r,"linear",n)}Ny(t,e,i,n){const{Right:r,Left:s,Up:o,Down:a}=this.Ry(e.direction),l=this.$y(t,!1,e);let h=e;const c=n,u=.1;return Math.abs(l.bottom-l.top)>c&&(h=l.bottom<l.top?Jd(0,u,(t=>({location:h.location,direction:no.normalize(no.lerp(h.direction,a,t))})),(e=>this.Uy(t,e)),0,c,!0,i):Jd(0,u,(t=>({location:h.location,direction:no.normalize(no.lerp(h.direction,o,t))})),(e=>this.Uy(t,e)),0,c,!0,i)),Math.abs(l.left-l.right)>c&&(h=l.left<l.right?Jd(0,u,(t=>({location:h.location,direction:no.normalize(no.lerp(h.direction,s,t))})),(e=>this.Yy(t,e)),0,c,!0,i):Jd(0,u,(t=>({location:h.location,direction:no.normalize(no.lerp(h.direction,r,t))})),(e=>this.Yy(t,e)),0,c,!0,i)),h}Gy(t,e){const i=this.$y(t,!0,e);return Math.min(i.left+i.right,i.top+i.bottom)}Yy(t,e){const i=this.$y(t,!1,e);return Math.abs(i.left-i.right)}Uy(t,e){const i=this.$y(t,!1,e);return Math.abs(i.top-i.bottom)}$y(t,e,i){const n=So(this.jy(t,e,i).map((t=>hr(t,this._y,this.ky))));return{left:n.min.x,right:this.ky.x.getInnerEnd()-n.max.x,top:this.ky.y.getInnerEnd()-n.max.y,bottom:n.min.y}}jy(t,e,i){const n=this.Cy,r=Cn(n.x.getInnerStart(),n.y.getInnerStart(),n.z.getInnerStart()),s=Cn(n.x.getInnerEnd(),n.y.getInnerEnd(),n.z.getInnerEnd()),o=[],a=e?16:4,l=(r.x+s.x)/2,h=(r.z+s.z)/2,c=Math.sqrt(2)*(s.x-l),u=Math.sqrt(2)*(s.z-h);return[r.y,s.y].forEach((t=>{for(let e=0;e<a;e+=1){const i=Math.PI/4+2*Math.PI*e/a,n=l+Math.cos(i)*c,r=h+Math.sin(i)*u;o.push({x:n,y:t,z:r})}})),o.map((t=>this.Gv(t,i))).filter((t=>void 0!==t))}Dy(t,e,i){const n=no.length(i.location),r=this.Hy(t,e);return n<r.min?{direction:i.direction,location:no.multiply(i.direction,-r.min)}:n>r.max?{direction:i.direction,location:no.multiply(i.direction,-r.max)}:i}Hy(t,e){return{min:("perspective"===e?.8:.5)*Math.sqrt(t.x**2+t.y**2+t.z**2),max:3*Math.sqrt(t.x**2+t.y**2+t.z**2)}}Ry(t){const e=Cn(0,1,0),i=no.normalize(no.cross(e,no.multiply(t,-1)));let n=no.cross(i,t);return n.y=Math.abs(n.y),n=no.normalize(n),{Right:i,Up:n,Down:no.multiply(n,-1),Left:no.multiply(i,-1)}}Ey(t){const e={x:0,y:1,z:0},i=no.angle(t,e),n=no.angle(t,no.multiply(e,-1));return Math.min(i,n)}Vy(t,e,i){return{location:no.lerp(t.location,e.location,i),direction:no.normalize(no.lerp(t.direction,e.direction,i))}}Oy(t){return this.my=t,this}Wy(){return this.my}}const qd=(t,e,i,n,r,s,o,a)=>{let l,h=0,c=(e+t)/2;do{const a=i(c);if(l={value:c,result:a,score:n(a)},Math.abs(l.score-r)<=s)break;const u=l.score>r;u&&"linear"===o||!u&&"reversed"===o?(c=(l.value+t)/2,e=l.value):(c=(l.value+e)/2,t=l.value),h+=1}while(h<a);return l.result},Jd=(t,e,i,n,r,s,o,a)=>{let l,h=0,c=t;do{const u=i(c),d=n(u);if(void 0===l||Math.abs(d-r)<Math.abs(l.score-r)){if(l={value:c,result:u,score:n(u)},Math.abs(l.score-r)<=s)break}else if(o)break;h+=1,c+=1/(a-1)*(e-t)}while(h<a);return l.result};class Kd extends Td{constructor(t,e,i,n,r,s){super(t,e,i,r,s),this.zs="Surface Grid Series 3D",this.Xy={},this.lv=!1,this.L=new Er,this.Zg=_a;const o=void 0!==(null==n?void 0:n.automaticColorIndex)?n.automaticColorIndex:this.gs.getSeries().length;this.Je=Is(this.bi.surfaceGridSeries3DFillStyle,o),this.Zy=Is(this.bi.surfaceGridSeries3DWireframeStyle,o);const a={heatmapDataType:"intensity",dataOrder:n.dataOrder||"columns",columns:n.columns,rows:n.rows};this.Pa=a,this.Mu=this.qg.Qy(a).th(this.Je).Jy(this.Zy).ev(this.Zg).Fi(this.getHighlight()),this.Cs(this.Mu),this.setHighlightOnHover(!1)}dv(){return this.lv}Ki(t,e,i){const n=null==t?void 0:t.dataPoint;if(n)return{cursorPosition:{resultTable:this.gs.translateCoordinate(e,this.gs.coordsRelative),resultTableScale:this.gs.Kf,axisLocation:n},...n,series:this,axisX:this.gs.getDefaultAxisX(),axisY:this.gs.getDefaultAxisY(),axisZ:this.gs.getDefaultAxisZ(),lut:fa(this.Je)?this.Je.lut:void 0}}hh(){return{fill:this.Je}}Ky(){const t=this.Xy.start||{x:0,z:0};let e;e=this.Xy.end?{x:(this.Xy.end.x-t.x)/this.Pa.columns,z:(this.Xy.end.z-t.z)/this.Pa.rows}:this.Xy.step?this.Xy.step:{x:1,z:1},this.Mu.qy(t,e),this.gs.gi.Rs()}setStart(t){return this.Xy.start=t,this.Ky(),this}getStart(){return this.Mu.tp().start}setStep(t){return this.Xy.step=t,this.Ky(),this}getStep(){return this.Mu.tp().step}setEnd(t){return this.Xy.end=t,this.Ky(),this}getEnd(){return this.Mu.tp().end}setFillStyle(t){return this.Je="function"==typeof t?t(this.Je):t,this.Mu.th(this.Je),this.qg.Rs(),this}getFillStyle(){return this.Je}setWireframeStyle(t){return this.Zy="function"==typeof t?t(this.Zy):t,this.Mu.Jy(this.Zy),this.qg.Rs(),this}getWireframeStyle(){return this.Mu.ip()}setIntensityInterpolation(t){return t=t||"disabled",this.Mu.sp(t),this.qg.Rs(),this}getIntensityInterpolation(){return this.Mu.ep()}invalidateIntensityValues(t){if(this.lv&&this.gs.gi.Ta(_h.Do),Array.isArray(t)){if(0===t.length||0===t[0].length)return this;const e={x:t.length,y:t[0].length,columns:"columns"===this.Pa.dataOrder?t.length:t[0].length,rows:"rows"===this.Pa.dataOrder?t.length:t[0].length},i="columns"===this.Pa.dataOrder?this.Pa.columns:this.Pa.rows,n="columns"===this.Pa.dataOrder?this.Pa.rows:this.Pa.columns;if(e.x>i||e.y>n){if(!0===this.gs._g.La){const t="SurfaceGridSeries3D.invalidateIntensityValues intensity matrix overflow.\n    Grid ".concat(this.Pa.columns,"x").concat(this.Pa.rows,", input ").concat(e.columns,"x").concat(e.rows,".\n    Excess data will be automatically clipped. This can result in sub-optimal performance.");jr.console.warn(t)}const r=[];for(let e=0;e<i;e+=1)r[e]=t[e].slice(0,n);t=r}this.Mu.hp({type:"intensity",lengthPrimary:t.length,lengthSecondary:t[0].length,startPrimary:0,startSecondary:0,values:t})}else if("iColumn"in t&&"iRow"in t&&"values"in t){if(0===t.values.length||0===t.values[0].length)return this;const e={primary:t.values.length,secondary:t.values[0].length,columns:"columns"===this.Pa.dataOrder?t.values.length:t.values[0].length,rows:"rows"===this.Pa.dataOrder?t.values.length:t.values[0].length};let i="columns"===this.Pa.dataOrder?t.iColumn:t.iRow;const n=i+e.primary-1;let r="columns"===this.Pa.dataOrder?t.iRow:t.iColumn;const s=r+e.secondary-1,o=("columns"===this.Pa.dataOrder?this.Pa.columns:this.Pa.rows)-1,a=("columns"===this.Pa.dataOrder?this.Pa.rows:this.Pa.columns)-1;if(i<0||r<0||n>o||s>a){if(!0===this.gs._g.La){const i="SurfaceGridSeries3D.invalidateIntensityValues intensity matrix overflow.\n    Grid ".concat(this.Pa.columns,"x").concat(this.Pa.rows,", input ").concat(e.columns,"x").concat(e.rows," starting at [").concat(t.iColumn,",").concat(t.iRow,"].\n    Out of bounds data will be automatically clipped. This can result in sub-optimal performance.");jr.console.warn(i)}const l=Math.max(-i,0),h=Math.max(-r,0),c=Math.max(n-o,0),u=Math.max(s-a,0),d=e.primary-(l+c),f=[];if(0===h&&0===u)for(let e=0;e<d;e+=1)f[e]=t.values[l+e];else for(let e=0;e<d;e+=1)f[e]=t.values[l+e].slice(h,0===u?void 0:-u);if(0===f.length||0===f[0].length)return this;t={iColumn:t.iColumn,iRow:t.iRow,values:f},i=Math.max(i,0),r=Math.max(r,0)}this.Mu.hp({type:"intensity",lengthPrimary:t.values.length,lengthSecondary:t.values[0].length,startPrimary:i,startSecondary:r,values:t.values})}return this.qg.Rs(),this.lv=!0,this}invalidateHeightMap(t){if(this.lv&&this.gs.gi.Ta(_h.Do),Array.isArray(t)){if(0===t.length||0===t[0].length)return this;const e={x:t.length,y:t[0].length,columns:"columns"===this.Pa.dataOrder?t.length:t[0].length,rows:"rows"===this.Pa.dataOrder?t.length:t[0].length},i="columns"===this.Pa.dataOrder?this.Pa.columns:this.Pa.rows,n="columns"===this.Pa.dataOrder?this.Pa.rows:this.Pa.columns;if(e.x>i||e.y>n){if(!0===this.gs._g.La){const t="SurfaceGridSeries3D.invalidateHeightMap height matrix overflow.\n    Grid ".concat(this.Pa.columns,"x").concat(this.Pa.rows,", input ").concat(e.columns,"x").concat(e.rows,".\n    Excess data will be automatically clipped. This can result in sub-optimal performance.");jr.console.warn(t)}const r=[];for(let e=0;e<i;e+=1)r[e]=t[e].slice(0,n);t=r}this.Mu.rp({type:"y",lengthPrimary:t.length,lengthSecondary:t[0].length,startPrimary:0,startSecondary:0,values:t})}else if("iColumn"in t&&"iRow"in t&&"values"in t){if(0===t.values.length||0===t.values[0].length)return this;const e={primary:t.values.length,secondary:t.values[0].length,columns:"columns"===this.Pa.dataOrder?t.values.length:t.values[0].length,rows:"rows"===this.Pa.dataOrder?t.values.length:t.values[0].length};let i="columns"===this.Pa.dataOrder?t.iColumn:t.iRow;const n=i+e.primary-1;let r="columns"===this.Pa.dataOrder?t.iRow:t.iColumn;const s=r+e.secondary-1,o=("columns"===this.Pa.dataOrder?this.Pa.columns:this.Pa.rows)-1,a=("columns"===this.Pa.dataOrder?this.Pa.rows:this.Pa.columns)-1;if(i<0||r<0||n>o||s>a){if(!0===this.gs._g.La){const i="SurfaceGridSeries3D.invalidateHeightMap height matrix overflow.\n    Grid ".concat(this.Pa.columns,"x").concat(this.Pa.rows,", input ").concat(e.columns,"x").concat(e.rows," starting at [").concat(t.iColumn,",").concat(t.iRow,"].\n    Out of bounds data will be automatically clipped. This can result in sub-optimal performance.");jr.console.warn(i)}const l=Math.max(-i,0),h=Math.max(-r,0),c=Math.max(n-o,0),u=Math.max(s-a,0),d=e.primary-(l+c),f=[];if(0===h&&0===u)for(let e=0;e<d;e+=1)f[e]=t.values[l+e];else for(let e=0;e<d;e+=1)f[e]=t.values[l+e].slice(h,0===u?void 0:-u);if(0===f.length||0===f[0].length)return this;t={iColumn:t.iColumn,iRow:t.iRow,values:f},i=Math.max(i,0),r=Math.max(r,0)}this.Mu.rp({type:"y",lengthPrimary:t.values.length,lengthSecondary:t.values[0].length,startPrimary:i,startSecondary:r,values:t.values})}return this.qg.Rs(),this.lv=!0,this}setCullMode(t){return this.Mu.np("boolean"==typeof t?t?"cull-back":"disabled":t),this}getCullMode(){return this.Mu.op()}Hs(){return Rs(this.Je,this.Mu.wi())}rv(){}sh(){}nv(){}Av(){return this.Qg&&this.getVisible()}rh(t,e){t.Fi(e),this.qg.Rs()}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class Qd extends Td{constructor(t,e,i,n,r,s){super(t,e,i,r,s),this.zs="Surface Grid Series 3D",this.lv=!1,this.Xy={},this.L=new Er,this.gs.gi.Ta(_h.Do),this.Zg=_a;const o=void 0!==(null==n?void 0:n.automaticColorIndex)?n.automaticColorIndex:this.gs.getSeries().length;this.Je=Is(this.bi.surfaceScrollingGridSeries3DFillStyle,o),this.Zy=Is(this.bi.surfaceScrollingGridSeries3DWireframeStyle,o);const a={heatmapDataType:"intensity",scrollDimension:n.scrollDimension||"columns",columns:n.columns,rows:n.rows};this.Pa=a,this.Mu=this.qg.ap(a).th(this.Je).Jy(this.Zy).ev(this.Zg).Fi(this.getHighlight()),this.Cs(this.Mu),this.setHighlightOnHover(!1)}dv(){return this.lv}Ki(t,e,i){const n=null==t?void 0:t.dataPoint;if(n)return{cursorPosition:{resultTable:this.gs.translateCoordinate(e,this.gs.coordsRelative),resultTableScale:this.gs.Kf,axisLocation:n},...n,series:this,axisX:this.gs.getDefaultAxisX(),axisY:this.gs.getDefaultAxisY(),axisZ:this.gs.getDefaultAxisZ(),lut:fa(this.Je)?this.Je.lut:void 0}}Ky(){const t=this.Xy.start||{x:0,z:0};let e;e=this.Xy.step?this.Xy.step:{x:1,z:1},this.Mu.qy(t,e),this.gs.gi.Rs()}setStart(t){return this.Xy.start=t,this.Ky(),this}getStart(){return this.Mu.tp().start}setStep(t){return this.Xy.step=t,this.Ky(),this}getStep(){return this.Mu.tp().step}setFillStyle(t){return this.Je="function"==typeof t?t(this.Je):t,this.Mu.th(this.Je),this.qg.Rs(),this}getFillStyle(){return this.Je}setWireframeStyle(t){return this.Zy="function"==typeof t?t(this.Zy):t,this.Mu.Jy(this.Zy),this.qg.Rs(),this}getWireframeStyle(){return this.Mu.ip()}setIntensityInterpolation(t){return t=t||"disabled",this.Mu.sp(t),this.qg.Rs(),this}getIntensityInterpolation(){return this.Mu.ep()}clear(){return this.Mu.Ni(),this.qg.Rs(),this}addValues(t){if(!t)return this;let e=t.yValues,i=t.intensityValues;if(!e&&!i)return this;if(e&&0===e.length&&(e=void 0),i&&0===i.length&&(i=void 0),this.lv=!0,e){const t=e[0].length,i=0+t-1,n="columns"===this.Pa.scrollDimension?this.Pa.rows:this.Pa.columns;if(i>n-1){if(!0===this.gs._g.La){const e="SurfaceScrollingGridSeries3D.addValues input yValues overflow.\nGrid was created with ".concat(n," ").concat("columns"===this.Pa.scrollDimension?"rows":"columns",", input yValues have ").concat(t,".\nExcess data will be automatically clipped. This can result in sub-optimal performance.");jr.console.warn(e)}const i=[];for(let t=0;t<e.length;t+=1)i[t]=e[t].slice(0,n+1);e=i}}if(i){const t=i[0].length,e=0+t-1,n="columns"===this.Pa.scrollDimension?this.Pa.rows:this.Pa.columns;if(e>n-1){if(!0===this.gs._g.La){const e="SurfaceScrollingGridSeries3D.addValues intensityValues overflow.\nGrid was created with ".concat(n," ").concat("columns"===this.Pa.scrollDimension?"rows":"columns",", input intensityValues have ").concat(t,".\nExcess data will be automatically clipped. This can result in sub-optimal performance.");jr.console.warn(e)}const e=[];for(let t=0;t<i.length;t+=1)e[t]=i[t].slice(0,n+1);i=e}}if(e&&i){const t=e.length,n=i.length;if(t!==n){if(!0===this.gs._g.La){const e="SurfaceScrollingGridSeries3D.addValues input yValues and intensityValues size does not match.\nyValues: ".concat(t,"\nintensityValues: ").concat(n,"\nData will be automatically clipped according to the smaller supplied sample. This can result in sub-optimal performance.");jr.console.warn(e)}t>n?e=e.slice(0,n):i=i.slice(0,t)}}const n=e?e.length:null==i?void 0:i.length,r=e?e[0].length:null==i?void 0:i[0].length;return this.Mu.lp({startPrimary:0,startSecondary:0,lengthPrimary:n,lengthSecondary:r,heightMapValues:e,intensityValues:i}),this.qg.Rs(),this}invalidateValues(t){return this.Mu.hp(t),this.gs.gi.Rs(),this}getSampleCount(){return this.Mu.cp()}setCullMode(t){return this.Mu.np("boolean"==typeof t?t?"cull-back":"disabled":t),this}getCullMode(){return this.Mu.op()}Hs(){return Rs(this.Je,this.Mu.wi())}rv(){}sh(){}nv(){}Av(){return this.Qg&&this.getVisible()}rh(t,e){t.Fi(e),this.qg.Rs()}hh(){return{fill:this.Je}}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}const $d=t=>!!(t&&"object"==typeof t&&"id"in t&&"chart"in t&&t.chart instanceof vf),tf=t=>!!(t&&"object"==typeof t&&"x"in t&&"number"==typeof t.x&&"y"in t&&"number"==typeof t.y&&"z"in t&&"number"==typeof t.z),ef=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\s+/g;return Array.from(t.split(e).map(parseFloat))},nf=t=>{if(t.length<=3)return t;const e=new Array;for(let i=1;i<t.length-1;i+=1)e.push(t[0]),e.push(t[i]),e.push(t[i+1]);return e},rf=t=>{const e=t.split(/\s+/g);let i=[],n=[],r=[];for(const s of e){const t=ef(s.trim(),"/");i.push(t[0]),t.length>1&&!Number.isNaN(t[1])&&r.push(t[1]),t.length>2&&!Number.isNaN(t[2])&&n.push(t[2])}return i=nf(i),r=nf(r),n=nf(n),{vertexIndex:i,textureIndex:r||void 0,normalIndex:n||void 0}},sf={id:"",ambient:Vn(0,0,0,0),diffuse:Vn(254,204,0),emissive:Vn(0,0,0,0),specular:Vn(255,255,255),specularCoeff:1,opacity:1};class of extends Td{constructor(t,e,i,n,r,s){super(t,e,i,n,s),this.zs="Mesh Model 3D",this.up=new Float32Array,this.dp=new Float32Array,this.fp=new Uint16Array,this.oi={x:1,y:1,z:1},this.Ap={x:0,y:0,z:0},this.gp={x:0,y:0,z:0},this.vp={x:0,y:0,z:0},this.yp={w:1,x:0,y:0,z:0},this.pp={x:0,y:0,z:0},this.mp=new Array,this.Sp=[],this.rc=ao,this.L=new Er;const o=void 0!==(null==r?void 0:r.automaticColorIndex)?r.automaticColorIndex:this.gs.getSeries().length;this.Mu=this.qg.bp().hv(this.Kg).th(Is(this.bi.meshModel3DFillStyle||this.bi.pointSeriesFillStyle,o)).Fi(this.getHighlight()),this.Cs(this.Mu)}dv(){return this.up.length>0}Ki(t,e,i){const n=this.getFillStyle();return Ks({series:this,axisX:this.gs.getDefaultAxisX(),axisY:this.gs.getDefaultAxisY(),axisZ:this.gs.getDefaultAxisZ(),lut:fa(n)?n.lut:void 0},{cursorPosition:0,index:0,x:0,y:0,z:0,value:0,coordAxis:0,coordModel:0},(()=>{const i=this.Mu.xp(t,e);if(i)return{cursorPosition:{resultTable:this.gs.translateCoordinate(e,this.gs.coordsRelative),resultTableScale:this.gs.Kf,axisLocation:i.coordAxis},...i.coordAxis,index:i.index,value:i.value,coordAxis:i.coordAxis,coordModel:i.coordModel,series:this,axisX:this.gs.getDefaultAxisX(),axisY:this.gs.getDefaultAxisY(),axisZ:this.gs.getDefaultAxisZ(),lut:fa(n)?n.lut:void 0}}))}setModelGeometry(t){const{indices:e,vertices:i,normals:n}=t;let r=so,s=ro,o=so,a=ro,l=so,h=ro;for(let d=0;d<i.length;d+=3){const t=i[d],e=i[d+1],n=i[d+2];r=Math.max(r,t),s=Math.min(s,t),o=Math.max(o,e),a=Math.min(a,e),l=Math.max(l,n),h=Math.min(h,n)}this.rc={min:{x:s,y:a,z:h},max:{x:r,y:o,z:l}};for(let d=0;d<i.length;d+=3)i[d]-=this.rc.min.x,i[d+1]-=this.rc.min.y,i[d+2]-=this.rc.min.z;this.pp={x:this.rc.max.x-this.rc.min.x,y:this.rc.max.y-this.rc.min.y,z:this.rc.max.z-this.rc.min.z},this.up=i instanceof Float32Array?i:new Float32Array(i),this.checkedNormals=n&&!Number.isNaN(n[0])?n instanceof Float32Array?n:new Float32Array(n):void 0,this.checkedNormals||this.setColorShadingStyle(_a);const c=new Array,u={indexStart:0,count:e.length,useIndexBuffer:!0,offset:0,material:{id:sf.id,diffuse:sf.diffuse,specular:sf.specular,ambient:sf.ambient,emissive:sf.emissive,specularCoeff:sf.specularCoeff,opacity:1}};return c.push(u),this.Sp=c,this.Mu.Mp({vertices:this.up,normals:this.checkedNormals,indices:e instanceof Uint32Array||e instanceof Uint16Array?e:new Uint16Array(e),modelSize:this.pp,parts:this.Sp}),this.gs.gi.Rs(),this}wp(t){if(!t)return this;this.mp=[];let e={id:sf.id,diffuse:sf.diffuse,specular:sf.specular,ambient:sf.ambient,emissive:sf.emissive,specularCoeff:sf.specularCoeff,opacity:1};const i=t.split("\n");for(let n of i){if(n=n.trim(),""===n||n.startsWith("#"))continue;const t=n.split(/\s+/g);switch(t[0].trim().toLowerCase()){case"ka":{const t=ef(n.substring(2).trim()).map((t=>255*t));e.ambient=Vn(t[0],t[1],t[2])}break;case"ke":{const t=ef(n.substring(2).trim()).map((t=>255*t));e.emissive=Vn(t[0],t[1],t[2])}break;case"kd":{const t=ef(n.substring(2).trim()).map((t=>255*t));e.diffuse=Vn(t[0],t[1],t[2])}break;case"ks":{const t=ef(n.substring(2).trim()).map((t=>255*t));e.specular=Vn(t[0],t[1],t[2])}break;case"d":e.opacity=parseFloat(t[1].trim());break;case"tr":e.opacity=1-parseFloat(t[1].trim());break;case"newmtl":e.diffuse=Vn(255*e.diffuse.r,255*e.diffuse.g,255*e.diffuse.b,255*e.opacity),e.specular=Vn(255*e.specular.r,255*e.specular.g,255*e.specular.b,255*e.opacity),e.emissive=Vn(255*e.emissive.r,255*e.emissive.g,255*e.emissive.b,255*e.opacity),e={id:t[1],diffuse:sf.diffuse,specular:sf.specular,ambient:sf.ambient,emissive:sf.emissive,specularCoeff:sf.specularCoeff,opacity:sf.opacity},this.mp.push(e)}}return this}setModelMaterial(t){return t?(this.wp(t),this.setFillStyle(na),this.Sp?(this.Sp.forEach((t=>{const e=this.mp.find((e=>e.id.toLowerCase()===t.material.id.toLowerCase()));e&&(t.material=e)})),this.Sp.sort(((t,e)=>e.material.opacity-t.material.opacity)),this.gs.gi.Rs(),this):this):this}setModelFromObj(t){if(!t)return this;const e=new Array,i=new Array,n=new Array,r=new Array,s=new Array,o=new Array,a=new Array;let l={indexStart:0,count:0,offset:0,useIndexBuffer:!1,material:{id:sf.id,diffuse:sf.diffuse,specular:sf.specular,ambient:sf.ambient,emissive:sf.emissive,specularCoeff:sf.specularCoeff,opacity:sf.opacity}},h=0,c=0,u=0,d=0,f=0,g=0,p=0,m=so,y=ro,v=so,x=ro,b=so,S=ro;const A=t.replace(/\r/g,"").split("\n");for(let E of A){if(E=E.trim(),""===E||E.startsWith("#"))continue;const t=E.split(/\s+/g);let A=0;switch(t[0].trim().toLowerCase()){case"v":{const t=ef(E.substring(1).trim()),i=t[0],n=t[1],r=t[2];m=Math.max(m,i),y=Math.min(y,i),v=Math.max(v,n),x=Math.min(x,n),b=Math.max(b,r),S=Math.min(S,r),e.push(...t.slice(0,3)),h+=1,d=h}break;case"vt":{const t=ef(E.substring(2).trim());i.push(...t),c+=1,f=c}break;case"vn":{const t=ef(E.substring(2).trim());n.push(...t),u+=1,g=u}break;case"usemtl":{const e=this.mp.find((e=>e.id.toLowerCase()===t[1].toLowerCase()));p+=a.length>0?l.count:0,l={indexStart:void 0!==l?3*p*2:0,count:0,offset:void 0!==l?1*p:0,useIndexBuffer:!1,material:e||{id:t[1].toLowerCase(),diffuse:sf.diffuse,specular:sf.specular,ambient:sf.ambient,emissive:sf.emissive,specularCoeff:1,opacity:1}},a.push(l)}break;case"fo":A+=1;case"f":A+=1;{const t=rf(E.substring(A).trim());for(let i=0;i<t.vertexIndex.length;i+=1){let n=t.vertexIndex[i];n<0?n+=d:n-=1,n*=3,r.push(e[n]),r.push(e[n+1]),r.push(e[n+2])}if(l.count+=t.vertexIndex.length,t.textureIndex)for(let e=0;e<t.textureIndex.length;e+=1){let n=t.textureIndex[e];n<0?n+=f:n-=1,n*=3,o.push(i[n]),o.push(i[n+1]),o.push(i[n+2])}if(t.normalIndex)for(let e=0;e<t.normalIndex.length;e+=1){let i=t.normalIndex[e];i<0?i+=g:i-=1,i*=3,s.push(n[i]),s.push(n[i+1]),s.push(n[i+2])}}}}this.rc={min:{x:y,y:x,z:S},max:{x:m,y:v,z:b}};for(let E=0;E<r.length;E+=3)r[E]-=this.rc.min.x,r[E+1]-=this.rc.min.y,r[E+2]-=this.rc.min.z;if(this.pp={x:this.rc.max.x-this.rc.min.x,y:this.rc.max.y-this.rc.min.y,z:this.rc.max.z-this.rc.min.z},a.length<1&&r.length>0&&(l.count=r.length/3,a.push(l)),this.Sp=a,this.up=new Float32Array(r),s.length<1)for(let E=0;E<r.length/9;E+=1){const t={x:r[9*E],y:r[9*E+1],z:r[9*E+2]},e={x:r[9*E+3],y:r[9*E+4],z:r[9*E+5]},i={x:r[9*E+6],y:r[9*E+7],z:r[9*E+8]},n=no.normalize(no.cross(no.subtractVec(t,e),no.subtractVec(t,i)));for(let r=0;r<3;r+=1)s.push(n.x),s.push(n.y),s.push(n.z)}return this.dp=new Float32Array(s.map(((t,e)=>s[e]))),this.checkedNormals=new Float32Array,this.mp&&this.Sp.sort(((t,e)=>e.material.opacity-t.material.opacity)),this.Mu.Mp({vertices:this.up,normals:this.dp,indices:this.fp,modelSize:this.pp,parts:this.Sp}),this.gs.gi.Rs(),this}setVertexValues(t){return this.Mu._p(t),this.gs.gi.Rs(),this}setScale(t){const e={x:"number"==typeof t?t:(null==t?void 0:t.x)||1,y:"number"==typeof t?t:(null==t?void 0:t.y)||1,z:"number"==typeof t?t:(null==t?void 0:t.z)||1};return this.oi=e,this.Mu.kp(e),this.gs.gi.Rs(),this}getScale(){return this.oi}setModelLocation(t){return this.gp=t,this.Mu.Cp(t),this.gs.gi.Rs(),this}getModelLocation(){return this.gp}setModelAlignment(t){return this.Ap=t,this.Mu.Tp(t),this.gs.gi.Rs(),this}getModelAlignment(){return this.Ap}setModelRotation(t){return this.setModelRotationEuler(t)}getModelRotation(){return this.vp}setModelRotationEuler(t){const e={x:No(t.x),y:No(t.y),z:No(t.z)};return this.vp=e,this.Mu.Fp(this.vp),this.gs.gi.Rs(),this}getModelRotationEuler(){return this.vp}setModelRotationQuaternion(t){return this.yp=t,this.Mu.Ip(this.yp),this.gs.gi.Rs(),this}getModelRotationQuaternion(){return this.yp}setBackfaceCullingMode(t){return this.Mu.Pp(t),this.gs.gi.Rs(),this}getBackfaceCullingMode(){return this.Mu.Lp()}setFillStyle(t){return this.Mu.th(t),this.gs.gi.Rs(),this}getFillStyle(){return this.Mu.Sr()}setColorShadingStyle(t){return this.checkedNormals||t!==Oa?super.setColorShadingStyle(t):(console.warn("Phong shading style is not supported without normals. Switching to Simple shading style."),super.setColorShadingStyle(new Ha))}Av(){return!1}rh(t,e){t.Fi(e),this.gs.gi.Rs()}Hs(){return Rs(this.getFillStyle(),this.Mu.wi())}hh(){return{fill:this.getFillStyle()}}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}const af={None:class extends jh{Un(t){return this.size=t,this}Yn(){return 0}jn(){return 0}Wn(){return 0}Hn(){return 0}setHighlight(t){return this}getHighlight(){return 0}setFillStyle(){return this}getFillStyle(){return na}setStrokeStyle(){return this}getStrokeStyle(){return Br}setStrokeThickness(){return this}getStrokeThickness(){return 0}},Rectangle:Oc,Circle:class extends Ac{constructor(t,e,i,n,r){super(t,e,i,n,r),this.Sd=En(0,0),this.Mu=t.bd(e).Qc(0).yh(360).th(na).qe(Br),this.L.Vi(this.Mu)}zn(){return[this.Mu]}setFillStyle(t){return this.Mu.th(t),this.Zs.Rs(),this}getFillStyle(){return this.Mu.Sr()}setStrokeStyle(t){return this.Mu.qe(t),this.Zs.Rs(),this}getStrokeStyle(){return this.Mu.Wa()}sh(){void 0!==this.$n&&this.Mu.el(this.$n);const t=this.getSize(Vr.Content).x/2;return this.Mu.qc(t*this.renderingScale.ri().x).tu(t*this.renderingScale.ri().y).eh(hr(this.getPosition(En(0,0),Vr.Content),this.scale,this.renderingScale)).su(255).zr(),this}Un(t){const e=Math.sqrt(t.x*t.x/4+t.y*t.y/4);return this.setContentSize(En(2*e,2*e)),this.Sd=t,this.Zs.Rs(),this}Yn(){return(this.getSize(Vr.Content).x-this.Sd.x)/2}jn(){return(this.getSize(Vr.Content).x-this.Sd.x)/2}Wn(){return(this.getSize(Vr.Content).y-this.Sd.y)/2}Hn(){return(this.getSize(Vr.Content).y-this.Sd.y)/2}fitTo(t){const e=Math.min(t.x,t.y);return this.setContentSize(En(e,e)),this.Sd=t,this}},Diamond:class extends Ec{constructor(t,e,i,n,r){super(t,e,i,pc.Simple,n,r),this.xd=Fn(En(0,0)),this.Md=!1,this._u()}ku(){const t=this.xd.C();if(this.Md){const e=Math.min(t.x,t.y);return[En(0,0),En(e/2,e/2),En(0,e),En(-e/2,e/2)]}const e=2*Math.sqrt(this.xd.C().x*this.xd.C().x/4+this.xd.C().y*this.xd.C().y/4),i=En(Math.cos(Math.PI/4)*e,0),n=En(0,Math.sin(Math.PI/4)*e),r=En(0,0),s=Ro(r,Ro(i,n)),o=Ro(s,Ro(n,Lo(i,-1)));return[r,s,o,Bo(o,Ro(i,n))]}zn(){return[this.Mu]}setFillStyle(t){return this.Mu.th(t),this.Zs.Rs(),this}getFillStyle(){return this.Mu.Sr()}setStrokeStyle(t){return this.Mu.qe(t),this.Zs.Rs(),this}getStrokeStyle(){return this.Mu.Wa()}Un(t){return this.xd._(t),this.Md=!1,this.Zs.Rs(),this}Yn(){return this.Md?0:(this.getSize(Vr.Content).x-this.xd.C().x)/2}jn(){return this.Md?0:(this.getSize(Vr.Content).x-this.xd.C().x)/2}Wn(){return this.Md?0:(this.getSize(Vr.Content).y-this.xd.C().y)/2}Hn(){return this.Md?0:(this.getSize(Vr.Content).y-this.xd.C().y)/2}fitTo(t){return this.xd._(t),this.Md=!0,this.Zs.Rs(),this}},Pointer:Hc};class lf extends qc{constructor(t,e,i,n,r,s){super(t,e,i,n,r,s),this.Qn=this.bi.cursorResultTableTextFont,this.hf=0,this.Sv=this.bi.cursorResultTableTextFillStyle,this.$n=100,this.Qh=Ta.CursorResultTable}setContent(t){var e;let i;void 0===t?i=[]:Array.isArray(t)?(i=[],t.forEach((t=>{i.push(Array.isArray(t)?t:[t])}))):i=[[t]];for(let o=0;o<i.length;o+=1){const t=i[o];let e=!1;for(let i=0;i<t.length;i+=1){const n=t[i],r="object"==typeof n&&"text"in n?n.text:"string"==typeof n?n:void 0,s="object"==typeof n&&"icon"in n?n.icon:ll(n)?n:void 0,o=n instanceof Pa&&n;if(!(r&&r.length>0||s||o)){e=!0;break}}e||(t.unshift(""),t.push(""))}const n=i.length;let r=this.getMembers().length;for(let o=0;o<Math.max(n,r);o+=1){const t=this.getRow(o,!0);if(o>=n)this.getMembers()[o].dispose(),o-=1,r-=1;else{const r=i[o].length;let a=t.getMembers().length;for(let l=0;l<Math.max(r,a);l+=1){const h=i[o][l],c="object"==typeof h&&"font"in h?h.font:void 0,u="object"==typeof h&&"fillStyle"in h?h.fillStyle:void 0,d="object"==typeof h&&"text"in h?h.text:"string"==typeof h?h:void 0,f="object"==typeof h&&"icon"in h?h.icon:ll(h)?h:void 0,g=h instanceof Pa&&h||("object"==typeof h&&"component"in h?h.component:void 0),p="object"==typeof h&&"componentColor"in h&&h.componentColor,m="object"==typeof h&&"componentFillStyle"in h&&h.componentFillStyle,y="object"==typeof h&&"rowFillStyle"in h?h.rowFillStyle:void 0,v=t.getMembers();if(l>=r)t.getMembers()[l].dispose(),l-=1,a-=1;else if(void 0!==d&&d.length>0||f||g){const i=c?this.Qn.withMutations((t=>{for(const e of Object.keys(c)){const i=c[e];void 0!==i&&t.set(e,i)}return t})):this.Qn,r=u||this.Sv,a=v[l];if(d){let e;a&&a instanceof _c?e=a:(a&&a.dispose(),e=t.addElement(Nc,l)),e.setText(d).setFont(i).setFillStyle(r).setTextRotation(this.hf)}else if(f){let n;a&&a instanceof Uc?n=a:(a&&a.dispose(),n=t.addElement(Yc,l)),n.setFillStyle(r).setShape(f).setSize({y:i.size,x:i.size}),n.setMargin(null!==(e=this.bi.uiTextPadding)&&void 0!==e?e:5)}else if(g){let e;a&&"setTextFillStyleHidden"in(s=a)&&"setText"in s?e=a:(a&&a.dispose(),e=t.addElement(au.setBackground(af.None),l).setOn(!0));const n=g.Ws();void 0!==n&&e.setButtonShape(n),e.setText(g.getName()).setTextFont(i).setTextFillStyle(r).setTextRotation(this.hf),p?e.setButtonOnFillStyle(new aa({color:p})):m?e.setButtonOnFillStyle(m):e.setButtonOnFillStyle(Ls(g.gs.getTheme(),!1,g.hh()))}y&&t.setBackground((t=>{t.setFillStyle(y);const e=this.getBackground();La(e)&&t instanceof Oc&&t.setCornerRadius(e.getCornerRadius(),{topLeft:0===o,topRight:0===o,bottomLeft:o===n-1,bottomRight:o===n-1})}))}else{const e=v[l];e&&e instanceof Gc||(e&&e.dispose(),t.addGap(void 0,l))}}}}var s;return this.Zs.Rs(),this}sh(){if(super.sh(),this.Zs.gi.vu&&this.getVisible()){const t=Ih(this);this.Zs.gi.vu.wA({...t,blacklist:[Ta.CursorResultTable]})}return this}setTextFillStyle(t){this.Sv="function"==typeof t?t(this.Sv):t;for(let e=0;e<this.getMemberCount();e+=1){const t=this.getRow(e);for(let e=0;e<t.getMembers().length;e+=1){const i=t.getMembers()[e];i instanceof _c&&i.setFillStyle(this.Sv)}}return this.Zs.Rs(),this}getTextFillStyle(){return this.Sv}setTextFont(t){return Ga(t)?this.Qn=t:this.Qn=t(this.Qn),this.Zs.Rs(),this}getTextFont(){return this.Qn}setTextRotation(t){return this.hf=t,this.Zs.Rs(),this}getTextRotation(){return this.hf}Bp(){for(let t=0;t<this.Ud.length;t+=1)for(let e=0;e<this.Ud[t].getMembers().length;e+=1)this.Ud[t].getMembers()[e].dispose()}zr(){for(let t=0;t<this.Ud.length;t+=1)this.Ud[t].setMinimumSize(void 0);super.zr();for(let t=0;t<this.Ud.length;t+=1)this.Ud[t].setMinimumSize(this.size.x);return super.zr(),this}}class hf{constructor(t,e,i,n,r,s){this.Dp=[],this.Rp=!0,this.Ep=!0,this.Sg=!1,this.ui=!0,this.ci=!1,this.Op=[],this.zp=!0,this.L=new Er,this.Zs=t,this.renderingScale=e,this.scale=i,this.Vp=n,this.Np=r,this.bi=s,this.Gp=new lf(this.Zs,this.renderingScale,this.scale,this.Np,Jr,s).setPointerEvents(!1).setBackground((t=>t.setFillStyle(s.cursorResultTableFillStyle).setStrokeStyle(s.cursorResultTableStrokeStyle))).setTextFillStyle(s.cursorResultTableTextFillStyle).setTextFont(s.cursorResultTableTextFont),this.$p=new uf((t=>this.Gp.setOrigin(t)),(()=>this.Gp.getOrigin())),this.Yp=new uf((t=>this.Gp.setPosition(t)),(()=>this.Gp.getPosition()))}isDisposed(){return this.ci}setPointMarkerVisible(t){return this.Rp=t,this.Dp.forEach((e=>e.pointMarker.setVisible(e.targetVisible&&t))),this.Zs.Rs(),this}getPointMarkerVisible(){return this.Rp}setPointMarker(t){return this.Dp.forEach((e=>t(e.pointMarker))),this.Op.push(t),this.Zs.Rs(),this}setResultTableVisible(t){return this.Ep=t,this.Zs.Rs(),this}getResultTableVisible(){return this.Ep}setResultTable(t){return t(this.Gp),this.Zs.Rs(),this}setAutoFit(t){return this.zp=t,this.$p.resetValue(),this.Yp.resetValue(),this.Zs.Rs(),this}getAutoFit(){return this.zp}setVisible(t){return this.ui=t,this.Zs.Rs(),this}getVisible(){return this.ui}dispose(){return this.Dp.forEach((t=>t.pointMarker.dispose())),this.Gp.dispose(),this.Op.length=0,this.Vp(this),this.L.D("dispose",{}),this}jp(){const t=this.Gp,e=this.Zs.gi.oi,i=hr(t.getPosition(En(-1,-1),Vr.PaddedBackground),t.scale,e),n=hr(t.getPosition(En(1,1),Vr.PaddedBackground),t.scale,e),r=i.x<e.x.getInnerStart()||n.x>e.x.getInnerEnd(),s=i.y<e.y.getInnerStart()||n.y>e.y.getInnerEnd();return{x:r,y:s,either:r||s}}sh(){if(this.ui&&((this.$p.isAltered()||this.Yp.isAltered())&&(this.$p.resetValue(),this.Yp.resetValue(),this.Gp.zr()),this.zp&&this.jp().either)){const t=this.Gp.Zs.gi.oi;let e=hr(this.Gp.getPosition(En(-1,-1),Vr.PaddedBackground),this.Gp.scale,t),i=hr(this.Gp.getPosition(En(1,1),Vr.PaddedBackground),this.Gp.scale,t);const n={x:{min:Math.min(t.x.getInnerStart(),t.x.getInnerEnd()),max:Math.max(t.x.getInnerStart(),t.x.getInnerEnd())},y:{min:Math.min(t.y.getInnerStart(),t.y.getInnerEnd()),max:Math.max(t.y.getInnerStart(),t.y.getInnerEnd())}},r=this.Gp.getOrigin();let s={x:0,y:0},o={...r};if(i.y>n.y.max?s.y=n.y.max-i.y:e.y<n.y.min&&(s.y=n.y.min-e.y),(i.x>n.x.max||e.x<n.x.min)&&(o.x*=-1),0!==s.x||0!==s.y||o.x!==r.x||o.y!==r.y){const r=this.Gp.getPosition();let a=this.Gp.scale.Jt(r,s);this.Yp.alter(a),this.$p.alter(o),this.Gp.zr(),this.jp().x&&(e=hr(this.Gp.getPosition(En(-1,-1),Vr.PaddedBackground),this.Gp.scale,t),i=hr(this.Gp.getPosition(En(1,1),Vr.PaddedBackground),this.Gp.scale,t),i.x>n.x.max?s.x=n.x.max-i.x:e.x<n.x.min&&(s.x=n.x.min-e.x),a=this.Gp.scale.Jt(r,s),this.Yp.alter(a),this.Gp.zr())}}return this.Dp.forEach((t=>t.pointMarker.setVisible(t.targetVisible&&this.Sg&&this.ui&&this.Rp))),this.Dp.forEach((t=>t.pointMarker.sh())),this.Gp.sh(),this}zr(){return this.Gp.setVisible(this.Sg&&this.ui&&this.Ep),this.Dp.forEach((t=>t.pointMarker.zr())),this.Gp.zr(),this}Hp(t,e){const i=e===this.scale?t:hr(t,e,this.scale);this.Gp.setPosition(i)}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}const cf=(t,e)=>t.setResultTable((t=>t.setEffect(!0).setOrigin(En(-1,-1)).setMargin(.5*e.cursorPointMarkerSize.x+2).setBackground((t=>{e.cursorResultTableBorderRadius&&La(t)&&t.setCornerRadius(e.cursorResultTableBorderRadius)}))));class uf{constructor(t,e){this.Wp=t,this.Xp=e}alter(t){this.Zp=void 0!==this.Zp?this.Zp:this.Xp(),this.Jp=t,this.Wp(t)}resetValue(){void 0!==this.Jp&&(void 0!==this.Zp&&this.isAltered()&&this.Wp(this.Zp),this.Zp=void 0,this.Jp=void 0)}getNormalValue(){return void 0!==this.Zp?this.Zp:this.Xp()}isAltered(){return void 0!==this.Jp&&this.Xp()===this.Jp}}class df extends hf{constructor(t,e,i,n,r,s,o){super(t,e,i,n,r,s),this.chart=o,this.Qp=this.chart.getDefaultAxisX().addCustomTick().setVisible(!1).setGridStrokeStyle(s.cursor3DGridStrokeStyleX).setTickStyle(s.cursor3DTickStrokeStyleX).setTextFillStyle(s.cursor3DTickLabelFillStyleX).setTextFont(s.cursor3DTickLabelFontX).setBackgroundFillStyle(s.cursor3DTickLabelBackgroundFillStyleX).setBackgroundStrokeStyle(s.cursor3DTickLabelBackgroundStrokeStyleX).setPadding(s.cursor3DTickLabelPaddingX),this.Kp=this.chart.getDefaultAxisY().addCustomTick().setVisible(!1).setGridStrokeStyle(s.cursor3DGridStrokeStyleY).setTickStyle(s.cursor3DTickStrokeStyleY).setTextFillStyle(s.cursor3DTickLabelFillStyleY).setTextFont(s.cursor3DTickLabelFontY).setBackgroundFillStyle(s.cursor3DTickLabelBackgroundFillStyleY).setBackgroundStrokeStyle(s.cursor3DTickLabelBackgroundStrokeStyleY).setPadding(s.cursor3DTickLabelPaddingY),this.qp=this.chart.getDefaultAxisZ().addCustomTick().setVisible(!1).setGridStrokeStyle(s.cursor3DGridStrokeStyleZ).setTickStyle(s.cursor3DTickStrokeStyleZ).setTextFillStyle(s.cursor3DTickLabelFillStyleZ).setTextFont(s.cursor3DTickLabelFontZ).setBackgroundFillStyle(s.cursor3DTickLabelBackgroundFillStyleZ).setBackgroundStrokeStyle(s.cursor3DTickLabelBackgroundStrokeStyleZ).setPadding(s.cursor3DTickLabelPaddingZ),this.Qp.Qh=Ta.CursorTickMarker,this.Kp.Qh=Ta.CursorTickMarker,this.qp.Qh=Ta.CursorTickMarker}setTickX(t){return t(this.Qp),this.chart.gi.Rs(),this}setTickY(t){return t(this.Kp),this.chart.gi.Rs(),this}setTickZ(t){return t(this.qp),this.chart.gi.Rs(),this}setTicks(t){return t(this.Qp),t(this.Kp),t(this.qp),this.chart.gi.Rs(),this}dispose(){return super.dispose(),this.Qp.dispose(),this.Kp.dispose(),this.qp.dispose(),this}sh(){return this.Qp.setVisible(this.ui&&this.Sg),this.Kp.setVisible(this.ui&&this.Sg),this.qp.setVisible(this.ui&&this.Sg),super.sh()}setPosition(){if(0===arguments.length)return this;const t=arguments.length<=0?void 0:arguments[0];this.Sg=!0;const e=this.renderingScale,i=cd(t.resultTableScale,e),n=i===this.scale?t.resultTable:hr(t.resultTable,i,this.scale);this.Gp.setPosition(n),this.Qp.setValue(t.axisLocation.x),this.Kp.setValue(t.axisLocation.y),this.qp.setValue(t.axisLocation.z);let r=this.Dp[0];if(!r){const t=new Uc(this.Zs,this.renderingScale,this.scale,Jr,this.bi).setPointerEvents(!1).setFillStyle(this.bi.cursorPointMarkerFillStyle).setStrokeStyle(this.bi.cursorPointMarkerStrokeStyle).setSize(this.bi.cursorPointMarkerSize).setShape(this.bi.cursorPointMarkerShape);r={pointMarker:t,targetVisible:!0},this.Dp.push(r),this.Op.forEach((e=>e(t)))}return t.pointMarkerShape&&r.pointMarker.setShape(t.pointMarkerShape),t.pointMarkerSize&&r.pointMarker.setSize(t.pointMarkerSize),t.pointMarkerFillStyle&&r.pointMarker.setFillStyle(t.pointMarkerFillStyle),t.pointMarkerStrokeStyle&&r.pointMarker.setStrokeStyle(t.pointMarkerStrokeStyle),r.pointMarker.setPosition(n),this.chart.gi.Rs(),this}}class ff{constructor(t,e){this.tm=[],this.im=(t,e)=>(this.tm.forEach((i=>i(t,e))),t),this.addStyler=t=>new ff(this.Np,this.tm.map((t=>t)).concat(t)),this.setResultTableBackground=t=>new ff(t,this.tm.map((t=>t))),this.sm=(t,e,i,n,r,s)=>this.im(new df(t,e,i,n,this.Np,r,s),r),this.Np=t,this.tm=e}}const gf=new ff(Oc,[(t,e)=>{cf(t,e)}]),pf=(t,e,i,n)=>{t.background.addEventListener(e,i,n),t.seriesBackground.addEventListener(e,i,n),t.getSeries().forEach((t=>t.addEventListener(e,i,n)));const r=t=>t.series.addEventListener(e,i,n);return t.addEventListener("seriesadd",r),()=>{t.background.removeEventListener(e,i),t.seriesBackground.removeEventListener(e,i),t.getSeries().forEach((t=>t.removeEventListener(e,i))),t.removeEventListener("seriesadd",r)}},mf=(t,e,i,n)=>{var r,s,o,a,l,h;io(),e.camera&&i.hm(),e.x&&t.axisX.fit(null!==(r=e.animationsEnabled)&&void 0!==r?r:void 0,null!==(s=e.stopScroll)&&void 0!==s?s:void 0),e.y&&t.axisY.fit(null!==(o=e.animationsEnabled)&&void 0!==o?o:void 0,null!==(a=e.stopScroll)&&void 0!==a?a:void 0),e.z&&t.axisZ.fit(null!==(l=e.animationsEnabled)&&void 0!==l?l:void 0,null!==(h=e.stopScroll)&&void 0!==h?h:void 0);const c=t.engine.setMouseStyle(Yl.ZoomOut);jr.setTimeout((()=>{t.engine.restoreMouseStyle(c)}),500);const u=e.on;u&&jr.requestAnimationFrame((()=>u({event:n})))},yf=(t,e,i,n)=>{io(),t.restorePreviousZoomState();const r=e.on;r&&jr.requestAnimationFrame((()=>r({event:n})))};class vf extends Xd{constructor(t,e,i,n,r,s,o){var a,l;super(t,e,i,e.Vg("chart3D bg",0),n,e.gi.bi.chart3DBackgroundFillStyle,e.gi.bi.chart3DBackgroundStrokeStyle,e.gi.bi.chart3DTitleFont,e.gi.bi.chart3DTitleFillStyle,e.gi.bi.chart3DTitleShadow,s,null===(a=null==o?void 0:o.legend)||void 0===a?void 0:a.customLegend),this.rm=1,this.nm=[],this.om=2,this.am=!0,this.lm=!0,this.um=!0,this.dm=0,this.coordsAxis={id:"axes",chart:this},this.coordsWorld={id:"world",chart:this},this.oa=[],this.fm=[],this.Am=!1,this.gm=()=>{if(this.ci)return;const t=new Map;this.forEachAxis((e=>{void 0!==e.cA().find((t=>t.dv()))&&t.set(e,{...e.getInterval(),stopped:e.getStopped()})})),t.size<=0||(this.fm.push(t),this.fm.length>100&&this.fm.shift())},this.ya=()=>{const t=this.qg.vm();this.pm.ym(t),this.Sm.ym(t);const e=this.bm.viewportChanged(this.xm());e&&this.Mm(e),this.gi.Rs()},this.L=new Er,this.gi.Ta(_h.ko),this.Hh.Kr("Chart3D"),this.wm=i.d3(),this.wm.x.H(-1,1),this.wm.y.H(-1,1),this.wm.z.H(-1,1),this.qg=e._m("chart3D layer3D",0,this.wm),this.pm=e.km("chart3D series bg",0),this.Sm=e.Cm("chart3D axis ui",1),this.Tm={x:new Id(this,(l=()=>this.ny,{..._d(l,(t=>t.getXMin()),(t=>t.getXMax()),(t=>t.fn().x)),Tv:t=>t.x,Hv:(t,e)=>({x:t.x,y:e.y,z:e.z}),qd:Cn(0,-1,0),Nv:t=>{const e={x:t.x>=0?1:-1,y:t.y>=0?1:-1,z:t.z>=0?1:-1};return{gridlinePositionA:Cn(0,e.y,e.z),gridlinePositionB:Cn(0,e.y,-e.z),gridlinePositionC:Cn(0,-e.y,-e.z)}},Xv:()=>!0,Zv:()=>!1,jv:()=>!1}),this.wm.x,this.bi,this.qg,this.Sm,this.Kf,!1,this.Ss),y:new Id(this,Nd((()=>this.ny)),this.wm.y,this.bi,this.qg,this.Sm,this.Kf,!1,this.Ss),z:new Id(this,Od((()=>this.ny)),this.wm.z,this.bi,this.qg,this.Sm,this.Kf,!1,this.Ss)},this.Fm=this.qg.Dv([Ld.InternalUI]).setPointerEvents(!1),this.setBoundingBoxStrokeStyle(this.bi.chart3DBoundingBoxStrokeStyle),this.gy=this.pm.wu(this.gi.oi,pc.Simple).th(this.bi.chart3DSeriesBackgroundFillStyle).qe(Br).setPointerEvents(!0),this.vy=this.pm.wu(this.gi.oi,pc.Simple).th(na).qe(this.bi.chart3DSeriesBackgroundStrokeStyle).setPointerEvents(!1),super.Ay(this.gy,this.vy),this.Im({x:1,y:1,z:1},!0),this.bm=new Zd(this.gi.oi,this.Kf,this.wm,((t,e)=>(e&&this.Mm(e),this.qg.Gv(t)))),this.Pm=this.bm.getDefaultCameraConfiguration(this.Lm(this.Bm),this.getProjection()),this.Mm(this.Pm);const h=ts(o?o.cursorBuilder:void 0,gf),c=e.Dm();this.Rm=vy(this,c,h.sm(c,this.Kf,this.Kf,Jr,this.bi,this),this,"show-pointed",xf,(()=>0)),this.setAnimationsEnabled(!1!==(null==o?void 0:o.animationsEnabled)),this.addEventListener("resize",this.ya),this.ya(),this.zg(r,this.Kf),this.Em=(t=>{let e=!1,i=!1,n=!1;const r=(t=>{let e=!0,i=t.getCameraLocation(),n=t.getCameraAutomaticFittingEnabled();return{Om:()=>{e&&(i=t.getCameraLocation(),n=t.getCameraAutomaticFittingEnabled()),e=!1},hm:()=>{t.setCameraLocation(i).setCameraAutomaticFittingEnabled(n),e=!0}}})(t);let s={};const o=()=>Yr({rotate:{drag:{},ctrl:{drag:!1},shift:{drag:!1},alt:{drag:!1}},zoom:{wheel:{},camera:!0,mode:"centered",pinch:{camera:!1,x:!0,y:!0,z:!0}},restoreDefault:{doubleClick:!0,camera:!0,x:!0,y:!0,z:!0},restorePrevious:!1},s),a=s=>{const a=o();let l=!1,h=!1,c=!1;for(const t of Object.keys(a)){const e=a[t];"object"==typeof e&&(void 0!==e.ctrl&&(l=!0),void 0!==e.shift&&(h=!0),void 0!==e.alt&&(c=!0))}i=s.ctrlKey,e=s.shiftKey,n=s.altKey,("Control"===s.key&&l||"Shift"===s.key&&h||"Alt"===s.key&&c)&&s.preventDefault();const u=ba(a.restoreDefault,void 0,s,e,i,n);u&&u.code===s.code&&(ys(s),mf(t,u,r,s));const d=ba(a.restorePrevious,void 0,s,e,i,n);d&&d.code===s.code&&(ys(s),yf(t,d,0,s))},l=t=>{i=t.ctrlKey,e=t.shiftKey,n=t.altKey},h=()=>{i=!1,e=!1,n=!1};jr.addEventListener("keydown",a),jr.addEventListener("keyup",l),jr.addEventListener("blur",h),t.addEventListener("dispose",(()=>{jr.removeEventListener("keydown",a),jr.removeEventListener("keyup",l),jr.removeEventListener("blur",h)}));const c=t=>{},u=s=>{const a=Sa(!1!==t.gi.Pa.La),l=o(),h=ba(l.rotate,"drag",s,e,i,n),c=ba(l.pan,"drag",s,e,i,n);c&&a.push((()=>((t,e,i,n)=>{const r=t.getCursorMode();t.setCursorMode(void 0);let s=e;"mouse"===e.pointerType&&e.preventDefault();const o=n=>{var r,o,a;if(n.pointerId!==e.pointerId)return;ys(n);const l=n.clientX-s.clientX,h=n.clientY-s.clientY;if(s=n,i&&i.x){const e=l+-h;t.axisX.Jv(-Math.sign(e)*(null!==(r=i.sensitivity)&&void 0!==r?r:1)),!1!==i.stopScroll&&t.axisX.setStopped(!0)}if(i&&i.y){const e=-l+h;t.axisY.Jv(Math.sign(e)*(null!==(o=i.sensitivity)&&void 0!==o?o:1)),!1!==i.stopScroll&&t.axisY.setStopped(!0)}if(i&&i.z){const e=-l+h;t.axisZ.Jv(Math.sign(e)*(null!==(a=i.sensitivity)&&void 0!==a?a:1)),!1!==i.stopScroll&&t.axisZ.setStopped(!0)}const c=null==i?void 0:i.on;c&&jr.requestAnimationFrame((()=>c({event:n})))},a=i=>{i.pointerId===e.pointerId&&(ys(i),t.setCursorMode(r),jr.removeEventListener("pointermove",o),jr.removeEventListener("pointerup",a),t.engine.container.removeEventListener("pointerdown",l),n())},l=i=>{i.pointerId!==e.pointerId&&(t.setCursorMode(r),jr.removeEventListener("pointermove",o),jr.removeEventListener("pointerup",a),t.engine.container.removeEventListener("pointerdown",l),n())};jr.addEventListener("pointermove",o),jr.addEventListener("pointerup",a),t.engine.container.addEventListener("pointerdown",l),io()})(t,s,c,d()))),h&&a.push((()=>((t,e,i,n,r)=>{const s=t.getCursorMode();t.setCursorMode(void 0);let o=e,a=!1,l=0;"mouse"===e.pointerType&&e.preventDefault();const h=n=>{var s,h;if(n.pointerId!==e.pointerId)return;ys(n);const c={x:n.clientX-o.clientX,y:n.clientY-o.clientY};o=n,l+=Fo(c),r.Om(),t.zm({x:c.x*(null!==(s=i.sensitivity)&&void 0!==s?s:1),y:-c.y*(null!==(h=i.sensitivity)&&void 0!==h?h:1)}),a||(eo(),a=!0);const u=i.on;u&&jr.requestAnimationFrame((()=>u({event:n})))},c=i=>{i.pointerId===e.pointerId&&(ys(i),t.setCursorMode(s),jr.removeEventListener("pointermove",h),jr.removeEventListener("pointerup",c),t.engine.container.removeEventListener("pointerdown",u),n(),l>=10&&to("click"))},u=i=>{i.pointerId!==e.pointerId&&(t.setCursorMode(s),jr.removeEventListener("pointermove",h),jr.removeEventListener("pointerup",c),t.engine.container.removeEventListener("pointerdown",u),n())};jr.addEventListener("pointermove",h),jr.addEventListener("pointerup",c),t.engine.container.addEventListener("pointerdown",u),io()})(t,s,h,d(),r)));const u=ba(l.zoom,"drag",s,e,i,n);u&&a.push((()=>((t,e,i,n,r)=>{const s=t.getCursorMode();t.setCursorMode(void 0);let o=e;"mouse"===e.pointerType&&e.preventDefault();const a=n=>{var s,a,l,h,c,u,d;if(n.pointerId!==e.pointerId)return;ys(n);const f=n.clientX-o.clientX,g=n.clientY-o.clientY;if(o=n,i.x){const e=f+-g;t.axisX.Qv(null!==(s=i.mode)&&void 0!==s?s:"centered",Math.sign(e),null!==(a=i.sensitivity)&&void 0!==a?a:1),!1!==i.stopScroll&&t.axisX.setStopped(!0)}if(i.y){const e=-f+g;t.axisY.Qv(null!==(l=i.mode)&&void 0!==l?l:"centered",-Math.sign(e),null!==(h=i.sensitivity)&&void 0!==h?h:1),!1!==i.stopScroll&&t.axisY.setStopped(!0)}if(i.z){const e=-f+g;t.axisZ.Qv(null!==(c=i.mode)&&void 0!==c?c:"centered",-Math.sign(e),null!==(u=i.sensitivity)&&void 0!==u?u:1),!1!==i.stopScroll&&t.axisZ.setStopped(!0)}if(i.camera){const e=f+-g;r.Om(),t.Vm(-.15*Math.sign(e)*(null!==(d=i.sensitivity)&&void 0!==d?d:1))}const p=i.on;p&&jr.requestAnimationFrame((()=>p({event:n})))},l=i=>{i.pointerId===e.pointerId&&(ys(i),t.setCursorMode(s),jr.removeEventListener("pointermove",a),jr.removeEventListener("pointerup",l),t.engine.container.removeEventListener("pointerdown",h),n())},h=e=>{t.setCursorMode(s),jr.removeEventListener("pointermove",a),jr.removeEventListener("pointerup",l),t.engine.container.removeEventListener("pointerdown",h),n()};jr.addEventListener("pointermove",a),jr.addEventListener("pointerup",l),t.engine.container.addEventListener("pointerdown",h),io()})(t,s,u,d(),r))),a.end();const f=ba(l.rotate,"pinch",s,e,i,n),g=ba(l.pan,"pinch",s,e,i,n),p=ba(l.zoom,"pinch",s,e,i,n);(f||p||g)&&((t,e,i,n,r,s,o)=>{if(!i&&!n&&!r)return;const a=h=>{if(h.pointerId===e.pointerId)return;const c=s();let u;t.engine.container.removeEventListener("pointerdown",a),jr.removeEventListener("pointerup",l);let d,f=h;const g=h,p=t.getCursorMode();t.setCursorMode(void 0);const m=t.getCameraLocation();let y,v,x;const b=[],S=()=>{var s,a,l,c,p,S,E,w;A=void 0;const k=u,C=f;if(b.forEach((t=>{t.pointerId===e.pointerId?u=t:t.pointerId===h.pointerId&&(f=t)})),b.length=0,d=d||u,void 0===u||void 0===k||void 0===d)return;if(!v||!x){const e=t=>{for(;t<0;)t+=360;for(;t>360;)t-=360;return t},i=(i,n)=>{const r=t.qg.Gv(i),s=t.qg.Gv(n);if(!r||!s)return{deg:-1,dir:{x:0,y:0}};const o=t.gi.qa({engineX:r.x,engineY:r.y}),a=t.gi.qa({engineX:s.x,engineY:s.y});return{deg:e(Oo(Bo(s,r))),dir:To(Bo({x:a.clientX,y:a.clientY},{x:o.clientX,y:o.clientY}))}},n=t.axisX.getInterval(),r=t.axisY.getInterval(),s=t.axisZ.getInterval(),o={x:i({x:n.start,y:r.start,z:s.start},{x:n.end,y:r.start,z:s.start}),y:i({x:n.start,y:r.start,z:s.start},{x:n.start,y:r.end,z:s.start}),z:i({x:n.end,y:r.start,z:s.start},{x:n.end,y:r.start,z:s.end})},a=t.gi.Ka(d),l=t.gi.Ka(g),h=e(Oo(Bo({x:l.engineX,y:l.engineY},{x:a.engineX,y:a.engineY})));v=["x","y","z"].reduce(((t,i)=>{const n=Math.abs(o[i].deg-h),r=Math.abs(e(o[i].deg+180)-h),s=Math.min(n,r);return Math.min(s,r)<t.angleDiff?{angleDiff:s,axis:i}:t}),{axis:"x",angleDiff:1e3}).axis,x=o[v].dir}const M=u.clientX-k.clientX,T=u.clientY-k.clientY,P=f.clientX-C.clientX,F=f.clientY-C.clientY,L=Math.sqrt((d.clientX-g.clientX)**2+(d.clientY-g.clientY)**2),R=Math.sqrt((u.clientX-f.clientX)**2+(u.clientY-f.clientY)**2),B=no.length(m),z=L/R*(null!==(s=null==r?void 0:r.sensitivity)&&void 0!==s?s:1)*B,I=En((null!==(a=null==i?void 0:i.sensitivity)&&void 0!==a?a:1)*(M+P)/2,(null!==(l=null==i?void 0:i.sensitivity)&&void 0!==l?l:1)*-(T+F)/2);o.Om(),(i||(null==r?void 0:r.camera))&&(t.nm.push({type:"rotate+zoom",rotation:i?I:{x:0,y:0},cameraDistance:(null==r?void 0:r.camera)?z:B}),t.gi.Rs());const D=void 0===y?0:R-Fo(y)?1:-1,V=y?.25*(null!==(c=null==r?void 0:r.sensitivity)&&void 0!==c?c:1)*(R-Fo(y)):0;r&&r.x&&("x"===v||void 0===r.y&&void 0===r.z)&&(t.axisX.Qv(null!==(p=r.mode)&&void 0!==p?p:"centered",D,V),!1!==r.stopScroll&&t.axisX.setStopped(!0)),r&&r.y&&("y"===v||void 0===r.x&&void 0===r.z)&&(t.axisY.Qv(null!==(S=r.mode)&&void 0!==S?S:"centered",D,V),!1!==r.stopScroll&&t.axisY.setStopped(!0)),r&&r.z&&("z"===v||void 0===r.x&&void 0===r.y)&&(t.axisZ.Qv(null!==(E=r.mode)&&void 0!==E?E:"centered",D,V),!1!==r.stopScroll&&t.axisZ.setStopped(!0));const _=(k.clientX+C.clientX)/2,N=(k.clientY+C.clientY)/2,O={x:(u.clientX+f.clientX)/2-_,y:(u.clientY+f.clientY)/2-N},H=Vo(To(O),x),U=Fo(O)*H*.3*(null!==(w=null==n?void 0:n.sensitivity)&&void 0!==w?w:1);n&&n.x&&("x"===v||void 0===n.y&&void 0===n.z)&&(t.axisX.Jv(-U),!1!==n.stopScroll&&t.axisX.setStopped(!0)),n&&n.y&&("y"===v||void 0===n.x&&void 0===n.z)&&(t.axisY.Jv(-U),!1!==n.stopScroll&&t.axisY.setStopped(!0)),n&&n.z&&("z"===v||void 0===n.x&&void 0===n.y)&&(t.axisZ.Jv(-U),!1!==n.stopScroll&&t.axisZ.setStopped(!0)),y={x:Math.abs(u.clientX-f.clientX),y:Math.abs(u.clientY-f.clientY)};const Y=(null==n?void 0:n.on)||(null==i?void 0:i.on)||(null==r?void 0:r.on);Y&&jr.requestAnimationFrame((()=>Y({event:void 0})))};let A;const E=t=>{t.pointerId!==e.pointerId&&t.pointerId!==h.pointerId||(ys(t),b.push(t),A||(A=jr.requestAnimationFrame(S)))},w=i=>{i.pointerId!==e.pointerId&&i.pointerId!==h.pointerId||(ys(i),t.setCursorMode(p),jr.removeEventListener("pointermove",E),jr.removeEventListener("pointerup",w),c(),A&&jr.cancelAnimationFrame(A))};jr.addEventListener("pointermove",E),jr.addEventListener("pointerup",w),io()},l=i=>{i.pointerId===e.pointerId&&(t.engine.container.removeEventListener("pointerdown",a),jr.removeEventListener("pointerup",l))};t.engine.container.addEventListener("pointerdown",a),jr.addEventListener("pointerup",l)})(t,s,f,g,p,d,r)};pf(t,"wheel",(s=>{const a=Sa(!1!==t.gi.Pa.La),l=o(),h=ba(l.pan,"wheel",s,e,i,n);h&&a.push((()=>((t,e,i)=>{var n,r,s;ys(e),i.x&&(t.axisX.Jv(2*Math.sign(e.deltaY)*(null!==(n=i.sensitivity)&&void 0!==n?n:1)),!1!==i.stopScroll&&t.axisX.setStopped(!0)),i.y&&(t.axisY.Jv(2*Math.sign(e.deltaY)*(null!==(r=i.sensitivity)&&void 0!==r?r:1)),!1!==i.stopScroll&&t.axisY.setStopped(!0)),i.z&&(t.axisZ.Jv(2*Math.sign(e.deltaY)*(null!==(s=i.sensitivity)&&void 0!==s?s:1)),!1!==i.stopScroll&&t.axisZ.setStopped(!0));const o=i.on;o&&jr.requestAnimationFrame((()=>o({event:e})))})(t,s,h)));const c=ba(l.zoom,"wheel",s,e,i,n);c&&a.push((()=>((t,e,i,n)=>{var r,s,o,a,l,h,c;ys(e),i.x&&(t.axisX.Qv(null!==(r=i.mode)&&void 0!==r?r:"centered",-Math.sign(e.deltaY),3*(null!==(s=i.sensitivity)&&void 0!==s?s:1)),!1!==i.stopScroll&&t.axisX.setStopped(!0)),i.y&&(t.axisY.Qv(null!==(o=i.mode)&&void 0!==o?o:"centered",-Math.sign(e.deltaY),3*(null!==(a=i.sensitivity)&&void 0!==a?a:1)),!1!==i.stopScroll&&t.axisY.setStopped(!0)),i.z&&(t.axisZ.Qv(null!==(l=i.mode)&&void 0!==l?l:"centered",-Math.sign(e.deltaY),3*(null!==(h=i.sensitivity)&&void 0!==h?h:1)),!1!==i.stopScroll&&t.axisZ.setStopped(!0)),i.camera&&(n.Om(),t.Vm(.5*Math.sign(e.deltaY)*(null!==(c=i.sensitivity)&&void 0!==c?c:1)));const u=i.on;u&&jr.requestAnimationFrame((()=>u({event:e})))})(t,s,c,r))),a.end()})),pf(t,"dblclick",(s=>{if(s.defaultPrevented)return;const a=Sa(!1!==t.gi.Pa.La),l=o(),h=ba(l.restoreDefault,void 0,s,e,i,n);h&&h.doubleClick&&(ys(s),mf(t,h,r,s));const c=ba(l.restorePrevious,void 0,s,e,i,n);c&&c.doubleClick&&(ys(s),yf(t,c,0,s)),a.end()})),pf(t,"click",(s=>{if(s.defaultPrevented)return;const a=Sa(!1!==t.gi.Pa.La),l=o(),h=ba(l.restoreDefault,void 0,s,e,i,n);h&&h.singleClick&&(ys(s),mf(t,h,r,s));const c=ba(l.restorePrevious,void 0,s,e,i,n);c&&c.singleClick&&(ys(s),yf(t,c,0,s)),a.end()})),pf(t,"contextmenu",(s=>{if(s.defaultPrevented)return;const a=Sa(!1!==t.gi.Pa.La),l=o(),h=ba(l.restoreDefault,"rmb",s,e,i,n);h&&h.singleClick&&(ys(s),mf(t,h,r,s));const c=ba(l.restorePrevious,"rmb",s,e,i,n);c&&c.singleClick&&(ys(s),yf(t,c,0,s)),a.end()}));const d=()=>(f(),g(),()=>{f=pf(t,"pointermove",c),g=pf(t,"pointerdown",u)});let f=pf(t,"pointermove",c),g=pf(t,"pointerdown",u);return{setUserInteractions:t=>{if(void 0===t)s={rotate:!1,zoom:!1,pan:!1,restoreDefault:!1,restorePrevious:!1};else if(0===Object.keys(t).length)s={};else for(const e of Object.keys(t))!1===t[e]||"object"==typeof t[e]?s[e]=t[e]:s[e]={}},getUserInteractions:o}})(this),this.Nm(this.axisX),this.Nm(this.axisY),this.Nm(this.axisZ);const u={position:xd.RightCenter,backgroundVisible:!0,...null==o?void 0:o.legend};this.legend.setOptions(u)}restorePreviousZoomState(t){if(this.fm.length<=1)return this;this.fm.pop();const e=this.fm[this.fm.length-1];return e?(this.Am=!0,this.forEachAxis((i=>{if((null==t?void 0:t.whitelist)&&!t.whitelist.includes(i))return;const n=e.get(i);n?i.ai(n.start,n.end,null==t?void 0:t.animate,void 0!==(null==t?void 0:t.stopAxisAfter)?t.stopAxisAfter:n.stopped,"userSetInterval"):i.fit(null==t?void 0:t.animate,null==t?void 0:t.stopAxisAfter)})),this.Am=!1,this):this}clearPreviousZoomStateHistory(){if(void 0!==this.Gm)this.fm.length=0;else for(;this.fm.length>1;)this.fm.unshift();return this}Nm(t){const e=()=>{this.Am||(this.Gm&&jr.clearTimeout(this.Gm),this.Gm=jr.setTimeout((()=>{this.gm(),this.Gm=void 0}),300))};jr.requestAnimationFrame((()=>{e()})),t.addEventListener("intervalchange",e),t.addEventListener("dispose",(()=>{this.fm.forEach((e=>{e.delete(t)}))}))}setUserInteractions(t){return this.Em.setUserInteractions(t),this}getUserInteractions(){return this.Em.getUserInteractions()}setProjection(t){this.qg.$m(t);const e=this.bm.projectionChanged(this.xm(),t);return e&&this.Mm(e),this.gi.Rs(),this}getProjection(){return this.qg.Um()}setCursor(t){return this.Rm.setCursor(t),this}getCursor(){return this.Rm.getCursor()}setCursorMode(t){return this.Rm.setCursorMode(t),this}getCursorMode(){return this.Rm.getCursorMode()}setCustomCursor(t){return this.Rm.setCustomCursor(t),this}setCursorDynamicBehavior(t){return this.Rm.Ym(t),this}setCursorFormatting(t){return this.Rm.setCursorFormatting(t),this}getCursorFormatting(){return this.Rm.getCursorFormatting()}addCursor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gf;const e=this.Tg(),i=t.sm(e,this.Kf,this.Kf,this.wg(e),this.bi,this);return this.Eg(i),i}addPointSeries(t){const e=new(t&&t.type||jd)(this,this.ly,this.qg,this.bi,this.gi.Ss,t);return this.yy(e,t),e}addLineSeries(t){const e=new Ud(this,this.ly,this.qg,this.bi,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ny.length,this.gi.Ss);return this.yy(e,t),e}addPointLineSeries(t){const e=new Yd(this,this.ly,this.qg,this.bi,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ny.length,this.gi.Ss);return this.yy(e,t),e}addSurfaceGridSeries(t){const e=new Kd(this,this.ly,this.qg,t,this.bi,this.gi.Ss);return this.yy(e,t),e}addSurfaceScrollingGridSeries(t){const e=new Qd(this,this.ly,this.qg,t,this.bi,this.gi.Ss);return this.yy(e,t),e}addBoxSeries(t){const e=new Pd(this,this.ly,this.qg,this.bi,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ny.length,this.gi.Ss);return this.yy(e,t),e}addMeshModel(t){const e=new of(this,this.ly,this.qg,this.bi,t,this.gi.Ss);return this.yy(e,t),e}translateCoordinate(t,e,i){if($d(e)||$d(i)||tf(t)){if($d(e)&&$d(i)&&tf(t)){if("axes"===e.id&&"world"===i.id)return this.qg.jm(t);if("world"===e.id&&"axes"===i.id)return this.qg.Hm(t);if(e.id===i.id)return t}if($d(e)&&pa(i)&&tf(t)){const e=this.qg.Gv(t);return e?this.gi.qa({engineX:e.x,engineY:e.y}):{clientX:-1,clientY:-1}}if($d(e)&&ya(i)&&tf(t)){const e=this.qg.Gv(t);return e?hr(e,this.gi.oi,this.Kf):{clientX:-1,clientY:-1}}throw new Error("translateCoordinate unexpected error. Input or target coordinate system not recognized.")}return ud(t,e,i,this.Kf,this.gi)}getDefaultAxisX(){return this.Tm.x}getDefaultAxisY(){return this.Tm.y}getDefaultAxisZ(){return this.Tm.z}get axisX(){return this.getDefaultAxisX()}get xAxis(){return this.getDefaultAxisX()}get axisY(){return this.getDefaultAxisY()}get yAxis(){return this.getDefaultAxisY()}get axisZ(){return this.getDefaultAxisZ()}get zAxis(){return this.getDefaultAxisZ()}getDefaultAxes(){return[this.Tm.x,this.Tm.y,this.Tm.z]}setCameraLocation(t){let e={location:t,direction:no.normalize(no.multiply(t,-1))};const i=this.bm.cameraLocationChanged(this.xm(e));return i&&(e=i),this.Mm(e),this.gi.Rs(),this}getCameraLocation(){return this.qg.getCameraLocation()}getCameraDirection(){return this.qg.getCameraDirection()}setCameraAutomaticFittingEnabled(t){this.bm.Oy(t);const e=this.bm.cameraLocationChanged(this.xm());return e&&this.Mm(e),this}getCameraAutomaticFittingEnabled(){return this.bm.Wy()}setBoundingBoxStrokeStyle(t){return this.Fm.Ah(t).Bv(Fd(this.Fm.co())),this.qg.Rs(),this}getBoundingBoxStrokeStyle(){return this.Fm.co()}setBoundingBox(t){return this.Im(t,!1),this}Im(t,e){this.Bm=t;const i=this.Lm(t);if(this.wm.x.X(i.x),this.wm.y.X(i.y),this.wm.z.X(-i.z),!e){const t=this.bm.boundingBoxChanged(this.xm());t&&this.Mm(t)}this.gi.Rs()}getBoundingBox(){return this.Bm}sh(t){const e=Md.Wg(this.Hh,this.Ng);this.Vs.forEach((t=>t.zr(e,this.Vn)));const i=Zs;if(Md.Xg(this.Hh,this.Ng,this.uiScale.ri(),this.Vn,i),0!==this.dm){const e=this.dm*t*.006;this.nm.push({type:"wheel-zoom",deltaY:e}),this.dm=Math.sign(this.dm)*Math.max(Math.abs(this.dm)-.01*t,0),0!==this.dm&&this.gi.Rs(!0)}const n=this.getCameraDirection();if(this.nm.length>0){const t=this.bm.applyCameraInteractions(this.xm(),this.nm);t&&this.Mm(t),this.nm.length=0}this.Wm&&no.equals(this.Wm.location,this.Pm.location)&&no.equals(this.Wm.direction,this.Pm.direction)||this.L.D("camerachange",{cameraLocation:this.getCameraLocation()}),this.Wm=this.Pm,super.sh(t);for(let p=0;p<this.ny.length;p+=1)this.ny[p].rv();for(let p=0;p<this.ny.length;p+=1)this.ny[p].sh();this.Tm.x.An(),this.Tm.y.An(),this.Tm.z.An();const r=this.Tm.x.zr(this.Tm.x.Yv(n)),s=this.Tm.y.zr(this.Tm.y.Yv(n)),o=this.Tm.z.zr(this.Tm.z.Yv(n));this.Tm.x.sh(r),this.Tm.y.sh(s),this.Tm.z.sh(o),this.Rm.sh(!1,this.ny,void 0),super.Og();const a=this.wm,l=Cn(a.x.getInnerStart(),a.y.getInnerStart(),a.z.getInnerStart()),h=Cn(a.x.getInnerEnd(),a.y.getInnerEnd(),a.z.getInnerEnd());this.Fm.Ni().xc([Cn(h.x,l.y,l.z),Cn(h.x,h.y,l.z),Cn(h.x,h.y,h.z),Cn(h.x,l.y,h.z),Cn(l.x,l.y,h.z),Cn(l.x,h.y,h.z),Cn(h.x,h.y,h.z),Cn(h.x,h.y,l.z),Cn(l.x,h.y,l.z),Cn(l.x,h.y,h.z),Cn(l.x,l.y,h.z),Cn(l.x,l.y,l.z)]);const c=[Cn(l.x,l.y,l.z),Cn(h.x,l.y,l.z),Cn(l.x,h.y,l.z),Cn(h.x,h.y,l.z),Cn(l.x,l.y,h.z),Cn(h.x,l.y,h.z),Cn(l.x,h.y,h.z),Cn(h.x,h.y,h.z)].map((t=>this.qg.Gv(t))),u=this.qg.Gv(Cn((l.x+h.x)/2,(l.y+h.y)/2,(l.z+h.z)/2)),d=Ms(c,u),f=[];for(let p=0;p<d.length;p+=1){const t=d[p];ko(t,u,d[p>0?p-1:d.length-1],d[p<d.length-1?p+1:0])||f.push(t)}const g=Ms(f,u);this.gy.oc(g),this.vy.oc(g);for(let p=0;p<this.ny.length;p+=1)this.ny[p].nv();this.Vs.forEach((t=>t.sh(e,this.Vn)))}dispose(){return this.oa.forEach((t=>{t()})),this.oa.length=0,this.wm.N(),this.qg.N(),this.Sm.N(),this.pm.N(),this.Rm.N(),super.dispose()}Y(){return this.wm.x.Y(),this.wm.y.Y(),this.wm.z.Y(),super.Y()}j(){return super.j()}Mm(t){this.qg.setCameraLocation(t.location).setCameraDirection(t.direction).setLightLocation(no.addVec(t.location,no.multiply(t.direction,-this.om))),this.Pm=t,this.gi.Rs()}Lm(t){return no.divide(t,no.length(t)/this.rm)}xm(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.Pm;return{boundingBox:this.Lm(this.Bm),cameraLocation:t.location,cameraDirection:t.direction,projection:this.getProjection()}}forEachAxis(t){return t(this.Tm.x),t(this.Tm.y),t(this.Tm.z),this}getSeries(){return this.ny}getMinimumSize(){}setAnimationsEnabled(t){return super.setAnimationsEnabled(t),this.setAnimationZoom(t),this.forEachAxis((e=>e.setAnimationsEnabled(t))),this}setAnimationZoom(t){return this.am=!!t,this}getAnimationZoom(){return this.am}zm(t){this.nm.push({type:"rotate",rotation:t}),this.gi.Rs()}Vm(t){this.am?Math.sign(this.dm)!==Math.sign(t)?this.dm=t:this.dm+=t:this.nm.push({type:"wheel-zoom",deltaY:t}),this.gi.Rs()}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}const xf=(t,e,i)=>{var n,r;const s=t.axisX.getTitle()||void 0,o=t.axisY.getTitle()||void 0,a=t.axisZ.getTitle()||void 0;return(t=>t&&"object"==typeof t&&"z"in t&&"column"in t&&"row"in t)(e)?gy(e,[[{component:e.series,componentColor:py(e),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[...s?[s,""]:[],{text:Ea(e.axisX.formatValue(e.x),e.axisX),font:{weight:"bold"}}],[...o?[o,""]:[],{text:Ea(e.axisY.formatValue(e.y),e.axisY),font:{weight:"bold"}}],[...a?[a,""]:[],{text:Ea(e.axisZ.formatValue(e.z),e.axisZ),font:{weight:"bold"}}],void 0!==e.intensity?["Value","",{text:Ea(e.lut?ea(e.lut,e.intensity):e.intensity.toFixed(2),null===(n=e.lut)||void 0===n?void 0:n.units),font:{weight:"bold"}}]:[]]):(t=>t&&"object"==typeof t&&"index"in t)(e)?gy(e,[[{component:e.series,componentColor:py(e),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],void 0!==e.value?["Value","",{text:Ea(e.lut?ea(e.lut,e.value):e.value.toFixed(2),null===(r=e.lut)||void 0===r?void 0:r.units),font:{weight:"bold"}}]:[]]):gy(e,[[{component:e.series,componentColor:py(e),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[...s?[s,""]:[],{text:Ea(e.axisX.formatValue(e.x),e.axisX),font:{weight:"bold"}}],[...o?[o,""]:[],{text:Ea(e.axisY.formatValue(e.y),e.axisY),font:{weight:"bold"}}],[...a?[a,""]:[],{text:Ea(e.axisZ.formatValue(e.z),e.axisZ),font:{weight:"bold"}}]])};class bf extends hf{setPosition(){const t=this.renderingScale;for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];if(i.length>0){const e=cd(i[0].resultTableScale,t),n=e===this.scale?i[0].resultTable:hr(i[0].resultTable,e,this.scale);this.Gp.setPosition(n)}return this.Sg=!1,this.Dp.forEach((t=>{t.targetVisible=!1})),i.forEach(((e,i)=>{const n=cd(e.pointMarkerScale,t),r=n===this.scale?e.pointMarker:hr(e.pointMarker,n,this.scale);let s=this.Dp[i];if(!s){const t=new Uc(this.Zs,this.renderingScale,this.scale,Jr,this.bi).setPointerEvents(!1).setFillStyle(this.bi.cursorPointMarkerFillStyle).setStrokeStyle(this.bi.cursorPointMarkerStrokeStyle).setSize(this.bi.cursorPointMarkerSize).setShape(this.bi.cursorPointMarkerShape);s={pointMarker:t,targetVisible:!0},this.Dp.push(s),this.Op.forEach((e=>e(t)))}e.pointMarkerShape&&s.pointMarker.setShape(e.pointMarkerShape),e.pointMarkerSize&&s.pointMarker.setSize(e.pointMarkerSize),e.pointMarkerFillStyle&&s.pointMarker.setFillStyle(e.pointMarkerFillStyle),e.pointMarkerStrokeStyle&&s.pointMarker.setStrokeStyle(e.pointMarkerStrokeStyle),s.pointMarker.setPosition(r),s.targetVisible=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;const n=e!==i?hr(t,e,i):t;return n.x>=i.x.getInnerStart()&&n.x<=i.x.getInnerEnd()&&n.y>=i.y.getInnerStart()&&n.y<=i.y.getInnerEnd()}(e.pointMarker,n),s.targetVisible&&(this.Sg=!0)})),this.Zs.Rs(),this}}class Sf{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.tm=[],this.im=(t,e)=>(this.tm.forEach((i=>i(t,e))),t),this.addStyler=t=>new Sf(this.Np,this.tm.map((t=>t)).concat(t)),this.setResultTableBackground=t=>new Sf(t,this.tm.map((t=>t))),this.sm=(t,e,i,n,r)=>this.im(new bf(t,e,i,n,this.Np,r),r),this.Np=t,this.tm=e}}const Af=new Sf(Oc,[cf]),Ef=Af,wf=Af,kf=Af,Cf=Af,Mf=Ef,Tf=new Sf(Oc,[cf,t=>t.setPointMarkerVisible(!1).setResultTable((t=>t.setOrigin(Gl.LeftBottom)))]),Pf=Af,Ff="World",Lf="USA",Rf="NorthAmerica",Bf="SouthAmerica",zf="Canada",If="Europe",Df="Asia",Vf="Africa",_f="Australia",Nf=(t,e)=>!(!e.name||t.name.toLowerCase()!==e.name.toLowerCase())||"ISO_A3"in t&&"ISO_A3"in e&&t.ISO_A3.toLowerCase()===e.ISO_A3.toLowerCase(),Of=(t,e)=>{let i=e.geometry;return i=Hf(t,e,i),i=Uf(t,e,i),i},Hf=(t,e,i)=>{if(t===Df){const t=[];for(let e=0;e<i.length;e+=1){t[e]=[];const n=i[e],r=t[e];for(let t=0;t<n.length;t+=1){const e=n[t];e.x<-100?r[t]={x:e.x+360,y:e.y}:r[t]=e}}return t}return i},Uf=(t,e,i)=>{const n=e.name.toLowerCase();let r;if(t===Lf&&("alaska"===n?r={translate:{x:55,y:-25},scale:{x:.16,y:.16}}:"hawaii"===n&&(r={translate:{x:48,y:7},scale:{x:1,y:1}})),r){const{translate:t,scale:s}=r,o=So($r(i)),a=[];for(let e=0;e<i.length;e+=1){a[e]=[];const r=i[e],l=a[e];for(let e=0;e<r.length;e+=1){const i=r[e];let a=i.x;"alaska"===n&&1===Math.sign(a)&&(a=-180-(180-a)),l[e]={x:t.x+(a-o.min.x)*s.x+o.min.x,y:t.y+(i.y-o.min.y)*s.y+o.min.y}}}return e.outlier=!0,e.transform={...r,vertexBoundaries:o},a}return i},Yf={World:{min:{x:-180,y:-90},max:{x:180.0000000000002,y:83.63410065300012}},Europe:{min:{x:-25,y:34},max:{x:40,y:70}},Africa:{min:{x:-17,y:-40},max:{x:52,y:37.37549753800012}},Asia:{min:{x:27,y:-10.922621351999808},max:{x:180.0000000000002,y:81.85871002800009}},NorthAmerica:{min:{x:-179.1435033839999,y:5.515082098000121},max:{x:-50,y:83.11652252800009}},SouthAmerica:{min:{x:-85,y:-55.9185042229998},max:{x:-35,y:15}},USA:{min:{x:-125,y:24},max:{x:-68,y:50}},Canada:{min:{x:-141.0181,y:41.7297},max:{x:-52.6194,y:75}},Australia:{min:{x:111,y:-43.6586},max:{x:155,y:-9.2199}}},Gf={World:.6,Europe:1/1.4,Africa:1.3,Asia:.8,NorthAmerica:.9,SouthAmerica:1.5,USA:3/4,Canada:6/8,Australia:11/12};class jf extends Cd{constructor(t,e,i,n,r,s,o){var a;super(t,e,i,e.Vg("mapChart bg",0),n,e.gi.bi.mapChartBackgroundFillStyle,e.gi.bi.mapChartBackgroundStrokeStyle,e.gi.bi.mapChartTitleFont,e.gi.bi.mapChartTitleFillStyle,e.gi.bi.mapChartTitleShadow,o,null===(a=null==s?void 0:s.legend)||void 0===a?void 0:a.customLegend),this.Xm=[],this.oi=this.kg.d2({scaleXYConstructor:sr}),this.Zm=!0,this.Jm=this.bi.mapChartSeparateRegionFillStyle,this.Qm=this.bi.mapChartSeparateRegionStrokeStyle,this.Oh=!0,this.Km=0,this.qm=!0,this.tS=new Map,this.regions=new Er,this.iS=t=>{this.oi.x.X(t.engineWidth).St([this.nt.left+this.Vn.left,this.nt.right+this.Vn.right]),this.oi.y.X(t.engineHeight).St([this.nt.bottom+this.Vn.bottom,this.nt.top+this.Vn.top+Md.Wg(this.Hh,this.Ng)]),this.sS&&this.eS(this.hS,this.oi,this.sS)},this.L=new Er,this.gi.Ta(_h.To),this.Oh=!1!==(null==s?void 0:s.animationsEnabled),this.rS=e.Cm("mapChart plotting",0),this.addEventListener("resize",this.iS),this.Hh.Kr("Map Chart");const l=e.Dm(),h=ts(s?s.cursorBuilder:void 0,Tf);this.Rm=vy(this,l,h.sm(l,this.uiScale,this.uiScale,Jr,this.bi),void 0,"show-pointed",Wf,(()=>0)),this.nS=this.Ss.eA(),this.zg(r,this.uiScale),this.oS=this.rS.Ov(this.oi).setPointerEvents(this.Zm).th(this.bi.mapChartFillStyle).qe(this.bi.mapChartStrokeStyle),this.regions.Gi(this.oS,(t=>{if(!this.aS)return;const e=this.lS(this.aS,t);return e?e.region:void 0})),this.oS.addEventListener("pointermove",((t,e)=>{const i=e.collectionMember;if(!this.aS||!i)return;const n=this.lS(this.aS,i);this.cS(n),this.qm&&n&&this.gi._s.Gs(n.region,!0)})),this.oS.addEventListener("pointerleave",((t,e)=>{const i=e.collectionMember;if(!this.aS||!i)return;const n=this.lS(this.aS,i);this.uS(),this.qm&&n&&this.gi._s.Gs(n.region,!1)})),this.dS=this.rS.Ov(this.oi).setPointerEvents(this.Zm).th(this.bi.mapChartOutlierRegionFillStyle).qe(this.bi.mapChartOutlierRegionStrokeStyle);const c=ts(s&&s.type,Ff);this.hS=c,this.fS(c).then((()=>{this.L.D("ready",{})}));const u={renderOnTop:!0,backgroundVisible:!0,...null==s?void 0:s.legend};this.legend.setOptions(u)}setFillStyle(t){return this.oS.th(t),this.Vs.forEach((t=>{t.dg()&&t.add(this)})),this.Vs.forEach((t=>t.Ns())),this.gi.Rs(),this}getFillStyle(){return this.oS.Sr()}setStrokeStyle(t){return this.oS.qe(t),this.gi.Rs(),this}getStrokeStyle(){return this.oS.Wa()}setEffect(t){return this.nS.Ds(t),this.gi.Rs(),this}getEffect(){return this.nS.Es()}setOutlierRegionFillStyle(t){return this.dS.th(t),this.gi.Rs(),this}getOutlierRegionFillStyle(){return this.dS.Sr()}setOutlierRegionStrokeStyle(t){return this.dS.qe(t),this.gi.Rs(),this}getOutlierRegionStrokeStyle(){return this.dS.Wa()}setSeparateRegionFillStyle(t){return this.Jm="function"==typeof t?t(this.Jm):t,this.Xm.forEach((t=>t.th(this.Jm))),this.gi.Rs(),this}getSeparateRegionFillStyle(){return this.Jm}setSeparateRegionStrokeStyle(t){return this.Qm="function"==typeof t?t(this.Qm):t,this.Xm.forEach((t=>t.qe(this.Qm))),this.gi.Rs(),this}getSeparateRegionStrokeStyle(){return this.Qm}invalidateRegionValues(t){if(!this.aS||!this.AS)return this.gS=this.gS||[],this.gS.push(t),this;if("function"==typeof t)for(let e=0;e<this.aS.regions.length;e+=1){const i=this.aS.regions[e],n=this.AS[e],r=t({...i,geometry:void 0},n);if(void 0!==r&&r!==n){this.AS[e]=r;const t=this.tS.get(i);null==t||t.forEach((t=>{t.vS(r)}))}}else for(const e of t)if(e)for(let t=0;t<this.aS.regions.length;t+=1){const i=this.aS.regions[t],n=this.AS[t];if(void 0!==e.value&&e.value!==n&&Nf(i,e)){this.AS[t]=e.value;const n=this.tS.get(i);null==n||n.forEach((t=>{t.vS(e.value)}))}}return this.Vs.forEach((t=>{t.dg()&&t.add(this)})),this.gi.Rs(),this}setPointerEvents(t){return this.Zm=t,this.oS.setPointerEvents(t),this}getPointerEvents(){return this.Zm}setHighlight(t){var e;return t=Hs(t),this.Km=t,null===(e=this.aS)||void 0===e||e.regions.forEach((e=>{this.gi._s.Gs(e,t)})),this.L.D("highlightchange",{highlight:t}),this}getHighlight(){return this.Km}setAnimationHighlight(t){var e;return null===(e=this.aS)||void 0===e||e.regions.forEach((e=>{this.gi._s.$s(e,t)})),this}getAnimationHighlight(){var t;return this.gi._s.Us(null===(t=this.aS)||void 0===t?void 0:t.regions[0])}setHighlightOnHover(t){return this.qm=t,!1===t&&this.getHighlight()>0&&this.setHighlight(!1),this}getHighlightOnHover(){return this.qm}async fS(t){const e=await((t,e)=>{let i;if(t===Ff)i="countries_world.json";else if(t===Rf)i="countries_northAmerica.json";else if(t===Bf)i="countries_southAmerica.json";else if(t===Vf)i="countries_africa.json";else if(t===If)i="countries_europe.json";else if(t===Df)i="countries_asia.json";else if(t===Lf)i="states_usa.json";else if(t===zf)i="territoriesProvinces_canada.json";else{if(t!==_f){const e="LCJS MapChart unidentified `type`: ".concat(t);throw jr.alert(e),new Error(e)}i="territories_australia.json"}return new Promise(((t,n)=>{(t=>{if(t.resourcesBaseUrl){const e="".concat(t.resourcesBaseUrl).concat(t.fileName);return void jr.fetch(e).then((e=>{t.success(e)})).catch((()=>{t.error({url:e})}))}const e="".concat(jr.location.origin,"/resources").concat(t.fileName);jr.fetch(e).then((e=>{if(!e.ok)throw new Error;t.success(e)})).catch((()=>{const i="https://lcjs-resources.lightningchart.com/v1".concat(t.fileName);jr.fetch(i).then((e=>{jr.console.warn("LightningChart JS warning | fallbacking publicly hosted asset resources.\nFor more information, please see https://lightningchart.com/js-charts/docs/troubleshooting/warning-using-publicly-hosted-resources/"),t.success(e)})).catch((()=>{t.error({url:e})}))}))})({fileName:"/maps/".concat(i),resourcesBaseUrl:e,success:e=>e.json().then(t),error:t=>{let{url:i}=t;return js(e,i,"Map Chart",{shouldCrash:!0})}})}))})(t,this._g.be);this.AS=new Array(e.regions.length).map((t=>{})).fill(void 0);const i=Yf[t];if(!i)throw new Error("Unidentified map type.");for(const r of e.outliers)for(const t of r.geometry)this.dS.Uo().oc(t);if(t===Lf){const t=25.8,e=29.7;this.Xm.push(this.Mg.ih(this.oi).setPointerEvents(!1).th(this.Jm).qe(this.Qm).eh({x:-126,y:t}).X({x:10,y:e-t}),this.Mg.ih(this.oi).setPointerEvents(!1).th(this.Jm).qe(this.Qm).eh({x:-113,y:t}).X({x:7,y:e-t}))}const n=this.gi._s.$o(this.oS,{animationEnabled:this.Oh});for(let r=0;r<e.regions.length;r+=1){const i=e.regions[r],s=Of(t,i),o=[];for(const t of s)t.length<3||o.push(this.oS.Uo().oc(t));this.tS.set(i,o),n.Uo(i,(t=>{o.forEach((e=>e.Fi(t)))}))}if(this.nS.Ts([this.oS]),this.sS=i,this.eS(t,this.oi,i),this.aS=e,this.gS){for(const t of this.gS)this.invalidateRegionValues(t);this.gS=void 0}this.gi.Rs()}eS(t,e,i){const n=Gf[t],r=e.x.getCellSize(),s=e.y.getCellSize()/r,o={min:{x:i.min.x,y:i.min.y},max:{x:i.max.x,y:i.max.y}};if(s<n){const t=(o.max.x-o.min.x)*(n/s-1);o.min.x-=t/2,o.max.x+=t/2}else if(s>n){const t=(o.max.y-o.min.y)*(s/n-1);o.min.y-=t/2,o.max.y+=t/2}e.x.H(o.min.x,o.max.x),e.y.H(o.min.y,o.max.y);const a=this.oi.x.Ct(),l=this.oi.y.Ct();this.L.D("viewchange",{latitudeRange:{start:o.min.y,end:o.max.y},longitudeRange:{start:o.min.x,end:o.max.x},margin:{top:l[1],bottom:l[0],left:a[0],right:a[1]}})}cS(t){this.yS=t,this.gi.Rs()}uS(){this.yS=void 0,this.gi.Rs()}lS(t,e){const i=Array.from(this.tS.entries()).findIndex((t=>{let[i,n]=t;return n.includes(e)})),n=null==t?void 0:t.regions[i],r=this.gi.Ca();if(!r)return;const s=this.gi.Ka(r),o=this.AS&&this.AS[i];let a=hr({x:s.engineX,y:s.engineY},this.gi.oi,this.oi);a={x:Qr(a.x,this.oi.x.getInnerStart(),this.oi.x.getInnerEnd()),y:Qr(a.y,this.oi.y.getInnerStart(),this.oi.y.getInnerEnd())};let l=a.x,h=a.y;const c=n.transform;n.outlier&&c&&(l=(l-c.translate.x-c.vertexBoundaries.min.x)/c.scale.x+c.vertexBoundaries.min.x,h=(h-c.translate.y-c.vertexBoundaries.min.y)/c.scale.y+c.vertexBoundaries.min.y);const u=this.getFillStyle();return{cursorPosition:{pointMarker:{x:s.engineX,y:s.engineY},pointMarkerScale:this.gi.oi,resultTable:{x:s.engineX,y:s.engineY},resultTableScale:this.gi.oi},region:n,value:o,longitude:h,latitude:l,lut:fa(u)?u.lut:void 0}}setCursor(t){return this.Rm.setCursor(t),this}getCursor(){return this.Rm.getCursor()}setCursorMode(t){return this.Rm.setCursorMode(t),this}getCursorMode(){return this.Rm.getCursorMode()}setCustomCursor(t){return this.Rm.setCustomCursor(t),this}setCursorDynamicBehavior(t){return this.Rm.Ym(t),this}setCursorFormatting(t){return this.Rm.setCursorFormatting(t),this}getCursorFormatting(){return this.Rm.getCursorFormatting()}addCursor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tf;const e=this.Tg(),i=t.sm(e,this.uiScale,this.uiScale,this.wg(e),this.bi);return this.Eg(i),i}setAnimationsEnabled(t){return this.Oh=!t,this}getAnimationsEnabled(){return this.Oh}getMinimumSize(){}gg(){return[this]}sh(t){super.sh(t),super.Og();const e=Md.Wg(this.Hh,this.Ng),i=this.Vs.reduce(((t,i)=>{const n=i.zr(e,this.Vn);return{top:Math.max(t.top,n.top),bottom:Math.max(t.bottom,n.bottom),left:Math.max(t.left,n.left),right:Math.max(t.right,n.right)}}),{top:0,bottom:0,left:0,right:0});Md.Xg(this.Hh,this.Ng,this.uiScale.ri(),this.Vn,i);const n=Pn(this.oi.x.bt()+i.left,this.oi.y.bt()+i.bottom,this.oi.x.Mt()-i.right,this.oi.y.Mt()-i.top);return this.rS.ym(n),this.Rm.sh(!1,[],void 0,{explicitTarget:this.yS}),this.Vs.forEach((t=>t.sh(e,this.Vn))),this}dispose(){return this.rS.N(),this.Rm.N(),wd(this.oi),super.dispose()}Y(){return super.Y(),this.oi.Y(),this}j(){return super.j(),this.oi.j(),this}Hs(){return Rs(this.getFillStyle(),this.oS.wi())}hh(){return{fill:this.getFillStyle()}}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}const Xf=(t,e)=>{const i=t>0,n=e>0;return"".concat([zs(Math.abs(0|t),2),"\xb0 ",zs(Math.abs(0|(t<0?t=-t:t)%1*60),2),"' "].join("")+(i?"E":"W"),", ").concat([zs(Math.abs(0|e),2),"\xb0 ",zs(Math.abs(0|(e<0?e=-e:e)%1*60),2),"' "].join("")+(n?"N":"S"))},Wf=(t,e,i)=>{var n;const r=[[{text:e.region.name,rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[Xf(e.longitude,e.latitude)]];return void 0!==e.value&&r.push({text:Ea(e.lut?ea(e.lut,e.value):e.value.toFixed(2),null===(n=e.lut)||void 0===n?void 0:n.units),font:{weight:"bold"}}),r};class Zf extends wh{constructor(t,e,i,n,r,s,o,a,l){super(t,e,e.pS(i),n,r,{numeric:e.mS({amplitude:n.polarAmplitudeAxisNumericTicks,radial:n.polarAmplitudeAxisNumericTicks}),datetime:e.mS({amplitude:n.polarAmplitudeAxisDateTimeTicks,radial:n.polarAmplitudeAxisDateTimeTicks}),time:e.mS({amplitude:n.polarAmplitudeAxisTimeTicks,radial:n.polarAmplitudeAxisTimeTicks})},{type:"linear"}),this.L=new Er,this.SS=s,this.bS=o,this.xS=a,this.Ss=l,this.MS=i,this.wS=e.mS({amplitude:n.polarAmplitudeAxisStrokeStyle,radial:n.polarRadialAxisStrokeStyle}),this.Kh=a.Mn(i).setPointerEvents(!1)._r(e.mS({amplitude:n.polarAmplitudeAxisTitleFont,radial:n.polarRadialAxisTitleFont})).th(e.mS({amplitude:n.polarAmplitudeAxisTitleFillStyle,radial:n.polarRadialAxisTitleFillStyle})),this.Tr=this.Ss.eA([this.Kh]).Ds(n.effectsText)}setTickStrategy(t,e){return super.dr(t,e)}setStrokeStyle(t){return this.wS="function"==typeof t?t(this.wS):t,this.bS.Rs(),this}getStrokeStyle(){return this.wS}$r(t){return{}}Hr(t,e,i,n){const r=this._S(this.MS,t,e.Ph);return{keyValue:t,tickLevel:e,labelText:i,labelPosition:Ro(this.kS(this.MS,t),r.padding),labelAlignment:r.alignment,labelRotation:r.rotation,labelOffset:r.offset}}qr(t,e,i,n){return new qf(e,t,this.MS,this.xS,this.CS(this.SS,this.MS),this.xS.gh(this.MS).setPointerEvents(!1))}tr(){return this.MS}sh(t){this.TS(this.MS,this.wS,t.fA),this.FS(this.MS,this.Kh,t.fA),t.ticksInfo.forEach(((t,e)=>{e.Er.eh(t.labelPosition).Hl(t.labelAlignment).kr(t.labelRotation).Vl(t.labelOffset.x,t.labelOffset.y),this.IS&&!1===this.IS(e)&&e.Er.setVisible(!1),this.PS(this.MS,e.LS,e.BS,e)}))}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}setPointerEvents(t){return this.L.setPointerEvents(t),this}getPointerEvents(){return this.L.getPointerEvents()}}class qf extends kh{constructor(t,e,i,n,r,s,o){super(t,e,n,i,o),this.LS=r,this.BS=s,r.setPointerEvents(!1),this.ys.push(r,s)}}class Jf extends Zf{constructor(t,e,i,n,r,s,o,a,l){super(t,Kf((()=>this.cA())),e,i,n,r,s,o,a),this.Lv=this.bS.gh(this.MS).setPointerEvents(!1),this.DS=l,this.setScrollStrategy(ah),this.setTickStrategy(hh),this.setTitle("Amplitude"),this.Kh.Qr(i.polarAmplitudeAxisTitleShadow)}cA(){return this.DS()}Zr(t,e,i){return{ticksInfo:e,fA:this.nn(((t,e)=>{const i=e.wn.Ph,n=.5*this.wS.getThickness()+i.tickLength+i.tickPadding+Math.abs(e.Er.zr().pu().y);return Math.max(t,n)}),0),updatedTicks:i}}gn(t,e){return ka(t,e,this.MS.y)}pn(t,e,i){const n=2*Math.abs(e-t),r=this.MS.x.Zt(n);return{start:t+i.start*r*Math.sign(t-e),end:e+i.end*r*Math.sign(e-t)}}kS(t,e){return{x:t.de()?e-t.ue().start:t.ue().start-e,y:0}}CS(t,e){return t.bd(e)}PS(t,e,i,n){const r=n.wn.Ph,s=t.de()?n.S-t.ue().start:t.ue().start-n.S;Kr(n.S,t.ue().start)||Kr(n.S,t.ue().end)?e.setVisible(!1):e.setVisible(!0).Qc(0).yh(360).su(void 0).iu(0).Kc(s).su(60).th(na).qe(r.gridStrokeStyle);const o=.5*this.wS.getThickness();i.ph({x:s,y:-o*t.ri().y}).yh({x:s,y:-(o+r.tickLength)*t.ri().y}).Ah(r.tickStyle)}_S(t,e,i){return{alignment:{x:0,y:1},padding:{x:0,y:t.ri().y*-(.5*this.wS.getThickness()+i.tickLength+i.tickPadding)},rotation:0,offset:{x:0,y:0}}}TS(t,e,i){const n=t.de()?t.ue().end-t.ue().start:t.ue().start-t.ue().end;this.Lv.ph({x:0,y:0}).yh({x:n,y:0}).Ah(e)}FS(t,e,i){const n=t.de()?(t.ue().start+t.ue().end)/2-t.ue().start:t.ue().start-(t.ue().start+t.ue().end)/2;e.Hl({x:0,y:1}).eh({x:n,y:-i*t.ri().y})}}const Kf=t=>({..._d(t,(t=>t.getAmplitudeMin()),(t=>t.getAmplitudeMax()),(t=>{})),pS:t=>({getInnerStart:()=>t.ue().start,getInnerEnd:()=>t.ue().end,H:(e,i)=>t.le(e,i),st:(e,i,n,r,s)=>t.y.st(e,i,n,r,s)}),mS:t=>t.amplitude});class Qf{constructor(t,e,i,n){this.RS=!1,this.L=new Er,this.gs=t,this.ES=e,this.ny=i,this.Mu=n}setGeometry(t){return this.OS=t,this.RS=!0,this.gs.gi.Rs(),this}getGeometry(){return this.OS}setPointerEvents(t){return this.Mu.setPointerEvents(t),this}dispose(){return this.Mu.dispose(),this.ES(this),this.L.D("dispose",{}),this}setVisible(t){const e=this.Mu.getVisible()!==t;return this.Mu.setVisible(t),e&&this.L.D("visiblechange",{isVisible:t}),this.gs.gi.Rs(),this}getVisible(){return this.Mu.getVisible()}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class $f extends Pa{constructor(){super(...arguments),this.Qg=!0,this.Jg=!0}setAutoScrollingEnabled(t){return this.Qg=t,this.gs.gi.Rs(),this}getAutoScrollingEnabled(){return this.Qg}rv(){}sh(){}nv(){}setCursorEnabled(t){return this.Jg=t,this}getCursorEnabled(){return this.Jg}sv(){return this.getVisible()&&this.getCursorEnabled()}setCursorFormattingOverride(t){return this.tv=t,this}getCursorFormattingOverride(){return this.tv}}class tg extends $f{constructor(t,e,i,n,r,s){super(e,i,r,s),this.Zs=t,this.gs=e,this.scale=n}getAmplitudeMin(){return this.zS?this.zS.min:void 0}getAmplitudeMax(){return this.zS?this.zS.max:void 0}}const eg=(t,e)=>{const i=[],n=e.ue().start,r=e.ue().end,s=e.de(),o=e.Ae()?1:-1,a=e.ve(),l=Math.abs(r-n),h=Math.min(n,r)+.001*l,c=Math.max(n,r)-.001*l;for(const u of t){const t=Qr(u.amplitude,h,c),e=u.angle*Math.PI/180-a,r=Math.cos(e*o)*(s?t-n:n-t),l=Math.sin(e*o)*(s?t-n:n-t),d=u.color;i.push({x:r,y:l,color:d})}return i},ig=t=>{const e={min:ro,max:so};for(const i of t)e.min=Math.min(e.min,i.amplitude),e.max=Math.max(e.max,i.amplitude);return e},ng=t=>t.slice().map((t=>t.angle>=0&&t.angle<=360?t:{...t,angle:t.angle%360})),rg=(t,e)=>{let i=Oo(t);for(e.Ae()||(i*=-1),i+=180*e.ve()/Math.PI;i<0;)i+=360;i%=360;const n=Fo(t),r=e.ue(),s=Math.abs(r.end-r.start);return{angle:i,amplitude:Ia(r.start,r.end,n/s)}};class sg extends tg{constructor(t,e,i,n,r,s,o){super(t,e,i,n,r,o),this.zs="Polygon Series",this.VS=[],this.NS=[],this.GS=t=>{const e=this.NS.indexOf(t);e>=0&&this.NS.splice(e,1);const i=this.VS.findIndex((e=>e===t.Mu));i>=0&&this.VS.splice(i,1),this.Zs.Rs()},this.L=new Er,this.Je=Is(this.bi.polarPolygonSeriesFillStyle,s),this.Qe=Is(this.bi.polarPolygonSeriesStrokeStyle,s)}solveNearest(t,e){const i=this.gs.gi.Ka(t),n={x:i.engineX,y:i.engineY},r=xa(n,this.VS,((t,e)=>{const i=t.Ad(e);if(i)return hr(i,this.scale,t.gi.oi)}),yo);if(!r)return;const s=hr(r[0],r[1].gi.oi,this.scale);if(!this.$S(r[1]))return;const o=rg(s,this.scale);return{cursorPosition:{pointMarker:s,pointMarkerScale:this.scale,resultTable:s,resultTableScale:this.scale},series:this,...o}}Ki(t,e,i){return Ks({series:this},{cursorPosition:0,amplitude:0,angle:0,color:0},(()=>this.solveNearest(e,this.gs.getCursorMode())))}addPolygon(){const t=new Qf(this.gs,this.GS,this,this.US());return this.NS.push(t),t}setFillStyle(t){this.Je="function"==typeof t?t(this.Je):t;const e=this.Je;for(const i of this.VS)i.th(e);return this.Zs.Rs(),this}getFillStyle(){return this.Je}setStrokeStyle(t){this.Qe="function"==typeof t?t(this.Qe):t;const e=this.Qe;for(const i of this.VS)i.qe(e);return this.Zs.Rs(),this}getStrokeStyle(){return this.Qe}Av(){return this.Qg&&void 0!==this.NS.find((t=>void 0!==t.YS))&&this.getVisible()}sh(){this.NS.forEach((t=>{(t.RS||this.scale.ye())&&t.jS&&(t.Mu.oc(eg(t.jS,this.scale)),t.RS=!1,t.Mu.zr())}))}rv(){super.rv();const t=Tn(ro,so);this.NS.forEach((e=>{if(!e.OS)return;const i=!e.RS&&e.jS?e.jS:ng(e.OS);e.jS=i;const n=!e.RS&&e.YS?e.YS:ig(i);e.YS=n,t.min=Math.min(t.min,n.min),t.max=Math.max(t.max,n.max)})),this.zS=t}rh(t,e){t.Fi(e),this.Zs.Rs()}hh(){return{fill:this.Je,stroke:this.Qe}}US(){const t=this.Zs.wu(this.scale,pc.Simple).th(this.Je).qe(this.Qe).Fi(this.getHighlight());return this.VS.push(t),this.Cs(t),t}$S(t){return this.NS.find((e=>e.Mu===t))}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class og extends tg{constructor(t,e,i,n,r,s,o){super(t,e,i,n,r,o),this.zs="Area Series",this.HS=[],this.WS=!1,this.XS=!1,this.ZS=!1,this.L=new Er,this.Je=Is(this.bi.polarAreaSeriesFillStyle,s),this.Qe=Is(this.bi.polarAreaSeriesStrokeStyle,s)}setData(t){0!==this.HS.length&&this.gs.gi.Ta(_h.Do);const e=(t=>{const e=[];let i,n,r=!1;for(let s=0;s<t.length;s+=1){const o=t[s];let a=!0;if(i){a=!1;const t=o.angle-i.angle;if(Kr(t,0))a=!0;else{const e=Math.sign(t);void 0===n?(n=e,a=!0):n===e&&(a=!0)}}a?e.push(o):r=!0,i=o}return{progressivePoints:e,userDataModified:r}})(t);return e.userDataModified&&!1===this.ZS&&(console.warn("".concat(this.zs," setData data format is faulty. Consecutive 'angle' values should progress in the same direction! Invalid data points have been removed.")),this.ZS=!0),this.HS=e.progressivePoints,this.WS=!0,this.zS=ig(this.HS),this.Zs.Rs(),this}setFillStyle(t){return this.Je="function"==typeof t?t(this.Je):t,this.Zs.Rs(),this}getFillStyle(){return this.Je}setStrokeStyle(t){return this.Qe="function"==typeof t?t(this.Qe):t,this.Zs.Rs(),this}getStrokeStyle(){return this.Qe}setConnectDataAutomaticallyEnabled(t){return this.XS=t,this.Zs.Rs(),this}getConnectDataAutomaticallyEnabled(){return this.XS}Av(){return this.Qg&&this.HS.length>0&&this.getVisible()}hh(){return{fill:this.Je,stroke:this.Qe}}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class ag extends og{constructor(t,e,i,n,r,s,o){super(t,e,i,n,r,s,o),this.JS=this.Zs.wu(this.scale,pc.Simple).Fi(this.getHighlight()),this.Cs(this.JS)}solveNearest(t,e){const i=this.gs.gi.Ka(t),n={x:i.engineX,y:i.engineY},r=this.JS.Ad(n);if(!r)return;const s=rg(r,this.scale);return{cursorPosition:{pointMarker:r,pointMarkerScale:this.scale,resultTable:r,resultTableScale:this.scale},series:this,...s}}Ki(t,e,i){return Ks({series:this},{cursorPosition:0,amplitude:0,angle:0,color:0},(()=>this.solveNearest(e,this.gs.getCursorMode())))}sh(){if(this.WS||this.scale.ye()){const t=this.HS,e=!0===this.XS?eg(t,this.scale):[...eg(t,this.scale),{x:0,y:0}];this.JS.oc(e).th(this.Je).qe(this.Qe),this.WS=!1,this.JS.zr()}}rh(t,e){t.Fi(e),this.Zs.Rs()}}class lg extends tg{constructor(t,e,i,n,r,s,o){super(t,e,i,n,r,o),this.zs="Line Series",this.HS=[],this.WS=!1,this.XS=!1,this.L=new Er,this.eu=Is(this.bi.polarLineSeriesStrokeStyle,s),this.QS=t.Dv(n,void 0,[Ld.UserSeries]).Ah(this.eu).Fi(this.getHighlight()),this.Cs(this.QS)}solveNearest(t,e){const i=this.gs.gi.Ka(t),n={x:i.engineX,y:i.engineY},r=this.QS.KS(n);if(!r)return;const s=rg(r,this.scale);return{cursorPosition:{pointMarker:r,pointMarkerScale:this.scale,resultTable:r,resultTableScale:this.scale},series:this,...s}}Ki(t,e,i){return Ks({series:this},{cursorPosition:0,amplitude:0,angle:0,color:0},(()=>this.solveNearest(e,"show-nearest")))}setData(t){return 0!==this.HS.length&&this.gs.gi.Ta(_h.Do),this.HS=ng(t),this.WS=!0,this.zS=ig(this.HS),this.Zs.Rs(),this}setStrokeStyle(t){this.eu="function"==typeof t?t(this.eu):t;const e=this.eu;return this.QS.Ah(e),this.Zs.Rs(),this}getStrokeStyle(){return this.eu}setConnectDataAutomaticallyEnabled(t){return this.XS=t,this.Zs.Rs(),this}getConnectDataAutomaticallyEnabled(){return this.XS}Av(){return this.Qg&&this.HS.length>0&&this.getVisible()}rh(t,e){t.Fi(e),this.Zs.Rs()}sh(){if(this.WS||this.scale.ye()){const t=eg(this.HS,this.scale),e=So(t);this.XS?(t.push({...t[0]}),this.QS.Pc(!0)):this.QS.Pc(!1),this.QS.Ni().xc(t).Ci(e),this.WS=!1,this.QS.zr()}}hh(){return{stroke:this.eu}}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class hg extends Lh{constructor(t,e,i,n,r,s,o,a,l){super(),this.mi=qs(),this.ci=!1,this.L=new Er,this.qS=n,this.tb=r,this.ib=s,this.sb=o,this.eb=a,this.Zs=t,this.scale=e,this.hb=i,this.bi=l}rb(t){this.nb=t}setHighlight(t){const e=Hs(t);return this.ob=e<=0?void 0:e,this.nb&&this.nb.Fi(e),this.L.D("highlightchange",{highlight:e}),this}dispose(){return this.hb&&this.hb(this),this.Zs.gi.Rs(),this.L.D("dispose",{}),this.ci=!0,this}setVisible(t){return super.setVisible(t),this.ib(),this.Zs.gi.Rs(),this}isDisposed(){return this.ci}setPointerEvents(t){return this.sb(this,t),this}getPointerEvents(){return this.eb(this)}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class cg extends hg{constructor(t,e,i,n,r,s,o,a,l,h,c,u,d,f,g,p,m,y){super(e,i,n,r,s,o,a,l,y),this.ab=1,this.lb=1,this.ny=t,this.Zs=e,this.scale=i,this.dimensionStrategy=h,this.start=c,this.end=u,this.lowerExtreme=d,this.lowerQuartile=f,this.median=g,this.upperQuartile=p,this.upperExtreme=m,this.boundaries=Tn(this.dimensionStrategy.toPoint(c,d),this.dimensionStrategy.toPoint(u,m)),this.cb=this.bi.boxSeriesBodyFillStyle,this.ub=this.bi.boxSeriesBodyStrokeStyle,this.eu=this.bi.boxSeriesStrokeStyle,this.fb=this.bi.boxSeriesMedianStrokeStyle,this.zr()}Ki(t,e){const i=this.ny.Js.toPoint((this.start+this.end)/2,this.median);return{cursorPosition:{resultTable:i,resultTableScale:this.scale,pointMarker:i,pointMarkerScale:{x:this.ny.axisX,y:this.ny.axisY}},...i,figure:this,start:this.start,end:this.end,lowerExtreme:this.lowerExtreme,lowerQuartile:this.lowerQuartile,median:this.median,upperQuartile:this.upperQuartile,upperExtreme:this.upperExtreme,series:this.ny,axisX:this.ny.axisX,axisY:this.ny.axisY}}Ab(){return this.boundaries}setBodyWidth(t){return this.ab=t,this.zr(),this}getBodyWidth(){return this.ab}setBodyFillStyle(t){return this.cb="function"==typeof t?t(this.cb):t,this.tb(),this}getBodyFillStyle(){return this.cb}setBodyStrokeStyle(t){return this.ub="function"==typeof t?t(this.ub):t,this.tb(),this}getBodyStrokeStyle(){return this.ub}setTailWidth(t){return this.lb=t,this.zr(),this}getTailWidth(){return this.lb}setStrokeStyle(t){return this.eu="function"==typeof t?t(this.eu):t,this.tb(),this}getStrokeStyle(){return this.eu}setMedianStrokeStyle(t){return this.fb="function"==typeof t?t(this.fb):t,this.tb(),this}getMedianStrokeStyle(){return this.fb}zr(){this.qS()}getDominantStyle(){return this.getBodyFillStyle()}}class ug extends $f{constructor(t,e,i,n,r,s,o,a,l,h){super(t,e,l,h),this.Xs=!0,this.ys=new Map,this.gs=t,this.Zs=i,this.axisX=n,this.axisY=r,this.axisXAttachHandler=s,this.axisYAttachHandler=o,this.scale=ga(n.oi,r.oi),this.gb=t.yb,t.yb+=1,this.pb(this.scale),this.attacheAxis()}get xAxis(){return this.axisX}get yAxis(){return this.axisY}sl(){const t=Array.from(this.ys.keys());for(const e of t){const t=e.sl();if(t)return t}}setClipping(t){return this.Xs=t,this.Zs.Rs(),this}getClipping(){return this.Xs}attacheAxis(){this.mb=this.axisXAttachHandler(this),this.Sb=this.axisYAttachHandler(this)}Cs(t,e){super.Cs(t,e),t.el(this.gb)}getName(){const t=this.ks(),e="ProgressiveY"===t||"RegressiveY"===t?this.axisX.getTitle():this.axisY.getTitle();return this.zs||e.length>0&&e||"Series"}setDrawOrder(t){return this.gb=t.seriesDrawOrderIndex,this.ys.forEach(((t,e)=>{e.el(this.gb)})),this.gs.gi.Rs(),this}dispose(){return super.dispose(),this.mb(this),this.Sb(this),this.gs.legend.remove(this),this}nv(){super.nv(),Aa(this.Xs,Array.from(this.ys.keys()),this.scale)}getXMax(){var t;return null!==(t=this.bb(!1))&&void 0!==t?t:0}getXMin(){var t;return null!==(t=this.xb(!1))&&void 0!==t?t:0}getYMax(){var t;return null!==(t=this.Mb(!1))&&void 0!==t?t:0}getYMin(){var t;return null!==(t=this.wb(!1))&&void 0!==t?t:0}getBoundaries(){return Tn(En(this.getXMin()||0,this.getYMin()||0),En(this.getXMax()||0,this.getYMax()||0))}setCursorEnabled(t){return super.setCursorEnabled(t)}}const dg=(t,e,i,n)=>{const r=t.length;let s=0;if(void 0!==e){const r=i-e;if(r>0){const e=t.slice(s,r);s+=r,n(e,!0)}}for(;s<r;){const e=t.slice(s,s+i);s+=i,n(e,!1)}};class fg extends ug{constructor(t,e,i,n,r,s,o,a,l,h){super(t,e,i,n,r,s,o,a,l,h),this._b=[],this.kb=void 0,this.Cb=!1,this.hb=t=>{const e=this._b.findIndex((e=>e===t));e>=0&&this._b.splice(e,1),this.Cb=!0,this.kb=void 0,this.Zs.Rs()},this.qS=()=>{this.kb=void 0,this.Cb=!0,this.gs.gi.Rs()},this.tb=()=>{this.Cb=!0,this.gs.gi.Rs()},this.ib=()=>{this.kb=void 0,this.Cb=!0,this.gs.gi.Rs()},this.sb=(t,e)=>{this.setPointerEvents(e)},this.Tb=t=>this.getPointerEvents(),this.fs=Ma.onHoverIndividual}dv(){return this._b.length>0}sh(){super.sh(),this.Cb&&(this.Fb(this._b),this.Cb=!1)}clear(){return this._b.slice().forEach(qr),this._b.length=0,this.Cb=!0,this.kb=void 0,this.Zs.Rs(),this}Ib(t,e){void 0!==e?this._b.splice(e,0,t):this._b.push(t),this.Cb=!0,this.Pb&&this.Pb(t),this.L.$i(t),this.Zs.Rs(),t.addEventListener("pointerenter",(()=>{this.fs===Ma.onHoverIndividual&&t.setHighlight(!0)})),t.addEventListener("pointerleave",(()=>{this.fs===Ma.onHoverIndividual&&t.setHighlight(!1)}))}Av(){return this.Qg&&this._b.length>0&&this.getVisible()}setDefaultStyle(t){return this.Pb=t,this._b.forEach(t),t(this.Lb),this.Cb=!0,this.gs.gi.Rs(),this}setVisible(t){return super.setVisible(t),t!==this.getVisible()&&this._b.forEach((e=>e.setVisible(t))),this}bb(){return this.kb||(this.kb=this.Bb()),this.kb.max.x}xb(){return this.kb||(this.kb=this.Bb()),this.kb.min.x}Mb(){return this.kb||(this.kb=this.Bb()),this.kb.max.y}wb(){return this.kb||(this.kb=this.Bb()),this.kb.min.y}fn(){return En(0,0)}Bb(){const t=Tn(wn(ro,ro),wn(so,so));for(let e=0;e<this._b.length;e+=1)if(this._b[e].getVisible()){const i=this._b[e].Ab();t.min.x=Math.min(t.min.x,i.min.x),t.min.y=Math.min(t.min.y,i.min.y),t.max.x=Math.max(t.max.x,i.max.x),t.max.y=Math.max(t.max.y,i.max.y)}return t}hh(){return{fill:this._b.length>0?this._b[0].getDominantStyle():this.Lb.getDominantStyle()}}}class gg extends fg{constructor(t,e,i,n,r,s,o,a,l,h,c,u){super(t,e,i,n,r,s,o,a,h,c),this.zs="Box Series",this.Db=Ws(),this.Rb=t=>hr(this.Js.toPoint((t.start+t.end)/2,t.median),this.scale,this.Zs.gi.oi),this.L=new Er,this.gs.gi.Ta(_h.Lo),this.Js=l,this.Lb=new cg(this,this.Zs,this.scale,this.hb,Jr,Jr,Jr,Jr,(t=>!1),this.Js,0,0,0,0,0,0,0,this.bi).dispose(),this.Eb=new zd((()=>{const t=this.Zs.yA(this.scale);return this.Cs(t,{setEventHandlers:!1,pointerEventsDisabled:!0}),t}),((t,e,i)=>(t.Ah(i.strokeStyle),e.map((e=>{const i=e.existingMember||t.Uo();return i.mA(e.start,e.end),i}))))),this.Ob=new zd((()=>{const t=this.Db.Qi(this.Zs.Ov(this.scale));return this.Cs(t,{setEventHandlers:!1}),t}),((t,e,i)=>(t.th(i.fillStyle).qe(i.strokeStyle),e.map((e=>{const i=e.existingMember||t.Uo();return i.oc(e.vertices),this.Db.qi(i,e.figure),e.figure.rb(i),i})))),(()=>{this.Db.Ni()}),((t,e)=>{this.Is(e)}))}solveNearest(t,e){const i=this.gs.gi.Ka(t),n={x:i.engineX,y:i.engineY};if(0===this._b.length)return;const r=xa(n,this._b.filter((t=>t.getVisible())),this.Rb,yo);if(!r)return;const s=hr(r[0],this.Zs.gi.oi,this.scale);return{cursorPosition:{resultTable:s,resultTableScale:this.scale,pointMarker:s,pointMarkerScale:{x:this.axisX,y:this.axisY}},...s,figure:r[1],start:r[1].start,end:r[1].end,lowerExtreme:r[1].lowerExtreme,lowerQuartile:r[1].lowerQuartile,median:r[1].median,upperQuartile:r[1].upperQuartile,upperExtreme:r[1].upperExtreme,series:this,axisX:this.axisX,axisY:this.axisY}}Ki(t,e,i){if(!i)return;const n=this._b.find((t=>t.nb===i));if(!n)return;const r=this.Js.toPoint((n.start+n.end)/2,n.median);return{cursorPosition:{resultTable:r,resultTableScale:this.scale,pointMarker:r,pointMarkerScale:{x:this.axisX,y:this.axisY}},...r,start:n.start,end:n.end,lowerExtreme:n.lowerExtreme,lowerQuartile:n.lowerQuartile,median:n.median,upperQuartile:n.upperQuartile,upperExtreme:n.upperExtreme,figure:n,series:this,axisX:this.axisX,axisY:this.axisY}}pb(t){if(!(t instanceof sr||t instanceof or))throw new Error("BoxSeries only supports Linear Axes")}Fb(t){const e=this.Ob.DA(),i=this.Eb.DA();t.forEach((t=>{if(!t.getVisible())return;const n=this.Js.toPoint((t.start+t.end-t.ab*(t.end-t.start))/2,t.lowerQuartile),r=this.Js.toPoint((t.end-t.start)*t.ab,t.upperQuartile-t.lowerQuartile),s=this.Js.toPoint((t.start+t.end)/2,t.lowerQuartile),o=this.Js.toPoint((t.start+t.end)/2,t.lowerExtreme),a=this.Js.toPoint((t.start+t.end)/2,t.upperQuartile),l=this.Js.toPoint((t.start+t.end)/2,t.upperExtreme),h=this.Js.toPoint((t.start+t.end-t.lb*(t.end-t.start))/2,t.lowerExtreme),c=this.Js.toPoint((t.start+t.end+t.lb*(t.end-t.start))/2,t.lowerExtreme),u=this.Js.toPoint((t.start+t.end-t.lb*(t.end-t.start))/2,t.upperExtreme),d=this.Js.toPoint((t.start+t.end+t.lb*(t.end-t.start))/2,t.upperExtreme),f=this.Js.toPoint((t.start+t.end-t.ab*(t.end-t.start))/2,t.median),g=this.Js.toPoint((t.start+t.end+t.ab*(t.end-t.start))/2,t.median);e.add({mi:t.mi,vertices:[{x:n.x,y:n.y},{x:n.x,y:n.y+r.y},{x:n.x+r.x,y:n.y+r.y},{x:n.x+r.x,y:n.y}],figure:t},{fillStyle:t.cb,strokeStyle:t.ub}),i.add({mi:0,start:s,end:o,figure:t},{strokeStyle:t.eu}),i.add({mi:0,start:a,end:l,figure:t},{strokeStyle:t.eu}),i.add({mi:0,start:h,end:c,figure:t},{strokeStyle:t.eu}),i.add({mi:0,start:u,end:d,figure:t},{strokeStyle:t.eu}),i.add({mi:0,start:f,end:g,figure:t},{strokeStyle:t.fb})})),e.finishPlot(),i.finishPlot()}add(t){const e=new cg(this,this.Zs,this.scale,this.hb,this.qS,this.tb,this.ib,this.sb,this.Tb,this.Js,t.start,t.end,t.lowerExtreme,t.lowerQuartile,t.median,t.upperQuartile,t.upperExtreme,this.bi);return this.Ib(e),this.Cb=!0,this.gs.gi.Rs(),e}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class pg extends hg{constructor(t,e,i,n,r,s,o,a,l,h,c){super(e,i,n,r,s,o,a,l,h),this.dimensions={x:0,y:0,radiusX:0,radiusY:0},this.rc=Tn(En(0,0),En(0,0)),this.ny=t,this.Zs=e,this.scale=i,this.Je=Is(h.ellipseSeriesFillStyle,c),this.Qe=Is(h.ellipseSeriesStrokeStyle,c)}Ki(t,e){const i=this.getDimensions(),n=En(i.x,i.y);return{cursorPosition:{resultTable:n,resultTableScale:this.scale,pointMarker:n,pointMarkerScale:{x:this.ny.axisX,y:this.ny.axisY}},...n,figure:this,...this.getDimensions(),series:this.ny,axisX:this.ny.axisX,axisY:this.ny.axisY}}Ab(){return this.rc}setDimensions(t){return this.dimensions=t,this.rc=Tn(En(t.x-t.radiusX,t.y-t.radiusY),En(t.x+t.radiusX,t.y+t.radiusY)),this.qS(),this.Zs.Rs(),this}getDimensions(){return this.dimensions}setFillStyle(t){return this.Je="function"==typeof t?t(this.Je):t,this.tb(),this}getFillStyle(){return this.Je}setStrokeStyle(t){return this.Qe="function"==typeof t?t(this.Qe):t,this.tb(),this}getStrokeStyle(){return this.Qe}getDominantStyle(){return this.Je}}class mg extends fg{constructor(t,e,i,n,r,s,o,a,l,h,c){super(t,e,i,n,r,s,o,a,l,h),this.zs="Ellipse Series",this.Db=Ws(),this.Rb=t=>{const e=t.getDimensions(),i=En(e.x,e.y);return hr(i,this.scale,this.Zs.gi.oi)},this.L=new Er,this.gs.gi.Ta(_h.Lo),this.zb=c,this.Lb=new pg(this,this.Zs,this.scale,Jr,Jr,Jr,Jr,Jr,(t=>!1),this.bi,this.zb).dispose(),this.Ob=new zd((()=>{const t=this.Db.Qi(this.Zs.Ov(this.scale));return this.Cs(t,{setEventHandlers:!1}),t}),((t,e,i)=>(t.th(i.fillStyle).qe(i.strokeStyle),e.map((e=>{const i=e.existingMember||t.Uo();return i.oc(e.vertices),this.Db.qi(i,e.figure),e.figure.rb(i),i})))),(()=>{this.Db.Ni()}),((t,e)=>{this.Is(e)}))}solveNearest(t,e){const i=this.gs.gi.Ka(t),n={x:i.engineX,y:i.engineY};if(0===this._b.length)return;const r=xa(n,this._b.filter((t=>t.getVisible())),this.Rb,yo);if(!r)return;const s=hr(r[0],this.Zs.gi.oi,this.scale);return{cursorPosition:{resultTable:s,resultTableScale:this.scale,pointMarker:s,pointMarkerScale:{x:this.axisX,y:this.axisY}},...s,figure:r[1],...r[1].getDimensions(),series:this,axisX:this.axisX,axisY:this.axisY}}Ki(t,e,i){if(!i)return;const n=this._b.find((t=>t.nb===i));if(!n)return;const r=n.getDimensions();return{cursorPosition:{resultTable:r,resultTableScale:this.scale,pointMarker:r,pointMarkerScale:{x:this.axisX,y:this.axisY}},...r,figure:n,series:this,axisX:this.axisX,axisY:this.axisY}}pb(t){if(!(t instanceof sr||t instanceof or))throw new Error("EllipseSeries only supports Linear Axes")}Fb(t){const e=this.Ob.DA();t.forEach((t=>{if(!t.getVisible())return;const i=t.getDimensions(),n=[],r=void 0!==i.drawSteps?i.drawSteps:72;for(let e=0;e<=r;e+=1){const t=e/r*2*Math.PI,s=i.x+i.radiusX*Math.cos(t),o=i.y+i.radiusY*Math.sin(t);n.push({x:s,y:o})}const s=t.getFillStyle(),o=t.getStrokeStyle();e.add({mi:t.mi,vertices:n,figure:t},{fillStyle:s,strokeStyle:o})})),e.finishPlot()}add(t){const e=new pg(this,this.Zs,this.scale,this.hb,this.qS,this.tb,this.ib,this.sb,this.Tb,this.bi,this.zb).setDimensions(t);return this.Ib(e),this.Cb=!0,this.gs.gi.Rs(),e}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class yg extends hg{constructor(t,e,i,n,r,s,o,a,l,h,c){super(e,i,n,r,s,o,a,l,h),this.Vb=[],this.rc=oo,this.ny=t,this.Zs=e,this.scale=i,this.Je=Is(h.polygonSeriesFillStyle,c),this.Qe=Is(h.polygonSeriesStrokeStyle,c)}Ki(t,e){const i=this.Ab(),n=En((i.min.x+i.max.x)/2,(i.min.y+i.max.y)/2);return{cursorPosition:{resultTable:n,resultTableScale:this.scale,pointMarker:n,pointMarkerScale:{x:this.ny.axisX,y:this.ny.axisY}},...n,figure:this,coordinates:this.getDimensions(),series:this.ny,axisX:this.ny.axisX,axisY:this.ny.axisY}}Ab(){return this.rc}setDimensions(t){return this.Vb=t,this.rc=So(this.Vb),this.qS(),this.Zs.Rs(),this}getDimensions(){return this.Vb}setFillStyle(t){return this.Je="function"==typeof t?t(this.Je):t,this.tb(),this}getFillStyle(){return this.Je}setStrokeStyle(t){return this.Qe="function"==typeof t?t(this.Qe):t,this.tb(),this}getStrokeStyle(){return this.Qe}getDominantStyle(){return this.Je}}class vg extends fg{constructor(t,e,i,n,r,s,o,a,l,h,c){super(t,e,i,n,r,s,o,a,l,h),this.zs="Polygon Series",this.Db=Ws(),this.Rb=t=>{const e=t.Ab(),i=En((e.min.x+e.max.x)/2,(e.min.y+e.max.y)/2);return hr(i,this.scale,this.Zs.gi.oi)},this.L=new Er,this.gs.gi.Ta(_h.Lo),this.zb=c,this.Lb=new yg(this,this.Zs,this.scale,Jr,Jr,Jr,Jr,Jr,(t=>!1),this.bi,this.zb).dispose(),this.Ob=new zd((()=>{const t=this.Db.Qi(this.Zs.Ov(this.scale));return this.Cs(t,{setEventHandlers:!1}),t}),((t,e,i)=>(t.th(i.fillStyle).qe(i.strokeStyle),e.map((e=>{const i=e.existingMember||t.Uo();return i.oc(e.vertices),this.Db.qi(i,e.figure),e.figure.rb(i),i})))),(()=>{this.Db.Ni()}),((t,e)=>{this.Is(e)}))}solveNearest(t,e){const i=this.gs.gi.Ka(t),n={x:i.engineX,y:i.engineY};if(0===this._b.length)return;const r=xa(n,this._b.filter((t=>t.getVisible())),this.Rb,yo);if(!r)return;const s=hr(r[0],this.Zs.gi.oi,this.scale);return{cursorPosition:{resultTable:s,resultTableScale:this.scale,pointMarker:s,pointMarkerScale:{x:this.axisX,y:this.axisY}},...s,figure:r[1],coordinates:r[1].getDimensions(),series:this,axisX:this.axisX,axisY:this.axisY}}Ki(t,e,i){if(!i)return;const n=this._b.find((t=>t.nb===i));if(!n)return;const r=n.Ab(),s=En((r.min.x+r.max.x)/2,(r.min.y+r.max.y)/2);return{cursorPosition:{resultTable:s,resultTableScale:this.scale,pointMarker:s,pointMarkerScale:{x:this.axisX,y:this.axisY}},...s,coordinates:n.getDimensions(),figure:n,series:this,axisX:this.axisX,axisY:this.axisY}}pb(t){}Fb(t){const e=this.Ob.DA();t.forEach((t=>{if(!t.getVisible())return;const i=t.getDimensions(),n=t.getFillStyle(),r=t.getStrokeStyle();e.add({mi:t.mi,vertices:i,figure:t},{fillStyle:n,strokeStyle:r})})),e.finishPlot()}add(t){const e=new yg(this,this.Zs,this.scale,this.hb,this.qS,this.tb,this.ib,this.sb,this.Tb,this.bi,this.zb).setDimensions(t);return this.Ib(e),this.Cb=!0,this.gs.gi.Rs(),e}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class xg extends hg{constructor(t,e,i,n,r,s,o,a,l,h,c){super(e,i,n,r,s,o,a,l,h),this.Nb={x:0,y:0,width:0,height:0},this.Gb={x1:0,y1:0,x2:0,y2:0},this.rc=Tn(En(0,0),En(0,0)),this.ny=t,this.Je=Is(h.rectangleSeriesFillStyle,c),this.Zs=e,this.scale=i,this.Qe=Is(h.rectangleSeriesStrokeStyle,c)}setCornerRadius(t){return this.$b=t,this.qS(),this}getCornerRadius(){return this.$b}Ki(t,e){const i=this.getDimensionsPositionAndSize(),n=En(i.x+i.width/2,i.y+i.height/2);return{cursorPosition:{resultTable:n,resultTableScale:this.scale,pointMarker:n,pointMarkerScale:{x:this.ny.axisX,y:this.ny.axisY}},...n,figure:this,positionAndSize:this.getDimensionsPositionAndSize(),...this.getDimensionsTwoPoints(),series:this.ny,axisX:this.ny.axisX,axisY:this.ny.axisY}}Ab(){return this.rc}setDimensions(t){return"x"in t?(this.Nb=t,this.Gb={x1:t.x,y1:t.y,x2:t.x+t.width,y2:t.y+t.height}):(this.Gb=t,this.Nb={x:t.x1,y:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}),this.rc=So([this.Nb,En(this.Nb.x+this.Nb.width,this.Nb.y+this.Nb.height)]),this.qS(),this.Zs.Rs(),this}getDimensionsPositionAndSize(){return this.Nb}getDimensionsTwoPoints(){return this.Gb}setFillStyle(t){return this.Je="function"==typeof t?t(this.Je):t,this.tb(),this}getFillStyle(){return this.Je}setStrokeStyle(t){return this.Qe="function"==typeof t?t(this.Qe):t,this.tb(),this}getStrokeStyle(){return this.Qe}getDominantStyle(){return this.Je}}class bg extends fg{constructor(t,e,i,n,r,s,o,a,l,h,c){super(t,e,i,n,r,s,o,a,l,h),this.zs="Rectangle Series",this.Ub=Ws(),this.Rb=t=>{const e=t.getDimensionsPositionAndSize(),i=En(e.x+e.width/2,e.y+e.height/2);return hr(i,this.scale,this.Zs.gi.oi)},this.L=new Er,this.gs.gi.Ta(_h.Lo),this.zb=c,this.Lb=new xg(this,this.Zs,this.scale,Jr,Jr,Jr,Jr,Jr,(t=>!1),this.bi,this.zb).dispose(),this.Yb=new zd((()=>{const t=this.Ub.Qi(this.Zs.gd(this.scale));return this.Cs(t,{setEventHandlers:!1}),t}),((t,e,i)=>(t.th(i.fillStyle).qe(i.strokeStyle),e.map((e=>{const i=e.existingMember||t.Uo();return i.md(e.x1,e.y1,e.x2,e.y2).pd(e.roundedCorners?{extent:e.roundedCorners,c_x1_y1:!0,c_x1_y2:!0,c_x2_y1:!0,c_x2_y2:!0}:void 0),this.Ub.qi(i,e.figure),e.figure.rb(i),i})))),(()=>{this.Ub.Ni()}),((t,e)=>{this.Is(e)}))}solveNearest(t,e){const i=this.gs.gi.Ka(t),n={x:i.engineX,y:i.engineY};if(0===this._b.length)return;const r=xa(n,this._b.filter((t=>t.getVisible())),this.Rb,yo);if(!r)return;const s=hr(r[0],this.Zs.gi.oi,this.scale);return{cursorPosition:{resultTable:s,resultTableScale:this.scale,pointMarker:s,pointMarkerScale:{x:this.axisX,y:this.axisY}},...s,figure:r[1],positionAndSize:r[1].getDimensionsPositionAndSize(),...r[1].getDimensionsTwoPoints(),series:this,axisX:this.axisX,axisY:this.axisY}}Ki(t,e,i){if(!i)return;const n=this._b.find((t=>t.nb===i));if(!n)return;const r=n.getDimensionsPositionAndSize(),s=En(r.x+r.width/2,r.y+r.height/2);return{cursorPosition:{resultTable:s,resultTableScale:this.scale,pointMarker:s,pointMarkerScale:{x:this.axisX,y:this.axisY}},...s,positionAndSize:n.getDimensionsPositionAndSize(),...n.getDimensionsTwoPoints(),figure:n,series:this,axisX:this.axisX,axisY:this.axisY}}pb(t){}Fb(t){const e=this.Yb.DA();t.forEach((t=>{if(!t.getVisible())return;const i=t.getDimensionsTwoPoints(),n=t.getFillStyle(),r=t.getStrokeStyle();e.add({mi:t.mi,figure:t,roundedCorners:t.$b,...i},{fillStyle:n,strokeStyle:r})})),e.finishPlot()}add(t){const e=new xg(this,this.Zs,this.scale,this.hb,this.qS,this.tb,this.ib,this.sb,this.Tb,this.bi,this.zb).setDimensions(t);return this.Ib(e),this.Cb=!0,this.gs.gi.Rs(),e}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class Sg extends hg{constructor(t,e,i,n,r,s,o,a,l,h,c){super(e,i,n,r,s,o,a,l,h),this.dimensions={startX:0,startY:0,endX:0,endY:0},this.rc=Tn(En(0,0),En(0,0)),this.ny=t,this.bi=h,this.Zs=e,this.scale=i,this.Qe=Is(h.segmentSeriesStrokeStyle,c)}Ki(t,e){const i=this.getDimensions(),n=En((i.startX+i.endX)/2,(i.startY+i.endY)/2);return{cursorPosition:{resultTable:n,resultTableScale:this.scale,pointMarker:n,pointMarkerScale:{x:this.ny.axisX,y:this.ny.axisY}},...n,figure:this,...this.getDimensions(),series:this.ny,axisX:this.ny.axisX,axisY:this.ny.axisY}}Ab(){return this.rc}setDimensions(t){return this.dimensions=t,this.rc=Tn(En(Math.min(t.startX,t.endX),Math.min(t.startY,t.endY)),En(Math.max(t.startX,t.endX),Math.max(t.startY,t.endY))),this.qS(),this.Zs.Rs(),this}getDimensions(){return this.dimensions}setStrokeStyle(t){return this.Qe="function"==typeof t?t(this.Qe):t,this.tb(),this}getStrokeStyle(){return this.Qe}getDominantStyle(){const t=this.Qe;return t!==Br?t.getFillStyle():na}}class Ag extends fg{constructor(t,e,i,n,r,s,o,a,l,h,c){super(t,e,i,n,r,s,o,a,l,h),this.zs="Segment Series",this.jb=Ws(),this.Rb=t=>{const e=t.getDimensions(),i=En((e.startX+e.endX)/2,(e.startY+e.endY)/2);return hr(i,this.scale,this.Zs.gi.oi)},this.L=new Er,this.gs.gi.Ta(_h.Lo),this.zb=c,this.Lb=new Sg(this,this.Zs,this.scale,Jr,Jr,Jr,Jr,Jr,(t=>!1),this.bi,this.zb).dispose(),this.Eb=new zd((()=>{const t=this.jb.Qi(this.Zs.yA(this.scale));return this.Cs(t,{setEventHandlers:!1}),t}),((t,e,i)=>(t.Ah(i.strokeStyle),e.map((e=>{const i=e.existingMember||t.Uo();return i.mA(e.start,e.end),this.jb.qi(i,e.figure),e.figure.rb(i),i})))),(()=>{this.jb.Ni()}),((t,e)=>{this.Is(e)}))}solveNearest(t,e){const i=this.gs.gi.Ka(t),n={x:i.engineX,y:i.engineY};if(0===this._b.length)return;const r=xa(n,this._b.filter((t=>t.getVisible())),this.Rb,yo);if(!r)return;const s=hr(r[0],this.Zs.gi.oi,this.scale);return{cursorPosition:{resultTable:s,resultTableScale:this.scale,pointMarker:s,pointMarkerScale:{x:this.axisX,y:this.axisY}},...s,figure:r[1],...r[1].getDimensions(),series:this,axisX:this.axisX,axisY:this.axisY}}Ki(t,e,i){if(!i)return;const n=this._b.find((t=>t.nb===i));if(!n)return;const r=n.getDimensions(),s=En((r.startX+r.endX)/2,(r.startY+r.endY)/2);return{cursorPosition:{resultTable:s,resultTableScale:this.scale,pointMarker:s,pointMarkerScale:{x:this.axisX,y:this.axisY}},...s,...r,figure:n,series:this,axisX:this.axisX,axisY:this.axisY}}pb(t){}Fb(t){const e=this.Eb.DA();t.forEach((t=>{if(!t.getVisible())return;const i=t.getDimensions(),n={x:i.startX,y:i.startY},r={x:i.endX,y:i.endY},s=t.getStrokeStyle();e.add({mi:t.mi,start:n,end:r,figure:t},{strokeStyle:s})})),e.finishPlot()}add(t){const e=new Sg(this,this.Zs,this.scale,this.hb,this.qS,this.tb,this.ib,this.sb,this.Tb,this.bi,this.zb).setDimensions(t);return this.Ib(e),this.Cb=!0,this.gs.gi.Rs(),e}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}const Eg={x:0,y:0};class wg extends hg{constructor(t,e,i,n,r,s,o,a,l,h,c){var u;super(e,i,n,r,s,o,a,l,h),this.vl="Text",this.ea=Eg,this.nf=Eg,this.xl=0,this.nt=Zs,this.ny=t,this.Je=h.textSeriesFillStyle?Is(h.textSeriesFillStyle,c):h.uiTextFillStyle,this.Qn=null!==(u=h.textSeriesFont)&&void 0!==u?u:h.uiTextFont,this.Mu=this.Zs.Mn(i,!1).Qr(h.textSeriesShadow),this.Mu.yl=!0,this.L.Vi(this.Mu,{getExtraData:(t,e,i)=>this.Ki(i,t)}),this.addEventListener("dispose",(()=>this.Mu.dispose()))}Ki(t,e){const i=this.ea;return{cursorPosition:{resultTable:i,resultTableScale:this.scale,pointMarker:i,pointMarkerScale:{x:this.ny.axisX,y:this.ny.axisY}},...i,figure:this,series:this.ny,axisX:this.ny.axisX,axisY:this.ny.axisY}}Ab(){return{min:{x:this.ea.x,y:this.ea.y},max:{x:this.ea.x,y:this.ea.y}}}Hb(){this.Mu.Kr(this.vl).eh(this.ea).Hl(this.nf).kr(this.xl).bn(this.nt).th(this.Je)._r(this.Qn)}getSizePixels(){return this.Hb(),this.Mu.zr().pu()}getBoundingBox(){return this.Hb(),this.Mu.zr().gu()}setText(t){return this.vl=t,this.qS(),this}getText(){return this.vl}setLocation(t){return this.ea=t,this.qS(),this}getLocation(){return this.ea}setAlignment(t){return this.nf=t,this.qS(),this}getAlignment(){return this.nf}setRotation(t){return this.xl=t,this.qS(),this}getRotation(){return this.xl}setMargin(t){return this.nt=Bn(this.nt,t),this.qS(),this}getMargin(){return this.nt}setLabelShadow(t){return this.Mu.Qr(t),this.Zs.Rs(),this}getLabelShadow(){return this.Mu.zl()}setFillStyle(t){return this.Je="function"==typeof t?t(this.Je):t,this.tb(),this}getFillStyle(){return this.Je}setFont(t){return this.Qn="function"==typeof t?t(this.Qn):t,this.tb(),this}getFont(){return this.Qn}getDominantStyle(){return this.Je}}class kg extends fg{constructor(t,e,i,n,r,s,o,a,l,h,c){super(t,e,i,n,r,s,o,a,l,h),this.zs="Text Series",this.Rb=t=>hr(t.getLocation(),this.scale,this.Zs.gi.oi),this.L=new Er,this.zb=c,this.Lb=new wg(this,this.Zs,this.scale,Jr,Jr,Jr,Jr,Jr,(t=>!1),this.bi,this.zb).dispose()}pb(t){}Fb(t){t.forEach((t=>{t.Hb(),t.Mu.setVisible(t.getVisible())}))}add(t){const e=new wg(this,this.Zs,this.scale,this.hb,this.qS,this.tb,this.ib,this.sb,this.Tb,this.bi,this.zb);return(null==t?void 0:t.alignment)&&e.setAlignment(t.alignment),(null==t?void 0:t.fillStyle)&&e.setFillStyle(t.fillStyle),(null==t?void 0:t.font)&&e.setFont(t.font),(null==t?void 0:t.location)&&e.setLocation(t.location),(null==t?void 0:t.margin)&&e.setMargin(t.margin),void 0!==(null==t?void 0:t.rotation)&&e.setRotation(t.rotation),(null==t?void 0:t.text)&&e.setText(t.text),this.Ib(e),this.Cb=!0,this.Cs(e.Mu,{setEventHandlers:!1,isText:!0}),this.gs.gi.Rs(),this.L.Vi(e.Mu,{getExtraData:(t,i,n)=>e.Ki(n,t)}),e}Ki(t,e,i){return Ks({series:this,axisX:this.axisX,axisY:this.axisY},{cursorPosition:0,x:0,y:0,multiHit:0,figure:0},(()=>this.solveNearest(e,this.gs.getCursorMode())))}solveNearest(t,e){const i=this.gs.gi.Ka(t),n={x:i.engineX,y:i.engineY};if(0===this._b.length)return;const r=xa(n,this._b.filter((t=>t.getVisible())),this.Rb,yo);if(!r)return;const s=hr(r[0],this.Zs.gi.oi,this.scale);return{cursorPosition:{resultTable:s,resultTableScale:this.scale,pointMarker:s,pointMarkerScale:{x:this.axisX,y:this.axisY}},...s,figure:r[1],series:this,axisX:this.axisX,axisY:this.axisY}}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class Cg extends ug{constructor(t,e,i,n,r,s,o,a,l,h,c,u){super(t,e,i,n,r,s,o,a,h,c),this.zs="Heatmap Grid Series",this.Xy={},this.gs.gi.Ta(_h.Po),this.Wb=l,this.bi=h;const d=u;this.Je=Is(h.heatmapGridSeriesFillStyle,d),this.Zy=Is(this.bi.heatmapGridSeriesWireframeStyle,d);const f={heatmapDataType:"intensity",dataOrder:l.dataOrder||"columns",columns:l.columns,rows:l.rows};this.Pa=f,this.Xb=this.Zs.Zb(this.scale,[],f).th(this.Je).Jy(this.Zy).Fi(this.getHighlight()),this.Cs(this.Xb),this.setHighlightOnHover(!1)}solveNearest(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"show-nearest";const i=this.gs.gi.Ka(t),n={x:i.engineX,y:i.engineY},r=hr(n,this.Zs.gi.oi,this.scale),s=fy(e)?this.Xb.Jb(r):this.Xb.Ad(r);if(s)return{cursorPosition:{resultTable:s,resultTableScale:this.scale,pointMarker:s,pointMarkerScale:{x:this.axisX,y:this.axisY}},x:s.x,y:s.y,column:s.column,row:s.row,intensity:s.cellValue,series:this,axisX:this.axisX,axisY:this.axisY,lut:fa(this.Je)?this.Je.lut:void 0}}Ki(t,e,i){return Ks({series:this,axisX:this.axisX,axisY:this.axisY},{cursorPosition:0,x:0,y:0,multiHit:0,intensity:0,column:0,row:0,lut:fa(this.Je)?this.Je.lut:void 0},(()=>this.solveNearest(e,this.gs.getCursorMode())))}Ky(){const t=this.Xy.start||{x:0,y:0};let e;e=this.Xy.end?{x:(this.Xy.end.x-t.x)/this.Pa.columns,y:(this.Xy.end.y-t.y)/this.Pa.rows}:this.Xy.step?this.Xy.step:{x:1,y:1},this.Xb.qy(t,e),this.gs.gi.Rs()}setStart(t){return this.Xy.start=t,this.Ky(),this}getStart(){return this.Xb.tp().start}setStep(t){return this.Xy.step=t,this.Ky(),this}getStep(){return this.Xb.tp().step}setEnd(t){return this.Xy.end=t,this.Ky(),this}getEnd(){return this.Xb.tp().end}Av(){return this.Qg&&this.getVisible()}Hs(){return Rs(this.Je,this.Xb.wi())}hh(){return{fill:this.Je}}Qb(t){this.Xb.Qb().forEach((e=>{t.Xb.hp(e)}))}bb(){const t=this.Xb;return t?t.Xi():void 0}xb(){const t=this.Xb;return t?t.Wi():void 0}Mb(){const t=this.Xb;return t?t.Ji():void 0}wb(){const t=this.Xb;return t?t.Zi():void 0}fn(){const t=En(0,0);return t.x=Math.max(t.x,this.Xb.lc()),t.y=Math.max(t.y,this.Xb.cc()),t}pb(t){if(!(t instanceof sr))throw new Error("HeatmapGridSeries can only be attached to a pair of Linear Axes.")}rh(t,e){t.Fi(e),this.Zs.Rs()}sh(){return super.sh(),this.Xb.Ci(this.getBoundaries()),this}}class Mg extends Cg{constructor(t,e,i,n,r,s,o,a,l,h,c,u){super(t,e,i,n,r,s,o,a,l,h,c,u),this.lv=!1,this.L=new Er}dv(){return this.lv}invalidateIntensityValues(t){if(this.lv&&this.gs.gi.Ta(_h.Do),Array.isArray(t)){if(0===t.length)return this;const e={x:t.length,y:t[0].length,columns:"columns"===this.Pa.dataOrder?t.length:t[0].length,rows:"rows"===this.Pa.dataOrder?t.length:t[0].length},i="columns"===this.Pa.dataOrder?this.Pa.columns:this.Pa.rows,n="columns"===this.Pa.dataOrder?this.Pa.rows:this.Pa.columns;if(e.x>i||e.y>n){if(!0===this.gs._g.La){const t="HeatmapGridSeries.invalidateIntensityValues intensity matrix overflow.\nGrid ".concat(this.Pa.columns,"x").concat(this.Pa.rows,", input ").concat(e.columns,"x").concat(e.rows,".\nExcess data will be automatically clipped. This can result in sub-optimal performance.");jr.console.warn(t)}const r=[];for(let e=0;e<i;e+=1)r[e]=t[e].slice(0,n);t=r}this.Xb.hp({type:"intensity",lengthPrimary:e.x,lengthSecondary:e.y,startPrimary:0,startSecondary:0,values:t})}else if("iColumn"in t&&"iRow"in t&&"values"in t){if(0===t.values.length)return this;const e={primary:t.values.length,secondary:t.values[0].length,columns:"columns"===this.Pa.dataOrder?t.values.length:t.values[0].length,rows:"rows"===this.Pa.dataOrder?t.values.length:t.values[0].length},i="columns"===this.Pa.dataOrder?t.iColumn:t.iRow,n=i+e.primary-1,r="columns"===this.Pa.dataOrder?t.iRow:t.iColumn,s=r+e.secondary-1,o=("columns"===this.Pa.dataOrder?this.Pa.columns:this.Pa.rows)-1,a=("columns"===this.Pa.dataOrder?this.Pa.rows:this.Pa.columns)-1;if(i<0||r<0){if(!0===this.gs._g.La){const e="HeatmapGridSeries.invalidateIntensityValues invalidation start below 0 not permitted.\niColumn: ".concat(t.iColumn,", iRow: ").concat(t.iRow,".\nNo intensity values will be invalidated.");jr.console.warn(e)}return this}if(n>o||s>a){if(!0===this.gs._g.La){const i="HeatmapGridSeries.invalidateIntensityValues intensity matrix overflow.\nGrid ".concat(this.Pa.columns,"x").concat(this.Pa.rows,", input ").concat(e.columns,"x").concat(e.rows," starting at [").concat(t.iColumn,",").concat(t.iRow,"].\nOut of bounds data will be automatically clipped. This can result in sub-optimal performance.");jr.console.warn(i)}const i=Math.max(n-o,0),r=e.primary-i,l=Math.max(s-a,0),h=[];for(let e=0;e<r;e+=1)h[e]=t.values[e].slice(0,l>0?-l:void 0);t={iColumn:t.iColumn,iRow:t.iRow,values:h}}this.Xb.hp({type:"intensity",lengthPrimary:t.values.length,lengthSecondary:t.values[0].length,startPrimary:i,startSecondary:r,values:t.values})}return this.L.D("invalidateintensity",{value:t}),this.Zs.Rs(),this.lv=!0,this}setFillStyle(t){return this.Je="function"==typeof t?t(this.Je):t,this.Xb.th(this.Je),this.L.D("stylechange",{}),this.Zs.Rs(),this}getFillStyle(){return this.Je}setIntensityInterpolation(t){return t=t||"disabled",this.Xb.sp(t),this.Zs.Rs(),this.L.D("stylechange",{}),this}getIntensityInterpolation(){return this.Xb.ep()}clear(){return this.Xb.Ni(),this.Zs.Rs(),this.L.D("dataclear",{}),this}setWireframeStyle(t){return this.Zy="function"==typeof t?t(this.Zy):t,this.Xb.Jy(this.Zy),this.Zs.Rs(),this.L.D("stylechange",{}),this}getWireframeStyle(){return this.Zy}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class Tg extends ug{constructor(t,e,i,n,r,s,o,a,l,h,c,u){super(t,e,i,n,r,s,o,a,h,c),this.zs="Scrolling Heatmap Grid Series",this.Xy={},this.gs.gi.Ta(_h.Po),this.gs.gi.Ta(_h.Do);const d=u;this.Je=Is(h.heatmapScrollingGridSeriesFillStyle,d),this.Zy=Is(this.bi.heatmapScrollingGridSeriesWireframeStyle,d);const f={scrollDimension:"columns",heatmapDataType:"intensity",...l};this.Pa=f,this.Kb=this.Zs.qb(this.scale,[],f).th(this.Je).Jy(this.Zy).Fi(this.getHighlight()),this.Cs(this.Kb),this.setHighlightOnHover(!1)}dv(){return this.Kb.cp()>0}solveNearest(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"show-nearest";const i=this.gs.gi.Ka(t),n={x:i.engineX,y:i.engineY},r=hr(n,this.Zs.gi.oi,this.scale),s=fy(e)?this.Kb.Jb(r):this.Kb.Ad(r);if(s)return{cursorPosition:{resultTable:s,resultTableScale:this.scale,pointMarker:s,pointMarkerScale:{x:this.axisX,y:this.axisY}},x:s.x,y:s.y,column:s.column,row:s.row,intensity:s.cellValue,series:this,axisX:this.axisX,axisY:this.axisY,lut:fa(this.Je)?this.Je.lut:void 0}}Ki(t,e,i){return Ks({series:this,axisX:this.axisX,axisY:this.axisY},{cursorPosition:0,x:0,y:0,intensity:0,multiHit:0,column:0,row:0,lut:fa(this.Je)?this.Je.lut:void 0},(()=>this.solveNearest(e,this.gs.getCursorMode())))}Ky(){const t=this.Xy.start||{x:0,y:0};let e;e=this.Xy.step?this.Xy.step:{x:1,y:1},this.Kb.qy(t,e),this.gs.gi.Rs()}setStart(t){return this.Xy.start=t,this.Ky(),this}getStart(){return this.Kb.tp().start}setStep(t){return this.Xy.step=t,this.Ky(),this}getStep(){return this.Kb.tp().step}clear(){return this.Kb.Ni(),this.Zs.Rs(),this}setWireframeStyle(t){return this.Zy="function"==typeof t?t(this.Zy):t,this.Kb.Jy(this.Zy),this.Zs.Rs(),this}getWireframeStyle(){return this.Zy}setPixelInterpolationMode(t){return t=t||"disabled",this.Kb.sp(t),this.Zs.Rs(),this}getPixelInterpolationMode(){return this.Kb.ep()}setDataCleaning(t){return this.Kb.tx(t),this.Zs.Rs(),this}Av(){return this.Qg&&this.getVisible()}Hs(){return Rs(this.Je,this.Kb.wi())}hh(){return{fill:this.Je}}th(t){return this.Je="function"==typeof t?t(this.Je):t,this.Kb.th(this.Je),this.Zs.Rs(),this}pb(t){if(!(t instanceof sr))throw new Error("HeatmapScrollingGridSeries can only be attached to a pair of Linear Axes.")}bb(){return this.Kb.Xi()||0}xb(){return this.Kb.Wi()||0}Mb(){return this.Kb.Ji()||0}wb(){return this.Kb.Zi()||0}fn(){const t=En(0,0);return t.x=Math.max(t.x,this.Kb.lc()),t.y=Math.max(t.y,this.Kb.cc()),t}rh(t,e){t.Fi(e),this.Zs.Rs()}}class Pg extends Tg{constructor(t,e,i,n,r,s,o,a,l,h,c,u){super(t,e,i,n,r,s,o,a,l,h,c,u),this.L=new Er}addIntensityValues(t){if(0===t.length||0===t[0].length)return this;const e=t.length,i=t[0].length,n=("columns"===this.Pa.scrollDimension?t.length:t[0].length,"rows"===this.Pa.scrollDimension?t.length:t[0].length,0+i-1),r=this.Pa.resolution-1;if(n>r){if(!0===this.gs._g.La){const t="HeatmapScrollingGridSeries.addIntensityValues intensity matrix overflow.\nGrid resolution: ".concat(this.Pa.resolution,", input ").concat(e,"x").concat(i,".\nExcess data will be automatically clipped. This can result in sub-optimal performance.");jr.console.warn(t)}const n=[];for(let i=0;i<e;i+=1)n[i]=t[i].slice(0,r+1);t=n}return this.Kb.lp(t),this.Zs.Rs(),this}invalidateIntensityValues(t){return this.Kb.hp(t.iSample,t.values),this.Zs.Rs(),this}getSampleCount(){return this.Kb.cp()}setFillStyle(t){return this.th(t),this}getFillStyle(){return this.Je}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class Fg extends ug{constructor(){super(...arguments),this.ix=[],this.cu=[],this.sx=[],this.hx=[],this.nx=1e3,this.ox=0,this.fs=Ma.onHover,this.lx=[],this.ux=[],this.Ax=!1,this.gx=(t,e)=>{const i=t.KS(e);if(i)return[hr(i[0],this.scale,this.Zs.gi.oi),hr(i[1],this.scale,this.Zs.gi.oi)]},this.vx=(t,e)=>{const i=t.yx(e);if(i)return[hr(i[0],this.scale,this.Zs.gi.oi),hr(i[1],this.scale,this.Zs.gi.oi)]},this.mx=t=>{const e=t.length;if(this.ix.length>0){const i=this.ix.length-1,n=this.ix[i];if(e>0){const[e,i]=n.Mc(),[r,s]=n.wc();if((r?e.length+r.length:e.length)>=this.nx){const o=r&&r.length>0?r[r.length-1]:e[e.length-1],a=s&&s.length>0?s[s.length-1]:i[e.length-1],l=(o.x+t[0].position)/2,h=_o(l,o,En(t[0].position,t[0].high)).y,c=_o(l,a,En(t[0].position,t[0].low)).y,u=kn(l,h,c);n.xc(u,Tn(En(l,c),En(l,h))).Pc(!0),this.Sx([u].concat(t)).Fc(!0)}else n.xc(t)}}else e>0&&this.Sx(t)},this.bx=t=>{const e=this.lx,i=t.length;if(this.lx.length>0){if(i>0){const i=e[e.length-1],n=i.Mc(),r=i.wc();if(n.length+r.length>=this.nx){const s=r.length>0?r[r.length-1]:n[n.length-1],o=(s.x+t[0].x)/2,a=_o(o,s,En(t[0].x,t[0].y)).y,l=En(o,a);i.xc(l,Tn(En(o,a),En(o,a))).Pc(!0),e.push(this.xx([l].concat(t),this.Mx).Fc(!0))}else i.xc(t)}}else i>0&&e.push(this.xx(t))},this.wx=t=>{const e=this.ux,i=t.length;if(this.ux.length>0){if(i>0){const i=e[e.length-1],n=i.Mc(),r=i.wc();if(n.length+r.length>=this.nx){const s=r.length>0?r[r.length-1]:n[n.length-1],o=(s.x+t[0].x)/2,a=_o(o,s,En(t[0].x,t[0].y)).y,l=En(o,a);i.xc(l,Tn(En(o,a),En(o,a))).Pc(!0),e.push(this._x([l].concat(t)).Fc(!0))}else i.xc(t)}}else i>0&&e.push(this._x(t))}}ks(){return"ProgressiveX"}dv(){return this.getPointAmount()>0}setDataCleaning(t){const e=t&&t.minDataPointCount;return this.ox=void 0!==e&&e>0?e:0,this.Zs.Rs(),this}clear(){for(let t=0;t<this.ix.length;t+=1)this.ix[t].dispose();for(let t=0;t<this.lx.length;t+=1)this.lx[t].dispose();for(let t=0;t<this.ux.length;t+=1)this.ux[t].dispose();return this.cu.length=0,this.sx.length=0,this.hx.length=0,this.Mx=void 0,this.ix.length=0,this.lx.length=0,this.ux.length=0,this.Zs.Rs(),this.L.D("dataclear",{}),this}getPointAmount(){return this.ix.reduce(((t,e)=>t+e.Cc()+e.Tc()),this.cu.length)}bb(){return hs(this.ix,is,Math.max,os,this.Mx)||0}xb(){return hs(this.ix,es,Math.min,ss,this.Mx)||0}Mb(){return hs(this.ix,rs,Math.max,ls,this.Mx)||0}wb(){return hs(this.ix,ns,Math.min,as,this.Mx)||0}fn(){const t=En(0,0);for(const e of this.ix)t.x=Math.max(t.x,e.lc()),t.y=Math.max(t.y,e.cc());return t}Hs(){return Rs(this.kx,void 0)||Rs(this.Cx,void 0)}Av(){return this.Qg&&this.getPointAmount()>0&&this.getVisible()}pb(t){}Tx(t,e,i){this.cu=Ts(this.cu,t,{canReturnB:!1}),this.sx=Ts(this.sx,e,{canReturnB:!1}),this.hx=Ts(this.hx,i,{canReturnB:!1}),this.Zs.Rs()}Fx(t,e,i,n){this.Ix(e,i,n),this.Tx(Array.isArray(t)?t:[t],e,i)}Ix(t,e,i){const n=Eo(So(t),So(e));this.Mx?this.Mx=Eo(this.Mx,n):this.Mx=n,i&&(this.Mx=Eo(this.Mx,i))}Px(){const t=this.ix.length,e=Math.min(this.scale.x.getInnerStart(),this.scale.x.getInnerEnd());let i=0;if(t>1)for(let n=0;n<t-1;n+=1)this.scale.x.Jt(this.ix[n].Xi(),this.ix[n].lc())<e&&(i+=1);return i}Lx(t,e,i,n){if(i>0){const r=Math.ceil(i/e),s=t.length-r;if(s>0&&n>0){const e=s-n>0?n:s;if(e>0){for(let i=0;i<e;i+=1)t[i].dispose();t.splice(0,e)}}}}Bx(t){const e=this.ix.length>0?this.ix[this.ix.length-1]:void 0,i=e?e.Mc()[0].length+(e.wc()[0]?e.wc()[0].length:0):void 0;dg(t,i,this.nx,this.mx)}Dx(t){const e=this.lx.length>0?this.lx[this.lx.length-1].Mc().length+this.lx[this.lx.length-1].wc().length:void 0;dg(t,e,this.nx,this.bx)}Rx(t,e){const i=this.lx.length>0?this.lx[this.lx.length-1].Mc().length+this.lx[this.lx.length-1].wc().length:void 0;dg(t,i,this.nx,this.bx),dg(e,i,this.nx,this.wx)}Sx(t,e){const i=this.Zs.Ex(this.scale).xc(t,e).th(this.kx)._c(this.Cx).Fi(this.getHighlight());return this.ix.push(i),this.Cs(i),i}Ox(t,e,i){const n=this.Zs.Dv(this.scale,void 0,[Ld.UserSeries]).xc(t,i).setPointerEvents(!1).Ah(e).Fi(this.getHighlight());return this.Cs(n),n}xx(t,e){return this.Ox(t,this.zx,e)}_x(t,e){return this.Ox(t,this.Vx,e)}Nx(t){this.kx="function"==typeof t?t(this.kx):t;const e=this.kx;for(let i=0;i<this.ix.length;i+=1)this.ix[i].th(e);this.Zs.Rs()}Gx(t){this.Cx="function"==typeof t?t(this.Cx):t;const e=this.Cx;for(let i=0;i<this.ix.length;i+=1)this.ix[i]._c(e);this.Zs.Rs()}$x(){return this.kx}kc(){return this.Cx}Ux(t){this.zx="function"==typeof t?t(this.zx):t;const e=this.zx;for(let i=0;i<this.lx.length;i+=1)this.lx[i].Ah(e);this.Zs.Rs()}Yx(t){this.Vx="function"==typeof t?t(this.Vx):t;const e=this.Vx;for(let i=0;i<this.ux.length;i+=1)this.ux[i].Ah(e);this.Zs.Rs()}jx(){return this.zx}Hx(){return this.Vx}rh(t,e){t.Fi(e),this.Wx(e),this.Zs.Rs()}Wx(t){for(let e=0;e<this.lx.length;e+=1)this.lx[e].Fi(t);for(let e=0;e<this.ux.length;e+=1)this.ux[e].Fi(t)}rv(){if(super.rv(),this.Ax=!1,this.ox>0){const t=this.Px();this.Lx(this.ix,this.nx,this.ox,t),this.lx.length>0&&this.Lx(this.lx,this.nx,this.ox,t),this.ux.length>0&&this.Lx(this.ux,this.nx,this.ox,t),this.Ax=!0}}sh(){if(super.sh(),this.cu.length>0&&(this.Bx(this.cu),this.Xx(this.sx,this.hx),this.Ax=!0),this.Ax){const t=this.getBoundaries();for(const e of this.ix)e.Ci(t);for(const e of this.lx)e.Ci(t);for(const e of this.ux)e.Ci(t)}}nv(){super.nv(),this.Mx=void 0,this.cu.length=0,this.sx.length=0,this.hx.length=0}}class Lg extends Fg{constructor(t,e,i,n,r,s,o,a,l,h,c){super(t,e,i,n,r,s,o,a,l,h),this.L=new Er,this.gs.gi.Ta(_h.Io);const u=c;this.kx=Is(this.bi.areaRangeSeriesFillStyle,u),this.zx=Is(this.bi.areaRangeSeriesStrokeStyle,u),this.Cx=Is(this.bi.areaRangeSeriesFillStyleInverted,u),this.Vx=Is(this.bi.areaRangeSeriesStrokeStyleInverted,u)}solveNearest(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gs.getCursorMode()||"show-nearest";const i=this.gs.gi.Ka(t),n=((t,e,i)=>{let n,r,s=Number.MAX_VALUE;for(let o=0;o<e.length;o+=1){const a=e[o],l=i(a,t);if(l){const e=yo(t,l[0]),i=yo(t,l[1]);(void 0===n||e<s||i<s)&&(n=l,r=a,e<s?s=e:i<s&&(s=i))}}return n&&r?[n,r]:void 0})({x:i.engineX,y:i.engineY},this.ix,fy(e)?this.vx:this.gx);if(void 0!==n&&void 0!==n[0]){const t=hr(n[0][0],this.Zs.gi.oi,this.scale),e=hr(n[0][1],this.Zs.gi.oi,this.scale);return{cursorPosition:{resultTable:t,resultTableScale:this.scale,pointMarker:t,pointMarkerScale:{x:this.axisX,y:this.axisY}},...t,series:this,axisX:this.axisX,axisY:this.axisY,multiHit:[t,e]}}}add(t){const e=Array.isArray(t)?t:[t],[i,n]=Mn(e);this.Fx(t,i,n);const r=this.cu[this.cu.length-1];return this.Zx=r?{position:r.position,high:r.high,low:r.low}:void 0,this.L.D("dataadd",{data:e,boundaries:this.Mx}),this}addArraysHighLow(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t.length!==e.length)throw new Error("arrayHigh and arrayLow lengths are not equal");{let r=n;r||(r=this.Zx?this.Zx.position+i:0),this.add(function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0;const r=void 0!==n?n:0,s=new Array(t.length);for(let o=0;o<t.length;o+=1)s[o]={position:r+i*o,high:t[o],low:e[o]};return s}(t,e,i,r))}return this}Xx(t,e){this.Rx(t,e)}setHighFillStyle(t){return this.Nx(t),this}setLowFillStyle(t){return this.Gx(t),this}setHighStrokeStyle(t){return this.Ux(t),this}setLowStrokeStyle(t){return this.Yx(t),this}getHighFillStyle(){return this.$x()}getLowFillStyle(){return this.kc()}getHighStrokeStyle(){return this.jx()}getLowStrokeStyle(){return this.Hx()}Jx(){return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t=>t;const i=[];let n;for(let r=0;r<t.length;r+=1){n=t[r];const s=e(n.Mc()),o=n.wc(),a=o?e(o):[];let l=!1,h=!1;"Ic"in n&&(l=n.Ic(),h=n.Lc()),i.push.apply(i,s.slice(l?1:0,s.length-(h&&0===a.length?1:0))),i.push.apply(i,a.slice(l&&0===s.length?1:0,a.length-(h?1:0)))}return i}(this.ix,(t=>{const e=t[0],i=t[1];if(!e||!i)return[];const n=[],r=e.length;for(let s=0;s<r;s+=1)n[s]={position:e[s].x,high:e[s].y,low:i[s].y};return n}))}hh(){return{fill:this.kx,fill2:this.Cx,behavior:{colorStep:!0}}}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class Rg extends ug{constructor(t,e,i,n,r,s,o,a,l,h){super(t,e,i,n,r,s,o,a,l,h),this.Qx=t=>t[4]>=t[1],this.kb=Tn(wn(ro,ro),wn(so,so)),this.Kx=[],this.qx=!1,this.tM=-1,this.iM=[],this.sM=!0,this.eM=!1,this.hM=4,this.rM=[1e-7,1e-6,1e-5,1e-4,.001,.01,.1,1,5,10,30,60,300,600,1800,3600,7200,14400,28800,36e3,43200,50400,57600,64800,72e3,86400,172800,259200,345600,432e3,604800,1209600,2592e3,7776e3,10368e3,15552e3,31536e3,15768e4,31536e4,63072e4,7884e5,15768e5,31536e5,3942e6,47304e5,63072e5,7884e6,15768e6,31536e6,3942e7,47304e6,63072e6,7884e7,15768e7,31536e7,63072e7,7884e8,15768e8,31536e8,47304e8,63072e8],this.L=new Er,this.gs.gi.Ta(_h.So)}dv(){return this.iM.length>0}ks(){return"ProgressiveX"}Jx(){return this.iM}Av(){return this.Qg&&this.iM.length>0&&this.getVisible()}nM(t){if(!(this.iM.length<1))return[this.iM[t][0],this.iM[t][1],this.iM[t][2],this.iM[t][3],this.iM[t][4]]}solveNearest(t,e){if(0===this.iM.length)return;const i=this.gs.translateCoordinate(t,{x:this.axisX,y:this.axisY}).x,n=void 0!==this.getPackDataState();let r,s,o,a,l;if(n){const t=this.oM;if(!t)return;const e=Xs(i,t.length-1,(e=>t[e][0])),n=void 0!==e&&t[e];if(!n)return;a=n[3],o=n[2],s=n[1],l=n[4],r=n[0]}else{const t=Xs(i,this.iM.length-1,(t=>this.iM[t][0])),e=void 0!==t&&this.iM[t];if(!e)return;r=e[0],s=e[1],o=e[2],a=e[3],l=e[4]}return{cursorPosition:{resultTable:En(r,l),resultTableScale:this.scale,pointMarker:En(r,l),pointMarkerScale:{x:this.axisX,y:this.axisY}},x:r,y:l,open:s,high:o,low:a,close:l,position:r,isPacked:n,series:this,axisX:this.axisX,axisY:this.axisY}}Ki(t,e,i){return Ks({series:this,axisX:this.axisX,axisY:this.axisY},{cursorPosition:0,x:0,y:0,multiHit:0,open:0,high:0,low:0,close:0,position:0,isPacked:0},(()=>this.solveNearest(e,this.gs.getCursorMode())))}pb(t){if(!(t.x instanceof ir))throw new Error("OHLCSeries must be attached to a Linear X Axis.");this.aM=t.x}fn(){return En(5,5)}Ax(t){const e=t.length-1;if(e<0)return this;for(let i=0;i<=e;i+=1)t[i][3]<this.kb.min.y&&(this.kb.min.y=t[i][3]),this.kb.max.y<t[i][2]&&(this.kb.max.y=t[i][2]);return this.kb.min.x=Math.min(this.kb.min.x,t[0][0]),this.kb.max.x=Math.max(this.kb.max.x,t[e][0]),this}bb(){return this.kb.max.x}xb(){return this.kb.min.x}Mb(){return this.kb.max.y}wb(){return this.kb.min.y}add(t){this.iM.length>0&&this.gs.gi.Ta(_h.Do);const e=Array.isArray(t[0])?t:[t[0]];if(e.length>0){this.qx=!0;const t=this.iM.length,i=this.Kx.length,n=e.length;this.iM.length=t+n,this.Kx.length=i+n;for(let r=0;r<n;r+=1)this.iM[t+r]=e[r],this.Kx[i+r]=this.iM[t+r];this.Ax(e),this.L.D("dataadd",{data:e}),this.Zs.Rs()}return this}setPackData(t){return t!==this.sM&&(this.eM=!0,this.sM=t,this.gs.gi.Rs()),this}getPackData(){return this.sM}getPackDataState(){const t=this.tM;if(!(t<0||void 0===this.oM||this.oM.length===this.iM.length))return{figureAxisInterval:t}}setFigureWidth(t){return this.lM=t,this.gs.gi.Rs(),this}getFigureWidth(){return this.lM}setFigureMinimumGap(t){return this.hM=t,this.gs.gi.Rs(),this}getFigureMinimumGap(){return this.hM}clear(){return this.iM=[],this.Kx=[],this.oM=void 0,this.cM(),this.kb.min.x=ro,this.kb.min.y=ro,this.kb.max.x=so,this.kb.max.y=so,this.L.D("dataclear",{}),this}uM(t){return this.aM.getPixelSize()*t/1e3}dM(){const t=this.rM.length-1,e=this.uM(this.lM+this.hM);let i=Xs(e,t,(t=>this.rM[t]));return void 0===i?i=e<this.rM[0]?0:this.rM[t]<e?t:this.rM.length/2:this.rM[i]<e&&(i+=1),this.rM.length<=i&&(i=t),1e3*this.rM[i]}sh(){if(super.sh(),!this.sM){this.oM=void 0;let t=null;if(this.eM?(this.eM=!1,t=this.iM,this.cM()):t=this.Kx,t.length>=1){for(let e=0;e<t.length;e+=1){const i=t[e],n=i[0];this.Qx(i)?this.fM(n,i):this.AM(n,i)}this.Kx.length=0,this.qx=!1,this.tM=-1}}}nv(){super.nv();const t=this.dM();if(this.sM&&this.iM.length>=1&&(t!==this.tM||this.qx||this.eM)){this.eM=!1,this.tM=t,this.qx=!1,this.cM(),this.oM=[];const e=this.iM.length;let i=this.iM[0][0]-this.iM[0][0]%(t/2)+t,n=0;for(;n<e;){let r=this.nM(n);if(void 0===r)break;let s=r[3],o=r[2];const a=n;for(n+=1;n<e&&this.iM[n][0]<i;)r=this.iM[n],this.iM[n][3]<s&&(s=this.iM[n][3]),o<this.iM[n][2]&&(o=this.iM[n][2]),n+=1;const l=n-1;let h=r[0];a<l&&(h=this.iM[l][0],r=[h,this.iM[a][1],o,s,this.iM[l][4]]),r[1]<r[4]?this.fM(h,r):this.AM(h,r),this.oM.push(r),i+=t}}}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}const Bg={Candlesticks:class extends Rg{constructor(t,e,i,n,r,s,o,a,l,h){super(t,e,i,n,r,s,o,a,l,h),this.gM=1175494351e-14,this.lM=this.bi.ohlcCandleThicknessPixels||5,this.vM=this.bi.ohlcCandleTailStrokeStylePositive,this.yM=this.bi.ohlcCandleTailStrokeStyleNegative,this.pM=this.bi.ohlcCandleBodyFillStylePositive,this.mM=this.bi.ohlcCandleBodyFillStyleNegative,this.SM=i.yA(this.scale).Ah(new tl({thickness:this.lM,fillStyle:this.pM})),this.SM.au={x:0,y:1},this.bM=i.yA(this.scale).Ah(new tl({thickness:this.lM,fillStyle:this.mM})),this.bM.au={x:0,y:-1},this.xM=i.yA(this.scale).Ah(this.vM),this.MM=i.yA(this.scale).Ah(this.yM),this.Cs(this.SM),this.Cs(this.bM),this.Cs(this.xM),this.Cs(this.MM)}setBodyThickness(t){return this.lM=t,this.SM.Ah(new tl({thickness:this.lM,fillStyle:this.pM})),this.bM.Ah(new tl({thickness:this.lM,fillStyle:this.mM})),this.gs.gi.Rs(),this}getBodyThickness(){return this.lM}setBodyFillStylePositive(t){return this.pM="function"==typeof t?t(this.pM):t,this.SM.Ah(new tl({thickness:this.lM,fillStyle:this.pM})),this.gs.gi.Rs(),this}getBodyFillStylePositive(){return this.pM}setBodyFillStyleNegative(t){return this.mM="function"==typeof t?t(this.mM):t,this.bM.Ah(new tl({thickness:this.lM,fillStyle:this.mM})),this.gs.gi.Rs(),this}getBodyFillStyleNegative(){return this.mM}setTailStrokeStylePositive(t){return this.vM="function"==typeof t?t(this.vM):t,this.xM.Ah(this.vM),this.gs.gi.Rs(),this}getTailStrokeStylePositive(){return this.vM}setTailStrokeStyleNegative(t){return this.yM="function"==typeof t?t(this.yM):t,this.MM.Ah(this.yM),this.gs.gi.Rs(),this}getTailStrokeStyleNegative(){return this.yM}hh(){return{fill:this.pM,fill2:this.mM,behavior:{colorStep:!0}}}cM(){return this.xM.Ni(),this.MM.Ni(),this.SM.Ni(),this.bM.Ni(),this}fM(t,e){return Math.abs(e[1]-e[4])<this.gM?this.SM.Uo().mA({x:t,y:e[1]-this.gM},{x:t,y:e[1]+this.gM}):this.SM.Uo().mA({x:t,y:e[1]},{x:t,y:e[4]}),e[4]<e[2]&&this.xM.Uo().mA({x:t,y:e[4]},{x:t,y:e[2]}),e[3]<e[1]&&this.xM.Uo().mA({x:t,y:e[3]},{x:t,y:e[1]}),this}AM(t,e){return Math.abs(e[1]-e[4])<this.gM?this.bM.Uo().mA({x:t,y:e[1]-this.gM},{x:t,y:e[1]+this.gM}):this.bM.Uo().mA({x:t,y:e[1]},{x:t,y:e[4]}),e[3]<e[4]&&this.MM.Uo().mA({x:t,y:e[3]},{x:t,y:e[4]}),e[1]<e[2]&&this.MM.Uo().mA({x:t,y:e[1]},{x:t,y:e[2]}),this}},Bars:class extends Rg{constructor(t,e,i,n,r,s,o,a,l,h){super(t,e,i,n,r,s,o,a,l,h),this.lM=this.bi.ohlcBarThicknessPixels||10,this.wM=this.bi.ohlcBarStrokeStylePositive,this._M=this.bi.ohlcBarStrokeStyleNegative,this.kM=i.yA(this.scale).Ah(this.wM),this.Cs(this.kM),this.CM=i.yA(this.scale).Ah(this.wM),this.CM.au={x:-this.lM/2,y:0},this.Cs(this.CM),this.TM=i.yA(this.scale).Ah(this.wM),this.TM.au={x:this.lM/2,y:0},this.Cs(this.TM),this.FM=i.yA(this.scale).Ah(this._M),this.Cs(this.FM),this.IM=i.yA(this.scale).Ah(this._M),this.IM.au={x:-this.lM/2,y:0},this.Cs(this.IM),this.PM=i.yA(this.scale).Ah(this._M),this.PM.au={x:this.lM/2,y:0},this.Cs(this.PM)}setStrokeStylePositive(t){return this.wM="function"==typeof t?t(this.wM):t,this.kM.Ah(this.wM),this.CM.Ah(this.wM),this.TM.Ah(this.wM),this.gs.gi.Rs(),this}getStrokeStylePositive(){return this.wM}setStrokeStyleNegative(t){return this._M="function"==typeof t?t(this._M):t,this.FM.Ah(this._M),this.IM.Ah(this._M),this.PM.Ah(this._M),this.gs.gi.Rs(),this}getStrokeStyleNegative(){return this._M}hh(){return{fill:this.wM.getFillStyle(),fill2:this._M.getFillStyle(),behavior:{colorStep:!0}}}setFigureWidth(t){return super.setFigureWidth(t),this.CM.au={x:-t/2,y:0},this.IM.au={x:-t/2,y:0},this.TM.au={x:t/2,y:0},this.PM.au={x:t/2,y:0},this}cM(){return this.FM.Ni(),this.kM.Ni(),this.IM.Ni(),this.CM.Ni(),this.PM.Ni(),this.TM.Ni(),this}fM(t,e){return this.kM.Uo().mA({x:t,y:e[3]},{x:t,y:e[2]}),this.CM.Uo().mA({x:t,y:e[1]},{x:t,y:e[1]}),this.TM.Uo().mA({x:t,y:e[4]},{x:t,y:e[4]}),this}AM(t,e){return this.FM.Uo().mA({x:t,y:e[3]},{x:t,y:e[2]}),this.IM.Uo().mA({x:t,y:e[1]},{x:t,y:e[1]}),this.PM.Uo().mA({x:t,y:e[4]},{x:t,y:e[4]}),this}}},zg=t=>({defaultDragMouseStyle:Yl.Horizontal,getTitleTextRotation:()=>0,..._d(t,((t,e)=>t.xb(e)),((t,e)=>t.bb(e)),(t=>t.fn().x))}),Ig=t=>({defaultDragMouseStyle:Yl.Vertical,getTitleTextRotation:t=>90*t,..._d(t,((t,e)=>t.wb(e)),((t,e)=>t.Mb(e)),(t=>t.fn().y))});class Dg extends hf{constructor(t,e,i,n,r,s,o,a){super(t,e,i,n,r,a),this.LM=!1,this.BM=!1,this.DM=!1,this.RM=!1,this.EM=!1,this.OM=new Map,this.zM=new Map,this.VM=[],this.NM=[],this.GM=!0,this.$M=!0,this.UM=!1,this.YM=[],this.jM=new Set,this.HM=!1,this.Np=r,this.WM=s,this.XM=o,this.ZM=a.cursorGridStrokeStyleX,this.JM=a.cursorGridStrokeStyleY}setKeepWithinAxisBoundaries(t){return this.LM=t,this.Zs.Rs(),this}getKeepWithinAxisBoundaries(){return this.LM}dispose(){return super.dispose(),this.OM.forEach((t=>t.forEach((t=>t.dispose())))),this.zM.forEach((t=>t.forEach((t=>t.dispose())))),this.VM.length=0,this.NM.length=0,this.Op.length=0,this}sh(){return this.UM&&this.ui&&this.setPosition(...this.YM),this.OM.forEach((t=>{t.forEach((t=>t.setVisible(!1).setMarkerVisible(!1)))})),this.zM.forEach((t=>{t.forEach((t=>t.setVisible(!1).setMarkerVisible(!1)))})),this.VM.forEach((t=>t.setVisible(this.ui&&this.Sg).setMarkerVisible(this.ui&&this.Sg&&this.GM))),this.NM.forEach((t=>t.setVisible(this.ui&&this.Sg).setMarkerVisible(this.ui&&this.Sg&&this.$M))),super.sh()}jp(){if(!this.LM)return super.jp();const t={x:!0,y:!0,either:!1},e=this.Gp,i=e.getPosition(En(-1,-1),Vr.PaddedBackground),n=e.getPosition(En(1,1),Vr.PaddedBackground);return this.YM.forEach(((r,s)=>{const o=r.pointMarkerScale.x,a=r.pointMarkerScale.y,l=hr(i,e.scale,{x:o,y:a}),h=hr(n,e.scale,{x:o,y:a});mo(l.x,o.Ar,o.gr)&&mo(h.x,o.Ar,o.gr)&&(t.x=!1),mo(l.y,a.Ar,a.gr)&&mo(h.y,a.Ar,a.gr)&&(t.y=!1)})),t.either=t.x||t.y,t}setPosition(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e=e.filter((t=>!Number.isNaN(t.pointMarker.x)&&!Number.isNaN(t.pointMarker.y))),this.YM=e,this.VM.length=0,this.NM.length=0;const n=this.renderingScale;if(e.length>0){const t=e[0].resultTable,i=cd(e[0].resultTableScale,n),r=i===this.scale?t:hr(t,i,this.scale);this.Gp.setPosition(r)}this.Sg=!1,this.Dp.forEach((t=>{t.targetVisible=!1}));const r=new Map;e.forEach(((t,e)=>{const i=t.pointMarkerScale.x,s=t.pointMarkerScale.y,o=r.get(i)||[],a=r.get(s)||[],l=!o.includes(t.pointMarker.x),h=!a.includes(t.pointMarker.y);o.push(t.pointMarker.x),a.push(t.pointMarker.y),r.set(i,o),r.set(s,a);const c=t.pointMarker,u=Ng(En(c.x,c.y),i,s);if(l){const t=this.QM(i,!0);t.setValue(c.x),t.setGridStrokeLength(this.BM?u.x:1).setAllocatesAxisSpace(this.HM),this.VM.push(t)}if(h){const t=this.QM(s,!1);t.setValue(c.y),t.setGridStrokeLength(this.DM?u.y:1).setAllocatesAxisSpace(this.HM),this.NM.push(t)}let d=this.Dp[e];if(!d){const t=new Uc(this.Zs,this.renderingScale,this.scale,Jr,this.bi).setPointerEvents(!1).setFillStyle(this.bi.cursorPointMarkerFillStyle).setStrokeStyle(this.bi.cursorPointMarkerStrokeStyle).setSize(this.bi.cursorPointMarkerSize).setShape(this.bi.cursorPointMarkerShape);d={pointMarker:t,targetVisible:!0},this.Dp.push(d),this.Op.forEach((e=>e(t)))}void 0!==t.pointMarkerShape&&d.pointMarker.setShape(t.pointMarkerShape),void 0!==t.pointMarkerSize&&d.pointMarker.setSize(t.pointMarkerSize),t.pointMarkerFillStyle&&d.pointMarker.setFillStyle(t.pointMarkerFillStyle),t.pointMarkerStrokeStyle&&d.pointMarker.setStrokeStyle(t.pointMarkerStrokeStyle);const f=cd(t.pointMarkerScale,n),g=f===this.scale?t.pointMarker:hr(t.pointMarker,f,this.scale);d.pointMarker.setPosition(g),d.targetVisible=!0;const p=i.getInterval(),m=s.getInterval(),y=Math.min(p.start,p.end),v=Math.max(p.start,p.end),x=Math.min(m.start,m.end),b=Math.max(m.start,m.end);c.x>=y&&c.x<=v&&c.y>=x&&c.y<=b&&(this.Sg=!0)}));for(const s of this.Dp)s.targetVisible||(s.pointMarker.dispose(),this.Dp.splice(this.Dp.indexOf(s),1));return this}setTickMarkersAllocateAxisSpace(t){return this.HM=t,this.Zs.Rs(),this}getTickMarkersAllocateAxisSpace(){return this.HM}QM(t,e){this.jM.has(t)||(t.addEventListener("dispose",(()=>{var e;null===(e=i.get(t))||void 0===e||e.forEach((t=>t.dispose())),i.delete(t)})),this.jM.add(t));const i=e?this.OM:this.zM,n=e?this.VM:this.NM,r=i.get(t)||[];i.set(t,r);let s=r.find((t=>!n.includes(t)));return s||(s=e?t.IA(!1,this.WM):t.IA(!1,this.XM),r.push(s),this.Jr(s,e),s.setPointerEvents(!1)),s}Jr(t,e){const i=e?this.ZM:this.JM;return t.setGridStrokeStyle(i),t.setPointerEvents(!1),(e?this.GM:this.$M)?t.setMarkerVisible(!0):t.setMarkerVisible(!1),t}setGridStrokeXCut(t){return this.BM=t,this.Zs.Rs(),this}getGridStrokeXCut(){return this.BM}setGridStrokeYCut(t){return this.DM=t,this.Zs.Rs(),this}getGridStrokeYCut(){return this.DM}setGridStrokeXStyle(t){return this.ZM=t instanceof Function?t(this.getGridStrokeXStyle()):t,this.OM.forEach((t=>t.forEach((t=>t.setGridStrokeStyle(this.ZM))))),this}getGridStrokeXStyle(){return this.ZM}setGridStrokeYStyle(t){return this.JM=t instanceof Function?t(this.getGridStrokeYStyle()):t,this.zM.forEach((t=>t.forEach((t=>t.setGridStrokeStyle(this.JM))))),this}getGridStrokeYStyle(){return this.JM}setTickMarkerXVisible(t){return this.GM=t,this.Zs.Rs(),this}getTickMarkerXVisible(){return this.GM}setTickMarkerYVisible(t){return this.$M=t,this.Zs.Rs(),this}getTickMarkerYVisible(){return this.$M}setTickMarkerX(t){return this.OM.forEach((e=>e.forEach((e=>e.setMarker(t))))),this.WM=this.WM.addStyler(t),this.Zs.Rs(),this}setTickMarkerY(t){return this.zM.forEach((e=>e.forEach((e=>e.setMarker(t))))),this.XM=this.XM.addStyler(t),this.Zs.Rs(),this}}class Vg{constructor(t,e,i,n){this.tm=[],this.im=(t,e)=>(this.tm.forEach((i=>i(t,e))),t),this.addStyler=t=>new Vg(this.Np,this.WM,this.XM,this.tm.map((t=>t)).concat(t)),this.setResultTableBackground=t=>new Vg(t,this.WM,this.XM,this.tm.map((t=>t))),this.sm=(t,e,i,n,r)=>this.im(new Dg(t,e,i,n,this.Np,this.WM,this.XM,r),r),this.Np=t,this.tm=n,this.WM=e,this.XM=i}}const _g=new Vg(Oc,yu.PointableTextBox,yu.PointableTextBox,[(t,e)=>{cf(t,e),t.setTickMarkerX((t=>{t.setEffect(!0).setTextFont(e.cursorTickMarkerXTextFont).setTextFillStyle(e.cursorTickMarkerXTextFillStyle),zh(t)&&t.setBackground((t=>t.setFillStyle(e.cursorTickMarkerXBackgroundFillStyle).setStrokeStyle(e.cursorTickMarkerXBackgroundStrokeStyle)))})),t.setTickMarkerY((t=>{t.setEffect(!0).setTextFont(e.cursorTickMarkerYTextFont).setTextFillStyle(e.cursorTickMarkerYTextFillStyle),zh(t)&&t.setBackground((t=>t.setFillStyle(e.cursorTickMarkerYBackgroundFillStyle).setStrokeStyle(e.cursorTickMarkerYBackgroundStrokeStyle)))}))}]),Ng=(t,e,i)=>{const n=e.oi,r=i.oi;let s=(t.x-n.getInnerStart())/(n.getInnerEnd()-n.getInnerStart()),o=(t.y-r.getInnerStart())/(r.getInnerEnd()-r.getInnerStart());return 1===i.Wf&&(s=1-s),1===e.Wf&&(o=1-o),En(o,s)};class Og{constructor(t,e,i,n){this.KM=!1,this.L=new Er,this.chart=i,this.qM=n,this.be=t.be,this.Te=n||Jl,this.tw=jr.document.createElement("div"),this.tw.style.position="absolute",this.tw.style.pointerEvents="none",jr.document.body.append(this.tw);const r=()=>{const t=i.engine.container.getBoundingClientRect();this.tw.style.left="".concat(t.left,"px"),this.tw.style.top="".concat(t.top,"px"),this.tw.style.width="".concat(t.width,"px"),this.tw.style.height="".concat(t.height,"px")};r(),i.addEventListener("resize",r),this.iw(this.tw),this.sw(),this.ew(),this.hw(),this.rw(e),this.chart.nw().push(this)}iw(t){this.ow=jr.document.createElement("div"),this.ow.style.pointerEvents="all",t.append(this.ow),this.aw=jr.document.createElement("div"),this.lw=new Ul(this.be,this.Te,this.chart,this.aw),this.cw=jr.document.createElement("table"),this.cw.style.borderSpacing="0",this.ow.appendChild(this.lw.Ee()),this.ow.appendChild(this.aw),this.aw.appendChild(this.cw)}ew(){let t=0,e=0,i=0,n=0,r=!1;this.KM=!1,this.ow.onmousedown=s=>{s=s||jr.event,i=s.clientX,n=s.clientY,r=!0,jr.document.onmouseup=t=>{this.KM?this.ow.addEventListener("click",ys,!0):this.ow.removeEventListener("click",ys,!0),r=!1,this.KM=!1,jr.document.onmouseup=null,jr.document.onmousemove=null},jr.document.onmousemove=s=>{s=s||jr.event,r&&(t=i-s.clientX,e=n-s.clientY,i=s.clientX,n=s.clientY,this.KM=!0,this.ow.style.top=this.ow.offsetTop-e+"px",this.ow.style.left=this.ow.offsetLeft-t+"px",this.ow.style.removeProperty("right"),this.ow.style.removeProperty("bottom"))}}}hw(){let t=0,e=0,i=0,n=0,r=!1;this.ow.ontouchstart=s=>{s=s||jr.event,i=s.touches[0].clientX,n=s.touches[0].clientY,r=!0,this.ow.ontouchend=()=>{r=!1,jr.document.ontouchend=null,jr.document.ontouchmove=null},this.ow.ontouchmove=s=>{r&&(ys(s),s=s||jr.event,t=i-s.touches[0].clientX,e=n-s.touches[0].clientY,i=s.touches[0].clientX,n=s.touches[0].clientY,this.ow.style.top=this.ow.offsetTop-e+"px",this.ow.style.left=this.ow.offsetLeft-t+"px",this.ow.style.removeProperty("right"),this.ow.style.removeProperty("bottom"))}}}sw(){this.ow.style.setProperty("top","10px"),this.ow.style.setProperty("left","10px"),this.ow.style.position="absolute",this.ow.style.display="flex",this.ow.style.alignItems="flex-start",this.aw.style.setProperty("display","none")}removePositionProperty(){this.ow.style.removeProperty("top"),this.ow.style.removeProperty("left"),this.ow.style.removeProperty("bottom"),this.ow.style.removeProperty("right")}setPositionProperty(t){switch(this.removePositionProperty(),t){case Ql.BottomLeft:this.ow.style.setProperty("bottom","10px"),this.ow.style.setProperty("left","10px");break;case Ql.TopLeft:this.ow.style.setProperty("top","10px"),this.ow.style.setProperty("left","10px");break;case Ql.BottomRight:this.ow.style.setProperty("bottom","10px"),this.ow.style.setProperty("right","10px");break;case Ql.TopRight:default:this.ow.style.setProperty("top","10px"),this.ow.style.setProperty("right","10px")}}rw(t){for(let e=0;e<t.length;e+=1){const i=this.cw.insertRow();for(let n=0;n<t[e].length;n+=1){const r=i.insertCell(),s=t[e][n];"object"!=typeof s?this.uw(s,r):this.addCustomButton(s,r)}}}uw(t,e){switch(t){case vl.ZoomIn:this.dw(new Bl(this.be,this.chart,this.Te),e);break;case vl.ZoomInX:this.dw(new zl(this.be,this.chart,this.Te),e);break;case vl.ZoomInY:this.dw(new Il(this.be,this.chart,this.Te),e);break;case vl.ZoomOut:this.dw(new Dl(this.be,this.chart,this.Te),e);break;case vl.ZoomOutX:this.dw(new Vl(this.be,this.chart,this.Te),e);break;case vl.ZoomOutY:this.dw(new _l(this.be,this.chart,this.Te),e);break;case vl.ZoomToFit:this.dw(new Ol(this.be,this.chart,this.Te),e);break;case vl.ToggleAnimations:this.dw(new Nl(this.be,this.chart,this.Te),e);break;default:console.error('No predefined button like "'.concat(vl[t],'" exists.'))}}dw(t,e){e.rowSpan=t.xe.rows,e.colSpan=t.xe.columns,t.Re(e)}addCustomButton(t,e){const i=new Hl(this.be,t,this.chart);return this.dw(i,e),this}dispose(){this.tw.remove(),this.L.D("dispose",{})}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class Hg extends ug{constructor(t,e,i,n,r,s,o,a,l,h,c,u){var d;super(t,e,i,n,r,s,o,a,l,h),this.fw=t=>{this.L.D(t.type,t)},this.Aw=0,this.L=new Er,this.Pa=u,this.Mu=this.Zs.Dd(this.scale).Ah(Is(this.bi.lineSeriesStrokeStyle,c)).Ld(Is(this.bi.pointSeriesFillStyle,c)).Nd(Is(this.bi.pointSeriesStrokeStyle,c)).Bd(Is(this.bi.areaSeriesPositiveFillStyle,c)).gw(void 0).$d(7),this.Mu.yw=!1!==(null===(d=this.Pa)||void 0===d?void 0:d.allowDataGrouping),this.Cs(this.Mu)}dv(){return this.pw().getSampleCount()>0}ks(){return this.getDataSet().Wu(this.mw)}setDataSet(t,e){var i;const n=null===(i=this.Id)||void 0===i?void 0:i.ss;if(t===n&&e&&this.mw&&Cc(e,this.mw))return this;const r=["change","clear","loop","maxsamplecountexceed"];return n&&r.forEach((t=>n.removeEventListener(t,this.fw))),t?(r.forEach((e=>t.addEventListener(e,this.fw))),!e&&t.Vu&&(e=this.Sw(t.Vu)),e&&t.nd(e),this.mw=e,this.bw=!1,(null==e?void 0:e.color)&&this.gs.gi.Ta(_h.Eo),(null==e?void 0:e.size)&&this.gs.gi.Ta(_h.Ro),this.Id=Js(t,this.Id,(()=>({change:()=>{this.Aw+=1,this.Aw>1&&this.gs.gi.Ta(_h.Do),this.gs.gi.Rs()},clear:()=>{this.gs.gi.Rs()}}))),e&&this.Mu.Pd(t,e),this.gs.gi.Rs(),this):(this.Mu.Pd(),this)}getDataSet(){return this.pw()}setDataMapping(t){var e;return(null===(e=this.Id)||void 0===e?void 0:e.ss)?this.setDataSet(this.getDataSet(),t):this.mw=t,this.bw=!1,this}getDataMapping(){return this.mw}setStrokeStyle(t){return this.Mu.Ah(t),this.Zs.Rs(),this}getStrokeStyle(){return this.Mu.co()}setAreaFillStyle(t){return this.Mu.Bd(t),this.Zs.Rs(),this}getAreaFillStyle(){return this.Mu.xw()}setPointFillStyle(t){return this.Mu.Ld(t),this.Zs.Rs(),this}getPointFillStyle(){return this.Mu.Vd()}setPointStrokeStyle(t){return this.Mu.Nd(t),this.Zs.Rs(),this}getPointStrokeStyle(){return this.Mu.Gd()}setPointSize(t){return this.Mu.$d(t),this.Zs.Rs(),this}getPointSize(){return this.Mu.Mw()}setPointShape(t){return this.Mu.Rd(t),this.Zs.Rs(),this}getPointShape(){return this.Mu.Ed()}setPointRotation(t){return this.Mu.Od(t),this.Zs.Rs(),this}getPointRotation(){return this.Mu.zd()}setPointAlignment(t){return this.Mu.VA(t),this.gs.gi.Rs(),this}getPointAlignment(){return this.Mu.ww()}setCurvePreprocessing(t){return this.Mu.gw(t),this.Zs.Rs(),this}getCurvePreprocessing(){return this.Mu._w()}appendJSON(t,e,i){return this.pw().appendJSON(t,e,i),this.Zs.gi.Rs(),this}appendSample(t,e){return this.pw().appendSample(t,e),this.Zs.gi.Rs(),this}appendSamples(t,e){return this.pw().appendSamples(t,e),this.Zs.gi.Rs(),this}fill(t){return this.pw().fill(t),this.Zs.Rs(),this}setSamples(t,e){return this.pw().setSamples(t,e),this.Zs.Rs(),this}alterSamplesStartingFrom(t,e,i){return this.pw().alterSamplesStartingFrom(t,e,i),this.Zs.Rs(),this}alterSamplesByIndex(t,e){return this.pw().alterSamplesByIndex(t,e),this.Zs.Rs(),this}alterSamplesByMatch(t,e,i){return this.pw().alterSamplesByMatch(t,e,i),this.Zs.Rs(),this}getSampleCount(){return this.pw().getSampleCount()}getNextSampleIndex(){return this.pw().getNextSampleIndex()}setMaxSampleCount(t){return this.pw().setMaxSampleCount(t),this.Zs.Rs(),this}getMaxSampleCount(){return this.pw().getMaxSampleCount()}clear(){return this.pw().clear(),this.Zs.Rs(),this}readBack(t){if(this.mw||this.kw(),!this.mw)return{xValues:new Float64Array,yValues:new Float64Array,iSampleFirst:0};const e=this.pw();if(null==t?void 0:t.onlyInRange){const i=e.Wu(this.mw),n=i&&Ba(i);if(!n)throw new Error("LightningChart JS - attempted to use `PointLineAreaSeries.readBack` with `onlyInRange` without a data pattern.\nThis operation is only supported for progressive data");const r=this.mw[n];return e.rd(this.mw,{onlyInRange:{key:r,start:t.onlyInRange.start,end:t.onlyInRange.end}})}return e.rd(this.mw)}solveNearest(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gs.getCursorMode()||"show-nearest";this.mw||this.kw();let i=fy(e);void 0!==this.getCurvePreprocessing()&&(i=!1);const n=this.Cw(),r=ma(t)?this.gs.translateCoordinate(t,{x:this.axisX,y:this.axisY}):t,s=n.Ad(this.mw,r,i,this.scale,this.gs.Kf);if(void 0!==s)return{cursorPosition:{resultTable:s,resultTableScale:this.scale,pointMarker:s,pointMarkerScale:{x:this.axisX,y:this.axisY}},...s,series:this,axisX:this.axisX,axisY:this.axisY,pointShape:this.getPointShape()}}Ki(t,e,i){const n=this.getDataSet(),r=null==t?void 0:t.dataPoint;return void 0===n.Wu(this.mw)||r?r?{cursorPosition:{resultTable:r,resultTableScale:this.scale,pointMarker:r,pointMarkerScale:{x:this.axisX,y:this.axisY}},...r,series:this,axisX:this.axisX,axisY:this.axisY,pointShape:this.getPointShape()}:void 0:Ks({series:this,axisX:this.axisX,axisY:this.axisY},{x:0,y:0,cursorPosition:0,rotation:0,size:0,color:0,lookupValue:0,multiHit:0,iSample:0,sample:0,pointShape:0},(()=>this.solveNearest(e,this.gs.getCursorMode())))}Cw(){return this.pw()}Hs(){return Rs(this.getPointFillStyle(),this.Mu.wi())||Rs(this.getStrokeStyle().getFillStyle(),this.Mu.wi())||Rs(this.getAreaFillStyle(),this.Mu.wi())}Av(){var t;const e=null===(t=this.Id)||void 0===t?void 0:t.ss;return this.getVisible()&&this.getAutoScrollingEnabled()&&void 0!==e&&e.Fu>0}pb(t){}bb(t){this.mw||this.kw();const e=this.Mu.sl();return e&&"y"===e.Tw&&t&&e.Fw(),this.Mu.Xi(t)}xb(t){this.mw||this.kw();const e=this.Mu.sl();return e&&"y"===e.Tw&&t&&e.Fw(),this.Mu.Wi(t)}Mb(t){this.mw||this.kw();const e=this.Mu.sl();return e&&"x"===e.Tw&&!t&&e.Fw(),this.Mu.Ji(t)}wb(t){this.mw||this.kw();const e=this.Mu.sl();return e&&"x"===e.Tw&&t&&e.Fw(),this.Mu.Zi(t)}fn(){return{x:this.Mu.lc(),y:this.Mu.cc()}}kw(){var t;const e=null===(t=this.Id)||void 0===t?void 0:t.ss;if((!this.mw||this.bw)&&e&&e.Vu){const t=e.Vu,i=this.Iw;let n=!1;if(this.mw&&this.bw&&i){const e=Object.keys(t).length!==Object.keys(i).length,r=Object.entries(t).find((t=>{let[e,n]=t;var r;return e in i&&i[e]!==(null===(r=n.zu)||void 0===r?void 0:r.effective)}));n=!e&&void 0===r}if(!n){const t=this.Sw(e.Vu);!t||this.mw&&Cc(this.mw,t)||(this.mw=t,this.bw=!0,t.color&&this.gs.gi.Ta(_h.Eo),t.size&&this.gs.gi.Ta(_h.Ro),this.Mu.Pd(e,t)),this.Iw=Object.fromEntries(Object.entries(e.Vu).map((t=>{let[e,i]=t;var n;return[e,null===(n=i.zu)||void 0===n?void 0:n.effective]})))}}}rv(){var t,e,i,n;if(super.rv(),this.kw(),((null===(t=this.Pa)||void 0===t?void 0:t.strictMode)||(null===(e=this.Id)||void 0===e?void 0:e.ss.Eu))&&this.mw&&(null===(i=this.Id)||void 0===i?void 0:i.ss)){const t=this.Id.ss.Vu;t&&Object.values(this.mw).forEach((e=>{if(!(e in t))throw new Error("LightningChart JS error - PointLineAreaSeries data mapping is referencing a data property ('".concat(e,"') that doesn't exist in the connected data set. This is not allowed when strict mode is enabled."))}))}const r=Ba(null!==(n=this.ks())&&void 0!==n?n:"ProgressiveX");this.Mu.Pw("x"===r?0===this.xAxis.Hf?"bottom":"top":0===this.yAxis.Hf?"left":"right")}pw(){var t;if(!this.Id){const t=new Mc(this.Pa);return this.setDataSet(t,!0!==this.bw?this.mw:void 0),t}return null===(t=this.Id)||void 0===t?void 0:t.ss}Sw(t){var e,i;if((null===(e=this.Pa)||void 0===e?void 0:e.strictMode)||(null===(i=this.Id)||void 0===i?void 0:i.ss.Eu))throw new Error("LightningChart JS error - PointLineAreaSeries data mapping is not explicitly defined. This is not allowed when strict mode is enabled.");const n=Object.entries(t),r=n.find((t=>t[0].toLowerCase().includes("x"))),s=n.find((t=>t[0].toLowerCase().includes("y"))),o=n.find((t=>t[0].toLowerCase().includes("size"))),a=n.find((t=>t[0].toLowerCase().includes("rot"))),l=n.find((t=>t[0].toLowerCase().includes("lookup")||t[0].toLowerCase().includes("value")&&!t[0].toLowerCase().includes("y")&&!t[0].toLowerCase().includes("x"))),h=n.find((t=>t[0].toLowerCase().includes("color"))),c={};o&&(c.size=o[0]),a&&(c.rotation=a[0]),l&&(c.lookupValue=l[0]),h&&(c.color=h[0]);const u=n.find((t=>{var e;return Boolean(null===(e=t[1].zu)||void 0===e?void 0:e.effective)})),d=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];for(const n of i)if(n!==t)return n[0];for(const s of n)if(s!==t&&!Object.keys(c).includes(s[0]))return s[0]};if("xValues"in t&&"yValues"in t)return{...c,x:"xValues",y:"yValues"};if("yValues"in t){const t=d(n.find((t=>"yValues"===t[0])));if(t)return{...c,x:t,y:"yValues"}}if("xValues"in t){const t=d(n.find((t=>"xValues"===t[0])));if(t)return{...c,y:t,x:"xValues"}}if(r&&s)return{...c,x:r[0],y:s[0]};if(u){const t="x",e="y",i=d(u);if(i)return{...c,[t]:u[0],[e]:i}}return n.length>=2?{...c,x:n[0][0],y:n[1][0]}:void 0}hh(){const t=this.getPointFillStyle(),e=this.getAreaFillStyle();return{stroke:this.getStrokeStyle(),fill:t!==na?t:e,behavior:{priority:"stroke"}}}Ws(){return this.Os||this.getPointShape()}rh(t,e){t.Fi(e),this.Zs.Rs()}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}const Ug={pan:!1,zoom:!1,rectangleZoom:!1,restoreDefault:!1,chartInteractions:void 0},Yg=(t,e,i,n)=>{t.seriesBackground.addEventListener(e,i,n),t.getSeries().forEach((t=>t.addEventListener(e,i,n)));const r=t=>t.series.addEventListener(e,i,n);return t.addEventListener("seriesadd",r),()=>{t.seriesBackground.removeEventListener(e,i),t.getSeries().forEach((t=>t.removeEventListener(e,i))),t.removeEventListener("seriesadd",r)}},Gg=(t,e,i,n)=>{const r=[];t.forEachAxis((t=>{const s=e=>i(t,e);t.addEventListener(e,s,n),r.push((()=>t.removeEventListener(e,s)))}));const s=t=>{const s=e=>i(t.axis,e);t.axis.addEventListener(e,s,n),r.push((()=>t.axis.removeEventListener(e,s)))};return t.addEventListener("axisadd",s),r.push((()=>t.removeEventListener("axisadd",s))),()=>{r.forEach((t=>t()))}},jg=(t,e,i)=>{io();const n=new Map;t.forEachAxis((t=>{var i,r;const s=t.uh.chartInteractions;!1===s||"object"==typeof s&&!1===s.restoreDefault||n.set(t,{animate:null!==(i=e.animationsEnabled)&&void 0!==i?i:void 0,stopAxisAfter:null!==(r=e.stopScroll)&&void 0!==r?r:void 0})})),t.Lw(n);const r=t.engine.setMouseStyle(Yl.ZoomOut);jr.setTimeout((()=>{t.engine.restoreMouseStyle(r)}),500);const s=e.on;s&&jr.requestAnimationFrame((()=>s({event:i})))},Xg=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return(t,i)=>e.forEach((e=>e.forEach((e=>{e.axis.oi.X(t),e.axis.Zf.X(i)}))))},Wg=En(10,10);var Zg;!function(t){t[t.Top=0]="Top",t[t.Bottom=1]="Bottom",t[t.Left=2]="Left",t[t.Right=3]="Right"}(Zg||(Zg={}));const qg=new Set([Zg.Top,Zg.Bottom,Zg.Left,Zg.Right]),Jg=t=>t.setStopped(!0),Kg=(t,e)=>{if(!t||!e)throw new Error("LightningChart JS error | either X or Y axis didn't exist when creating a series.");const i="linear-highPrecision"===t.cr.type||"linear-highPrecision"===e.cr.type,n="logarithmic"===t.cr.type||"logarithmic"===e.cr.type;if(i&&n){const i="Invalid Axis combination | 'logarithmic' can't be combined with 'linear-highPrecision' (x: ".concat(t.cr.type,", y: ").concat(e.cr.type,")");throw new Error(i)}};var Qg,$g,tp;!function(t){t[t.seriesBackground=0]="seriesBackground",t[t.gridLine0=1]="gridLine0",t[t.gridLine1=2]="gridLine1",t[t.gridLine2=3]="gridLine2",t[t.highlightersBelow=4]="highlightersBelow"}(Qg||(Qg={})),function(t){t[t.plotting=0]="plotting",t[t.highlightersAbove=1]="highlightersAbove",t[t.fg=2]="fg"}($g||($g={}));class ep extends Xd{constructor(t,e,i,n,r,s,o){var a,l,h,c,u;super(t,e,i,e.Vg("chartXY bg",0),n,e.gi.bi.chartXYBackgroundFillStyle,e.gi.bi.chartXYBackgroundStrokeStyle,e.gi.bi.chartXYTitleFont,e.gi.bi.chartXYTitleFillStyle,e.gi.bi.chartXYTitleShadow,o,null===(a=null==s?void 0:s.legend)||void 0===a?void 0:a.customLegend),this.Bw=this.kg.d2({scaleXYConstructor:sr}),this._A=[],this.kA=[],this.TA=[],this.CA=[],this.Dw=new Map,this.Rw=!0,this.Ew=[],this.Ow=this.bi.chartXYZoomingRectangleFillStyle,this.zw=this.bi.chartXYZoomingRectangleStrokeStyle,this.SA=ip,this.yb=0,this.fm=[],this.gm=()=>{if(this.ci)return;const t=new Map;this.forEachAxis((e=>{void 0!==e.cA().find((t=>t.dv()))&&t.set(e,{...e.getInterval(),stopped:e.getStopped()})})),t.size<=0||(this.fm.push(t),this.fm.length>100&&this.fm.shift())},this.Vw=(t,e,i)=>{const n=t.solveNearest(e,i);return n&&mo(n.cursorPosition.pointMarker.x,n.axisX.getInterval().start,n.axisX.getInterval().end)&&mo(n.cursorPosition.pointMarker.y,n.axisY.getInterval().start,n.axisY.getInterval().end)?n:void 0},this.Nw=Xg(this.kA,this._A),this.Gw=Xg(this.TA,this.CA),this.$w=t=>{this.Nw(t.engineWidth,t.engineHeight),this.Gw(t.engineHeight,t.engineWidth),this.Bw.X(t.engineWidth,t.engineHeight),this.gi.Rs()},this.Uw=(t,e)=>{this.Dw.set(t,e)},this.Uf=t=>{const e=this.kA.findIndex((e=>e.axis===t)),i=this._A.findIndex((e=>e.axis===t)),n=this.TA.findIndex((e=>e.axis===t)),r=this.CA.findIndex((e=>e.axis===t));e>=0&&this.kA.splice(e,1),i>=0&&this._A.splice(i,1),n>=0&&this.TA.splice(n,1),r>=0&&this.CA.splice(r,1),this.Dw.delete(t),this.gi.Rs()},this.addAreaRangeSeries=t=>{const e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Kg(e,i);const n=new Lg(this,this.ly,this.rS,e,i,this.Yw(e),this.Yw(i),this.Tg,this.bi,this.gi.Ss,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ny.length);return this.yy(n,t),n},this.L=new Er,this.gi.Ta(_h.Fo),this.xn({left:null!==(l=this.bi.panelPadding)&&void 0!==l?l:7,right:null!==(h=this.bi.panelPadding)&&void 0!==h?h:7,top:null!==(c=this.bi.panelPadding)&&void 0!==c?c:7,bottom:null!==(u=this.bi.panelPadding)&&void 0!==u?u:7},!1),this.jw=e.km("chartXY series bg",Qg.seriesBackground),this.Hw=[Qg.gridLine0,Qg.gridLine1,Qg.gridLine2].map((t=>e.Ww("chartXY gridline #".concat(t),t))),this.Gf=e.Ww("chartXY highlighters below",Qg.highlightersBelow),this.rS=e.Cm("chartXY plotting",$g.plotting),this.$f=e.Cm("chartXY highlighters above",$g.highlightersAbove),this.Nf=e.Cm("chartXY fg",$g.fg),this.Bw.x.H(0,this.uiScale.x.getCellSize()-(this.nt.left+this.nt.right+this.Vn.left+this.Vn.right)),this.Bw.y.H(0,this.uiScale.y.getCellSize()-(this.nt.bottom+this.nt.top+this.Vn.bottom+this.Vn.top)),this.Bw.X(this.uiScale._t().x,this.uiScale._t().y),this.gy=this.jw.ih(this.Bw).th(this.bi.chartXYSeriesBackgroundFillStyle).qe(Br),this.vy=this.jw.ih(this.Bw).th(na).qe(this.bi.chartXYSeriesBackgroundStrokeStyle).setPointerEvents(!1),super.Ay(this.gy,this.vy),this.setSeriesBackgroundEffect(!1);const d=ts(s?s.cursorBuilder:void 0,_g),f=e.Dm();this.Rm=vy(this,f,d.sm(f,this.Bw,this.Bw,Jr,this.bi),this,"show-all",ap,((t,e)=>{const i=this.translateCoordinate(t,{x:t.axisX,y:t.axisY},this.coordsClient);return Math.sqrt((i.clientX-e.clientX)**2+(i.clientY-e.clientY)**2)})),this.addAxisX(s&&s.defaultAxisX),this.addAxisY(s&&s.defaultAxisY),this.addEventListener("resize",this.$w),this.Hh.Kr("ChartXY"),this.setAnimationsEnabled(!1!==(null==s?void 0:s.animationsEnabled)),this.zg(r,this.Bw),this.Em=(t=>{let e={},i=!1,n=!1,r=!1;const s=()=>{var i;const n=t.getAxes().find((t=>{var e,i;return(null===(e=t.getScrollStrategy())||void 0===e?void 0:e.id)===nh||(null===(i=t.getScrollStrategy())||void 0===i?void 0:i.id)===rh})),r=t.getSeries().map((t=>t.ks())).find((t=>t)),s=t.getSeries().find((t=>t instanceof Hg&&!ra(t.getAreaFillStyle())&&t.ks())),o=n?{type:"scrolling",scrollingAxis:n,x:n.isX,y:n.isY}:r?{type:"progressive",x:"ProgressiveX"===r||"RegressiveX"===r,y:"ProgressiveY"===r||"RegressiveY"===r}:{type:"freeform"};if("progressive"===o.type){const t={zoom:{wheel:{},stopScroll:!0},pan:{lmb:!1,rmb:{drag:{}}},restoreDefault:{doubleClick:!0},rectangleZoom:{lmb:{drag:{}},rmb:!1}},i={pan:{lmb:!1,rmb:{drag:{}}},zoom:{wheel:{},mode:s?"keep-start":"centered"},restoreDefault:{doubleClick:!0},rectangleZoom:{lmb:{drag:{}},rmb:!1}};return Yr({rectangleZoom:{x:o.x,y:o.y,rmb:!1},pan:{x:o.x,y:o.y,pinch:{},lmb:!1,rmb:{drag:{}}},paginate:!1,zoom:{x:o.x,y:o.y,wheel:{},pinch:{},stopScroll:!0},restoreDefault:{doubleClick:!0},restorePrevious:{ctrl:{code:"KeyZ"}},xAxis:o.x?t:i,yAxis:o.y?t:i},e)}if("scrolling"===o.type){const t=((null===(i=o.scrollingAxis.Dr)||void 0===i?void 0:i.id)===rh?-1:1)*(o.scrollingAxis.getInterval().end>o.scrollingAxis.getInterval().start?1:-1)>0?"keep-end":"keep-start",n={zoom:{wheel:{},stopScroll:!1,mode:t},pan:{drag:{}},restoreDefault:{doubleClick:!0}},r={rectangleZoom:{lmb:{},rmb:!1,mmb:!1},pan:{lmb:!1,rmb:{drag:{}},mmb:!1},zoom:{drag:!1,wheel:{},mode:s?"keep-start":"centered"},restoreDefault:{doubleClick:!0}};return Yr({rectangleZoom:!1,pan:{x:o.x,y:o.y,pinch:{},drag:{}},paginate:!1,zoom:{x:o.x,y:o.y,wheel:{},pinch:{stopScroll:!0},stopScroll:!1,mode:t},restoreDefault:{doubleClick:!0},restorePrevious:!1,xAxis:o.x?n:r,yAxis:o.y?n:r},e)}return Yr({pan:{x:!0,y:!0,pinch:{},lmb:!1,rmb:{drag:{}}},zoom:{x:!0,y:!0,pinch:{},wheel:{},mode:"toward-pointer"},rectangleZoom:{x:!0,y:!0,lmb:!0,rmb:!1},restoreDefault:{doubleClick:!0},restorePrevious:{ctrl:{code:"KeyZ"}},axes:{pan:{rmb:{drag:{}},lmb:!1},rectangleZoom:{lmb:{drag:{}},rmb:!1},zoom:{wheel:{}},restoreDefault:{doubleClick:!0}}},e)},o=t=>{const e=s(),i=t.getUserInteractions();let n=t.isX?e.xAxis:e.yAxis,r=e.axes;return n=!1!==n?n:Ug,r=!1!==r?r:Ug,Yr(null!=r?r:{},null!=n?n:{},i)},a=t=>{},l=e=>{if(!t.axisX||!t.axisY)return;const o=Sa(!1!==t.gi.Pa.La),a=s(),l=ba(a.pan,"drag",e,i,n,r);l&&o.push((()=>((t,e,i,n)=>{let r;const s=t.getCursorMode();let o=!1,a=e;"mouse"===e.pointerType&&e.preventDefault();const l=n=>{if(n.pointerId!==e.pointerId)return;const s=n.clientX-a.clientX,l=n.clientY-a.clientY;if(a=n,!o){if(!("mouse"===n.pointerType||Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))>=10))return;o=!0,r=t.engine.setMouseStyle(!1===i.x?Yl.Vertical:!1===i.y?Yl.Horizontal:Yl.Move),t.setCursorMode(void 0),eo()}ys(n),i.x&&t.forEachAxisX((t=>{var e;const n=t.uh.chartInteractions;!1===n||"object"==typeof n&&!1===n.pan||(!1!==i.stopScroll&&t.setStopped(!0),t.pan(-s*(null!==(e=i.sensitivity)&&void 0!==e?e:1)))})),i.y&&t.forEachAxisY((t=>{var e;const n=t.uh.chartInteractions;!1===n||"object"==typeof n&&!1===n.pan||(!1!==i.stopScroll&&t.setStopped(!0),t.pan(l*(null!==(e=i.sensitivity)&&void 0!==e?e:1)))}));const h=i.on;h&&jr.requestAnimationFrame((()=>h({event:n})))},h=i=>{i.pointerId===e.pointerId&&(jr.removeEventListener("pointermove",l),jr.removeEventListener("pointerup",h),t.engine.container.removeEventListener("pointerdown",c),r=t.engine.restoreMouseStyle(r),n(),t.setCursorMode(s))},c=i=>{i.pointerId!==e.pointerId&&(jr.removeEventListener("pointermove",l),jr.removeEventListener("pointerup",h),t.engine.container.removeEventListener("pointerdown",c),r=t.engine.restoreMouseStyle(r),n(),t.setCursorMode(s))};jr.addEventListener("pointermove",l),jr.addEventListener("pointerup",h),t.engine.container.addEventListener("pointerdown",c),io()})(t,e,l,f())));const h=ba(a.zoom,"drag",e,i,n,r);h&&o.push((()=>((t,e,i,n)=>{let r=t.engine.setMouseStyle(Yl.ZoomIn);const s=t.getCursorMode();t.setCursorMode(void 0);let o=!1,a=e;"mouse"===e.pointerType&&e.preventDefault();const l=n=>{if(n.pointerId!==e.pointerId)return;ys(n);const s={x:n.clientX-a.clientX,y:n.clientY-a.clientY};a=n,i.x&&t.forEachAxisX((n=>{var o;const a=n.uh.chartInteractions;if(!1===a||"object"==typeof a&&!1===a.zoom)return;let l;l="keep-start"===i.mode?n.getInterval().start:"keep-end"===i.mode?n.getInterval().end:"centered"===i.mode?n.oi.Dt((n.oi.bt()+n.oi.xt())/2):t.translateCoordinate(e,{x:n,y:n}).x;const h=.05*n.ar.getWidth({x:-s.x,y:s.y})*(null!==(o=i.sensitivity)&&void 0!==o?o:1);n.zoom(l,h),!1!==i.stopScroll&&n.setStopped(!0),r=t.engine.setMouseStyle(h<0?Yl.ZoomIn:Yl.ZoomOut,r)})),i.y&&t.forEachAxisY((n=>{var o;const a=n.uh.chartInteractions;if(!1===a||"object"==typeof a&&!1===a.zoom)return;let l;l="keep-start"===i.mode?n.getInterval().start:"keep-end"===i.mode?n.getInterval().end:"centered"===i.mode?n.oi.Dt((n.oi.bt()+n.oi.xt())/2):t.translateCoordinate(e,{x:n,y:n}).y;const h=.05*n.ar.getWidth({x:-s.x,y:s.y})*(null!==(o=i.sensitivity)&&void 0!==o?o:1);n.zoom(l,h),!1!==i.stopScroll&&n.setStopped(!0),r=t.engine.setMouseStyle(h<0?Yl.ZoomIn:Yl.ZoomOut,r)})),o||(eo(),o=!0);const l=i.on;l&&jr.requestAnimationFrame((()=>l({event:n})))},h=i=>{i.pointerId===e.pointerId&&(jr.removeEventListener("pointermove",l),jr.removeEventListener("pointerup",h),t.engine.container.removeEventListener("pointerdown",c),r=t.engine.restoreMouseStyle(r),n(),t.setCursorMode(s))},c=i=>{i.pointerId!==e.pointerId&&(jr.removeEventListener("pointermove",l),jr.removeEventListener("pointerup",h),t.engine.container.removeEventListener("pointerdown",c),r=t.engine.restoreMouseStyle(r),n(),t.setCursorMode(s))};jr.addEventListener("pointermove",l),jr.addEventListener("pointerup",h),t.engine.container.addEventListener("pointerdown",c),io()})(t,e,h,f())));const c=ba(a.rectangleZoom,void 0,e,i,n,r);c&&o.push((()=>((t,e,i,n)=>{let r;const s=t.getCursorMode(),o=t.addRectangleSeries({legend:null}).setDrawOrder({seriesDrawOrderIndex:1e3}).setPointerEvents(!1).setCursorEnabled(!1).setAutoScrollingEnabled(!1).setClipping(!1),a=o.add({x1:0,x2:0,y1:0,y2:0});let l=!1,h=!1;"mouse"===e.pointerType&&e.preventDefault();const c=n=>{if(n.pointerId!==e.pointerId)return;ys(n),i.x&&t.forEachAxisX((t=>{const e=t.uh.chartInteractions;!1===e||"object"==typeof e&&!1===e.rectangleZoom||t.setStopped(!0)})),i.y&&t.forEachAxisY((t=>{const e=t.uh.chartInteractions;!1===e||"object"==typeof e&&!1===e.rectangleZoom||t.setStopped(!0)}));const o=t.translateCoordinate(e,t.coordsAxis),c=t.translateCoordinate(n,t.coordsAxis),u=hr({x:0,y:0},t.Bw,t.coordsAxis),d=hr({x:t.Bw.x.getInnerEnd(),y:t.Bw.y.getInnerEnd()},t.Bw,t.coordsAxis);!1===i.x?a.setDimensions({y1:o.y,x1:u.x,y2:c.y,x2:d.x}):!1===i.y?a.setDimensions({x1:o.x,y1:u.y,x2:c.x,y2:d.y}):a.setDimensions({x1:o.x,y1:o.y,x2:c.x,y2:c.y});const f=yo({x:n.clientX,y:n.clientY},{x:i.x?e.clientX:n.clientX,y:i.y?e.clientY:n.clientY})>=20,g=mo(c.x,u.x,d.x)&&mo(c.y,u.y,d.y);if(a.setFillStyle(f&&g?t.getZoomingRectangleFillStyle():na).setStrokeStyle(f&&g?t.getZoomingRectangleStrokeStyle():Br),l||(eo(),l=!0),t.setCursorMode(f?void 0:s),f){if(r=t.engine.setMouseStyle(Yl.ZoomIn,r),!h){const t=i.start;t&&t({event:n})}}else r=t.engine.restoreMouseStyle(r);h=f},u=a=>{if(a.pointerId!==e.pointerId)return;const l=yo({x:a.clientX,y:a.clientY},{x:i.x?e.clientX:a.clientX,y:i.y?e.clientY:a.clientY})>=20,h=t.translateCoordinate(a,t.coordsAxis),f=hr({x:0,y:0},t.Bw,t.coordsAxis),g=hr({x:t.Bw.x.getInnerEnd(),y:t.Bw.y.getInnerEnd()},t.Bw,t.coordsAxis),p=mo(h.x,f.x,g.x)&&mo(h.y,f.y,g.y);l&&p&&t.forEachAxis((n=>{var r,s;if(n.isX&&!i.x)return;if(n.isY&&!i.y)return;const o=n.uh.chartInteractions;if(!1===o||"object"==typeof o&&!1===o.rectangleZoom)return;const l=t.translateCoordinate(e,{x:n,y:n}),h=t.translateCoordinate(a,{x:n,y:n}),c=n.ar.getWidth(l),u=n.ar.getWidth(h),d=Math.sign(u-c),f=Math.sign(n.getInterval().end-n.getInterval().start),g=d===f?c:u,p=d===f?u:c;n.ai(g,p,null!==(r=i.animationsEnabled)&&void 0!==r?r:void 0,null!==(s=i.stopScroll)&&void 0!==s?s:void 0,"interactionSetInterval")})),l&&to("click"),t.setCursorMode(s),o.dispose(),jr.removeEventListener("pointermove",c),jr.removeEventListener("pointerup",u),t.engine.container.removeEventListener("pointerdown",d),r=t.engine.restoreMouseStyle(r),n();const m=l&&p&&i.on;m&&jr.requestAnimationFrame((()=>m({event:a})))},d=i=>{i.pointerId!==e.pointerId&&(t.setCursorMode(s),o.dispose(),jr.removeEventListener("pointermove",c),jr.removeEventListener("pointerup",u),t.engine.container.removeEventListener("pointerdown",d),r=t.engine.restoreMouseStyle(r),n())};jr.addEventListener("pointermove",c),jr.addEventListener("pointerup",u),t.engine.container.addEventListener("pointerdown",d),io()})(t,e,c,f()))),o.end();const u=ba(a.pan,"pinch",e,i,n,r),d=ba(a.zoom,"pinch",e,i,n,r);(d||u)&&((t,e,i,n,r)=>{if(!i&&!n)return;const s=a=>{if(a.pointerId===e.pointerId)return;const l=r();let h;t.engine.container.removeEventListener("pointerdown",s),jr.removeEventListener("pointerup",o);let c=a;const u=t.getCursorMode();t.setCursorMode(void 0);const d=r=>{var s,o,l,u;const d=h,f=c;if(r.pointerId===e.pointerId)h=r;else{if(r.pointerId!==a.pointerId)return;c=r}if(ys(r),void 0===h||void 0===d)return;const g={x:(h.clientX-d.clientX+(c.clientX-f.clientX))/2*(null!==(s=null==i?void 0:i.sensitivity)&&void 0!==s?s:1),y:(h.clientY-d.clientY+(c.clientY-f.clientY))/-2*(null!==(o=null==i?void 0:i.sensitivity)&&void 0!==o?o:1)};let p=!1;if(i&&i.x&&(p=!0,t.forEachAxisX((t=>{const e=t.uh.chartInteractions;!1===e||"object"==typeof e&&!1===e.pan||t.PA({},g)}))),i&&i.y&&(p=!0,t.forEachAxisY((t=>{const e=t.uh.chartInteractions;!1===e||"object"==typeof e&&!1===e.pan||t.PA({},g)}))),p){const t=null==i?void 0:i.on;t&&jr.requestAnimationFrame((()=>t({event:r})))}const m=zo(Bo({x:Math.abs(d.clientX-f.clientX),y:Math.abs(d.clientY-f.clientY)},{x:Math.abs(h.clientX-c.clientX),y:Math.abs(h.clientY-c.clientY)}),{x:null!==(l=null==n?void 0:n.sensitivity)&&void 0!==l?l:1,y:null!==(u=null==n?void 0:n.sensitivity)&&void 0!==u?u:1});let y=!1;if(n&&n.x&&(y=!0,t.forEachAxisX((t=>{var e;const i=t.uh.chartInteractions;!1===i||"object"==typeof i&&!1===i.zoom||t.ai(t.oi.Jt(t.getInterval().start,-t.ar.getWidth(m)),t.oi.Jt(t.getInterval().end,t.ar.getWidth(m)),!1,null!==(e=n.stopScroll)&&void 0!==e?e:void 0,"interactionZoom")}))),n&&n.y&&(y=!0,t.forEachAxisY((t=>{var e;const i=t.uh.chartInteractions;!1===i||"object"==typeof i&&!1===i.zoom||t.ai(t.oi.Jt(t.getInterval().start,-t.ar.getWidth(m)),t.oi.Jt(t.getInterval().end,t.ar.getWidth(m)),!1,null!==(e=n.stopScroll)&&void 0!==e?e:void 0,"interactionZoom")}))),y){const t=null==n?void 0:n.on;t&&jr.requestAnimationFrame((()=>t({event:r})))}},f=i=>{i.pointerId!==e.pointerId&&i.pointerId!==a.pointerId||(ys(i),t.setCursorMode(u),jr.removeEventListener("pointermove",d),jr.removeEventListener("pointerup",f),l())};jr.addEventListener("pointermove",d),jr.addEventListener("pointerup",f),io()},o=i=>{i.pointerId===e.pointerId&&(t.engine.container.removeEventListener("pointerdown",s),jr.removeEventListener("pointerup",o))};t.engine.container.addEventListener("pointerdown",s),jr.addEventListener("pointerup",o)})(t,e,u,d,f)};Yg(t,"wheel",(e=>{const o=Sa(!1!==t.gi.Pa.La),a=s(),l=ba(a.pan,"wheel",e,i,n,r);l&&o.push((()=>((t,e,i)=>{if(ys(e),t.forEachAxisX((t=>{var n;const r=t.uh.chartInteractions;!1===r||"object"==typeof r&&!1===r.pan||i.x&&(!1!==i.stopScroll&&t.setStopped(!0),t.pan(-30*Math.sign(e.deltaY)*(null!==(n=i.sensitivity)&&void 0!==n?n:1)))})),t.forEachAxisY((t=>{var n;const r=t.uh.chartInteractions;!1===r||"object"==typeof r&&!1===r.pan||i.y&&(!1!==i.stopScroll&&t.setStopped(!0),t.pan(-30*Math.sign(e.deltaY)*(null!==(n=i.sensitivity)&&void 0!==n?n:1)))})),i.x||i.y){const n=t.engine.setMouseStyle(!i.x&&i.y?Yl.Vertical:i.x&&!i.y?Yl.Horizontal:Yl.Move);jr.setTimeout((()=>{t.engine.restoreMouseStyle(n)}),500);const r=i.on;r&&jr.requestAnimationFrame((()=>r({event:e})))}})(t,e,l)));const h=ba(a.zoom,"wheel",e,i,n,r);h&&o.push((()=>((t,e,i)=>{ys(e),t.forEachAxisX((n=>{var r;const s=n.uh.chartInteractions;if(!1===s||"object"==typeof s&&!1===s.zoom)return;if(!i.x)return;let o;o="keep-start"===i.mode?n.getInterval().start:"keep-end"===i.mode?n.getInterval().end:"centered"===i.mode?n.oi.Dt((n.oi.bt()+n.oi.xt())/2):t.translateCoordinate(e,{x:n,y:n}).x,n.zoom(o,Math.sign(e.deltaY)*(null!==(r=i.sensitivity)&&void 0!==r?r:1)),!1!==i.stopScroll&&n.setStopped(!0)})),t.forEachAxisY((n=>{var r;const s=n.uh.chartInteractions;if(!1===s||"object"==typeof s&&!1===s.zoom)return;if(!i.y)return;let o;o="keep-start"===i.mode?n.getInterval().start:"keep-end"===i.mode?n.getInterval().end:"centered"===i.mode?n.oi.Dt((n.oi.bt()+n.oi.xt())/2):t.translateCoordinate(e,{x:n,y:n}).y,n.zoom(o,Math.sign(e.deltaY)*(null!==(r=i.sensitivity)&&void 0!==r?r:1)),!1!==i.stopScroll&&n.setStopped(!0)}));const n=t.engine.setMouseStyle(e.deltaY<0?Yl.ZoomIn:Yl.ZoomOut);jr.setTimeout((()=>{t.engine.restoreMouseStyle(n)}),500);const r=i.on;r&&jr.requestAnimationFrame((()=>r({event:e})))})(t,e,h))),o.end()})),Yg(t,"click",(e=>{if(e.defaultPrevented)return;const o=Sa(!1!==t.gi.Pa.La),a=s(),l=ba(a.restoreDefault,void 0,e,i,n,r);l&&l.singleClick&&o.push((()=>{ys(e),jg(t,l,e)}));const h=ba(a.restorePrevious,void 0,e,i,n,r);h&&h.singleClick&&o.push((()=>{ys(e);const i=t.getAxes().filter((t=>{const e=t.uh.chartInteractions;return!(!1===e||"object"==typeof e&&!1===e.restorePrevious)}));t.restorePreviousZoomState({whitelist:i});const n=t.engine.setMouseStyle(Yl.ZoomOut);jr.setTimeout((()=>{t.engine.restoreMouseStyle(n)}),500);const r=h.on;r&&jr.requestAnimationFrame((()=>r({event:e})))})),o.end()})),Yg(t,"contextmenu",(e=>{if(e.defaultPrevented)return;const o=Sa(!1!==t.gi.Pa.La),a=s(),l=ba(a.restoreDefault,"rmb",e,i,n,r);l&&l.singleClick&&o.push((()=>{ys(e),jg(t,l,e)}));const h=ba(a.restorePrevious,"rmb",e,i,n,r);h&&h.singleClick&&o.push((()=>{ys(e);const i=t.getAxes().filter((t=>{const e=t.uh.chartInteractions;return!(!1===e||"object"==typeof e&&!1===e.restorePrevious)}));t.restorePreviousZoomState({whitelist:i});const n=t.engine.setMouseStyle(Yl.ZoomOut);jr.setTimeout((()=>{t.engine.restoreMouseStyle(n)}),500);const r=h.on;r&&jr.requestAnimationFrame((()=>r({event:e})))})),o.end()})),Yg(t,"dblclick",(e=>{if(e.defaultPrevented)return;const o=Sa(!1!==t.gi.Pa.La),a=s(),l=ba(a.restoreDefault,void 0,e,i,n,r);l&&l.doubleClick&&o.push((()=>{ys(e),jg(t,l,e)}));const h=ba(a.restorePrevious,void 0,e,i,n,r);h&&h.doubleClick&&o.push((()=>{ys(e);const i=t.getAxes().filter((t=>{const e=t.uh.chartInteractions;return!(!1===e||"object"==typeof e&&!1===e.restorePrevious)}));t.restorePreviousZoomState({whitelist:i});const n=t.engine.setMouseStyle(Yl.ZoomOut);jr.setTimeout((()=>{t.engine.restoreMouseStyle(n)}),500);const r=h.on;r&&jr.requestAnimationFrame((()=>r({event:e})))})),o.end()}));const h=(e,s)=>{const a=Sa(!1!==t.gi.Pa.La),l=o(e),h=ba(l.pan,"drag",s,i,n,r);h&&a.push((()=>((t,e,i,n)=>{const r=t.chart,s=r.getCursorMode();r.setCursorMode(void 0);let o=r.engine.setMouseStyle(t.isY?Yl.Vertical:Yl.Horizontal),a=!1,l=e;"mouse"===e.pointerType&&e.preventDefault();const h=n=>{var r;if(n.pointerId!==e.pointerId)return;ys(n);const s=n.clientX-l.clientX,o=n.clientY-l.clientY;l=n,!1!==i.stopScroll&&t.setStopped(!0),t.pan((t.isX?-s:o)*(null!==(r=i.sensitivity)&&void 0!==r?r:1)),a||(eo(),a=!0);const h=i.on;h&&jr.requestAnimationFrame((()=>h({event:n})))},c=i=>{i.pointerId===e.pointerId&&(ys(i),jr.removeEventListener("pointermove",h),jr.removeEventListener("pointerup",c),o=t.chart.engine.restoreMouseStyle(o),n(),t.chart.setCursorMode(s))};jr.addEventListener("pointermove",h),jr.addEventListener("pointerup",c)})(e,s,h,f())));const c=ba(l.zoom,"drag",s,i,n,r);c&&a.push((()=>((t,e,i,n)=>{const r=t.chart;let s=r.engine.setMouseStyle(Yl.ZoomIn);const o=r.getCursorMode();r.setCursorMode(void 0);let a=!1,l=e;"mouse"===e.pointerType&&e.preventDefault();const h=n=>{var o;if(n.pointerId!==e.pointerId)return;ys(n);const h={x:n.clientX-l.clientX,y:n.clientY-l.clientY};let c;l=n,c="keep-start"===i.mode?t.getInterval().start:"keep-end"===i.mode?t.getInterval().end:t.oi.Dt((t.oi.bt()+t.oi.xt())/2);const u=.05*t.ar.getWidth({x:-h.x,y:h.y})*(null!==(o=i.sensitivity)&&void 0!==o?o:1);t.zoom(c,u),!1!==i.stopScroll&&t.setStopped(!0),s=r.engine.setMouseStyle(u<0?Yl.ZoomIn:Yl.ZoomOut,s),a||(eo(),a=!0);const d=i.on;d&&jr.requestAnimationFrame((()=>d({event:n})))},c=t=>{t.pointerId===e.pointerId&&(ys(t),jr.removeEventListener("pointermove",h),jr.removeEventListener("pointerup",c),s=r.engine.restoreMouseStyle(s),r.setCursorMode(o),n())};jr.addEventListener("pointermove",h),jr.addEventListener("pointerup",c)})(e,s,c,f())));const u=ba(l.rectangleZoom,void 0,s,i,n,r);u&&a.push((()=>((t,e,i,n)=>{const r=t.chart,s=r.getCursorMode();r.setCursorMode(void 0);let o=r.engine.setMouseStyle(Yl.ZoomIn);const a=t.addBand({onTop:!0}).setPointerEvents(!1).setValueStart(t.ar.getWidth(r.translateCoordinate(e,{x:t,y:t}))).setValueEnd(t.ar.getWidth(r.translateCoordinate(e,{x:t,y:t}))).setVisible(!1).setFillStyle(r.getZoomingRectangleFillStyle()).setStrokeStyle(r.getZoomingRectangleStrokeStyle());let l=!1,h=!1;"mouse"===e.pointerType&&e.preventDefault();const c=n=>{if(n.pointerId!==e.pointerId)return;ys(n),t.setStopped(!0);const s=r.translateCoordinate(n,{x:t,y:t});a.setValueEnd(t.ar.getWidth(s));const o=yo({x:n.clientX,y:n.clientY},{x:t.isX?e.clientX:n.clientX,y:t.isY?e.clientY:n.clientY})>=20;if(a.setVisible(o),l||(eo(),l=!0),o&&!h){const t=o&&i.start;t&&t({event:n})}h=o},u=l=>{var h,d;if(l.pointerId!==e.pointerId)return;ys(l);const f=yo({x:l.clientX,y:l.clientY},{x:t.isX?e.clientX:l.clientX,y:t.isY?e.clientY:l.clientY})>=20;if(f){const n=t.ar.getWidth(r.translateCoordinate(e,{x:t,y:t})),s=t.ar.getWidth(r.translateCoordinate(l,{x:t,y:t})),o=Math.sign(s-n),a=Math.sign(t.getInterval().end-t.getInterval().start),c=o===a?n:s,u=o===a?s:n;t.ai(c,u,null!==(h=i.animationsEnabled)&&void 0!==h?h:void 0,null!==(d=i.stopScroll)&&void 0!==d?d:void 0,"interactionSetInterval")}a.dispose(),jr.removeEventListener("pointermove",c),jr.removeEventListener("pointerup",u),o=r.engine.restoreMouseStyle(o),n(),r.setCursorMode(s);const g=f&&i.on;g&&jr.requestAnimationFrame((()=>g({event:l})))};jr.addEventListener("pointermove",c),jr.addEventListener("pointerup",u)})(e,s,u,f()))),a.end()};Gg(t,"pointerenter",((t,e)=>{const i=o(t);t.getHighlightOnHover()&&(i.pan||i.rectangleZoom||i.restoreDefault||i.zoom)&&t.setHighlight(!0)})),Gg(t,"pointerleave",((t,e)=>{t.getHighlightOnHover()&&t.setHighlight(!1)})),Gg(t,"wheel",((e,s)=>{const a=Sa(!1!==t.gi.Pa.La),l=o(e),h=ba(l.zoom,"wheel",s,i,n,r);h&&a.push((()=>((t,e,i)=>{var n;let r;ys(e),r="keep-start"===i.mode?t.getInterval().start:"keep-end"===i.mode?t.getInterval().end:"centered"===i.mode?t.oi.Dt((t.oi.bt()+t.oi.xt())/2):t.ar.getWidth(t.chart.translateCoordinate(e,{x:t,y:t})),t.zoom(r,Math.sign(e.deltaY)*(null!==(n=i.sensitivity)&&void 0!==n?n:1)),!1!==i.stopScroll&&t.setStopped(!0);const s=t.chart.engine.setMouseStyle(e.deltaY<0?Yl.ZoomIn:Yl.ZoomOut);jr.setTimeout((()=>{t.chart.engine.restoreMouseStyle(s)}),500);const o=i.on;o&&jr.requestAnimationFrame((()=>o({event:e})))})(e,s,h)));const c=ba(l.pan,"wheel",s,i,n,r);c&&a.push((()=>((t,e,i)=>{var n;ys(e);const r=t.chart;!1!==i.stopScroll&&t.setStopped(!0),t.pan(30*Math.sign(e.deltaY)*t.ar.getWidth({x:-1,y:1})*(null!==(n=i.sensitivity)&&void 0!==n?n:1));const s=r.engine.setMouseStyle(t.isY?Yl.Vertical:Yl.Horizontal);jr.setTimeout((()=>{t.chart.engine.restoreMouseStyle(s)}),500);const o=i.on;o&&jr.requestAnimationFrame((()=>o({event:e})))})(e,s,c))),a.end()})),Gg(t,"dblclick",((e,s)=>{var a,l;if(s.defaultPrevented)return;const h=o(e),c=ba(h.restoreDefault,void 0,s,i,n,r);if(c&&c.doubleClick){ys(s),e.fit(null!==(a=c.animationsEnabled)&&void 0!==a?a:void 0,null!==(l=c.stopScroll)&&void 0!==l?l:void 0);const i=t.engine.setMouseStyle(Yl.ZoomOut);jr.setTimeout((()=>{t.engine.restoreMouseStyle(i)}),500);const n=c.on;n&&jr.requestAnimationFrame((()=>n({event:s})))}}));const c=e=>{const o=s();let a=!1,l=!1,h=!1;for(const t of Object.keys(o)){const e=o[t];if("object"==typeof e)if("axes"===t||"xAxis"===t||"yAxis"===t){const t=e;if("object"!=typeof t)continue;for(const e of Object.keys(t)){const i=t[e];"object"==typeof i&&("ctrl"in i&&void 0!==i.ctrl&&(a=!0),"shift"in i&&void 0!==i.shift&&(l=!0),"alt"in i&&void 0!==i.alt&&(h=!0))}}else"ctrl"in e&&void 0!==e.ctrl&&(a=!0),"shift"in e&&void 0!==e.shift&&(l=!0),"alt"in e&&void 0!==e.alt&&(h=!0)}n=e.ctrlKey,i=e.shiftKey,r=e.altKey,("Control"===e.key&&a||"Shift"===e.key&&l||"Alt"===e.key&&h)&&e.preventDefault();const c=ba(o.restorePrevious,void 0,e,i,n,r);if(c&&c.code===e.code){ys(e);const i=t.getAxes().filter((t=>{const e=t.uh.chartInteractions;return!(!1===e||"object"==typeof e&&!1===e.restorePrevious)}));t.restorePreviousZoomState({whitelist:i});const n=c.on;n&&jr.requestAnimationFrame((()=>n({event:e})))}const u=ba(o.paginate,void 0,e,i,n,r);u&&((t,e,i)=>{var n,r,s,o;const a=null!==(r=null===(n=i.forward)||void 0===n?void 0:n.code)&&void 0!==r?r:"ArrowLeft",l=null!==(o=null===(s=i.backward)||void 0===s?void 0:s.code)&&void 0!==o?o:"ArrowRight",h=e.code===a?1:e.code===l?-1:0;if(0===h)return;let c=!1;if(t.forEachAxis((t=>{var e;const n=t.uh.chartInteractions;!1===n||"object"==typeof n&&!1===n.paginate||t.isX&&!i.x||t.isY&&!i.y||(c=!0,!1!==i.stopScroll&&t.setStopped(!0),t.pan(-h*(t.gr>t.Ar?1:-1)*.5*t.oi.Mt()*(null!==(e=i.sensitivity)&&void 0!==e?e:1)))})),c){ys(e);const n=t.engine.setMouseStyle(!i.x&&i.y?Yl.Vertical:i.x&&!i.y?Yl.Horizontal:Yl.Move);jr.setTimeout((()=>{t.engine.restoreMouseStyle(n)}),500);const r=i.on;r&&jr.requestAnimationFrame((()=>r({event:e})))}})(t,e,u);const d=ba(o.restoreDefault,void 0,e,i,n,r);if(d&&d.code===e.code){ys(e),t.getAxes().forEach((t=>{var e,i;const n=t.uh.chartInteractions;!1===n||"object"==typeof n&&!1===n.restoreDefault||t.fit(null!==(e=d.animationsEnabled)&&void 0!==e?e:void 0,null!==(i=d.stopScroll)&&void 0!==i?i:void 0)}));const i=d.on;i&&jr.requestAnimationFrame((()=>i({event:e})))}},u=t=>{n=t.ctrlKey,i=t.shiftKey,r=t.altKey},d=()=>{n=!1,i=!1,r=!1};jr.addEventListener("keydown",c),jr.addEventListener("keyup",u),jr.addEventListener("blur",d),t.addEventListener("dispose",(()=>{jr.removeEventListener("keydown",c),jr.removeEventListener("keyup",u),jr.removeEventListener("blur",d)}));const f=()=>(g(),p(),m(),()=>{g=Yg(t,"pointermove",a),p=Yg(t,"pointerdown",l),m=Gg(t,"pointerdown",h)});let g=Yg(t,"pointermove",a),p=Yg(t,"pointerdown",l),m=Gg(t,"pointerdown",h);return{setUserInteractions:t=>{if(void 0===t)e={pan:!1,zoom:!1,rectangleZoom:!1,restoreDefault:!1,restorePrevious:!1,axes:!1,xAxis:!1,yAxis:!1};else if(0===Object.keys(t).length)e={};else for(const i of Object.keys(t))!1===t[i]||"object"==typeof t[i]?e[i]=t[i]:e[i]={}},getUserInteractions:s}})(this);const g={...null==s?void 0:s.legend};this.legend.setOptions(g)}get coordsAxis(){return{x:this.getDefaultAxisX(),y:this.getDefaultAxisY()}}getSeries(){return this.ny}restorePreviousZoomState(t){if(this.fm.length<=1)return this;this.fm.pop();const e=this.fm[this.fm.length-1];return e?(this.Xw=jr.performance.now(),this.forEachAxis((i=>{if((null==t?void 0:t.whitelist)&&!t.whitelist.includes(i))return;const n=e.get(i);n?i.ai(n.start,n.end,null==t?void 0:t.animate,void 0!==(null==t?void 0:t.stopAxisAfter)?t.stopAxisAfter:n.stopped,"userSetInterval"):i.fit(null==t?void 0:t.animate,null==t?void 0:t.stopAxisAfter)})),this):this}clearPreviousZoomStateHistory(){if(void 0!==this.Gm)this.fm.length=0;else for(;this.fm.length>1;)this.fm.unshift();return this}setCursor(t){return this.Rm.setCursor(t),this}getCursor(){return this.Rm.getCursor()}setCursorMode(t){return this.Rm.setCursorMode(t),this}getCursorMode(){return this.Rm.getCursorMode()}setCustomCursor(t){return this.Rm.setCustomCursor(t),this}setCursorDynamicBehavior(t){return this.Rm.Ym(t),this}setCursorFormatting(t){return this.Rm.setCursorFormatting(t),this}getCursorFormatting(){return this.Rm.getCursorFormatting()}solveNearest(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCursorMode()||"show-nearest";return this.Rm.solveNearest(t,e,this.ny,this.Vw)}addCursor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_g;const e=this.Tg(),i=t.sm(e,this.Bw,this.Bw,this.wg(e),this.bi);return i.UM=!0,this.Eg(i),i}getMinimumSize(){var t;const e={x:0,y:0};e.x+=this.nt.left+this.nt.right+this.Vn.left+this.Vn.right,e.y+=this.nt.top+this.nt.bottom+this.Vn.top+this.Vn.bottom;const i=this.Hh.zr().pu(),n=Bn(np(this.SA||ip,null!==(t=this.bi.chartXYTitleMargin)&&void 0!==t?t:5),this.Ng);return e.x+=i.x+n.left+n.right,e.y+=i.y+n.top+n.bottom,this.Zw&&(e.x+=this.Zw.left,e.x+=this.Zw.right,e.y+=this.Zw.top,e.y+=this.Zw.bottom),e.x+=Wg.x,e.y+=Wg.y,e}getLayout(){const t=this.Jw;return this.gi.Qw()||!t?new Promise((t=>{this.addEventListener("layoutchange",t,{once:!0}),this.Jw=void 0})):new Promise((e=>{e(t)}))}addAxisX(t){var e,i;const{opposite:n,type:r}=wa(t);let s;s="linear"===r.type?this.kg.d1({dimension:"x",scale1DConstructor:ir}):"linear-highPrecision"===r.type?this.kg.d1({dimension:"x",scale1DConstructor:ir}).Et():this.kg.d1({dimension:"x",scale1DConstructor:Yo}).ns(r.base),s.X(this.Bw.x._t());const o=n?this._A:this.kA,a=new xu(this.Hw,this.Nf,this.$g,this.Gf,this.$f,this.gi.Ss,s,this.Bw.y,(l=()=>a.cA(),{...Au,...zg(l)}),this,n?100:0,this.Uf,this.Uw,this.bi,this.Oh,r);var l;let h,c;return void 0===(null==t?void 0:t.iParallel)&&void 0===(null==t?void 0:t.iStack)?(h=o.reduce(((t,e)=>Math.max(t,e.iParallel+1)),0),c=0):(h=null!==(e=t.iParallel)&&void 0!==e?e:0,c=null!==(i=t.iStack)&&void 0!==i?i:0),o.push({axis:a,iStack:c,iParallel:h}),this.gi.Rs(),this.L.D("axisadd",{axis:a}),this.Nm(a),a}addAxisY(t){var e,i;const{opposite:n,type:r}=wa(t);let s;s="linear"===r.type?this.kg.d1({dimension:"y",scale1DConstructor:ir}):"linear-highPrecision"===r.type?this.kg.d1({dimension:"y",scale1DConstructor:ir}).Et():this.kg.d1({dimension:"y",scale1DConstructor:Yo}).ns(r.base),s.X(this.Bw.y._t());const o=n?this.CA:this.TA,a=new xu(this.Hw,this.Nf,this.$g,this.Gf,this.$f,this.gi.Ss,s,this.Bw.x,(l=()=>a.cA(),{...Eu,...Ig(l)}),this,n?100:0,this.Uf,this.Uw,this.bi,this.Oh,r);var l;let h,c;return void 0===(null==t?void 0:t.iParallel)&&void 0===(null==t?void 0:t.iStack)?(h=o.reduce(((t,e)=>Math.max(t,e.iParallel+1)),0),c=0):(h=null!==(e=t.iParallel)&&void 0!==e?e:0,c=null!==(i=t.iStack)&&void 0!==i?i:0),o.push({axis:a,iParallel:h,iStack:c}),this.gi.Rs(),this.L.D("axisadd",{axis:a}),this.Nm(a),a}Nm(t){const e=()=>{const e=jr.performance.now();void 0!==this.Xw&&e-this.Xw<=1e3||t.getVisible()&&(this.Kw=e+300)};jr.requestAnimationFrame((()=>{e()})),t.addEventListener("intervalchange",e),t.addEventListener("dispose",(()=>{this.fm.forEach((e=>{e.delete(t)}))}))}swapAxes(t,e){const i=[this.kA,this.TA,this.CA,this._A],n=i.find((e=>void 0!==e.find((e=>e.axis===t)))),r=i.find((t=>void 0!==t.find((t=>t.axis===e))));if(!n||!r)return this;if(n!==r)throw new Error("LightningChart JS ChartXY.swapAxes does not support swapping Axes that are on different sides.");const s=n.find((e=>e.axis===t)),o=n.find((t=>t.axis===e));if(!s||!o)return this;const a=s.iParallel,l=s.iStack;s.iParallel=o.iParallel,s.iStack=o.iStack,o.iParallel=a,o.iStack=l,this.Jw=void 0;const h=[];this.legend.getEntries().forEach((t=>{if(t.component&&t.component instanceof ug){const e=t.component.axisX,i=t.component.axisY,r=n.find((t=>t.axis===e||t.axis===i));r&&h.push({iStack:r.iStack,entry:t.component})}}));const c=h.sort(((t,e)=>e.iStack-t.iStack)).map((t=>t.entry));return this.Vs.forEach((t=>t.Ag(c))),this.gi.Rs(),this}dispose(){return this.Rm.N(),this.jw.N(),this.rS.N(),this.Nf.N(),this.Hw.forEach((t=>t.N())),this.$f.N(),this.Gf.N(),this.nw().forEach((t=>t.dispose())),wd(this.Bw),this.kA.slice().forEach((t=>t.axis.dispose())),this.TA.slice().forEach((t=>t.axis.dispose())),this.CA.slice().forEach((t=>t.axis.dispose())),this._A.slice().forEach((t=>t.axis.dispose())),this.ny.slice().forEach((t=>{t.dispose()})),super.dispose()}getDefaultAxisX(){var t;return null===(t=[...this.kA,...this._A].find((t=>t.axis.getVisible())))||void 0===t?void 0:t.axis}get axisX(){return this.getDefaultAxisX()}get xAxis(){return this.getDefaultAxisX()}getDefaultAxisY(){var t;return null===(t=[...this.TA,...this.CA].find((t=>t.axis.getVisible())))||void 0===t?void 0:t.axis}get axisY(){return this.getDefaultAxisY()}get yAxis(){return this.getDefaultAxisY()}getDefaultAxes(){return[this.getDefaultAxisX(),this.getDefaultAxisY()]}getAxes(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const n=e&&e.length>0?new Set(e):qg;return $r(Array.from(n).map((t=>{switch(t){default:case Zg.Top:return this._A.slice().sort(((t,e)=>t.iStack-e.iStack)).map((t=>t.axis));case Zg.Bottom:return this.kA.slice().sort(((t,e)=>t.iStack-e.iStack)).map((t=>t.axis));case Zg.Left:return this.TA.slice().sort(((t,e)=>t.iStack-e.iStack)).map((t=>t.axis));case Zg.Right:return this.CA.slice().sort(((t,e)=>t.iStack-e.iStack)).map((t=>t.axis))}})))}qw(t){let e;return this.forEachAxisX((i=>{e=t===i?"x":e})),this.forEachAxisY((i=>{e=t===i?"y":e})),e}forEachAxisX(t){this.kA.forEach(((e,i,n)=>t(e.axis,i,n.map((t=>t.axis))))),this._A.forEach(((e,i,n)=>t(e.axis,i,n.map((t=>t.axis)))))}forEachAxisY(t){this.TA.forEach(((e,i,n)=>t(e.axis,i,n.map((t=>t.axis))))),this.CA.forEach(((e,i,n)=>t(e.axis,i,n.map((t=>t.axis)))))}setTitlePosition(t){return this.SA=t,this.Vs.forEach((t=>t.Ns())),this.gi.Rs(),this}getTitlePosition(){return this.SA}sh(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var i;super.sh(t);const n=jr.performance.now();void 0!==this.Kw&&this.Kw<=n&&(this.gm(),this.Kw=void 0);for(const I of this.ny)I.rv();for(const I of this.ny)I.sh();const r=Os(this.ny.map((t=>t.sl()))),s=new Set(r.map((t=>t.Tw)));if(1===s.size){const t=Array.from(s)[0],e="x"===t?[this.kA,this._A]:[this.TA,this.CA],i="y"===t?[this.kA,this._A]:[this.TA,this.CA];e.forEach((t=>t.forEach((t=>t.axis.An())))),i.forEach((t=>t.forEach((t=>t.axis.An()))))}else this.TA.forEach((t=>t.axis.An())),this.kA.forEach((t=>t.axis.An())),this._A.forEach((t=>t.axis.An())),this.CA.forEach((t=>t.axis.An()));let o=!1;this.forEachAxis((t=>{(t.mn()||t.Sn())&&(o=!0)}));const a=!this.Rw&&o,l=new Set(this.getAxes().map((t=>t.getStackIndex()))).size>1;this.Rm.sh(a,l?this.ny.sort(((t,e)=>e.axisY.getStackIndex()-t.axisY.getStackIndex())):this.ny,this.Vw,{afterCursorPointedAt:t=>{const e=this.gi.Ca();if(t.length>1&&e){const t=this.gi.Ka(e);this.Rm.t_.Hp({x:t.engineX,y:t.engineY},this.gi.oi)}},overrideCursorPositions:(t,e)=>t.map((t=>t.multiHit?t.multiHit.map((e=>({...t.cursorPosition,pointMarker:e}))):[t.cursorPosition])).flat()});const h=function(t,e,i,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=op(t);let o=0;const a=[],l=s.parallels.map((t=>{const s=t.stacks.reduce(((t,e)=>{var i,n;return t+(e.axis.getVisible()?(null!==(i=e.axis.bA)&&void 0!==i?i:0)+(null!==(n=e.axis.xA)&&void 0!==n?n:0):0)}),0),l=t.stacks.reduce(((t,e)=>t+(e.axis.getVisible()&&"pixels"in e.axis.df?e.axis.df.pixels:0)),0),h=e-s-l;let c=0;const u=t.stacks.map((i=>{var s,l;const u=i.axis,d=u.getVisible(),f=Math.max(e-c,0),g=Math.min(d?"pixels"in u.df?u.df.pixels:u.df.relative/t.sumRelativeSize*h:0,f),p=t.stacks.length,m={...r,availableSpace:e,stack:i,axisLength:g,axisLengthOffset:c,axisThicknessOffset:o,stackAxisCount:p},y=n(m,a);return a.push({...m,...y}),d&&(c+=g+(null!==(s=u.bA)&&void 0!==s?s:0)+(null!==(l=u.xA)&&void 0!==l?l:0)),{...y,stack:i,axis:u}})),d=u.reduce(((t,e)=>e.axis.getVisible()?Math.max(t,e.fA):t),0),f=u.reduce(((t,e)=>Math.max(t,e.uA)),0);return u.forEach((t=>{t.uA=f})),o+=d*i,{...t,stacks:u}}));return{parallels:l,thicknessTotal:Math.abs(o)}},c=this.getTitleFillStyle()!==na&&this.getTitle().length>0,u=c?this.Hh.zr().pu():{x:0,y:0},d=Bn(np(this.SA,null!==(i=this.bi.chartXYTitleMargin)&&void 0!==i?i:5),this.Ng),f=c?rp(this.SA,u,d):Zs,g=this.Vs.reduce(((t,e)=>{const i=e.zr(f,this.Vn);return{top:Math.max(t.top,i.top),bottom:Math.max(t.bottom,i.bottom),left:Math.max(t.left,i.left),right:Math.max(t.right,i.right)}}),{top:0,bottom:0,left:0,right:0}),p=this.Bw.x.getCellSize()-(this.Vn.left+this.Vn.right+f.left+f.right)-g.left-g.right,m=this.Bw.y.getCellSize()-(this.Vn.top+this.Vn.bottom+f.bottom+f.top)-g.top-g.bottom,y=new Map,v=(t,e)=>{const i=!!e.find((t=>!0===t.updatedTicks)),n={physicalAxisSize:t.axisLength,gA:t.axisLength,i_:t.axisLengthOffset,vA:t.axisThicknessOffset,anyPreviousAxisUpdated:i,MA:t.stackAxisCount};return t.stack.axis.zr(n)},x=h(this.TA,m,-1,v),b=h(this.CA,m,1,v),S=h(this.kA,p,-1,v),A=h(this._A,p,1,v),E=[this.Vn.left+f.left+x.thicknessTotal+g.left,this.Vn.right+f.right+b.thicknessTotal+g.right],w=[this.Vn.bottom+S.thicknessTotal+f.bottom+g.bottom,this.Vn.top+f.top+A.thicknessTotal+g.top],k=this.Bw.x.getCellSize()-(E[0]+E[1]),C=this.Bw.y.getCellSize()-(w[0]+w[1]);this.Bw.x.H(0,k),this.Bw.y.H(0,C),this.Bw.x.St(E),this.Bw.y.St(w),super.Og();const M=[...x.parallels,...S.parallels,...b.parallels,...A.parallels].map((t=>t.stacks)).flat(),T=t=>{var e,i;const n=t.stack.axis,r=M.find((t=>t.axis===n));if(!r)throw new Error("LightningChart JS unexpected runtime error");const s=n.getVisible()?t.margins[0]+t.axisLengthOffset+(null!==(e=n.bA)&&void 0!==e?e:0):0,o=n.getVisible()?t.margins[1]+(t.availableSpace-t.axisLengthOffset)-t.axisLength-(null!==(i=n.bA)&&void 0!==i?i:0):0;n.oi.St([s,o]);const a=t.stack.axis.sh(r);return y.set(t.stack.axis,a),r},P=p-(x.thicknessTotal+b.thicknessTotal),F=m-(S.thicknessTotal+A.thicknessTotal);h(this.TA,F,-1,T,{margins:w}),h(this.CA,F,1,T,{margins:w}),h(this.kA,P,-1,T,{margins:E}),h(this._A,P,1,T,{margins:E}),this.Zw={left:x.thicknessTotal,top:A.thicknessTotal,right:b.thicknessTotal,bottom:S.thicknessTotal};const L={chartWidth:this.Bw.x.getCellSize(),chartHeight:this.Bw.y.getCellSize(),viewportWidth:k,viewportHeight:C,margins:{left:E[0],right:E[1],bottom:w[0],top:w[1]},axes:y},R=this.Jw;if(e)this.L.D("layoutchange",{...L,userChangedLayout:()=>{}});else if(!R||Math.abs(R.chartWidth-L.chartWidth)>=1||Math.abs(R.chartHeight-L.chartHeight)>=1||Math.abs(R.viewportWidth-L.viewportWidth)>=1||Math.abs(R.viewportHeight-L.viewportHeight)>=1||this.getAxes().find((t=>{var e,i,n,r,s,o,a,l,h,c,u,d;const f=R.axes.get(t),g=L.axes.get(t);if(Math.abs((null!==(e=null==f?void 0:f.width)&&void 0!==e?e:0)-(null!==(i=null==g?void 0:g.width)&&void 0!==i?i:0))>=1||Math.abs((null!==(n=null==f?void 0:f.height)&&void 0!==n?n:0)-(null!==(r=null==g?void 0:g.height)&&void 0!==r?r:0))>=1||Math.abs((null!==(s=null==f?void 0:f.left)&&void 0!==s?s:0)-(null!==(o=null==g?void 0:g.left)&&void 0!==o?o:0))>=1||Math.abs((null!==(a=null==f?void 0:f.right)&&void 0!==a?a:0)-(null!==(l=null==g?void 0:g.right)&&void 0!==l?l:0))>=1||Math.abs((null!==(h=null==f?void 0:f.bottom)&&void 0!==h?h:0)-(null!==(c=null==g?void 0:g.bottom)&&void 0!==c?c:0))>=1||Math.abs((null!==(u=null==f?void 0:f.top)&&void 0!==u?u:0)-(null!==(d=null==g?void 0:g.top)&&void 0!==d?d:0))>=1)return t}))){let e=!1;const i=()=>{e=!0};if(this.L.D("layoutchange",{...L,userChangedLayout:i}),this.xg||e)return this.engine.layout(),this.$w({width:this.uiScale._t().x,height:this.uiScale._t().y,engineWidth:this.gi.oi._t().x,engineHeight:this.gi.oi._t().y}),this.xg=!0,void this.sh(t,!0)}this.Jw=L,this.gy.eh(En(0,0)).X(En(k,C)),this.vy.eh(En(0,0)).X(En(k,C));const B=sp(this.SA,u,d,this.uiScale.ri(),this.Vn,E,w,g);this.Hh.eh(B.position).bn(B.margin).Gl(B.horizontalAlignment).Yl(B.verticalAlignment),this.Vs.forEach((t=>t.sh(f,this.Vn)));const z=Pn(this.Bw.x.bt(),this.Bw.y.bt(),this.Bw.x.Mt(),this.Bw.y.Mt());this.rS.ym(z),this.Gf.ym(z),this.$f.ym(z),this.mg&&this.mg();for(const I of this.ny)I.nv()}Lw(t){const e=Os(this.ny.map((t=>t.sl()))),i=new Set(e.map((t=>t.Tw)));if(1===i.size){const n=Array.from(i)[0],r="x"===n?[this.kA,this._A]:[this.TA,this.CA],s="y"===n?[this.kA,this._A]:[this.TA,this.CA];r.forEach((e=>e.forEach((e=>{const i=t.get(e.axis);i&&e.axis.fit(i.animate,i.stopAxisAfter)})))),e.forEach((t=>t.Fw())),s.forEach((e=>e.forEach((e=>{const i=t.get(e.axis);i&&(e.axis.getScrollStrategy()&&void 0===e.axis.getDefaultInterval()?e.axis.setStopped(!1):e.axis.fit(i.animate,i.stopAxisAfter))}))))}else t.forEach(((t,e)=>e.fit(null==t?void 0:t.animate,null==t?void 0:t.stopAxisAfter)))}Y(){for(let t=0;t<this.kA.length;t+=1)this.kA[t].axis.Y();for(let t=0;t<this._A.length;t+=1)this._A[t].axis.Y();for(let t=0;t<this.TA.length;t+=1)this.TA[t].axis.Y();for(let t=0;t<this.CA.length;t+=1)this.CA[t].axis.Y();return super.Y()}Yw(t){if(this.Dw.has(t))return this.Dw.get(t);throw new Error("No attach handler for axis Make sure that passed axes definitely belong to this chart and that they haven't been disposed of.")}addPointLineAreaSeries(t){const e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Kg(e,i);const n=new Hg(this,this.ly,this.rS,e,i,this.Yw(e),this.Yw(i),this.Tg,this.bi,this.gi.Ss,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ny.length,t);return this.yy(n,t),n}addLineSeries(t){return this.addPointLineAreaSeries(t).setAreaFillStyle(na).setPointFillStyle(na)}addPointSeries(t){return this.addPointLineAreaSeries(t).setAreaFillStyle(na).setStrokeStyle(Br)}addPointLineSeries(t){return this.addPointLineAreaSeries(t).setAreaFillStyle(na)}addStepSeries(t){return this.addPointLineAreaSeries(t).setAreaFillStyle(na).setCurvePreprocessing({type:"step"})}addSplineSeries(t){return this.addPointLineAreaSeries(t).setAreaFillStyle(na).setCurvePreprocessing({type:"spline"})}addAreaSeries(t){return this.addPointLineAreaSeries(t).setPointFillStyle(na)}addRectangleSeries(t){const e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Kg(e,i);const n=new bg(this,this.ly,this.rS,e,i,this.Yw(e),this.Yw(i),this.Tg,this.bi,this.gi.Ss,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ny.length);return this.yy(n,t),n}addPolygonSeries(t){const e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY(),n=new vg(this,this.ly,this.rS,e,i,this.Yw(e),this.Yw(i),this.Tg,this.bi,this.gi.Ss,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ny.length);return this.yy(n,t),n}addSegmentSeries(t){const e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Kg(e,i);const n=new Ag(this,this.ly,this.rS,e,i,this.Yw(e),this.Yw(i),this.Tg,this.bi,this.gi.Ss,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ny.length);return this.yy(n,t),n}addEllipseSeries(t){const e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Kg(e,i);const n=new mg(this,this.ly,this.rS,e,i,this.Yw(e),this.Yw(i),this.Tg,this.bi,this.gi.Ss,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ny.length);return this.yy(n,t),n}addBoxSeries(t){const e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Kg(e,i);const n=t&&t.dimensionStrategy?t.dimensionStrategy:Au,r=new gg(this,this.ly,this.rS,e,i,this.Yw(e),this.Yw(i),this.Tg,n,this.bi,this.gi.Ss,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ny.length);return this.yy(r,t),r}addTextSeries(t){const e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Kg(e,i);const n=new kg(this,this.ly,this.rS,e,i,this.Yw(e),this.Yw(i),this.Tg,this.bi,this.gi.Ss,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ny.length);return this.yy(n,t),n}addHeatmapGridSeries(t){const e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();let n;if(void 0!==t.heatmapDataType&&"intensity"!==t.heatmapDataType)throw new Error("Unsupported Heatmap Grid heatmapDataType: '".concat(t.heatmapDataType,"'"));return n=new Mg(this,this.ly,this.rS,e,i,this.Yw(e),this.Yw(i),this.Tg,t,this.bi,this.gi.Ss,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ny.length),this.yy(n,t),n}addHeatmapScrollingGridSeries(t){const e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();let n;if(void 0!==t.heatmapDataType&&"intensity"!==t.heatmapDataType)throw new Error("Unsupported Heatmap Grid heatmapDataType: '".concat(t.heatmapDataType,"'"));return n=new Pg(this,this.ly,this.rS,e,i,this.Yw(e),this.Yw(i),this.Tg,t,this.bi,this.gi.Ss,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ny.length),this.yy(n,t),n}addOHLCSeries(t){const e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Kg(e,i);const n=new(t&&t.type?t.type:Bg.Candlesticks)(this,this.ly,this.rS,e,i,this.Yw(e),this.Yw(i),this.Tg,this.bi,this.gi.Ss);return this.yy(n,t),n}addOnScreenMenu(t,e){return new Og(this._g,t,this,e)}setZoomingRectangleFillStyle(t){return this.Ow="function"==typeof t?t(this.Ow):t,this.gi.Rs(),this}getZoomingRectangleFillStyle(){return this.Ow}setZoomingRectangleStrokeStyle(t){return this.zw="function"==typeof t?t(this.zw):t,this.gi.Rs(),this}getZoomingRectangleStrokeStyle(){return this.zw}pan(t){this.forEachAxisX((e=>{e.setStopped(!0).pan(t.x)})),this.forEachAxisY((e=>{e.setStopped(!0).pan(t.y)}))}zoom(t,e){this.forEachAxis(Jg),this.forEachAxisX((i=>{i.zoom(i.oi.Dt(t.x),e.x)})),this.forEachAxisY((i=>{i.zoom(i.oi.Dt(t.y),e.y)}))}setAnimationsEnabled(t){return super.setAnimationsEnabled(t),this.forEachAxis((e=>e.setAnimationsEnabled(t))),this}gg(){const t=[];return this.forEachAxis((e=>e.nA((e=>t.push(e))))),super.gg().concat(t)}nw(){return this.Ew}je(){return this.jg(this.rS)}setCursorEnabledDuringAxisAnimation(t){return this.Rw=t,this}getCursorEnabledDuringAxisAnimation(){return this.Rw}forEachAxis(t){return this.forEachAxisX(t),this.forEachAxisY(t),this}translateCoordinate(t,e,i){if(i){const n=t,r=e,s=wu(r)?r:ya(r)?this.Kf:void 0;if(s&&pa(i)){const t=hr(n,s,this.gi.oi);return this.gi.qa({engineX:t.x,engineY:t.y})}if(s&&ya(i))return hr(n,s,this.Kf);if(s&&wu(i))return hr(n,s,i)}else{const i=t;if(ya(e)){const t=this.gi.Ka(i);return hr({x:t.engineX,y:t.engineY},this.gi.oi,this.Kf)}if(wu(e)){const t=e,n=this.gi.Ka(i);return hr({x:n.engineX,y:n.engineY},this.gi.oi,t)}}throw new Error("translateCoordinate unexpected error. Input or target coordinate system not recognized.")}addEventListener(t,e,i){this.L.addEventListener(t,e,i),"layoutchange"===t&&this.Jw&&e({...this.Jw,userChangedLayout:()=>{}})}removeEventListener(t,e){this.L.removeEventListener(t,e)}setUserInteractions(t){return this.Em.setUserInteractions(t),this}getUserInteractions(){return this.Em.getUserInteractions()}}!function(t){t.CenterTop="center-top",t.RightTop="right-top",t.LeftTop="left-top",t.CenterBottom="center-bottom",t.RightBottom="right-bottom",t.LeftBottom="left-bottom",t.SeriesCenterTop="series-center-top",t.SeriesRightTop="series-right-top",t.SeriesLeftTop="series-left-top",t.SeriesCenterBottom="series-center-bottom",t.SeriesRightBottom="series-right-bottom",t.SeriesLeftBottom="series-left-bottom"}(tp||(tp={}));const ip=tp.CenterTop,np=(t,e)=>{switch(t){case"center-top":case"series-center-bottom":return{left:0,right:0,top:0,bottom:e};case"left-top":return{left:20,right:0,top:0,bottom:e};case"right-top":return{left:0,right:20,top:0,bottom:e};case"center-bottom":return{left:0,right:0,top:0,bottom:0};case"left-bottom":return{left:20,right:0,top:0,bottom:0};case"right-bottom":return{left:0,right:20,top:0,bottom:0};case"series-center-top":return{left:0,right:0,top:e,bottom:0};case"series-left-top":return{left:e,right:0,top:e,bottom:0};case"series-right-top":return{left:0,right:e,top:e,bottom:0};case"series-left-bottom":return{left:e,right:0,top:0,bottom:e};case"series-right-bottom":return{left:0,right:e,top:0,bottom:e}}return Us(0,"Unexpected ChartXY title position selection ".concat(t))},rp=(t,e,i)=>{switch(t){case"center-top":case"left-top":case"right-top":return{top:e.y+i.top+i.bottom,right:0,bottom:0,left:0};case"center-bottom":case"left-bottom":case"right-bottom":return{bottom:e.y+i.top+i.bottom,right:0,left:0,top:0};default:return Zs}},sp=(t,e,i,n,r,s,o,a)=>{const l=(i.left-i.right)*n.x,h=(i.bottom-i.top)*n.y,c={top:0,left:a.left+r.left,right:a.right+r.right,bottom:0};switch(t){case"center-top":return{horizontalAlignment:0,verticalAlignment:1,position:{x:50+l,y:100-(r.top+i.top)*n.y},margin:c};case"left-top":return{horizontalAlignment:-1,verticalAlignment:1,position:{x:l,y:100-(r.top-i.top)*n.y},margin:c};case"right-top":return{horizontalAlignment:1,verticalAlignment:1,position:{x:100+l,y:100-(r.top-i.top)*n.y},margin:c};case"center-bottom":return{horizontalAlignment:0,verticalAlignment:-1,position:{x:50+l,y:(r.bottom+i.bottom)*n.y},margin:c};case"left-bottom":return{horizontalAlignment:-1,verticalAlignment:-1,position:{x:l,y:(r.bottom+i.bottom)*n.y},margin:c};case"right-bottom":return{horizontalAlignment:1,verticalAlignment:-1,position:{x:100+l,y:(r.bottom+i.bottom)*n.y},margin:c};case"series-center-top":return{horizontalAlignment:0,verticalAlignment:1,position:{x:50+l,y:100-o[1]*n.y+h},margin:c};case"series-left-top":return{horizontalAlignment:-1,verticalAlignment:1,position:{x:s[0]*n.x+l,y:100-o[1]*n.y+h},margin:Zs};case"series-right-top":return{horizontalAlignment:1,verticalAlignment:1,position:{x:100-s[1]*n.x+l,y:100-o[1]*n.y+h},margin:Zs};case"series-center-bottom":return{horizontalAlignment:0,verticalAlignment:-1,position:{x:50,y:o[0]*n.y+h},margin:c};case"series-left-bottom":return{horizontalAlignment:-1,verticalAlignment:-1,position:{x:s[0]*n.x+l,y:o[0]*n.y+h},margin:Zs};case"series-right-bottom":return{horizontalAlignment:1,verticalAlignment:-1,position:{x:100-s[1]*n.x+l,y:o[0]*n.y+h},margin:Zs}}return Us(0,"Unexpected ChartXY title position selection ".concat(t))},op=t=>{const e=[];t.forEach(((t,i)=>{const n=e.find((e=>e.iParallel===t.iParallel));n?(n.stacks.push({...t}),n.stacks.sort(((t,e)=>t.iStack-e.iStack))):e.push({iParallel:t.iParallel,stacks:[{...t}]})}));const i=e.map((t=>{const e=t.stacks.reduce(((t,e)=>t+(e.axis.getVisible()&&"relative"in e.axis.df?e.axis.df.relative:0)),0);return{...t,sumRelativeSize:e}}));return i.sort(((t,e)=>t.iParallel-e.iParallel)),{parallels:i}},ap=(t,e,i)=>{var n;const r=Array.from(new Set(i.map((t=>t.series.ks())))),s=1===r.length&&void 0!==r[0]?r[0]:void 0,o="ProgressiveY"===s||"RegressiveY"===s?{progressiveDimension:e.axisY.getTitle()||void 0,progressiveAxis:e.axisY,valueDimension:e.axisX.getTitle()||void 0,hitValueAxis:t=>t.axisX,value:t=>t.x,position:t=>t.y}:{progressiveDimension:e.axisX.getTitle()||void 0,progressiveAxis:e.axisX,valueDimension:e.axisY.getTitle()||void 0,hitValueAxis:t=>t.axisY,value:t=>t.y,position:t=>t.x};return(t=>t&&"object"==typeof t&&"column"in t&&"row"in t)(e)?gy(e,[[{component:e.series,componentColor:py(e),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[t.getDefaultAxisX().getTitle()||"X","",{text:Ea(e.axisX.formatValue(e.x),e.axisX),font:{weight:"bold"}}],[t.getDefaultAxisY().getTitle()||"Y","",{text:Ea(e.axisY.formatValue(e.y),e.axisY),font:{weight:"bold"}}],void 0!==e.intensity?["Value","",{text:Ea(e.lut?ea(e.lut,e.intensity):e.intensity.toFixed(2),null===(n=e.lut)||void 0===n?void 0:n.units),font:{weight:"bold"}}]:[]]):s?[[{text:Ea(o.progressiveAxis.formatValue(o.position(e)),o.progressiveAxis),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],...i.map((t=>t.multiHit?gy(t,[[{component:t.series,componentColor:py(t)},""],[...o.valueDimension?["".concat(o.valueDimension,"1"),""]:[],{text:Ea(o.hitValueAxis(t).formatValue(o.value(t.multiHit[0])),o.hitValueAxis(t)),font:{weight:"bold"}}],[...o.valueDimension?["".concat(o.valueDimension,"2"),""]:[],{text:Ea(o.hitValueAxis(t).formatValue(o.value(t.multiHit[1])),o.hitValueAxis(t)),font:{weight:"bold"}}]]):gy(t,[[{component:t.series,componentColor:py(t)},"",{text:Ea(o.hitValueAxis(t).formatValue(o.value(t)),o.hitValueAxis(t)),font:{weight:"bold"}}]]))).flat()]:i.map((e=>gy(e,[[{component:e.series,componentColor:py(e),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[...o.progressiveDimension?["".concat(o.progressiveDimension),""]:[],{text:Ea(o.progressiveAxis.formatValue(o.position(e)),o.progressiveAxis),font:{weight:"bold"}}],[...o.valueDimension?["".concat(o.valueDimension),""]:[],{text:Ea(o.hitValueAxis(e).formatValue(o.value(e)),o.hitValueAxis(e)),font:{weight:"bold"}}]]))).flat()};class lp{constructor(t,e,i,n,r,s,o){var a;this.coordsRelative="relative",this.coordsClient="client",this.s_=[],this.e_=new Map,this.ny=new Map,this.h_=!0,this.r_=new Set,this.n_=()=>{this.o_.gi.Rs()},this.a_=(t,e,i)=>{0!==this.ny.size&&void 0!==[...this.ny.values()].find((t=>{let{series:e}=t;return!0===e.getVisible()}))||this.l_.ai(e,i,!1,!1,"zoomBandChartOther"),this.o_.gi.Rs()},this.c_=!0,this.L=new Er,e.gi.Ta(_h.Co),this._g=t,this.hg=(null==s?void 0:s.orientation)||"x",this.u_=void 0!==(null==s?void 0:s.useSharedValueAxis)&&s.useSharedValueAxis,this.d_=n,this.qn="x"===this.hg?Au:Eu;const l={...s,defaultAxisX:this.qn.getWidth({x:null==s?void 0:s.defaultAxis,y:void 0}),defaultAxisY:this.qn.getHeight({x:null==s?void 0:s.defaultAxis,y:void 0}),legend:null!==(a=null==s?void 0:s.legend)&&void 0!==a?a:{addEntriesAutomatically:!1}};this.o_=new ep(t,e,i,Jr,r,l,o).setTitle("Zoom Band Chart").setUserInteractions(void 0).setCursorMode(void 0),this.engine=this.o_.engine;const h=this.o_.getDefaultAxisX().setPointerEvents(!1),c=this.o_.getDefaultAxisY().setPointerEvents(!1);this.l_=this.qn.getWidth({x:h,y:c}).setScrollStrategy(sh()).setAnimationScroll(!1).setStrokeStyle(Br).setTickStrategy(lh),(null==s?void 0:s.useSharedValueAxis)?this.f_=this.qn.getHeight({x:h,y:c}):this.qn.getHeight({x:h,y:c}).dispose();const u=this.getTheme().zoomBandChartDefocusOverlayFillStyle||new aa({color:this.getTheme().isDark?Vn(0,0,0,180):Vn(255,255,255,180)});this.A_=[this.o_.Nf.ih(this.l_.Jf).th(u).qe(Br),this.o_.Nf.ih(this.l_.Jf).th(u).qe(Br)];const d=this.o_.Nf.yA(this.l_.Jf).Ah(this.getTheme().zoomBandChartSplitterStrokeStyle||this.getTheme().chartXYSeriesBackgroundStrokeStyle);this.g_={collection:d,members:new Array(5).fill(0).map((t=>d.Uo()))};const f=this.getTheme(),g="function"==typeof f.zoomBandChartKnobFillStyle?Gr({resourcesBaseUrl:this._g.be,styleFactory:f.zoomBandChartKnobFillStyle,apply:t=>this.setKnobFillStyle(t)}):f.zoomBandChartKnobFillStyle||na;this.v_=[this.o_.Nf.ih(this.o_.Kf).th(g).qe(Br),this.o_.Nf.ih(this.o_.Kf).th(g).qe(Br)],this.y_=this.getTheme().zoomBandChartKnobSize||{x:0,y:0},this.p_()}get chart(){return this.o_}setUserInteractions(t){return this.uh=void 0===t?{pan:{drag:!1,click:!1},zoom:{wheel:void 0,dragKnob:!1}}:t,this}getUserInteractions(){return Yr({pan:{drag:!0,click:!0},zoom:{wheel:{},dragKnob:!0}},this.uh)}add(t){this.r_.has(t.gs)||(this.r_.add(t.gs),t.gs.addEventListener("layoutchange",this.n_));const e=this.s_.map((t=>t.axis)),i="x"===this.hg?t.axisX:t.axisY;if(!e.includes(i)){const t=t=>{this.a_(i,t.start,t.end)};i.addEventListener("intervalchange",t),this.s_.push({axis:i,deattach:()=>{i.removeEventListener("intervalchange",t)}}),this.l_.Pr(i.Ir(),i.getTickStrategy()),this.m_&&this.m_.remove(),this.m_=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(0===e.length)return{remove:Jr};let n=!1;const r=e.map((t=>{const i=i=>{((t,i,r)=>{n||(n=!0,e.filter((e=>e!==t)).forEach((e=>e.ai(i,r,!1,t.getStopped(),"synchronizedAxis"))),n=!1)})(t,i.start,i.end)};return t.addEventListener("intervalchange",i),i}));let s=!1;const o=e.map((t=>{const i=i=>{((t,i)=>{s||(s=!0,e.filter((e=>e!==t)).forEach((t=>t.setStopped(i))),s=!1)})(t,i.isStopped)};return t.addEventListener("stoppedchange",i),i}));return{remove:()=>{e.forEach(((t,e)=>{t.removeEventListener("intervalchange",r[e]),t.removeEventListener("stoppedchange",o[e])}))}}}(...this.s_.map((t=>t.axis)))}const n=this.qn.getHeight({x:t.axisX,y:t.axisY});let r;if(this.u_)r=this.f_;else{const t=this.e_.get(n);t?r=t:(r=this.qn.getHeight({x:this.o_.addAxisX.bind(this.o_),y:this.o_.addAxisY.bind(this.o_)})(),this.S_(r)),this.e_.set(n,r)}const s=this.qn.getWidth({x:this.l_,y:r}),o=this.qn.getHeight({x:this.l_,y:r});let a;const l=[];if(t instanceof Hg)a=this.o_.addPointLineAreaSeries({...t.Pa,axisX:s,axisY:o,xAxis:s,yAxis:o}).setStrokeStyle(t.getStrokeStyle()).setAreaFillStyle(t.getAreaFillStyle()).setPointFillStyle(t.getPointFillStyle()).setPointAlignment(t.getPointAlignment()).setPointRotation(t.getPointRotation()).setPointShape(t.getPointShape()).setPointSize(t.getPointSize()).setCurvePreprocessing(t.getCurvePreprocessing()),a.setDataSet(t.Cw(),t.getDataMapping());else if(t instanceof Rg){const e=this.o_.addPointLineAreaSeries({axisX:s,axisY:o,xAxis:s,yAxis:o});((t,e)=>{const i=t=>{if(0!==t.length)if("x"in t[0]){const i=t;e.appendJSON(i)}else{const i=t,n=[];for(let t=0;t<i.length;t+=1){const e=i[t];n.push({x:e[0],y:e[4]})}e.appendJSON(n)}},n=t.Jx();i(n);const r=t=>{i(t.data)},s=()=>{e.clear()};t.addEventListener("dataadd",r),t.addEventListener("dataclear",s),l.push((()=>{t.removeEventListener("dataadd",r),t.removeEventListener("dataclear",s)}))})(t,e),a=e}else if(t instanceof Lg){const e=this.o_.addAreaRangeSeries({axisX:s,axisY:o,xAxis:s,yAxis:o}).setLowFillStyle(t.getLowFillStyle()).setHighFillStyle(t.getHighFillStyle()).setLowStrokeStyle(t.getLowStrokeStyle()).setHighStrokeStyle(t.getHighStrokeStyle()).add(t.Jx()),i=t=>e.add(t.data);t.addEventListener("dataadd",i),l.push((()=>t.removeEventListener("dataadd",i))),a=e;const n=t=>e.clear();t.addEventListener("dataclear",n),l.push((()=>{t.removeEventListener("dataclear",n)}))}else{if(!(t instanceof Cg))throw new Error("LightningChart JS Zoom Band Chart unsupported series type");{const e=this.o_.addHeatmapGridSeries({...t.Wb,axisX:s,axisY:o,xAxis:s,yAxis:o}),i=()=>{e.setWireframeStyle(t.getWireframeStyle()).setIntensityInterpolation(t.getIntensityInterpolation()).setFillStyle(t.getFillStyle())};i(),a=e,t.Qb(a);const n=t=>e.invalidateIntensityValues(t.value);t.addEventListener("stylechange",i),l.push((()=>{t.removeEventListener("invalidateintensity",n),t.removeEventListener("stylechange",i)}));const r=()=>{e.clear()};t.addEventListener("dataclear",r),l.push((()=>{t.removeEventListener("dataclear",r)}))}}a.setPointerEvents(!1);const h=t=>{a.setVisible(t.isVisible)};t.addEventListener("visiblechange",h),l.push((()=>{t.removeEventListener("visiblechange",h)}));const c=t=>{a.setHighlight(t.highlight)};l.push((()=>{t.addEventListener("highlightchange",c),t.removeEventListener("highlightchange",c)}));const u=()=>{this.disposeSeries(t)};return t.addEventListener("dispose",u),l.push((()=>{t.removeEventListener("dispose",u)})),this.ny.set(t,{series:a,clearReferences:()=>l.forEach((t=>t()))}),a}disposeSeries(t){const e=this.ny.get(t);if(e){const{clearReferences:i}=e;i(),this.ny.delete(t),e.series.dispose();const n=this.qn.getHeight({x:t.axisX,y:t.axisY}),r=this.e_.get(n);r&&0===r.cA().length&&(this.e_.delete(n),r.dispose())}const i="x"===this.hg?t.axisX:t.axisY;if(!Array.from(this.ny.keys()).find((t=>i===("x"===this.hg?t.axisX:t.axisY)))){const t=this.s_.findIndex((t=>t.axis===i));t>=0&&(this.s_[t].deattach(),this.s_.splice(t,1))}const n=Array.from(this.ny.keys()).find((t=>t.gs==t.gs));return n||(t.gs.removeEventListener("layoutchange",this.n_),this.r_.delete(t.gs)),this}setDefocusOverlayFillStyle(t){return this.A_.forEach((e=>e.th(t))),this.o_.gi.Rs(),this}getDefocusOverlayFillStyle(){return this.A_[0].Sr()}setSplitterStrokeStyle(t){return this.g_.collection.Ah(t),this.o_.gi.Rs(),this}getSplitterStrokeStyle(){return this.g_.collection.co()}setKnobFillStyle(t){return this.v_.forEach((e=>e.th(t))),this.o_.gi.Rs(),this}getKnobFillStyle(){return this.v_[0].Sr()}setKnobStrokeStyle(t){return this.v_.forEach((e=>e.qe(t))),this.o_.gi.Rs(),this}getKnobStrokeStyle(){return this.v_[0].Wa()}setKnobSize(t){return this.y_=t,this.o_.gi.Rs(),this}getKnobSize(){return this.y_}getDefaultAxisX(){return this.o_.getDefaultAxisX()}getDefaultAxisY(){return this.o_.getDefaultAxisY()}get axisX(){return this.getDefaultAxisX()}get xAxis(){return this.getDefaultAxisX()}get axisY(){return this.getDefaultAxisY()}get yAxis(){return this.getDefaultAxisY()}S_(t){t.setTickStrategy(lh).setPointerEvents(!1).setStrokeStyle(Br)}setStopAxisOnInteraction(t){return this.h_=t,this}getStopAxisOnInteraction(){return this.h_}p_(){let t;const e=(t,e,i,n)=>{var r,s;const o="x"===this.hg?null===(r=Array.from(this.ny.keys())[0])||void 0===r?void 0:r.axisX:null===(s=Array.from(this.ny.keys())[0])||void 0===s?void 0:s.axisY;if(!o)return;const a=o.getInterval(),l=this.l_.getInterval(),h=Math.abs(this.l_.oi.Bt(t)-this.l_.oi.Bt(e));i.preventTooSmall&&h<10||Math.sign(e-t)!==Math.sign(a.end-a.start)||Math.min(t,e)<Math.min(l.start,l.end)||Math.max(t,e)>Math.max(l.start,l.end)&&Math.max(a.start,a.end)<Math.max(t,e)||o.ai(t,e,i.animated,this.h_,n)};this.v_.forEach(((i,n)=>{i.addEventListener("pointerenter",(()=>{var e;(null===(e=this.getUserInteractions().zoom)||void 0===e?void 0:e.dragKnob)&&(t=this.engine.setMouseStyle(this.qn.getWidth({x:Yl.Horizontal,y:Yl.Vertical}),t))})),i.addEventListener("pointerleave",(()=>{t=this.engine.restoreMouseStyle(t)})),i.addEventListener("pointerdown",(t=>{var i,r,s;if(!(null===(i=this.getUserInteractions().zoom)||void 0===i?void 0:i.dragKnob))return;const o="x"===this.hg?null===(r=Array.from(this.ny.keys())[0])||void 0===r?void 0:r.axisX:null===(s=Array.from(this.ny.keys())[0])||void 0===s?void 0:s.axisY;if(!o)return;ys(t);const a=i=>{if(i.pointerId!==t.pointerId)return;ys(i);const r=this.qn.getWidth(this.o_.translateCoordinate(i,this.o_.coordsAxis)),s=o.getInterval(),a=0===n?r:s.start,l=1===n?r:s.end;e(a,l,{animated:!1,preventTooSmall:!0},"zoomBandChartOther")},l=e=>{e.pointerId===t.pointerId&&(ys(e),jr.removeEventListener("pointermove",a),jr.removeEventListener("pointerup",l))};jr.addEventListener("pointermove",a),jr.addEventListener("pointerup",l)}))})),this.o_.seriesBackground.addEventListener("pointerenter",(()=>{var e;(null===(e=this.getUserInteractions().pan)||void 0===e?void 0:e.drag)&&(t=this.engine.setMouseStyle(Yl.Move,t))})),this.o_.seriesBackground.addEventListener("pointerleave",(()=>{t=this.engine.restoreMouseStyle(t)}));const i=(t,i)=>{var n,r,s;if(!(null===(n=this.getUserInteractions().pan)||void 0===n?void 0:n.drag))return;const o="x"===this.hg?null===(r=Array.from(this.ny.keys())[0])||void 0===r?void 0:r.axisX:null===(s=Array.from(this.ny.keys())[0])||void 0===s?void 0:s.axisY;if(!o)return;const a=o.getInterval(),l=this.l_.oi.Jt(a.start,this.qn.getWidth(t)),h=this.l_.oi.Jt(a.end,this.qn.getWidth(t));e(l,h,{animated:!1,preventTooSmall:!0},"zoomBandChartOther"),ys(i)};this.o_.seriesBackground.addEventListener("pointerdown",(t=>{var e,n;if(!("x"===this.hg?null===(e=Array.from(this.ny.keys())[0])||void 0===e?void 0:e.axisX:null===(n=Array.from(this.ny.keys())[0])||void 0===n?void 0:n.axisY))return;ys(t);let r=t;const s=e=>{if(e.pointerId!==t.pointerId)return;const n={x:e.clientX-r.clientX,y:r.clientY-e.clientY};r=e,i(n,e)},o=e=>{e.pointerId===t.pointerId&&(ys(e),eo(),jr.removeEventListener("pointermove",s),jr.removeEventListener("pointerup",o))};jr.addEventListener("pointermove",s),jr.addEventListener("pointerup",o)})),this.o_.seriesBackground.addEventListener("wheel",(t=>{var i,n,r,s;const o=this.getUserInteractions();if(!(null===(i=o.zoom)||void 0===i?void 0:i.wheel))return;const a="x"===this.hg?null===(n=Array.from(this.ny.keys())[0])||void 0===n?void 0:n.axisX:null===(r=Array.from(this.ny.keys())[0])||void 0===r?void 0:r.axisY;if(!a)return;const l=a.getInterval(),h=this.l_.getInterval(),c=this.qn.getWidth(this.o_.translateCoordinate(t,this.o_.coordsAxis)),u=this.l_.oi.Bt(l.start),d=this.l_.oi.Bt(l.end),f=this.l_.oi.Bt(c),g=Qr((f-u)/(d-u),0,1),p=.2*Math.abs(d-u)*(null!==(s=o.zoom.wheel.sensitivity)&&void 0!==s?s:1),m=g*p*-Math.sign(t.deltaY),y=(1-g)*p*Math.sign(t.deltaY),v=Qr(this.l_.oi.Jt(l.start,m),h.start,h.end),x=Qr(this.l_.oi.Jt(l.end,y),h.start,h.end);e(v,x,{animated:!1,preventTooSmall:!0},"zoomBandChartOther"),ys(t)})),this.A_.forEach(((i,n)=>{i.addEventListener("pointerenter",(()=>{var e;(null===(e=this.getUserInteractions().pan)||void 0===e?void 0:e.click)&&(t=this.engine.setMouseStyle(Yl.Point,t))})),i.addEventListener("pointerleave",(()=>{t=this.engine.restoreMouseStyle(t)})),i.addEventListener("click",(t=>{var i,n,r;if(t.defaultPrevented)return;if(!(null===(i=this.getUserInteractions().pan)||void 0===i?void 0:i.click))return;const s="x"===this.hg?null===(n=Array.from(this.ny.keys())[0])||void 0===n?void 0:n.axisX:null===(r=Array.from(this.ny.keys())[0])||void 0===r?void 0:r.axisY;if(!s)return;const o=this.qn.getWidth(this.o_.translateCoordinate(t,this.o_.coordsAxis)),a=s.getInterval(),l=this.l_.getInterval(),h=Qr(o-(a.end-a.start)/2,Math.min(l.start,l.end),Math.max(l.start,l.end)-Math.abs(a.end-a.start)),c=h+(a.end-a.start);e(h,c,{animated:!0,preventTooSmall:!1},"zoomBandChartClick"),ys(t)}))}))}getSizePixels(){return this.o_.getSizePixels()}bn(t){this.o_.bn(t)}getMinimumSize(){return this.o_.getMinimumSize()}Y(){return this.o_.Y()}j(){return this.o_.j()}sh(t){var e,i,n,r;const s=Ns(Array.from(this.ny.keys()).map((t=>t.gs))),o="x"===this.hg?null===(e=Array.from(this.ny.keys())[0])||void 0===e?void 0:e.axisX:null===(i=Array.from(this.ny.keys())[0])||void 0===i?void 0:i.axisY,a=(()=>{var t;const e=null===(t=this.s_.find((t=>t.axis.getVisible())))||void 0===t?void 0:t.axis;return!!e&&Math.sign(e.getInterval().end-e.getInterval().start)})(),l=Math.sign(this.l_.getInterval().end-this.l_.getInterval().start);if(l!==a&&0!==l&&0!==a&&this.l_.ai(this.l_.getInterval().end,this.l_.getInterval().start,!1,this.l_.getStopped(),"zoomBandChartOther"),this.ny.forEach(((t,e)=>{const i=t.series;e instanceof Hg&&i instanceof Hg&&i.setDataSet(e.getDataSet(),e.getDataMapping())})),this.c_)if("x"===this.hg){const t=s.reduce(((t,e)=>{const i=[];e.forEachAxisY((t=>{if(!t.getVisible()||0!==t.Hf)return;let e=i.find((e=>e.iParallel===t.getParallelIndex()));e||(e={iParallel:t.getParallelIndex(),maxHeight:0},i.push(e)),e.maxHeight=Math.max(e.maxHeight,t.FA())}));const n=i.reduce(((t,e)=>t+e.maxHeight),0);return Math.max(t,n)}),0),e=s.reduce(((t,e)=>{const i=[];e.forEachAxisY((t=>{if(!t.getVisible()||100!==t.Hf)return;let e=i.find((e=>e.iParallel===t.getParallelIndex()));e||(e={iParallel:t.getParallelIndex(),maxHeight:0},i.push(e)),e.maxHeight=Math.max(e.maxHeight,t.FA())}));const n=i.reduce(((t,e)=>t+e.maxHeight),0);return Math.max(t,n)}),0),i=s.reduce(((t,e)=>Math.max(t,e.getPadding().left)),0),r=s.reduce(((t,e)=>Math.max(t,e.getPadding().right)),0);this.o_.forEachAxisY((t=>t.setThickness(0))),null===(n=this.getDefaultAxisY())||void 0===n||n.setThickness(t),this.o_.setPadding({left:i+(0===s.length?10:0),right:r+e+(0===s.length?10:0)})}else{const t=s.reduce(((t,e)=>{const i=[];e.forEachAxisX((t=>{if(!t.getVisible()||0!==t.Hf)return;let e=i.find((e=>e.iParallel===t.getParallelIndex()));e||(e={iParallel:t.getParallelIndex(),maxHeight:0},i.push(e)),e.maxHeight=Math.max(e.maxHeight,t.FA())}));const n=i.reduce(((t,e)=>t+e.maxHeight),0);return Math.max(t,n)}),0),e=s.reduce(((t,e)=>{const i=[];e.forEachAxisX((t=>{if(!t.getVisible()||100!==t.Hf)return;let e=i.find((e=>e.iParallel===t.getParallelIndex()));e||(e={iParallel:t.getParallelIndex(),maxHeight:0},i.push(e)),e.maxHeight=Math.max(e.maxHeight,t.FA())}));const n=i.reduce(((t,e)=>t+e.maxHeight),0);return Math.max(t,n)}),0),i=s.reduce(((t,e)=>Math.max(t,e.getPadding().bottom)),0),n=s.reduce(((t,e)=>Math.max(t,e.getPadding().top)),0);this.o_.forEachAxisX((t=>t.setThickness(0))),null===(r=this.getDefaultAxisX())||void 0===r||r.setThickness(t),this.o_.setPadding({bottom:i+(0===s.length?10:0),top:n+e+(0===s.length?10:0)})}this.o_.sh(t);const h=this.l_.getInterval().start,c=this.l_.getInterval().end,u=Qr(o?o.getInterval().start:h,h,c),d=Qr(o?o.getInterval().end:c,h,c),f=this.qn.getHeight(this.o_.Bw.getInnerIntervalPixels());this.A_[0].eh(this.qn.toPoint(h,0)).X(this.qn.toPoint(u-h,f)),this.A_[1].eh(this.qn.toPoint(d,0)).X(this.qn.toPoint(c-d,f)),this.g_.members[0].mA(this.qn.toPoint(h,f),this.qn.toPoint(u,f)),this.g_.members[1].mA(this.qn.toPoint(u,f),this.qn.toPoint(u,0)),this.g_.members[2].mA(this.qn.toPoint(u,0),this.qn.toPoint(d,0)),this.g_.members[3].mA(this.qn.toPoint(d,0),this.qn.toPoint(d,f)),this.g_.members[4].mA(this.qn.toPoint(d,f),this.qn.toPoint(c,f));const g=hr(this.qn.toPoint(u,f/2),this.l_.Jf,this.o_.Kf),p=hr(this.qn.toPoint(d,f/2),this.l_.Jf,this.o_.Kf),m=this.y_;this.v_[0].eh({x:g.x-m.x/2,y:g.y-m.y/2}).X({x:m.x,y:m.y}).kr(this.qn.getWidth({x:0,y:90})),this.v_[1].eh({x:p.x-m.x/2,y:p.y-m.y/2}).X({x:m.x,y:m.y}).kr(this.qn.getWidth({x:0,y:90}))}setSeriesBackgroundFillStyle(t){return this.o_.setSeriesBackgroundFillStyle(t),this.o_.gi.Rs(),this}getSeriesBackgroundFillStyle(){return this.o_.getSeriesBackgroundFillStyle()}setSeriesBackgroundStrokeStyle(t){return this.o_.setSeriesBackgroundStrokeStyle(t),this.o_.gi.Rs(),this}getSeriesBackgroundStrokeStyle(){return this.o_.getSeriesBackgroundStrokeStyle()}setSeriesBackgroundEffect(t){return this.o_.setSeriesBackgroundEffect(t),this.o_.gi.Rs(),this}getSeriesBackgroundEffect(){return this.o_.getSeriesBackgroundEffect()}getTheme(){return this.o_.getTheme()}setTitle(t){return this.o_.setTitle(t),this}getTitle(){return this.o_.getTitle()}setTitleFillStyle(t){return this.o_.setTitleFillStyle(t),this}getTitleFillStyle(){return this.o_.getTitleFillStyle()}setTitleFont(t){return this.o_.setTitleFont(t),this}getTitleFont(){return this.o_.getTitleFont()}setTitleMargin(t){return this.o_.setTitleMargin(t),this}getTitleMargin(){return this.o_.getTitleMargin()}setPadding(t){return void 0===t?this.c_=!0:(this.c_=!1,this.o_.setPadding(t),this.o_.forEachAxis((t=>t.setThickness(void 0)))),this.o_.gi.Rs(),this}getPadding(){return this.o_.getPadding()}setBackgroundFillStyle(t){return this.o_.setBackgroundFillStyle(t),this}getBackgroundFillStyle(){return this.o_.getBackgroundFillStyle()}setBackgroundStrokeStyle(t){return this.o_.setBackgroundStrokeStyle(t),this}getBackgroundStrokeStyle(){return this.o_.getBackgroundStrokeStyle()}translateCoordinate(t,e,i){return ud(t,e,i,this.o_.Kf,this.o_.gi)}addUIElement(t,e){return this.o_.addUIElement(t,e)}saveToFile(t,e,i){return this.o_.saveToFile(t,e,i),this}dispose(){return this.o_.dispose(),this.e_.clear(),this.ny.clear(),this.d_(this),this}isDisposed(){return this.o_.isDisposed()}getLayout(){return this.o_.getLayout()}addEventListener(t,e,i){this.o_.addEventListener(t,e,i)}removeEventListener(t,e){this.o_.removeEventListener(t,e)}}class hp extends tg{constructor(t,e,i,n,r,s,o){super(t,e,i,n,r,o),this.zs="Point Line Series",this.HS=[],this.WS=!1,this.XS=!1,this.b_=3,this.xl=0,this.x_=Ra.Circle,this.L=new Er,this.Je=Is(this.bi.polarPointLineSeriesFillStyle,s),this.eu=Is(this.bi.polarPointLineSeriesStrokeStyle,s),this.QS=t.Dv(n,void 0,[Ld.UserSeries]).Ah(this.eu).Fi(this.getHighlight()),this.Cs(this.QS),this.M_=t.Dd(n).Bd(na).Ah(Br).Ld(this.Je).Rd(this.x_).$d(this.b_).Fi(this.getHighlight()),this.Cs(this.M_)}solveNearest(t,e){const i=this.gs.gi.Ka(t),n={x:i.engineX,y:i.engineY},r=this.QS.KS(n);if(!r)return;const s=rg(r,this.scale);return{cursorPosition:{pointMarker:r,pointMarkerScale:this.scale,resultTable:r,resultTableScale:this.scale},series:this,...s}}Ki(t,e,i){return Ks({series:this},{cursorPosition:0,amplitude:0,angle:0,color:0},(()=>this.solveNearest(e,this.gs.getCursorMode())))}setData(t){return 0!==this.HS.length&&this.gs.gi.Ta(_h.Do),this.HS=ng(t),this.WS=!0,this.zS=ig(this.HS),this.Zs.Rs(),this}setStrokeStyle(t){this.eu="function"==typeof t?t(this.eu):t;const e=this.eu;return this.QS.Ah(e),this.Zs.Rs(),this}getStrokeStyle(){return this.eu}setPointFillStyle(t){this.Je="function"==typeof t?t(this.Je):t;const e=this.Je;return this.M_.Ld(e),this.Zs.Rs(),this}getPointFillStyle(){return this.Je}setPointSize(t){return this.b_=t,this.M_.$d(t),this.Zs.Rs(),this}getPointSize(){return this.b_}setPointShape(t){return this.x_=t,this.M_.Rd(this.x_),this}getPointShape(){return this.x_}setPointRotation(t){return this.xl=t,this.M_.Od(t),this.Zs.Rs(),this}getPointRotation(){return this.xl}hh(){return{fill:this.Je,stroke:this.eu}}setConnectDataAutomaticallyEnabled(t){return this.XS=t,this.Zs.Rs(),this}getConnectDataAutomaticallyEnabled(){return this.XS}Av(){return this.Qg&&this.HS.length>0&&this.getVisible()}rh(t,e){t.Fi(e),this.Zs.Rs()}sh(){if(this.WS||this.scale.ye()){const t=eg(this.HS,this.scale),e=So(t);this.XS?(t.push({...t[0]}),this.QS.Pc(!0)):this.QS.Pc(!1),this.QS.Ni().xc(t).Ci(e),this.M_.Pd((new Mc).appendJSON(t),{x:"x",y:"y"}).Ci(e),this.WS=!1,this.QS.zr(),this.M_.zr()}}Ws(){return this.Os||this.x_}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class cp extends tg{constructor(t,e,i,n,r,s,o){super(t,e,i,n,r,o),this.zs="Point Series",this.HS=[],this.WS=!1,this.b_=3,this.xl=0,this.L=new Er,this.Je=Is(this.bi.polarPointSeriesFillStyle,s),this.Qe=Is(this.bi.polarPointSeriesStrokeStyle,s),this.Id=new Mc({schema:{x:{pattern:null},y:{pattern:null}}}),this.Mu=t.Dd(n).Ah(Br).Bd(na).Ld(this.Je).Nd(this.Qe).Rd(Ra.Circle).$d(this.b_).Fi(this.getHighlight()).Pd(this.Id,{x:"x",y:"y"}),this.Cs(this.Mu)}solveNearest(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"show-nearest";const i=this.gs.translateCoordinate(t,this.gs.coordsAxis),n=eg([i],this.scale)[0],r=this.Id.Ad({x:"x",y:"y"},n,fy(e),this.scale,this.gs.Kf);if(!r)return;const s=rg(r,this.scale);return{cursorPosition:{pointMarker:r,pointMarkerScale:this.scale,resultTable:r,resultTableScale:this.scale},series:this,...s}}Ki(t,e,i){return Ks({series:this},{cursorPosition:0,amplitude:0,angle:0,color:0},(()=>this.solveNearest(e,this.gs.getCursorMode())))}setData(t){return 0!==this.HS.length&&this.gs.gi.Ta(_h.Do),this.HS=ng(t),this.WS=!0,this.zS=ig(this.HS),this.Zs.Rs(),this}setPointAlignment(t){return this.Mu.VA(t),this.gs.gi.Rs(),this}getPointAlignment(){return this.Mu.ww()}setPointFillStyle(t){this.Je="function"==typeof t?t(this.Je):t;const e=this.Je;return this.Mu.Ld(e),this.Zs.Rs(),this}getPointFillStyle(){return this.Je}setPointStrokeStyle(t){return this.Qe="function"==typeof t?t(this.Qe):t,this.Mu.Nd(this.Qe),this.Zs.Rs(),this}getPointStrokeStyle(){return this.Qe}setPointSize(t){return this.b_=t,this.Mu.$d(t),this.Zs.Rs(),this}getPointSize(){return this.b_}setPointShape(t){return this.Mu.Rd(t),this.gs.gi.Rs(),this}getPointShape(){return this.Mu.Ed()}setPointRotation(t){return this.xl=t,this.Mu.Od(t),this.Zs.Rs(),this}getPointRotation(){return this.xl}Av(){return this.Qg&&this.HS.length>0&&this.getVisible()}rh(t,e){t.Fi(e),this.Zs.Rs()}sh(){if(this.WS||this.scale.ye()){const t=eg(this.HS,this.scale),e=So(t);this.Id.clear().appendJSON(t),this.Mu.Ci(e),this.WS=!1,this.Mu.zr()}}hh(){return{fill:this.Je}}Ws(){return this.Os||this.getPointShape()}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class up extends tg{constructor(t,e,i,n,r,s,o){super(t,e,i,n,r,s),this.zs="Heatmap Series",this.w_=!0,this.lv=!1,this.L=new Er;const a=this.gs.getSeries().length;this.Je=Is(this.bi.polarHeatmapSeriesFillStyle||this.bi.heatmapGridSeriesFillStyle,a);const l=o.amplitudeStart||0,h=o.amplitudeEnd?(o.amplitudeEnd-l)/(o.annuli-1):o.amplitudeStep||1,c={sectors:o.sectors,annuli:o.annuli,amplitudeStart:l,amplitudeStep:h,heatmapDataType:"intensity",dataOrder:o.dataOrder||"annuli"};this.Pa=c,this.__=t.k_(n,[],c).th(this.Je).Fi(this.getHighlight()),this.Cs(this.__);const u=Math.min(c.amplitudeStart,c.amplitudeStart+(c.annuli-1)*c.amplitudeStep),d=Math.max(c.amplitudeStart,c.amplitudeStart+(c.annuli-1)*c.amplitudeStep);this.zS={min:u,max:d},this.setHighlightOnHover(!1)}solveNearest(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"show-nearest";const i=this.gs.gi.Ka(t),n={x:i.engineX,y:i.engineY},r=hr(n,this.gs.gi.oi,this.scale),s=rg(r,this.scale),o=fy(e)?this.__.Jb(s):this.__.Ad(s);if(!o)return;const a=eg([o],this.scale)[0];return{cursorPosition:{pointMarker:a,pointMarkerScale:this.scale,resultTable:a,resultTableScale:this.scale},series:this,angle:o.angle,amplitude:o.amplitude,intensity:o.cellValue,annulus:o.iAnnulus,sector:o.iSector,lut:fa(this.Je)?this.Je.lut:void 0}}Ki(t,e,i){return Ks({series:this},{cursorPosition:0,amplitude:0,angle:0,color:0,intensity:0,sector:0,annulus:0,lut:fa(this.Je)?this.Je.lut:void 0},(()=>this.solveNearest(e,this.gs.getCursorMode())))}invalidateIntensityValues(t){if(this.lv&&this.gs.gi.Ta(_h.Do),Array.isArray(t)){if(0===t.length||0===t[0].length)return this;const e={x:t.length,y:t[0].length,sectors:"annuli"===this.Pa.dataOrder?t[0].length:t.length,annuli:"annuli"===this.Pa.dataOrder?t.length:t[0].length},i="annuli"===this.Pa.dataOrder?this.Pa.annuli:this.Pa.sectors,n="annuli"===this.Pa.dataOrder?this.Pa.sectors:this.Pa.annuli;if(e.x>i||e.y>n){if(!0===this.gs._g.La){const t="PolarHeatmapSeries.invalidateIntensityValues intensity matrix overflow.\nHeatmap ".concat(i,"x").concat(n,", input ").concat(e.x,"x").concat(e.y,".\nExcess data will be automatically clipped. This can result in sub-optimal performance.");jr.console.warn(t)}const r=[];for(let e=0;e<i;e+=1)r[e]=t[e].slice(0,n);if(0===(t=r).length||0===t[0].length)return this}this.__.hp({type:"intensity",lengthPrimary:e.x,lengthSecondary:e.y,startPrimary:0,startSecondary:0,values:t})}else if("iSector"in t&&"iAnnulus"in t&&"values"in t){if(0===t.values.length||0===t.values[0].length)return this;const e={primary:t.values.length,secondary:t.values[0].length,sectors:"annuli"===this.Pa.dataOrder?t.values[0].length:t.values.length,annuli:"annuli"===this.Pa.dataOrder?t.values.length:t.values[0].length},i="annuli"===this.Pa.dataOrder?t.iAnnulus:t.iSector,n=i+e.primary-1,r="annuli"===this.Pa.dataOrder?t.iSector:t.iAnnulus,s=r+e.secondary-1,o="annuli"===this.Pa.dataOrder?this.Pa.annuli-1:this.Pa.sectors-1,a="annuli"===this.Pa.dataOrder?this.Pa.sectors-1:this.Pa.annuli-1;if(i<0||r<0){if(!0===this.gs._g.La){const e="PolarHeatmapSeries.invalidateIntensityValues invalidation start below 0 not permitted.\niSector: ".concat(t.iSector,", iAnnuli: ").concat(t.iAnnulus,".\nNo intensity values will be invalidated.");jr.console.warn(e)}return this}if(n>o||s>a){if(!0===this.gs._g.La){const t="PolarHeatmapSeries.invalidateIntensityValues intensity matrix overflow.\nMax indexes ".concat(o,"x").concat(a,", input ").concat(e.primary,"x").concat(e.secondary," starting at [").concat(i,",").concat(r,"].\nOut of bounds data will be automatically clipped. This can result in sub-optimal performance.");jr.console.warn(t)}const l=Math.max(n-o,0),h=e.primary-l,c=Math.max(s-a,0),u=[];for(let e=0;e<h;e+=1)u[e]=t.values[e].slice(0,c>0?-c:void 0);if(0===(t={iSector:t.iSector,iAnnulus:t.iAnnulus,values:u}).values.length||0===t.values[0].length)return this}this.__.hp({type:"intensity",lengthPrimary:t.values.length,lengthSecondary:t.values[0].length,startPrimary:i,startSecondary:r,values:t.values})}return this.Zs.Rs(),this.lv=!0,this}setFillStyle(t){return this.Je="function"==typeof t?t(this.Je):t,this.__.th(this.Je),this.Zs.Rs(),this}getFillStyle(){return this.Je}clear(){return this.__.Ni(),this.Zs.Rs(),this}setIntensityInterpolation(t){return t=t||"disabled",this.__.sp(t),this.Zs.Rs(),this}getIntensityInterpolation(){return this.__.ep()}Hs(){return Rs(this.Je,this.__.wi())}Av(){return this.Qg&&this.getVisible()}rh(t,e){t.Fi(e),this.Zs.Rs()}sh(){}hh(){return{fill:this.Je}}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class dp extends Zf{constructor(t,e,i,n,r,s,o,a){var l;super(t,gp,e,i,n,r,s,o,a),this.C_=90,this.T_=12,this.F_=fp,this.Lv=this.bS.bd(this.MS).setPointerEvents(!1),this.IS=t=>{if(0===this.getTitle().length||ra(this.getTitleFillStyle()))return;let e=180*(t.S-this.MS.ve())/Math.PI%360;for(;e<0;)e+=360;for(;e>360;)e-=360;return!(e>=0&&e<=20||e>=340&&e<=360)&&void 0},this.Dr=void 0,this.setTickStyle(i.polarRadialAxisTickStyle),this.setTitle("Degrees"),this.setNorth(this.C_),this.I_=null!==(l=this.bi.polarRadialAxisMarginAfterTicks)&&void 0!==l?l:7}setTickStyle(t){return this.P_="function"==typeof t?t(this.P_):t,this.L_(),this.bS.Rs(),this}getTickStyle(){return this.P_}setTickFormattingFunction(t){return this.F_=t,this.L_(),this.bS.Rs(),this}getTickFormattingFunction(){return this.F_}setClockwise(t){this.MS.fe(t);const e=this.C_*Math.PI/180;return t?this.MS.ge(e+Math.PI/2):this.MS.ge(e-Math.PI/2),this.bS.Rs(),this}getClockwise(){return!this.MS.Ae()}setNorth(t){for(;t<0;)t+=360;t%=360,this.C_=t;const e=t*Math.PI/180;return this.getClockwise()?this.MS.ge(e+Math.PI/2):this.MS.ge(e-Math.PI/2),this.bS.Rs(),this}getNorth(){return 180*this.MS.ve()/Math.PI}setDivision(t){return this.T_=t,this.L_(),this.bS.Rs(),this}getDivision(){return this.T_}getMarginAfterTicks(){return this.I_}setMarginAfterTicks(t){return this.I_=t,this.chart.gi.Rs(),this}cA(){return[]}Zr(t,e,i){return{ticksInfo:e,fA:this.nn(((t,e)=>{const i=e.wn.Ph,n=.5*this.wS.getThickness()+i.tickLength+i.tickPadding+Math.abs(e.Er.zr().pu().y);return Math.max(t,n)}),0)+this.I_,updatedTicks:i}}gn(t,e){return e}pn(t,e,i){return{start:t,end:e}}kS(t,e){const i=t.Ae()?1:-1,n=t.ve(),r=t.de()?t.ue().end-t.ue().start:t.ue().start-t.ue().end;return{x:Math.cos((e-n)*i)*r,y:Math.sin((e-n)*i)*r}}CS(t,e){return t.gh(e)}PS(t,e,i,n){const r=this.P_,s=t.Ae()?1:-1,o=t.ve(),a=(n.S-o)*s,l=Math.cos(a),h=Math.sin(a),c=t.de()?t.ue().end-t.ue().start:t.ue().start-t.ue().end,u={x:l*c,y:h*c};e.ph({x:0,y:0}).yh(u);const d={x:u.x+l*r.tickLength*t.ri().x,y:u.y+h*r.tickLength*t.ri().y};i.ph(u).yh(d),e.Ah(r.gridStrokeStyle),i.Ah(r.tickStyle)}_S(t,e,i){const n=t.Ae()?1:-1;let r,s=(e-t.ve())*n;for(;s<0;)s+=2*Math.PI;for(;s>=2*Math.PI;)s-=2*Math.PI;r=s>0&&s<=Math.PI?-s+Math.PI/2:-s-Math.PI/2;const o=Math.cos(s),a=Math.sin(s),l=i.tickLength+i.tickPadding;return{alignment:{x:0,y:0},padding:{x:o*l*t.ri().x,y:a*l*t.ri().y},rotation:180*r/Math.PI,offset:{x:0,y:0}}}TS(t,e,i){const n=t.de()?t.ue().end-t.ue().start:t.ue().start-t.ue().end;this.Lv.Qc(0).yh(360).iu(0).Kc(n+.5*e.getThickness()*t.ri().x).su(360).th(na).qe(e)}FS(t,e,i){const n=t.ve(),r=this._S(t,0+n,this.P_),s=t.de()?t.ue().end-t.ue().start:t.ue().start-t.ue().end;e.Hl(r.alignment).kr(r.rotation).Vl(r.offset.x,r.offset.y).eh(Ro({x:s,y:0},r.padding))}L_(){this.Pr({_h:[],kh:[{Er:"Radial ticks",pA:0,Ph:this.P_,xh:this.F_,Cn:(t,e,i,n)=>{const r=[],s=2*Math.PI/this.T_;for(let o=0;o<2*Math.PI;o+=s)r.push(o);return r},er:{en:()=>{},hr:()=>!1,rn:"hide-label"},Tn:void 0}],Ch:fp,Th:void 0,Fh:void 0},"Numeric")}}const fp=(t,e,i)=>(180*t/Math.PI).toFixed(0),gp={cn:()=>{},un:()=>{},fn:()=>{},pS:t=>({getInnerStart:()=>0,getInnerEnd:()=>2*Math.PI,H:(t,e)=>{},st:(e,i,n,r,s)=>t.x.st(e,i,n,r,s)}),mS:t=>t.radial},pp=t=>!!(t&&"object"==typeof t&&"axisAmplitude"in t&&"axisRadial"in t);class mp extends Pa{constructor(t,e,i,n,r,s){super(e,i,r,s),this.zs="Sector",this.B_=0,this.D_=1*Math.PI/2,this.R_=void 0,this.E_=void 0,this.L=new Er,this.Zs=t,this.MS=n,this.JS=this.Zs.wu(this.MS).Fi(this.getHighlight()),this.Cs(this.JS),this.Je=r.polarSectorFillStyle,this.Qe=r.polarSectorStrokeStyle,this.setPointerEvents(!1)}setAngleStart(t){return this.B_=t,this.Zs.Rs(),this}getAngleStart(){return this.B_}setAngleEnd(t){return this.D_=t,this.Zs.Rs(),this}getAngleEnd(){return this.D_}setAmplitudeStart(t){return this.R_=t,this.Zs.Rs(),this}getAmplitudeStart(){return this.R_}setAmplitudeEnd(t){return this.E_=t,this.Zs.Rs(),this}getAmplitudeEnd(){return this.E_}setFillStyle(t){return this.Je="function"==typeof t?t(this.Je):t,this.Zs.Rs(),this}getFillStyle(){return this.Je}setStrokeStyle(t){return this.Qe="function"==typeof t?t(this.Qe):t,this.Zs.Rs(),this}getStrokeStyle(){return this.Qe}sh(){const t=this.MS.ue(),e=void 0!==this.R_?Qr(this.R_,t.start,t.end):t.start,i=void 0!==this.E_?Qr(this.E_,t.start,t.end):t.end,n=[],r=Math.min(this.B_,this.D_),s=Math.max(this.B_,this.D_);for(let a=r;a<=s;a+=1)n.push({angle:a,amplitude:e});for(let a=s;a>=r;a-=1)n.push({angle:a,amplitude:i});const o=eg(n,this.MS);this.JS.oc(o).th(this.Je).qe(this.Qe)}rh(t,e){t.Fi(e),this.Zs.Rs()}hh(){return{fill:this.Je,stroke:this.Qe}}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class yp extends Xd{constructor(t,e,i,n,r,s,o){var a;super(t,e,i,e.Vg("polarChart bg",0),n,e.gi.bi.polarChartBackgroundFillStyle,e.gi.bi.polarChartBackgroundStrokeStyle,e.gi.bi.polarChartTitleFont,e.gi.bi.polarChartTitleFillStyle,e.gi.bi.polarChartTitleShadow,o,null===(a=null==s?void 0:s.legend)||void 0===a?void 0:a.customLegend),this.coordsClient="client",this.Pf=[],this.O_=t=>{this.MS.X(t.engineWidth,t.engineHeight)},this.Rf=Ss(this.Pf),this.z_=t=>{this.Pf.push(t)},this.V_=()=>this.ny,this.L=new Er,this.gi.Ta(_h._o),this.jw=e.km("polarChart series bg",0),this.N_=e.Cm("polarChart axis gridlines",0),this.G_=e.Cm("polarChart series",1),this.U_=e.Cm("polarChart axis lines",2),this.Y_=e.Cm("polarChart axis ticks",3),this.MS=i.d2({scaleXYConstructor:ul}),this.addEventListener("resize",this.O_),this.Hh.Kr("Polar Chart"),this.gy=this.jw.bd(this.MS).th(this.bi.polarChartSeriesBackgroundFillStyle).qe(Br).Qc(0).yh(360).iu(0),this.vy=this.jw.bd(this.MS).th(na).qe(this.bi.polarChartSeriesBackgroundStrokeStyle).Qc(0).yh(360).iu(0),super.Ay(this.gy,this.vy),this.zg(r,this.Kf),this.j_=new Jf(this,this.MS,this.bi,!1!==(null==s?void 0:s.animationsEnabled),this.N_,this.U_,this.Y_,this.Ss,this.V_),this.H_=new dp(this,this.MS,this.bi,!1!==(null==s?void 0:s.animationsEnabled),this.N_,this.U_,this.Y_,this.Ss),this.coordsAxis={axisAmplitude:this.j_,axisRadial:this.H_};const l=e.Dm(),h=ts(s?s.cursorBuilder:void 0,Mf);this.Rm=vy(this,l,h.sm(l,this.uiScale,this.uiScale,Jr,this.bi),this,"show-nearest",xp,((t,e)=>{const i=this.translateCoordinate(t,this.coordsClient);return Math.sqrt((i.clientX-e.clientX)**2+(i.clientY-e.clientY)**2)})),this.setAnimationsEnabled(!1!==(null==s?void 0:s.animationsEnabled));const c={backgroundVisible:!0,...null==s?void 0:s.legend};this.legend.setOptions(c)}getSeries(){return this.ny}setCursor(t){return this.Rm.setCursor(t),this}getCursor(){return this.Rm.getCursor()}setCursorMode(t){return this.Rm.setCursorMode(t),this}getCursorMode(){return this.Rm.getCursorMode()}setCustomCursor(t){return this.Rm.setCustomCursor(t),this}setCursorDynamicBehavior(t){return this.Rm.Ym(t),this}setCursorFormatting(t){return this.Rm.setCursorFormatting(t),this}getCursorFormatting(){return this.Rm.getCursorFormatting()}solveNearest(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCursorMode()||"show-nearest";return this.Rm.solveNearest(t,e,this.ny,((t,e,i)=>t.solveNearest(e,i)))}addCursor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mf;const e=this.Tg(),i=t.sm(e,this.uiScale,this.uiScale,this.wg(e),this.bi);return this.Eg(i),i}translateCoordinate(t,e,i){if(i){const e=t,n=this.Kf,r=i;if(pa(r)){const t=hr(e,n,this.gi.oi);return this.gi.qa({engineX:t.x,engineY:t.y})}if(ya(r))return e;if(pp(r)){const t=hr(e,n,this.MS);return rg(t,this.MS)}}else{const i=t,n=e;if(ma(i)){if(pp(n)){const t=this.gi.Ka(i),e=hr({x:t.engineX,y:t.engineY},this.gi.oi,this.MS);return rg(e,this.MS)}if(pa(n))return i;if(ya(n)){const t=this.gi.Ka(i);return hr({x:t.engineX,y:t.engineY},this.gi.oi,this.Kf)}}else if((t=>!!(t&&"object"==typeof t&&"angle"in t&&"number"==typeof t.angle&&"amplitude"in t&&"number"==typeof t.amplitude))(i)){if(pp(n))return i;const t=eg([i],this.MS)[0];if(pa(n)){const e=hr(t,this.MS,this.gi.oi),i={engineX:e.x,engineY:e.y};return this.gi.qa(i)}if(ya(n))return hr(t,this.MS,this.Kf)}}throw new Error("translateCoordinate unexpected error. Input or target coordinate system not recognized.")}addLineSeries(t){const e=new lg(this.G_,this,this.ly,this.MS,this.bi,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ny.length,this.gi.Ss);return this.yy(e,t),e}addPointSeries(t){const e=new cp(this.G_,this,this.ly,this.MS,this.bi,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ny.length,this.gi.Ss);return this.yy(e,t),e}addPointLineSeries(t){const e=new hp(this.G_,this,this.ly,this.MS,this.bi,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ny.length,this.gi.Ss);return this.yy(e,t),e}addAreaSeries(t){const e=new ag(this.G_,this,this.ly,this.MS,this.bi,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ny.length,this.gi.Ss);return this.yy(e,t),e}addPolygonSeries(t){const e=new sg(this.G_,this,this.ly,this.MS,this.bi,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ny.length,this.gi.Ss);return this.yy(e,t),e}addHeatmapSeries(t){const e=new up(this.G_,this,this.ly,this.MS,this.bi,this.gi.Ss,t);return this.yy(e,t),e}addSector(t){const e=new mp(this.G_,this,this.Rf,this.MS,this.bi,this.gi.Ss);return this.z_(e),this.Vs.forEach((i=>{i.dg()&&null!==t&&i.xc(e,t)})),e}getAmplitudeAxis(){return this.j_}get amplitudeAxis(){return this.j_}get axisAmplitude(){return this.j_}getRadialAxis(){return this.H_}get radialAxis(){return this.H_}get axisRadial(){return this.H_}sh(t){super.sh(t);const e=Md.Wg(this.Hh,this.Ng),i=this.Vs.reduce(((t,i)=>{const n=i.zr(e,this.Vn);return{top:Math.max(t.top,n.top),bottom:Math.max(t.bottom,n.bottom),left:Math.max(t.left,n.left),right:Math.max(t.right,n.right)}}),{top:0,bottom:0,left:0,right:0});Md.Xg(this.Hh,this.Ng,this.uiScale.ri(),this.Vn,i);for(const u of this.ny)u.rv();this.j_.An(),this.H_.An();for(const u of this.ny)u.sh();const n=this.MS.getInnerIntervalPixels().x/2,r=this.j_.zr({physicalAxisSize:n}),s=this.H_.zr({physicalAxisSize:2*Math.PI*n});this.j_.sh(r),this.H_.sh(s);const o=[this.Vn.left+s.fA+i.left,this.Vn.right+s.fA+i.right],a=[this.Vn.bottom+s.fA+i.bottom,this.Vn.top+s.fA+e+i.top];this.MS.Kt(o).qt(a);const l=this.MS.ue().start,h=this.MS.ue().end,c=this.MS.de()?(s.fA||0)*this.MS.x.getPixelSize()+h-l:(s.fA||0)*this.MS.x.getPixelSize()+l-h;this.gy.Kc(c).su(360),this.vy.Kc(c).su(360);for(const u of this.Pf)u.sh();this.Rm.sh(!1,this.ny,((t,e,i)=>t.solveNearest(e,i)));for(const u of this.ny)u.nv();return super.Og(),this.Vs.forEach((t=>t.sh(e,this.Vn))),this.W_(),this}setAnimationsEnabled(t){return super.setAnimationsEnabled(t),this.j_.setAnimationsEnabled(t),this.H_.setAnimationsEnabled(t),this}getMinimumSize(){return En(vp,vp)}W_(){}forEachAxis(t){return t(this.j_),t(this.H_),this}dispose(){return this.Pf.slice().forEach((t=>t.dispose())),this.Rm.N(),this.jw.N(),this.N_.N(),this.G_.N(),this.U_.N(),this.Y_.N(),super.dispose()}gg(){return[...this.ny,...this.Pf]}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}const vp=300,xp=(t,e,i)=>{var n;return(t=>t&&"object"==typeof t&&"annulus"in t&&"sector"in t)(e)?gy(e,[[{component:e.series,componentColor:py(e),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],["Angle","",{text:e.angle.toFixed(0),font:{weight:"bold"}}],["Amplitude","",{text:Ea(t.getAmplitudeAxis().formatValue(e.amplitude),t.amplitudeAxis),font:{weight:"bold"}}],["Intensity","",{text:Ea(e.lut?ea(e.lut,e.intensity):e.intensity.toFixed(2),null===(n=e.lut)||void 0===n?void 0:n.units),font:{weight:"bold"}}]]):gy(e,[[{component:e.series,componentColor:py(e),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],["Angle","",{text:e.angle.toFixed(0),font:{weight:"bold"}}],["Amplitude","",{text:Ea(t.getAmplitudeAxis().formatValue(e.amplitude),t.amplitudeAxis),font:{weight:"bold"}}]])};class bp extends Pa{constructor(t,e,i,n){super(t,e,i,n),this.zs="Slice",this.S=0,jr.requestAnimationFrame((()=>{this.addEventListener("pointermove",(()=>{this.gs.gi.Rs()}))}))}}class Sp extends bp{}class Ap extends Sp{constructor(t,e,i,n,r,s,o,a){super(n,s,o,a),this.zs="Slice",this.S=0,this.X_=!1,this.Z_=na,this.J_=na,this.Q_=this.S,this.K_=Mr((()=>this.gs.gi.Rs())),this.q_=()=>{this.tk=void 0},this.L=new Er,this.index=t,this.gs=n,this.scale=r,this.vs=s,this.JS=e.wu(r,pc.Simple).Fi(this.getHighlight()),this.Cs(this.JS),this.Er=i.Mn(r).Fi(this.getHighlight()),this.Cs(this.Er,{isText:!0})}setValue(t){return this.gs.getAnimationsEnabled()?this.getVisible()&&this.ik(this.Q_,t,(()=>this.gs.Vs.forEach((t=>t.Ns())))):this.Q_=t,this.S=t,this.gs.Vs.forEach((t=>t.Ns())),this.gs.gi.Rs(),this}getValue(){return this.S}setVisible(t){return!1===t?this.gs.getAnimationsEnabled()&&Math.abs(this.Q_)>0?(this.tk&&(this.tk.finish(!1),this.tk=void 0),this.ik(this.Q_,0,(()=>super.setVisible(!1)))):(this.Q_=0,super.setVisible(!1)):this.gs.getAnimationsEnabled()?(this.tk&&(this.tk.finish(!1),this.tk=void 0),super.setVisible(!0),this.ik(this.Q_,this.S)):(this.Q_=this.S,super.setVisible(!0)),this}ik(t,e,i){this.tk=this.K_(300,kr.ease)([[t,e]],(t=>{let[e]=t;this.Q_=e,this.gs.gi.Rs()})),this.tk.addEventListener("everyAnimationEnd",this.q_),i&&this.tk.addEventListener("end",i)}setStyle(t,e,i,n,r){this.Z_=t,this.J_=i,this.JS.th(this.Z_).qe(e),this.Er.th(this.J_)._r(n).Qr(r)}getAnimatedValue(){return this.Q_}rh(t,e){return t.Fi(e),this.gs.gi.Rs(),this}hh(){return{fill:this.Z_,stroke:this.JS.Wa()}}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}var Ep;!function(t){t[t.LabelsInsideSlices=0]="LabelsInsideSlices",t[t.LabelsOnSides=1]="LabelsOnSides"}(Ep||(Ep={}));const wp=(t,e)=>t.getName().localeCompare(e.getName(),void 0,{numeric:!0}),kp=()=>0,Cp=t=>"".concat(t.getName(),": ").concat(Math.round(t.getAnimatedValue()));var Mp;!function(t){t[t.VariableHeight=0]="VariableHeight",t[t.VariableWidth=1]="VariableWidth"}(Mp||(Mp={}));const Tp=(t,e)=>{let i=100;return t<=0?t=0:(i=t>=100?100:t,t=e*(i/100)),t},Pp=function(t,e,i,n,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Mp.VariableHeight,a=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0;e=Tp(e,n.x),i=Tp(i,n.x);const h=t.length;let c=0,u=0;c=t.reduce(((t,e)=>t+Math.abs(e.getAnimatedValue())),0);let d={x:a-e/2+l.left,y:n.y+r.bottom+l.bottom},f={x:a+e/2+l.left,y:n.y+r.bottom+l.bottom},g={x:0,y:r.bottom},p={x:0,y:r.bottom},m=0,y=0;if(s)for(let x=0;x<t.length;x+=1){const e=t[x],i=10;y+=Math.abs(e.getAnimatedValue());const a=o===Mp.VariableWidth?(n.y-s*h)/h:n.y+r.bottom-y/c*n.y;if(o===Mp.VariableWidth){s=a-s<i?Math.max(20,a-i):s;break}0!==m&&m-a-s<i&&(s=Math.max(0,m-a-i)),m=a}const v=(e-i)/2/n.y;for(let x=0;x<h;x+=1){const m=t[x];u+=Math.abs(m.getAnimatedValue());const y=o===Mp.VariableWidth?(n.y-s*h)/h:n.y+r.bottom-u/c*n.y;let b=0;x>0&&(d={x:g.x+v*s,y:g.y-s},f={x:p.x-v*s,y:p.y-s}),b=(e+u/c*(i-e))/2,g={x:a-b+l.left,y:o===Mp.VariableWidth?d.y-y:y+l.bottom},p={x:a+b+l.left,y:o===Mp.VariableWidth?f.y-y:y+l.bottom},f.x>=d.x&&p.x>g.x&&m.JS.oc([g,d,f,p])}};class Fp extends Cd{constructor(t,e,i,n,r,s,o){var a;super(t,e,i,e.Vg("funnelChart bg",0),n,e.gi.bi.funnelChartBackgroundFillStyle,e.gi.bi.funnelChartBackgroundStrokeStyle,e.gi.bi.funnelChartTitleFont,e.gi.bi.funnelChartTitleFillStyle,e.gi.bi.funnelChartTitleShadow,s,null===(a=null==o?void 0:o.legend)||void 0===a?void 0:a.customLegend),this.sk=[],this.ek=kp,this.hk=!0,this.rk=this.bi.funnelChartSliceLabelShadow,this.nk=0,this.ak=20,this.lk=5,this.ck=Mp.VariableHeight,this.uk=!0,this.dk=t=>{const e=this.sk.indexOf(t);e>=0&&(this.sk.splice(e,1),this.fk())},this.L=new Er,this.gi.Ta(_h.xo),this.Ak=this.bi.effectsText,this.gk=e.Cm("funnelChart bottom",0),this.vk=e.Cm("funnelChart top",1),this.Hh.Kr("Funnel Chart"),this.yk=this.bi.funnelChartSliceFillStylePalette,this.pk=this.bi.funnelChartSliceStrokeStyle,this.mk=this.bi.funnelChartSliceLabelFont,this.Sk=this.bi.funnelChartSliceLabelFillStyle;const l=e.Dm(),h=ts(o?o.cursorBuilder:void 0,kf);this.Rm=vy(this,l,h.sm(l,this.uiScale,this.uiScale,Jr,this.bi),void 0,"show-pointed",Lp,(()=>0)),this.setAnimationsEnabled(!1!==(null==o?void 0:o.animationsEnabled)),this.zg(r,this.Kf);const c={backgroundVisible:!0,...null==o?void 0:o.legend};this.legend.setOptions(c)}setCursor(t){return this.Rm.setCursor(t),this}getCursor(){return this.Rm.getCursor()}setCursorMode(t){return this.Rm.setCursorMode(t),this}getCursorMode(){return this.Rm.getCursorMode()}setCustomCursor(t){return this.Rm.setCustomCursor(t),this}setCursorDynamicBehavior(t){return this.Rm.Ym(t),this}setCursorFormatting(t){return this.Rm.setCursorFormatting(t),this}getCursorFormatting(){return this.Rm.getCursorFormatting()}addCursor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kf;const e=this.Tg(),i=t.sm(e,this.uiScale,this.uiScale,this.wg(e),this.bi);return this.Eg(i),i}addSlice(t,e){const i=new Ap(this.nk,this.gk,this.vk,this,this.Kf,this.dk,this.bi,this.gi.Ss);return this.nk+=1,i.setName(t),i.setValue(e),i.Ss.xs.Ds(this.Ak),i.Ss.Ms.Ds(this.uk),this.sk.push(i),this.gi.Rs(),i.setHighlightOnHover(this.hk),this.Vs.forEach((t=>{t.dg()&&t.xc(i)})),i}addSlices(t){const e=[];for(let i=0;i<t.length;i+=1)e.push(this.addSlice(t[i].name,t[i].value));return e}getSlices(){return this.sk}setNeckWidth(t){return this.ak=Qr(t,1,99),this.gi.Rs(),this}getNeckWidth(){return this.ak}setSliceGap(t){return this.lk=Math.min(Math.max(t,0),20),this.gi.Rs(),this}setSliceMode(t){return this.ck=t,this.gi.Rs(),this}getFunnelSliceMode(){return this.ck}setLUT(t){return this.vf=t,this.gi.Rs(),this}setSliceFillStyle(t){return this.yk=t,this.gi.Rs(),this}getSliceFillStyle(){return this.yk}setSliceStrokeStyle(t){return this.pk="function"==typeof t?t(this.pk):t,this.gi.Rs(),this}getSliceStrokeStyle(){return this.pk}setSliceEffect(t){return this.uk=t,this.sk.forEach((e=>e.Ss.Ms.Ds(t))),this.gi.Rs(),this}getSliceEffect(){return this.uk}setSliceSorter(t){return this.ek=t,this.sk=this.sk.sort(this.ek),this.gi.Rs(),this}getSliceSorter(){return this.ek}setLabelFillStyle(t){return this.Sk="function"==typeof t?t(this.Sk):t,this.gi.Rs(),this}getLabelFillStyle(){return this.Sk}setLabelShadow(t){return this.rk=t,this.gi.Rs(),this}getLabelShadow(){return this.rk}setLabelFont(t){return this.mk="function"==typeof t?t(this.mk):t,this.gi.Rs(),this}getLabelFont(){return this.mk}setLabelEffect(t){return this.Ak=t,this.sk.forEach((e=>e.Ss.xs.Ds(t))),this.gi.Rs(),this}getLabelEffect(){return this.Ak}setLabelFormatter(t){return this.bk=t,this.gi.Rs(),this}getLabelFormatter(){return this.bk}setSliceHighlightOnHover(t){return this.hk=t,this.sk.forEach((e=>e.setHighlightOnHover(t))),this}sh(t){super.sh(t),super.Og(),this.sk=this.sk.sort(this.ek);for(let c=0,{length:u}=this.sk;c<u;c+=1)this.xk(this.sk[c],c);const e=this.sk.filter((t=>Math.abs(t.getAnimatedValue())>0)),i=Md.Wg(this.Hh,this.Ng),n=this.Vs.reduce(((t,e)=>{const n=e.zr(i,this.Vn);return{top:Math.max(t.top,n.top),bottom:Math.max(t.bottom,n.bottom),left:Math.max(t.left,n.left),right:Math.max(t.right,n.right)}}),{top:0,bottom:0,left:0,right:0});Md.Xg(this.Hh,this.Ng,this.uiScale.ri(),this.Vn,n);const r=En(this.Kf.x.getInnerInterval()-(this.Vn.left+this.Vn.right),this.Kf.y.getInnerInterval()-(this.Vn.bottom+this.Vn.top+i)),s=En(r.x-n.left-n.right,r.y-n.top-n.bottom),o=En(this.Vn.left+(r.x+n.left-n.right)/2,this.Vn.bottom+(r.y+n.bottom-n.top)/2);let a=0;for(let c=0;c<e.length;c+=1)a+=Math.abs(e[c].getAnimatedValue());const l=[];for(let c=0;c<e.length;c+=1)l.push((h=Math.abs(e[c].getAnimatedValue()))>0?h/a:0);var h;for(let c=0;c<e.length;c+=1){const t=e[c];t.Er.Kr(this.bk(t,l[c])).zr()}l.push(a),this.Rm.sh(!1,this.sk,((t,i,n)=>{const r=l[e.indexOf(t)]||0,s=this.gi.Ka(i);return{cursorPosition:{pointMarker:{x:s.engineX,y:s.engineY},pointMarkerScale:this.gi.oi,resultTable:{x:s.engineX,y:s.engineY},resultTableScale:this.gi.oi},slice:t,category:t.getName(),value:t.getValue(),relativeValue:r}})),this.Vs.forEach((t=>t.sh(i,this.Vn))),this.Mk(e,l,o,s,n)}xk(t,e){t.setStyle(this.vf?new aa({color:this.vf.getColors(t.getAnimatedValue(),void 0)}):this.yk(e,t),this.pk,this.Sk,this.mk,this.rk)}fk(){this.sk=this.sk.sort(this.ek),this.gi.Rs()}gg(){return this.sk}dispose(){return this.sk.slice().forEach((t=>t.dispose())),this.Rm.N(),this.gk.N(),this.vk.N(),super.dispose()}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}const Lp=(t,e,i)=>[[{component:e.slice,rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[{text:e.value.toString(),font:{weight:"bold"}}]],Rp=(t,e,i)=>{const n=t.ac();if(0===n.length)return{x:0,y:0};let r;const s=(n[1].y-n[0].y)/2+n[0].y;return r=e===zp.Left?(n[0].x-n[1].x)/2+n[1].x-i:(n[2].x-(4===n.length?n[3].x:n[1].x))/2+(4===n.length?n[3].x:n[1].x)+i,{x:r,y:s}};class Bp extends Fp{constructor(){super(...arguments),this.bk=Cp,this.wk=0,this._k=10,this.kk=30,this.Ck=10,this.Tk=zp.Left,this.Fk=[],this.Ik=this.bi.funnelChartConnectorStrokeStyle}setLabelConnectorStyle(t){this.Ik=t;for(let e=0;e<this.Fk.length;e+=1)this.Fk[e].Ah(this.Ik);return this.gi.Rs(),this}getLabelConnectorStyle(){return this.Ik}setLabelConnectorGapBeforeLabel(t){return this._k=t,this.gi.Rs(),this}getLabelConnectorGapBeforeLabel(){return this._k}setLabelConnectorGapBeforeSlice(t){return this.wk=t,this.gi.Rs(),this}getLabelConnectorGapBeforeSlice(){return this.wk}setLabelConnectorLengthAfterSlice(t){return this.kk=t,this.gi.Rs(),this}getLabelConnectorLengthAfterSlice(){return this.kk}setLabelConnectorMinLengthBeforeSlice(t){return this.Ck=t,this.gi.Rs(),this}getLabelConnectorMinLengthBeforeSlice(){return this.Ck}setLabelSide(t){return this.Tk=t,this.gi.Rs(),this}getLabelSide(){return this.Tk}Mk(t,e,i,n,r){let s=0,o=0;for(let k=0;k<t.length;k+=1){const e=t[k].Er.pu();s=Math.max(s,e.x),o+=e.y}const a=.4*n.x,l=n.x-a-(this.wk+this.kk+this.Ck+this._k);let h=!0;l<50?h=!1:s>l&&(t.forEach((t=>{const e=t.Er.sn(),i=t.Er.pu().x/e.length,n=Math.floor(l/i);if(n<e.length){const i=e.slice(0,n-3)+"...";t.Er.Kr(i).zr()}})),o=0,s=t.reduce(((t,e)=>{const i=e.Er.pu().x;return o+=i,Math.max(t,i)}),0));const c=this.Tk===zp.Left?this.Vn.left+r.left:this.Vn.left+n.x,u=this.Tk===zp.Left?-1:1,d=n.y-o;d<0&&(h=!1);const f=h?s+this._k+this.Ck+this.kk+this.wk:0,g=n.x-f,p=this.Tk===zp.Left?this.Vn.left+f:this.Vn.left,m=this.Tk===zp.Left?p+g:this.Vn.left+g,y=(p+m)/2;Pp(t,100,this.ak,{x:g,y:n.y},this.Vn,this.lk,this.ck,y,r);const v=t.filter((t=>h&&0!==t.JS.ac().length?(t.Er.setVisible(!0),!0):(t.Er.setVisible(!1),!1))),x=d/(v.length+1);let b=this.Vn.bottom+n.y-x;v.forEach((t=>{const e=t.Er.pu();t.Er.eh({x:c,y:b}).Hl({x:u,y:1}),b-=e.y+x}));const S=this.Tk===zp.Left?p:m,A=this.Tk===zp.Left?y-.5*this.ak/100*g:y+.5*this.ak/100*g,E=this.Vn.bottom+n.y,w=this.Vn.bottom;for(let k=0;k<this.Fk.length;k+=1)this.Fk[k].setVisible(!1);for(let k=0;k<v.length;k+=1){const t=v[k],e=t.JS,i=t.Er,n=i.pu(),r=Rp(e,this.Tk,this.wk),s=i.El().y-.5*n.y,o={x:this.Tk===zp.Left?Math.min(Ia(S,A,(s-E)/(w-E))-this.kk,r.x):Math.max(Ia(S,A,(s-E)/(w-E))+this.kk,r.x),y:s},a={x:this.Tk===zp.Left?i.El().x+n.x+this._k:i.El().x-n.x-this._k,y:o.y};this.Pk([r,o,a])}}getMinimumSize(){return En(500,300)}Pk(t){if(t){let e;for(let t=0;t<this.Fk.length;t+=1)if(!this.Fk[t].getVisible()){e=this.Fk[t].setVisible(!0);break}void 0===e&&(e=this.vk.Dv(this.Kf,void 0,[Ld.InternalUI]).Ah(this.Ik),this.Fk.push(e)),e.Ni().xc(t)}}}var zp,Ip;!function(t){t[t.Right=0]="Right",t[t.Left=1]="Left"}(zp||(zp={}));class Dp extends bp{}class Vp extends Dp{constructor(t,e,i,n,r,s,o,a){super(n,s,o,a),this.X_=!1,this.Lk=na,this.J_=na,this.Q_=this.S,this.Bk=this.X_?1:0,this.Dk=this.getVisible(),this.K_=Mr((()=>this.gs.gi.Rs())),this.Rk=Mr((()=>this.gs.gi.Rs())),this.q_=()=>{this.tk=void 0},this.Ek=()=>{this.Ok=void 0},this.L=new Er,this.index=t,this.gs=n,this.scale=r,this.vs=s,this.zk=e.bd(r).Fi(this.getHighlight()),this.Cs(this.zk),this.Er=i.Mn(r).Fi(this.getHighlight()),this.Cs(this.Er,{isText:!0}),this.addEventListener("click",(t=>{t.defaultPrevented||((t,e)=>{ys(e),t.setExploded(!t.getExploded())})(this,t)}))}setValue(t){return this.gs.getAnimationsEnabled()?this.Dk&&this.ik(this.Q_,t,(()=>this.gs.Vs.forEach((t=>t.Ns())))):this.Q_=t,this.S=t,this.gs.Vs.forEach((t=>t.Ns())),this.gs.gi.Rs(),this}getValue(){return this.S}setExploded(t){if(t&&!1===this.gs.getMultipleSliceExplosion()){const t=this.gs.getSlices();for(let e=0;e<t.length;e+=1)t[e]!==this&&t[e].getExploded()&&t[e].setExploded(!1)}return this.gs.getAnimationsEnabled()?(this.Ok&&this.Ok.finish(),this.Ok=this.Rk(300,kr.ease)([[this.Bk,t?1:0]],(t=>{let[e]=t;this.Bk=e,this.gs.gi.Rs()})),this.Ok.addEventListener("everyAnimationEnd",this.Ek),this.X_=!this.X_):!1!==this.gs.getMultipleSliceExplosion()||t?(this.Bk=this.X_?0:1,this.X_=!this.X_):(this.Bk=0,this.X_=!this.X_),this.gs.gi.Rs(),this}getExploded(){return this.X_}setVisible(t){return this.Dk=t,!1===t?this.gs.getAnimationsEnabled()&&Math.abs(this.Q_)>0?(this.tk&&(this.tk.finish(!1),this.tk=void 0),this.ik(this.Q_,0,(()=>super.setVisible(!1)))):(this.Q_=0,super.setVisible(!1)):this.gs.getAnimationsEnabled()?(this.tk&&(this.tk.finish(!1),this.tk=void 0),super.setVisible(!0),this.ik(this.Q_,this.S)):(this.Q_=this.S,super.setVisible(!0)),this}ik(t,e,i){this.tk=this.K_(300,kr.ease)([[t,e]],(t=>{let[e]=t;this.Q_=e,this.gs.gi.Rs()})),this.tk.addEventListener("everyAnimationEnd",this.q_),i&&this.tk.addEventListener("end",i)}setStyle(t,e,i,n,r){this.Lk=t,this.J_=i,this.zk.th(this.Lk).qe(e),this.Er.th(this.J_)._r(n).Qr(r)}getAnimatedValue(){return this.Q_}getAnimatedExplosion(){return this.Bk}hh(){return{fill:this.Lk,stroke:this.zk.Wa()}}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class _p extends bp{}class Np extends _p{constructor(t,e,i,n,r,s,o,a){super(n,s,o,a),this.zs="Slice",this.S=0,this.X_=!1,this.Z_=na,this.J_=na,this.Q_=this.S,this.K_=Mr((()=>this.gs.gi.Rs())),this.q_=()=>{this.tk=void 0},this.L=new Er,this.index=t,this.gs=n,this.scale=r,this.vs=s,this.JS=e.wu(r,pc.Simple).Fi(this.getHighlight()),this.Cs(this.JS),this.Er=i.Mn(r).Fi(this.getHighlight()),this.Cs(this.Er,{isText:!0})}setValue(t){return this.gs.getAnimationsEnabled()?this.getVisible()&&this.ik(this.Q_,t,(()=>this.gs.Vs.forEach((t=>t.Ns())))):this.Q_=t,this.S=t,this.gs.Vs.forEach((t=>t.Ns())),this.gs.gi.Rs(),this}getValue(){return this.S}setVisible(t){return!1===t?this.gs.getAnimationsEnabled()&&Math.abs(this.Q_)>0?(this.tk&&(this.tk.finish(!1),this.tk=void 0),this.ik(this.Q_,0,(()=>super.setVisible(!1)))):(this.Q_=0,super.setVisible(!1)):this.gs.getAnimationsEnabled()?(this.tk&&(this.tk.finish(!1),this.tk=void 0),super.setVisible(!0),this.ik(this.Q_,this.S)):(this.Q_=this.S,super.setVisible(!0)),this}ik(t,e,i){this.tk=this.K_(300,kr.ease)([[t,e]],(t=>{let[e]=t;this.Q_=e,this.gs.gi.Rs()})),this.tk.addEventListener("everyAnimationEnd",this.q_),i&&this.tk.addEventListener("end",i)}setStyle(t,e,i,n,r){this.Z_=t,this.J_=i,this.JS.th(this.Z_).qe(e),this.Er.th(this.J_)._r(n).Qr(r)}getAnimatedValue(){return this.Q_}hh(){return{fill:this.Z_,stroke:this.JS.Wa()}}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}!function(t){t[t.VariableHeight=0]="VariableHeight",t[t.VariableWidth=1]="VariableWidth"}(Ip||(Ip={}));const Op=(t,e)=>{let i=100;return t<=0?t=0:(i=t>=100?100:t,t=e*(i/100)),t},Hp=function(t,e,i,n,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ip.VariableHeight,a=arguments.length>7?arguments[7]:void 0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Zs;e=Op(e,n.x),i=Op(i,n.x);const h=t.length;let c=0,u=0;c=t.reduce(((t,e)=>t+Math.abs(e.getAnimatedValue())),0);let d={x:a-e/2+l.left,y:n.y+r.bottom+l.bottom},f={x:a+e/2+l.left,y:n.y+r.bottom+l.bottom},g={x:0,y:r.bottom},p={x:0,y:r.bottom},m=0,y=0;if(s)for(let x=0;x<t.length;x+=1){const e=10;y+=Math.abs(t[x].getAnimatedValue());const i=o===Ip.VariableWidth?(n.y-s*h)/h:n.y+r.bottom-y/c*n.y;if(o===Ip.VariableWidth){s=i-s<e?Math.max(20,i-e):s;break}0!==m&&m-i-s<e&&(s=Math.max(0,m-i-e)),m=i}const v=(e-i)/2/n.y;for(let x=0;x<h;x+=1){const m=t[x];u+=Math.abs(m.getAnimatedValue());const y=o===Ip.VariableWidth?(n.y-s*h)/h:n.y+r.bottom-u/c*n.y;let b=0;x>0&&(d={x:g.x+v*s,y:g.y-s},f={x:p.x-v*s,y:p.y-s}),b=(e+u/c*(i-e))/2,g={x:a-b+l.left,y:o===Ip.VariableWidth?d.y-y:y+l.bottom},p={x:a+b+l.left,y:o===Ip.VariableWidth?f.y-y:y+l.bottom},f.x>=d.x&&p.x>=g.x&&m.JS.oc([g,d,f,p])}};class Up extends Cd{constructor(t,e,i,n,r,s,o){var a;super(t,e,i,e.Vg("pyramidChart bg",0),n,e.gi.bi.pyramidChartBackgroundFillStyle,e.gi.bi.pyramidChartBackgroundStrokeStyle,e.gi.bi.pyramidChartTitleFont,e.gi.bi.pyramidChartTitleFillStyle,e.gi.bi.pyramidChartTitleShadow,s,null===(a=null==o?void 0:o.legend)||void 0===a?void 0:a.customLegend),this.sk=[],this.ek=kp,this.yk=this.bi.pyramidChartSliceFillStylePalette,this.pk=this.bi.pyramidChartSliceStrokeStyle,this.hk=!0,this.mk=this.bi.pyramidChartSliceLabelFont,this.Sk=this.bi.pyramidChartSliceLabelFillStyle,this.rk=this.bi.pyramidChartSliceLabelShadow,this.nk=0,this.ak=100,this.lk=5,this.ck=Ip.VariableHeight,this.uk=!0,this.dk=t=>{const e=this.sk.indexOf(t);e>=0&&(this.sk.splice(e,1),this.fk())},this.L=new Er,this.gi.Ta(_h.xo),this.Ak=this.bi.effectsText,this.gk=e.Cm("pyramidChart bottom",0),this.vk=e.Cm("pyramidChart top",1),this.Hh.Kr("Pyramid Chart");const l=e.Dm(),h=ts(o?o.cursorBuilder:void 0,kf);this.Rm=vy(this,l,h.sm(l,this.uiScale,this.uiScale,Jr,this.bi),void 0,"show-pointed",Yp,(()=>0)),this.zg(r,this.Kf),this.setAnimationsEnabled(!1!==(null==o?void 0:o.animationsEnabled));const c={backgroundVisible:!0,...null==o?void 0:o.legend};this.legend.setOptions(c)}setCursor(t){return this.Rm.setCursor(t),this}getCursor(){return this.Rm.getCursor()}setCursorMode(t){return this.Rm.setCursorMode(t),this}getCursorMode(){return this.Rm.getCursorMode()}setCustomCursor(t){return this.Rm.setCustomCursor(t),this}setCursorDynamicBehavior(t){return this.Rm.Ym(t),this}setCursorFormatting(t){return this.Rm.setCursorFormatting(t),this}getCursorFormatting(){return this.Rm.getCursorFormatting()}addCursor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kf;const e=this.Tg(),i=t.sm(e,this.uiScale,this.uiScale,this.wg(e),this.bi);return this.Eg(i),i}addSlice(t,e){const i=new Np(this.nk,this.gk,this.vk,this,this.Kf,this.dk,this.bi,this.gi.Ss);return this.nk+=1,i.setName(t),i.setValue(e),i.Ss.xs.Ds(this.Ak),i.Ss.Ms.Ds(this.uk),this.sk.push(i),this.gi.Rs(),this.Vs.forEach((t=>{t.dg()&&t.xc(i)})),i}addSlices(t){const e=[];for(let i=0;i<t.length;i+=1)e.push(this.addSlice(t[i].name,t[i].value));return e}getSlices(){return this.sk}setNeckWidth(t){return this.ak=Qr(t,1,100),this.gi.Rs(),this}getNeckWidth(){return this.ak}setSliceGap(t){return this.lk=Math.min(Math.max(t,0),20),this.gi.Rs(),this}setSliceMode(t){return this.ck=t,this.gi.Rs(),this}getPyramidSliceMode(){return this.ck}setLUT(t){return this.vf=t,this.gi.Rs(),this}setSliceFillStyle(t){return this.yk=t,this.gi.Rs(),this}getSliceFillStyle(){return this.yk}setSliceStrokeStyle(t){return this.pk="function"==typeof t?t(this.pk):t,this.gi.Rs(),this}getSliceStrokeStyle(){return this.pk}setSliceEffect(t){return this.uk=t,this.sk.forEach((e=>e.Ss.Ms.Ds(t))),this.gi.Rs(),this}getSliceEffect(){return this.uk}setSliceSorter(t){return this.ek=t,this.sk=this.sk.sort(this.ek),this.gi.Rs(),this}getSliceSorter(){return this.ek}setLabelFillStyle(t){return this.Sk="function"==typeof t?t(this.Sk):t,this.gi.Rs(),this}getLabelFillStyle(){return this.Sk}setLabelShadow(t){return this.rk=t,this.gi.Rs(),this}getLabelShadow(){return this.rk}setLabelFont(t){return this.mk="function"==typeof t?t(this.mk):t,this.gi.Rs(),this}getLabelFont(){return this.mk}setLabelEffect(t){return this.Ak=t,this.sk.forEach((e=>e.Ss.xs.Ds(t))),this.gi.Rs(),this}getLabelEffect(){return this.Ak}setLabelFormatter(t){return this.bk=t,this.gi.Rs(),this}getLabelFormatter(){return this.bk}setSliceHighlightOnHover(t){return this.hk=t,this.sk.forEach((e=>e.setHighlightOnHover(t))),this}sh(t){super.sh(t),super.Og(),this.sk=this.sk.sort(this.ek);for(let c=0,{length:u}=this.sk;c<u;c+=1)this.xk(this.sk[c],c);const e=this.sk.filter((t=>Math.abs(t.getAnimatedValue())>0)),i=Md.Wg(this.Hh,this.Ng),n=this.Vs.reduce(((t,e)=>{const n=e.zr(i,this.Vn);return{top:Math.max(t.top,n.top),bottom:Math.max(t.bottom,n.bottom),left:Math.max(t.left,n.left),right:Math.max(t.right,n.right)}}),{top:0,bottom:0,left:0,right:0});Md.Xg(this.Hh,this.Ng,this.uiScale.ri(),this.Vn,n);const r=En(this.Kf.x.getInnerInterval()-(this.Vn.left+this.Vn.right),this.Kf.y.getInnerInterval()-(this.Vn.bottom+this.Vn.top+i)),s=En(r.x-n.left-n.right,r.y-n.top-n.bottom),o=En(this.Vn.left+(r.x+n.left-n.right)/2,this.Vn.bottom+(r.y+n.bottom-n.top)/2);let a=0;for(let c=0;c<e.length;c+=1)a+=Math.abs(e[c].getAnimatedValue());const l=[];for(let c=0;c<e.length;c+=1)l.push((h=Math.abs(e[c].getAnimatedValue()))>0?h/a:0);var h;for(let c=0;c<e.length;c+=1){const t=e[c];t.Er.Kr(this.bk(t,l[c])).zr()}l.push(a),this.Rm.sh(!1,this.sk,((t,i,n)=>{const r=l[e.indexOf(t)]||0,s=this.gi.Ka(i);return{cursorPosition:{pointMarker:{x:s.engineX,y:s.engineY},pointMarkerScale:this.gi.oi,resultTable:{x:s.engineX,y:s.engineY},resultTableScale:this.gi.oi},slice:t,category:t.getName(),value:t.getValue(),relativeValue:r}})),this.Vs.forEach((t=>t.sh(i,this.Vn))),this.Mk(e,l,o,s,n)}xk(t,e){t.setStyle(this.vf?new aa({color:this.vf.getColors(t.getAnimatedValue(),void 0)}):this.yk(e,t),this.pk,this.Sk,this.mk,this.rk)}fk(){this.sk=this.sk.sort(this.ek),this.gi.Rs()}gg(){return this.sk}dispose(){return this.sk.slice().forEach((t=>t.dispose())),this.Rm.N(),this.gk.N(),this.vk.N(),super.dispose()}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}const Yp=(t,e,i)=>[[{component:e.slice,rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[{text:e.value.toString(),font:{weight:"bold"}}]],Gp=(t,e,i)=>{const n=t.ac();if(0===n.length)return{x:0,y:0};let r;const s=(n[1].y-n[0].y)/2+n[0].y;return r=e===Xp.Left?(n[0].x-n[1].x)/2+n[1].x-i:(n[2].x-(4===n.length?n[3].x:n[1].x))/2+(4===n.length?n[3].x:n[1].x)+i,{x:r,y:s}};class jp extends Up{constructor(){super(...arguments),this.bk=Cp,this.wk=0,this._k=10,this.kk=30,this.Ck=10,this.Tk=Xp.Left,this.Vk=Ep.LabelsOnSides,this.Fk=[],this.Ik=this.bi.pyramidChartConnectorStrokeStyle}setLabelConnectorStyle(t){this.Ik=t;for(let e=0;e<this.Fk.length;e+=1)this.Fk[e].Ah(this.Ik);return this.gi.Rs(),this}getLabelConnectorStyle(){return this.Ik}setLabelConnectorGapBeforeLabel(t){return this._k=t,this.gi.Rs(),this}getLabelConnectorGapBeforeLabel(){return this._k}setLabelConnectorGapBeforeSlice(t){return this.wk=t,this.gi.Rs(),this}getLabelConnectorGapBeforeSlice(){return this.wk}setLabelConnectorLengthAfterSlice(t){return this.kk=t,this.gi.Rs(),this}getLabelConnectorLengthAfterSlice(){return this.kk}setLabelConnectorMinLengthBeforeSlice(t){return this.Ck=t,this.gi.Rs(),this}getLabelConnectorMinLengthBeforeSlice(){return this.Ck}setLabelSide(t){return this.Tk=t,this.gi.Rs(),this}getLabelSide(){return this.Tk}Mk(t,e,i,n,r){let s=0,o=0;for(let k=0;k<t.length;k+=1){const e=t[k].Er.pu();s=Math.max(s,e.x),o+=e.y}const a=.4*n.x,l=n.x-a-(this.wk+this.kk+this.Ck+this._k);let h=!0;l<50?h=!1:s>l&&(t.forEach((t=>{const e=t.Er.sn(),i=t.Er.pu().x/e.length,n=Math.floor(l/i);if(n<e.length){const i=e.slice(0,n-3)+"...";t.Er.Kr(i).zr()}})),o=0,s=t.reduce(((t,e)=>{const i=e.Er.pu();return o+=i.y,Math.max(t,i.x)}),0));const c=this.Tk===Xp.Left?this.Vn.left+r.left:this.Vn.left+n.x,u=this.Tk===Xp.Left?-1:1,d=n.y-o;d<0&&(h=!1);const f=h?s+this._k+this.Ck+this.kk+this.wk:0,g=n.x-f,p=this.Tk===Xp.Left?this.Vn.left+f:this.Vn.left,m=this.Tk===Xp.Left?p+g:this.Vn.left+g,y=(p+m)/2;Hp(t,.001,this.ak,{x:g,y:n.y},this.Vn,this.lk,this.ck,y,r);const v=t.filter((t=>h&&0!==t.JS.ac().length?(t.Er.setVisible(!0),!0):(t.Er.setVisible(!1),!1))),x=d/(v.length+1);let b=this.Vn.bottom+n.y-x;v.forEach((t=>{const e=t.Er.pu();t.Er.eh({x:c,y:b}).Hl({x:u,y:1}),b-=e.y+x}));const S=y,A=this.Tk===Xp.Left?p:m,E=this.Vn.bottom+n.y,w=this.Vn.bottom;for(let k=0;k<this.Fk.length;k+=1)this.Fk[k].setVisible(!1);for(let k=0;k<v.length;k+=1){const t=v[k],e=t.JS,i=t.Er,n=i.pu(),r=Gp(e,this.Tk,this.wk),s=i.El().y-.5*n.y,o={x:this.Tk===Xp.Left?Math.min(Ia(S,A,(s-E)/(w-E))-this.kk,r.x):Math.max(Ia(S,A,(s-E)/(w-E))+this.kk,r.x),y:s},a={x:this.Tk===Xp.Left?i.El().x+n.x+this._k:i.El().x-n.x-this._k,y:o.y};this.Pk([r,o,a])}}getMinimumSize(){return En(500,300)}Pk(t){let e;for(let i=0;i<this.Fk.length;i+=1)if(!this.Fk[i].getVisible()){e=this.Fk[i].setVisible(!0);break}void 0===e&&(e=this.vk.Dv(this.Kf,void 0,[Ld.InternalUI]).Ah(this.Ik),this.Fk.push(e)),e.Ni().xc(t)}}var Xp,Wp;!function(t){t[t.Right=0]="Right",t[t.Left=1]="Left"}(Xp||(Xp={})),function(t){t[t.Normal=0]="Normal",t[t.Circle=1]="Circle"}(Wp||(Wp={}));class Zp{constructor(t,e,i,n,r,s,o,a,l){this.zh=!1,this.Nk=sh({start:!1}),this.Gk=t=>this.axisScale.Wt(t,Jo.Numeric),this.formatValue=t=>this.Gk(t,{start:this.axisScale.G,end:this.axisScale.$}),this.$k=t,this._n=e,this.scale=i,this.chart=n,this.tag=r,this.axisScale=ar.d1({scale1DConstructor:ir,dimension:"x"}).H(0,1),this.Uk=s,this.Nk=a,l&&(this.Gk=l),o&&this.setInterval(o),this.Yk=this.$k.gh(this.scale).setPointerEvents(!1),this.jk=this._n.Mn(this.scale).Kr(this.tag).setPointerEvents(!1),this.Hk=this.$k.Dv(this.scale,void 0,[Ld.InternalUI]).Ah(this.chart.getNibStyle()),this.Uk.Ts([this.jk])}Mk(t,e,i,n,r,s,o){const a=e.length,l=e[i>0?i-1:a-1],h=e[i],c=e[i<a-1?i+1:0],u=this.chart.getNibLength();this.Yk.ph(t).yh(h).Ah(this.chart.getAxisStyle()),this.Hk.Ni().xc(s===Wp.Normal?[xo(h,l,Qr(.5*u/Fo(Bo(l,h)),0,1)),h,xo(h,c,Qr(.5*u/Fo(Bo(c,h)),0,1))]:function(t,e,i,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2;const s=n/i,o=[];for(let a=-n/2;a<=n/2;a+=r){const r=s*(a/n)+e,l=En(t.x+Math.cos(r)*i,t.y+Math.sin(r)*i);o.push(l)}return o}(t,n,r,u)),o?this.jk.setVisible(!0).eh(Ro(h,En(o.paddingX,o.paddingY))).Gl(o.alignmentX).Yl(o.alignmentY):this.jk.setVisible(!1)}An(t){if(this.Nk&&!this.zh){const e=this.Nk.apply({axis:this,curStart:this.axisScale.getInnerStart(),curEnd:this.axisScale.getInnerEnd(),seriesDataRange:t});e&&this.axisScale.H(e.start,e.end)}}getLabelSize(){return this.jk._r(this.chart.getAxisLabelFont()).th(this.chart.getAxisLabelStyle()).zr()._t()}dispose(){this.Yk&&this.Yk.dispose(),this.jk&&this.jk.dispose(),this.Hk&&this.Hk.dispose()}getTag(){return this.tag}setInterval(t){const{start:e,end:i,stopAxisAfter:n}=t;return void 0!==n&&(this.zh=n),this.axisScale.H(null!=e?e:this.axisScale.getInnerStart(),null!=i?i:this.axisScale.getInnerEnd()),this.chart.gi.Rs(),this}getInterval(){return{start:this.axisScale.getInnerStart(),end:this.axisScale.getInnerEnd()}}setScaleLabelFormatter(t){return this.Gk=t,this.chart.gi.Rs(),this}setScrollStrategy(t){return this.Nk=Sh(t),this.chart.gi.Rs(),this}getScrollStrategy(){return this.Nk}}const qp=(t,e,i,n,r,s)=>(t.alignmentX=(r+Math.PI/2)%(2*Math.PI)<=Math.PI?-1:1,t.alignmentY=r%(2*Math.PI)<=Math.PI?-1:1,t.paddingX=Math.cos(r)*s,t.paddingY=Math.sin(r)*s,t),Jp=t=>{if(0===t.axisIndex)return t.paddingX=t.labelPadding,t.alignmentX=-1,t;let e=!1;const i=t.chart.getAxes();if(i.length>1){const t=i[0].getInterval();e=i.some((e=>{const i=e.getInterval();return i.start!==t.start||i.end!==t.end}))}return e?(t.paddingX=t.labelPadding,t.alignmentX=-1,t):void 0};class Kp extends $f{constructor(t,e,i,n,r,s,o,a,l,h,c,u){super(t,l,h,u),this.zs="Spider Series",this.Wk=new Map,this.Xk=new Map,this.fs=Ma.onHover,this.b_=8,this.xl=0,this.Zk=(()=>{const t=Mr((()=>{}));let e;return(i,n,r,s)=>{const o=null==s?void 0:s.onStart,a=null==s?void 0:s.onCompleted,l=(null==s?void 0:s.easing)||kr.ease,h=(null==s?void 0:s.durationMs)||1e3;let c;if(e)if(0===e.nextAnimations.length){const t=e.NextAnimation([[i,n]],(i=>{let[n]=i;e=t,r(n)}),h,l);c=t}else{i=e.nextAnimations.pop().values[0][0];const t=e.NextAnimation([[i,n]],(i=>{let[n]=i;e=t,r(n)}),h,l);c=t}else c=t(h,l)([[i,n]],(t=>{let[e]=t;r(e)})),e=c;c.addEventListener("end",(()=>{e=void 0})),o&&c.addEventListener("start",o),a&&c.addEventListener("end",a)}})(),this.Jk={},this.Qk={},this.Dk=this.getVisible(),this.Kk=1,this.qk=((t,e)=>{const i=Mr((()=>{}));let n,r,s=1;return(o,a,l)=>{if(o===r)return;r=o;const h=(null==l?void 0:l.easing)||kr.ease,c=(null==l?void 0:l.durationMs)||1e3;n&&(n.finish(!1),n=void 0),!1===o?a&&s&&(n=i(c,h)([[s,0]],(e=>{let[i]=e;s=i,t(s)})),n.addEventListener("end",(()=>{n=void 0,e(!1)})),s=0,e(!1)):a?(e(!0),n=i(c,h)([[s,1]],(e=>{let[i]=e;s=i,t(s)})),n.addEventListener("end",(()=>{n=void 0}))):(s=1,e(!0))}})((t=>{this.Kk=t,this.Zs.gi.Rs()}),(t=>{super.setVisible(t)})),this.tC=!1,this.L=new Er,this.gs=t,this.Zs=e,this.x_=n,this.iC=r,this.Tm=s,this.sC=o,this.eC=a,this.scale=i,this.hC=Is(h.spiderSeriesFillStyle,c),this.rC=Is(h.spiderSeriesStrokeStyle,c),this.nC=Is(h.spiderSeriesPointFillStyle,c)}oC(){return this.tC}Ki(t,e,i){const n=this.eC(e);if(void 0!==n&&this.Wk.has(n.tag)){const t=this.Wk.get(n.tag),e=this.sC(n.tag,t);return{cursorPosition:{pointMarker:e,pointMarkerScale:this.scale,resultTable:e,resultTableScale:this.scale},series:this,axis:n.tag,value:t}}}Av(){return this.Qg&&this.Wk.size>0&&this.getVisible()}addPoints(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const n=0===this.Wk.size;n||this.gs.gi.Ta(_h.Do),e=e.filter((t=>void 0!==t.axis));for(let r=0;r<e.length;r+=1){const t=e[r].axis;this.iC(t)}if(this.gs.getAnimationsEnabled()&&void 0!==this.Jk){let t;e.forEach((t=>this.Xk.set(t.axis,t.value))),this.Zk(0,1,(e=>{this.Xk.forEach(((i,n)=>{const r=(null==t?void 0:t.get(n))||0;this.Wk.set(n,r+e*(i-r)),this.Zs.gi.Rs()}))}),{easing:this.Jk.easing,durationMs:this.Jk.durationMs,onStart:()=>{this.tC=n,t=new Map(this.Wk)},onCompleted:()=>{this.tC=!1}})}else for(let r=0;r<e.length;r+=1){const t=e[r].axis;this.Wk.set(t,e[r].value),this.Xk.set(t,e[r].value)}return this.Zs.Rs(),this}getValue(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.gs.getAxis(t))return e?this.Wk.get(t):this.Xk.get(t)}setAnimationAddPoints(t,e){return this.Jk=t?{easing:t,durationMs:e}:void 0,this.Zs.Rs(),this}setVisibleStateChangedAnimation(t,e){return this.Qk=t?{easing:t,durationMs:e}:void 0,this.Zs.Rs(),this}setFillStyle(t){return this.hC="function"==typeof t?t(this.hC):t,this.JS&&(this.JS.th(this.hC),this.Zs.Rs()),this}getFillStyle(){return this.hC}setStrokeStyle(t){return this.rC="function"==typeof t?t(this.rC):t,this.JS&&(this.JS.qe(this.rC),this.Zs.Rs()),this}getStrokeStyle(){return this.rC}setPointFillStyle(t){return this.nC="function"==typeof t?t(this.nC):t,this.M_&&(this.M_.Ld(this.nC),this.Zs.Rs()),this}getPointFillStyle(){return this.nC}setPointSize(t){return this.b_=t,this.M_&&this.M_.$d(t),this}getPointSize(){return this.b_}getPointShape(){return this.x_}setPointRotation(t){return this.xl=t,this.M_&&this.M_.Od(t),this.Zs.Rs(),this}getPointRotation(){return this.xl}sh(){if(super.sh(),!this.ci){const t=new Array(this.Tm.length);for(let e=0;e<this.Tm.length;e+=1){const i=this.Tm[e].getInterval().start,n=this.Wk.get(this.Tm[e].tag);t[e]=void 0!==n?this.sC(this.Tm[e].tag,i+this.Kk*(n-i)):this.sC(this.Tm[e].tag,i)}Es(t),t.length>=3&&(this.JS||(this.JS=this.Zs.wu(this.scale,pc.Simple).qe(this.rC).th(this.hC).Fi(this.getHighlight()),this.Cs(this.JS)),this.JS.oc(t),this.M_||(this.M_=this.Zs.Dd(this.scale).Bd(na).Ah(Br).$d(this.b_).Rd(this.x_).Od(this.xl).Ld(this.nC).Fi(this.getHighlight()),this.Cs(this.M_)),this.M_.Pd(new Mc({schema:{x:{pattern:null},y:{pattern:null}}}).appendJSON(t),{x:"x",y:"y"}))}}hh(){return{fill:this.hC,stroke:this.rC}}Ws(){return this.Os||this.x_}rh(t,e){return t.Fi(e),this.Zs.Rs(),this}setVisible(t){var e,i;return this.Dk=t,this.qk(t,this.gs.getAnimationsEnabled()&&void 0!==this.Qk,{easing:null===(e=this.Qk)||void 0===e?void 0:e.easing,durationMs:null===(i=this.Qk)||void 0===i?void 0:i.durationMs}),this}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}const Qp=(t,e)=>{const i=Math.PI/2-2*t*Math.PI/e;return i>=0?i:i+2*Math.PI},$p=t=>t.jk.gu(),tm=t=>t.gu(),em=(t,e,i,n)=>t.iu(0).eh(i).Qc(90).yh(-270).su(e===Wp.Circle?void 0:n.length),im={alignmentX:0,alignmentY:0,paddingX:0,paddingY:0},nm={alignmentX:0,alignmentY:0,paddingX:0,paddingY:0},rm=()=>{nm.alignmentX=0,nm.alignmentY=0,nm.paddingX=0,nm.paddingY=0};class sm extends Xd{constructor(t,e,i,n,r,s,o){var a;super(t,e,i,e.Vg("spiderChart bg",0),n,e.gi.bi.spiderChartBackgroundFillStyle,e.gi.bi.spiderChartBackgroundStrokeStyle,e.gi.bi.spiderChartTitleFont,e.gi.bi.spiderChartTitleFillStyle,e.gi.bi.spiderChartTitleShadow,o,null===(a=null==s?void 0:s.legend)||void 0===a?void 0:a.customLegend),this.Tm=[],this.aC=[],this.lC=[],this.Nk=sh({start:!1}),this.cC=!0,this.uC=Jp,this.dC=qp,this.fC=Wp.Normal,this.AC=4,this.gC=this.bi.spiderChartWebStyle,this.vC=this.bi.spiderChartScaleLabelFillStyle,this.yC=this.bi.spiderChartScaleLabelShadow,this.pC=this.bi.spiderChartScaleLabelFont,this.mC=5,this.SC=this.bi.spiderChartAxisLabelFillStyle,this.bC=this.bi.spiderChartAxisLabelFont,this.xC=5,this.MC=this.bi.spiderChartAxisStrokeStyle,this.wC=this.bi.spiderChartAxisNibStrokeStyle,this._C=10,this.kC=Ln(),this.hasAxis=t=>this.Tm.reduce(((e,i)=>e||i.tag===t),!1),this.CC=()=>{const t=this.Tm.map($p).concat(this.lC.map(tm));return fo(t)},this.TC=()=>this.FC.bd(this.Kf).setPointerEvents(!1),this.IC=t=>t.dispose(),this.PC=()=>this.Nf.Mn(this.Kf).setPointerEvents(!1),this.LC=t=>t.dispose(),this.BC=t=>{this.cC&&!this.hasAxis(t)&&this.addAxis(t)},this.sC=(t,e)=>{for(const i of this.Tm)if(i.tag===t){const t=Math.max(Math.min((e-i.axisScale.getInnerStart())/(i.axisScale.getInnerEnd()-i.axisScale.getInnerStart()),1),0);return xo(i.Yk.Ut(),i.Yk.Gt(),t)}},this.eC=t=>{if(0===this.Tm.length)return;const e=Bo(this.translateCoordinate(t,this.coordsRelative),this.Tm[0].Yk.Ut()),i=Math.atan2(e.y,e.x);let n,r=ro;for(const s of this.Tm){const t=Bo(s.Yk.Gt(),s.Yk.Ut()),e=Math.atan2(t.y,t.x),o=Math.abs(i-e);o<r&&(n=s,r=o)}return n},this.L=new Er,this.gi.Ta(_h.wo),this.jw=e.km("spiderChart series bg",0),this.FC=e.Cm("spiderChart web shapes",0),this.DC=e.Cm("spiderChart axis bg",1),this.rS=e.Cm("spiderChart plotting",2),this.Nf=e.Cm("spiderChart fg",3),this.Uk=this.Ss.eA().Ds(this.bi.effectsText),this.Hh.Kr("Spider Chart"),this.gy=this.jw.bd(this.Kf).th(this.bi.spiderChartSeriesBackgroundFillStyle).qe(Br).Qc(90).yh(-270).iu(0),this.vy=this.jw.bd(this.Kf).th(na).qe(this.bi.spiderChartSeriesBackgroundStrokeStyle).Qc(90).yh(-270).iu(0),super.Ay(this.gy,this.vy);const l=e.Dm(),h=ts(s?s.cursorBuilder:void 0,Ef);this.Rm=vy(this,l,h.sm(l,this.uiScale,this.uiScale,Jr,this.bi),this,"show-pointed",om,(()=>0)),this.setAnimationsEnabled(!1!==(null==s?void 0:s.animationsEnabled)),this.zg(r,this.Kf);const c={backgroundVisible:!0,...null==s?void 0:s.legend};this.legend.setOptions(c)}getSeries(){return this.ny}getAxes(){return this.Tm}getAxis(t){const e=this.Tm.find((e=>e.getTag()===t));if(!e)throw new Error('Axis with tag "'.concat(t,'" was not found.'));return e}setCursor(t){return this.Rm.setCursor(t),this}getCursor(){return this.Rm.getCursor()}setCursorMode(t){return this.Rm.setCursorMode(t),this}getCursorMode(){return this.Rm.getCursorMode()}setCustomCursor(t){return this.Rm.setCustomCursor(t),this}setCursorDynamicBehavior(t){return this.Rm.Ym(t),this}setCursorFormatting(t){return this.Rm.setCursorFormatting(t),this}getCursorFormatting(){return this.Rm.getCursorFormatting()}addCursor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ef;const e=this.Tg(),i=t.sm(e,this.uiScale,this.uiScale,this.wg(e),this.bi);return this.Eg(i),i}addAxis(t){const e=this.Tm.find((e=>e.tag===t));if(e)return e;const i=new Zp(this.DC,this.Nf,this.Kf,this,t,this.Uk,this.RC,this.Nk,this.scaleLabelFormatter);return this.Tm.push(i),this.Uk.Ts(this.Tm.map((t=>t.jk))),this.gi.Rs(),i}addSeries(t){const e=void 0!==(null==t?void 0:t.pointShape)?t.pointShape:Ra.Circle,i=void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ny.length,n=new Kp(this,this.rS,this.Kf,e,this.BC,this.Tm,this.sC,this.eC,this.ly,this.bi,i,this.gi.Ss);return this.yy(n,t),n}getSeriesCount(){return this.ny.length}setWebMode(t){return this.fC=t,this.gi.Rs(),this}getWebMode(){return this.fC}setWebCount(t){return this.AC=t,this.gi.Rs(),this}getWebCount(){return this.AC}setWebStyle(t){return this.gC="function"==typeof t?t(this.gC):t,this.gi.Rs(),this}getWebStyle(){return this.gC}setScaleLabelStyle(t){return this.vC="function"==typeof t?t(this.vC):t,this.gi.Rs(),this}getScaleLabelStyle(){return this.vC}setScaleLabelShadow(t){return this.yC=t,this.gi.Rs(),this}getScaleLabelShadow(){return this.yC}setScaleLabelFont(t){return this.pC="function"==typeof t?t(this.pC):t,this.gi.Rs(),this}getScaleLabelFont(){return this.pC}setScaleLabelPadding(t){return this.mC=t,this.gi.Rs(),this}getScaleLabelPadding(){return this.mC}setScaleLabelStrategy(t){return this.uC=t,this.gi.Rs(),this}setScaleLabelFormatter(t){return this.scaleLabelFormatter=t,this.Tm.forEach((e=>{e.setScaleLabelFormatter(t)})),this.gi.Rs(),this}setAxisLabelStyle(t){return this.SC="function"==typeof t?t(this.SC):t,this.gi.Rs(),this}getAxisLabelStyle(){return this.SC}setAxisLabelFont(t){return this.bC="function"==typeof t?t(this.bC):t,this.gi.Rs(),this}getAxisLabelFont(){return this.bC}setAxisLabelEffect(t){return this.Uk.Ds(t),this.gi.Rs(),this}getAxisLabelEffect(){return this.Uk.Es()}setAxisLabelPadding(t){return this.xC=t,this.gi.Rs(),this}getAxisLabelPadding(){return this.xC}setAxisLabelStrategy(t){return this.dC=t,this.gi.Rs(),this}setAxisStyle(t){return this.MC="function"==typeof t?t(this.MC):t,this.gi.Rs(),this}getAxisStyle(){return this.MC}setNibStyle(t){return this.wC="function"==typeof t?t(this.wC):t,this.gi.Rs(),this}getNibStyle(){return this.wC}setNibLength(t){return this._C=t,this.gi.Rs(),this}getNibLength(){return this._C}setAutoAxis(t){return this.cC=t,this}getAutoAxis(){return this.cC}setScrollStrategy(t){return this.Nk=Sh(t),this.Tm.forEach((e=>e.setScrollStrategy(t))),this.gi.Rs(),this}setAxisInterval(t){return this.RC=t,this.Tm.forEach((e=>e.setInterval(t))),this}sh(t){super.sh(t);const e=this.Tm.length,i=Md.Wg(this.Hh,this.Ng),n=this.Vs.reduce(((t,e)=>{const n=e.zr(i,this.Vn);return{top:Math.max(t.top,n.top),bottom:Math.max(t.bottom,n.bottom),left:Math.max(t.left,n.left),right:Math.max(t.right,n.right)}}),{top:0,bottom:0,left:0,right:0});Md.Xg(this.Hh,this.Ng,this.uiScale.ri(),this.Vn,n);const r=En(this.Kf.x.getInnerInterval()-(this.Vn.left+this.Vn.right),this.Kf.y.getInnerInterval()-(this.Vn.bottom+this.Vn.top+i)),s=En(r.x-n.left-n.right,r.y-n.top-n.bottom),o=function(){return{left:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,top:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,right:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,bottom:arguments.length>3&&void 0!==arguments[3]?arguments[3]:0}}(0,0,0,0);if(void 0!==this.dC){const t=Math.min(s.x,s.y)/2;for(let i=0;i<e;i+=1){const n=Qp(i,e),r=Math.cos(n),s=Math.sin(n),a=this.Tm[i].getLabelSize();rm();const l=this.dC(nm,i,e,this.Tm[i].tag,n,this.xC),h=En(r*t+l.paddingX,s*t+l.paddingY);r>0?o.right=Math.max(o.right,h.x+.5*(1-l.alignmentX)*a.x-t):o.left=Math.max(o.left,-h.x+.5*(l.alignmentX+1)*a.x-t),s>0?o.top=Math.max(o.top,h.y+.5*(1-l.alignmentY)*a.y-t):o.bottom=Math.max(o.bottom,-h.y+.5*(l.alignmentY+1)*a.y-t)}}this.Tm.forEach((t=>{const e=!this.getSeries().some((t=>t.oC()))&&this.getSeriesCount()>1,i=this.EC(t.tag,e);i&&t.An(i)}));const a=En(this.Kf.x.getInnerStart()+this.Vn.left+n.left+s.x/2,this.Kf.y.getInnerStart()+this.Vn.bottom+n.bottom+s.y/2),l=Math.min(s.x/2-(o.left+o.right)/2,s.y/2-(o.bottom+o.top)/2);this.kC=Ln(this.nt.left+this.Vn.left+o.left,this.nt.top+this.Vn.top+i+o.top,this.nt.right+this.Vn.right+o.right,this.nt.bottom+this.Vn.bottom+o.bottom),this.Mk(a,l);for(const h of this.ny)h.rv();for(const h of this.ny)h.sh();this.Rm.sh(!1,this.ny,void 0),super.Og(),this.Vs.forEach((t=>t.sh(i,this.Vn)));for(const h of this.ny)h.nv()}dispose(){return this.jw.N(),this.FC.N(),this.DC.N(),this.rS.N(),this.Nf.N(),this.Rm.N(),super.dispose()}getMinimumSize(){return En(this.kC.left+this.kC.right+100,this.kC.bottom+this.kC.top+100)}Mk(t,e){const i=this.Tm.length,n=[];for(let r=0;r<i;r+=1){const s=Qp(r,i),o=En(t.x+Math.cos(s)*e,t.y+Math.sin(s)*e);n.push(o)}em(this.gy,this.fC,t,n),em(this.vy,this.fC,t,n),this.gy.Kc(e),this.vy.Kc(e),((t,e,i,n,r,s,o,a)=>{const l=t.length,h=s.length,c=e>0&&h>1;for(let u=0;u<Math.max(e,l);u+=1)if(c&&u<e){u>=l&&t.push(o());const a=t[u];em(a,i,n,s);const h=r*((u+1)/e);a.Kc(h)}else u<t.length&&a(t[u]);t.length=c?e:0})(this.aC,this.AC,this.fC,t,e,n,this.TC,this.IC);for(const r of this.aC)r.th(na).qe(this.gC);for(let r=0;r<i;r+=1){const s=this.Tm[r],o=Qp(r,i);rm();const a=void 0!==this.dC?this.dC(nm,r,i,this.Tm[r].tag,o,this.xC):void 0;s.Mk(t,n,r,o,e,this.fC,a)}((t,e,i,n,r,s,o,a,l)=>{const h=r.length,c=t.length;let u=0;void 0!==e&&r.forEach(((r,l)=>{var d,f,g,p;const m=r.tag,y=Qp(l,h);for(let v=0;v<i;v+=1){im.alignmentX=0,im.alignmentY=0,im.paddingX=0,im.paddingY=0;const x=e({...im,chart:r.chart,axis:r,axisIndex:l,axisCount:h,axisTag:m,axisAngle:y,webIndex:v,webCount:i,labelPadding:n});if(void 0!==x){u>=c&&t.push(a());const e=t[u];u+=1;const n=(i-v)/i,h=r.formatValue(r.axisScale.getInnerStart()+n*(r.axisScale.getInnerEnd()-r.axisScale.getInnerStart())),m=xo(s,o[l],n);e.eh(Ro(m,En(null!==(d=x.paddingX)&&void 0!==d?d:0,null!==(f=x.paddingY)&&void 0!==f?f:0))).Gl(null!==(g=x.alignmentX)&&void 0!==g?g:0).Yl(null!==(p=x.alignmentY)&&void 0!==p?p:0).Kr(h)}}}));for(let d=u;d<c;d+=1)l(t[d]);t.length=u})(this.lC,this.uC,this.AC,this.mC,this.Tm,t,n,this.PC,this.LC);for(const r of this.lC)r.th(this.vC)._r(this.pC).Qr(this.yC)}EC(t,e){let i,n;const r=this.getAxis(t);for(const s of this.ny){const t=s.getValue(r.tag,e);void 0!==t&&(i=void 0===i?t:Math.min(i,t),n=void 0===n?t:Math.max(n,t))}if(void 0!==i&&void 0!==n)return Tn(i,n)}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}const om=(t,e,i)=>gy(e,[[{component:e.series,rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[e.axis],[{text:t.getAxis(e.axis).formatValue(e.value),font:{weight:"bold"}}]]),am={zh:!1,Vh:0,Nh:!1,$h:0,Gh:!1,Uh:0,Yh:0,Dr:sh({})},lm=t=>{if(!t||"object"!=typeof t||null===t)return!1;const e=t.type;return!(!e||!["spark-line","spark-bar","spark-win-loss","spark-area","spark-pie"].includes(e))},hm=(t,e,i,n,r,s,o,a)=>{const{type:l,data:h}=t;if(0===h.length)return;const c=[n,r];"spark-line"===l&&vm(t,e,c,s,o,a),"spark-bar"===l&&xm({...t,winLoss:!1},e,c,s,o,a),"spark-win-loss"===l&&xm({...t,winLoss:!0},e,c,s,o,a),"spark-area"===l&&bm(t,e,c,s,o,a),"spark-pie"===l&&Sm(t,e,c,s,o,a)},cm=(t,e,i,n)=>({x:dm(t.x,e.x,i.x,n),y:fm(t.y,e.y,i.y,n)}),um=(t,e,i,n)=>({position:dm(t.position,e.x,i.x,n),high:fm(t.high,e.y,i.y,n),low:fm(t.low,e.y,i.y,n)}),dm=(t,e,i,n)=>{const r=Qr(t,e,e+i);return n[0].x+n[1].x*(r-e)/i},fm=(t,e,i,n)=>{const r=Qr(t,e,e+i);return n[0].y+n[1].y*(r-e)/i},gm=(t,e,i,n,r,s,o,a)=>{for(const l of t)"point"===l.type&&pm(l,e,i,r,s,o,a),"axis-band"===l.type&&mm(l,i,r,s,o,a),"constant-line"===l.type&&ym(l,i,n,r,s,o,a)},pm=(t,e,i,n,r,s,o)=>{const{value:a,fillStyle:l,shape:h,size:c,rotation:u}=t;let d={x:NaN,y:NaN};if("start"===a&&(d=e[0]),"end"===a&&(d=e[e.length-1]),"min"===a){d=e[0];for(const t of e)d=d.y<t.y?d:t}if("max"===a){d=e[0];for(const t of e)d=d.y>t.y?d:t}("object"!=typeof a||(d=cm(a,i,n,r),((t,e)=>{const i=e[0],n=e[1],r=t.x,s=t.y;return i.x<=r&&r<=i.x+n.x&&i.y<=s&&s<=i.y+n.y})(d,r)))&&s.pointSet.add().Rd(void 0!==h?h:Ra.Circle).Od(u||0).$d(c||5).Ld(l||o.sparkPointChartFillStyle).Pd((new Mc).appendSample(d),{x:"x",y:"y"})},mm=(t,e,i,n,r,s)=>{const{axis:o,start:a,end:l,fillStyle:h,strokeStyle:c}=t;let u=En(so,ro),d=En(so,ro);"x"===o&&(u=cm({x:a,y:so},e,i,n),d=cm({x:l,y:ro},e,i,n)),"y"===o&&(u=cm({x:so,y:a},e,i,n),d=cm({x:ro,y:l},e,i,n));const f=n[0],g=n[1],p=Qr(u.x,f.x,f.x+g.x),m=Qr(u.y,f.y,f.y+g.y),y=Qr(d.x,f.x,f.x+g.x),v=Qr(d.y,f.y,f.y+g.y);r.rect.add().Ql(p).Kl(m).X(En(y-p,v-m)).th(h||s.sparkChartBandFillStyle).qe(c||s.sparkChartBandStrokeStyle).qe(Br)},ym=(t,e,i,n,r,s,o)=>{const{axis:a,value:l,strokeStyle:h}=t,c=l||0,u=e.y,d=i.y,f=e.x,g=i.x,p=[];if("y"===a&&u<=c&&c<=d){const t=cm(En(f,c),{x:f,y:u},n,r),e=cm(En(g,c),{x:f,y:u},n,r);p.push([t,e])}if("x"===a&&f<=c&&c<=g){const t=cm(En(c,u),{x:f,y:u},n,r),e=cm(En(c,d),{x:f,y:u},n,r);p.push([t,e])}p.length>0&&s.line.add().Ah(h||o.sparkChartConstantLineStrokeStyle).ph(p[0][0]).yh(p[0][1])},vm=(t,e,i,n,r,s)=>{const{strokeStyle:o,data:a,markers:l}=t,h=a.length;h>1e4&&r.La&&jr.console.warn("LightningChart JS warning: SparkLineChart has over 10000 data points. This feature is not designed for large data sets which might show as performance drop. If you want to request improvements to this, contact https://lightningchart.com/js-charts/docs/contact. To disable this warning, use LightningChartOptions.warning property (refer to API documentation for more detail).");let c=ro,u=so,d=ro,f=so;for(let m=0;m<h;m+=1){const t=a[m];c=Math.min(c,t.x),u=Math.max(u,t.x),d=Math.min(d,t.y),f=Math.max(f,t.y)}const g={x:u-c,y:f-d},p=a.map((t=>cm(t,{x:c,y:d},g,i)));e.lineSet.add().Fi(s).Ah(o||n.sparkLineChartStrokeStyle).Ni().xc(p),l&&gm(l,p,{x:c,y:d},{x:u,y:f},g,i,e,n)},xm=(t,e,i,n,r,s)=>{const{data:o,fillStyle:a,strokeStyle:l,threshold:h,winFillStyle:c,lossFillStyle:u}=t,d=t.barSize||1,f=t.gap||1,g=t.winLoss,p=h||0,m=f/d*1;let y=ro,v=so;if(g)y=-1,v=1;else for(const S of o)y=Math.min(y,S),v=Math.max(v,S);const x={x:0,y:g?-1:Math.min(0,y)},b={x:1*o.length+(o.length-1)*m,y:g?2:Math.max(v,1e-5)};o.map(((t,e)=>{const n={x:1*(e+1)+e*m,y:g?t>=p?1:0:t},r=cm({x:1*e+e*m,y:g?t>=p?0:-1:0},x,b,i),s=cm(n,x,b,i);return{value:t,position:r,width:s.x-r.x,height:s.y-r.y}})).forEach((t=>{var i;e.rect.add().Fi(s).eh(t.position).tc(t.height).ql(t.width).th((i=t.value,g?(i>=p?c:u)||n.sparkBarChartFillStyle:a||n.sparkBarChartFillStyle)).qe(l||n.sparkBarChartStrokeStyle)}))},bm=(t,e,i,n,r,s)=>{const{data:o,fillStyle:a,strokeStyle:l,markers:h}=t,c=o.length;c>1e4&&r.La&&jr.console.warn("LightningChart JS warning: SparkAreaChart has over 10000 data points. This feature is not designed for large data sets which might show as performance drop. If you want to request improvements to this, contact https://lightningchart.com/js-charts/docs/contact. To disable this warning, use LightningChartOptions.warning property (refer to API documentation for more detail).");let u=ro,d=so,f=ro,g=so;for(let v=0;v<c;v+=1){const t=o[v];u=Math.min(u,t.x),d=Math.max(d,t.x),f=Math.min(f,t.y),g=Math.max(g,t.y)}const p={x:d-u,y:g-f},m=[],y=[];for(const v of o){const t=kn(v.x,v.y,f);m.push(um(t,{x:u,y:f},p,i)),y.push(cm(v,{x:u,y:f},p,i))}e.junction.add().Fi(s).Ni().xc(m).th(a||n.sparkAreaChartFillStyle),e.lineSet.add().Fi(s).Ni().xc(y).Ah(l||n.sparkAreaChartStrokeStyle),h&&gm(h,y,{x:u,y:f},{x:d,y:g},p,i,e,n)},Sm=(t,e,i,n,r,s)=>{const{data:o,strokeStyle:a}=t,l=o.map((t=>"number"==typeof t?t:t.value)),h=o.map((t=>"object"==typeof t?t.fillStyle:void 0)),c=l.reduce(((t,e)=>t+e),0),u=cm(En(50,50),{x:0,y:0},{x:100,y:100},i),d=i[1],f=d.x<=d.y?d.x/2:d.y/2;let g=90;l.forEach(((t,i)=>{const r=t/c*360;e.arc.add().Fi(s).eh(u).Kc(f).iu(0).Qc(g).yh(g+r).th(h[i]||Is(n.sparkPieChartFillStyle,i)).qe(a||n.sparkPieChartStrokeStyle),g+=r}))},Am=(t,e)=>{const i=(t=>{const e=Vn(0,0,0),i=Vn(255,255,255),n=new aa({color:t.uiStrokeColorContrastHigh}),r=new aa({color:t.uiStrokeColorContrastMedium}),s=new aa({color:t.uiStrokeColorContrastLow}),o=new Ya({family:t.fontFamily,weight:"normal",style:"normal"}),a=t.isDark?Vn(0,0,0,255):void 0,l=o.setSize(18*t.fontScaler),h=o.setSize(16*t.fontScaler),c=o.setSize(14*t.fontScaler),u=o.setSize(10*t.fontScaler),d=o.withMutations((e=>e.set("size",14*t.fontScaler).set("weight","bold"))),f=o.setSize(13*t.fontScaler),g=new tl({thickness:2,fillStyle:s}),p=new aa({color:t.dataHighlightOverlayColor}),m=new tl({thickness:2,fillStyle:t.legendBackgroundBorderFillStyle}),y=t.dataColorPalette.map((t=>new aa({color:t.stroke}))),v=t=>y[t%y.length],x=y.map((t=>new tl({thickness:2,fillStyle:t}))),b=t=>x[t%x.length],S=t.dataColorPalette.map((t=>new aa({color:t.border}))).map((t=>new tl({thickness:2,fillStyle:t}))),A=t=>S[t%S.length],E=t.dataColorPalette.map((t=>{const e=t.area;return new Jn({angle:0,stops:[{offset:0,color:e.setA(0)},{offset:.8,color:e}]})})),w=t=>E[t%E.length],k=t.dataColorPaletteInverted.map((t=>{const e=t.area;return new Jn({angle:180,stops:[{offset:0,color:e.setA(0)},{offset:.8,color:e}]})})),C=t=>k[t%k.length],M=t.dataColorPalette.map((t=>{const e=t.area;return new Jn({angle:180,stops:[{color:ur(e,Vn(255,255,255,e.getA()),.3),offset:0},{color:e,offset:.5},{color:ur(e,Vn(0,0,0,e.getA()),.3),offset:1}]})})),T=t=>M[t%M.length],P=t.dataColorPaletteInverted.map((t=>new aa({color:t.border}))).map((t=>new tl({thickness:2,fillStyle:t}))),F=t=>P[t%P.length],L=new aa({color:t.dataColorPositive}),R=new aa({color:t.dataColorNegative}),B=new tl({thickness:1,fillStyle:new aa({color:t.dataStrokeColorContrastHigh.setA(50)})}),z=new tl({thickness:2,fillStyle:t.axisLineFillStyle}),I=new aa({color:Vn(0,0,0,1)}),D=new tl({thickness:1,fillStyle:t.axisGridMajorFillStyle}),V=new tl({thickness:1,fillStyle:t.axisTickMajorFillStyle}),_=c,N=t.axisLabelMajorFillStyle,O=new tl({thickness:1,fillStyle:t.axisGridMinorFillStyle}),H=new tl({thickness:1,fillStyle:t.axisTickMinorFillStyle}),U=u,Y=N,G=Tu,j=new Cu({gridStrokeStyle:D,tickStyle:V,tickLength:7,tickPadding:5,labelFont:_,labelFillStyle:N,labelShadow:a}),X=new Cu({gridStrokeStyle:O,tickStyle:H,tickLength:4,tickPadding:10,labelFont:U,labelFillStyle:Y,labelShadow:a}),W=new ad({extremeTickStyle:G,majorTickStyle:j,minorTickStyle:X.setLabelFillStyle(na)}),Z=new $u({greatTickStyle:Tu,majorTickStyle:j,minorTickStyle:X}),q=Z,J=Z,K=new Nu({majorTickStyle:j,minorTickStyle:X}),Q=new aa({color:t.dataHighlightOverlayColor}),$=new tl({thickness:1,fillStyle:r}),tt=new tl({thickness:2,fillStyle:r}),et=t=>new Qa.Triangulated({shape:"sphere",size:10,fillStyle:y[t%y.length]}),it=y[0],nt=t.uiTextFillStyle,rt=t.legendBackgroundFillStyle,st=new tl({thickness:1,fillStyle:t.legendBackgroundBorderFillStyle}),ot=Fs(t.legendButtonDefaultColor),at=Fs(t.isDark?Vn(70,70,70,255):Vn(170,170,170,255)),lt=new aa({color:t.isDark?Vn(70,70,70,255):Vn(170,170,170,255)}),ht=new tl({thickness:1,fillStyle:n}),ct=new rl({thickness:1,fillStyle:t.cursorGridFillStyle,pattern:il.DashedEqual,patternScale:3}),ut=new tl({thickness:1,fillStyle:t.cursorGridFillStyle}),dt=t.zoomBandChartDefocusOverlayFillStyle,ft=new tl({thickness:2,fillStyle:new aa({color:t.zoomBandChartSplitterColor})}),gt=new aa({color:t.uiBackgroundColor}),pt=new tl({thickness:1,fillStyle:new aa({color:t.isDark?i:e})});let mt={isDark:t.isDark,effect:t.effect,effectsText:t.effectsText,effectsDashboardSplitters:t.effectsDashboardSplitters,lcjsBackgroundFillStyle:t.lcjsBackgroundFillStyle,lcjsBackgroundStrokeStyle:Br,highlightColorOffset:t.highlightColorOffset,highlightColorOffsetAxisOverlay:t.highlightColorOffsetAxisOverlay,dashboardSplitterStyle:new tl({thickness:4,fillStyle:t.dashboardSplitterFillStyle}),panelPadding:7,chartXYBackgroundFillStyle:t.panelBackgroundFillStyle,chartXYBackgroundStrokeStyle:Br,chartXYTitleFont:l,chartXYTitleFillStyle:t.titleFillStyle,chartXYTitleShadow:a,chartXYTitleMargin:5,chartXYSeriesBackgroundFillStyle:t.seriesBackgroundFillStyle,chartXYSeriesBackgroundStrokeStyle:g,chartXYZoomingRectangleFillStyle:p,chartXYZoomingRectangleStrokeStyle:m,lineSeriesStrokeStyle:b,pointLineSeriesStrokeStyle:b,pointLineSeriesFillStyle:v,pointSeriesFillStyle:v,pointSeriesStrokeStyle:pt,ellipseSeriesFillStyle:v,ellipseSeriesStrokeStyle:b,polygonSeriesFillStyle:v,polygonSeriesStrokeStyle:b,rectangleSeriesFillStyle:v,rectangleSeriesStrokeStyle:Br,segmentSeriesStrokeStyle:b,boxSeriesBodyFillStyle:v(0),boxSeriesBodyStrokeStyle:Br,boxSeriesStrokeStyle:new tl({thickness:1,fillStyle:y[0]}),boxSeriesMedianStrokeStyle:new tl({thickness:1,fillStyle:new aa({color:e})}),ohlcCandleThicknessPixels:5,ohlcCandleBodyFillStylePositive:L,ohlcCandleBodyFillStyleNegative:R,ohlcCandleTailStrokeStylePositive:new tl({thickness:1,fillStyle:new aa({color:t.uiStrokeColorContrastHigh})}),ohlcCandleTailStrokeStyleNegative:new tl({thickness:1,fillStyle:new aa({color:t.uiStrokeColorContrastHigh})}),ohlcBarThicknessPixels:10,ohlcBarStrokeStylePositive:new tl({thickness:2,fillStyle:L}),ohlcBarStrokeStyleNegative:new tl({thickness:2,fillStyle:R}),heatmapGridSeriesFillStyle:v,heatmapGridSeriesWireframeStyle:B,heatmapScrollingGridSeriesFillStyle:v,heatmapScrollingGridSeriesWireframeStyle:B,areaRangeSeriesFillStyle:w,areaRangeSeriesStrokeStyle:A,areaRangeSeriesFillStyleInverted:C,areaRangeSeriesStrokeStyleInverted:F,areaSeriesBipolarHighFillStyle:w,areaSeriesBipolarHighStrokeStyle:A,areaSeriesBipolarLowFillStyle:C,areaSeriesBipolarLowStrokeStyle:F,areaSeriesPositiveFillStyle:w,areaSeriesPositiveStrokeStyle:A,areaSeriesNegativeFillStyle:C,areaSeriesNegativeStrokeStyle:F,xAxisTitleFont:h,xAxisTitleFillStyle:t.axisTitleFillStyle,xAxisStrokeStyle:z,xAxisOverlayStyle:I,xAxisZoomingBandFillStyle:p,xAxisZoomingBandStrokeStyle:Br,xAxisNumericTicks:W,xAxisDateTimeTicks:q,xAxisTimeTicks:K,yAxisTitleFont:h,yAxisTitleFillStyle:t.axisTitleFillStyle,yAxisStrokeStyle:z,yAxisOverlayStyle:I,yAxisZoomingBandFillStyle:p,yAxisZoomingBandStrokeStyle:Br,yAxisNumericTicks:W,yAxisDateTimeTicks:J,yAxisTimeTicks:K,bandFillStyle:Q,bandStrokeStyle:$,constantLineStrokeStyle:tt,barChartBackgroundFillStyle:t.panelBackgroundFillStyle,barChartBackgroundStrokeStyle:Br,barChartTitleFont:l,barChartTitleFillStyle:t.titleFillStyle,barChartTitleShadow:a,barChartSeriesBackgroundFillStyle:na,barChartSeriesBackgroundStrokeStyle:Br,barChartBarFillStyle:v,barChartBarStrokeStyle:new tl({thickness:1,fillStyle:s}),barChartValueAxisTitleFont:h,barChartValueAxisTitleFillStyle:t.axisTitleFillStyle,barChartValueAxisStrokeStyle:z,barChartValueAxisTicks:W.setMajorTickStyle((t=>t.setGridStrokeStyle(Br))).setMinorTickStyle((t=>t.setGridStrokeStyle(Br))),barChartCategoryAxisTitleFont:h,barChartCategoryAxisTitleFillStyle:t.axisTitleFillStyle,barChartCategoryAxisStrokeStyle:z,barChartCategoryLabels:{formatter:(t,e)=>t,labelFillStyle:W.majorTickStyle.labelFillStyle,labelFont:W.majorTickStyle.labelFont,labelMargin:8,labelRotation:0,tickStyle:W.majorTickStyle.tickStyle,tickLength:0,labelShadow:a},barChartValueLabelsAfterBars:{position:"after-bar",formatter:t=>t.chart.valueAxis.formatValue(t.value),labelFillStyle:W.majorTickStyle.labelFillStyle,labelFont:W.majorTickStyle.labelFont,labelMargin:8,labelRotation:0,displayStackedIndividuals:!1,displayStackedSum:!0,labelShadow:a},barChartValueLabelsInsideBars:{position:"inside-bar",formatter:t=>t.chart.valueAxis.formatValue(t.value),labelFillStyle:W.majorTickStyle.labelFillStyle,labelFont:W.majorTickStyle.labelFont,labelMargin:8,labelRotation:0,displayStackedIndividuals:!1,displayStackedSum:!0,labelShadow:a},barChartCornerRadius:10,chart3DBackgroundFillStyle:t.panelBackgroundFillStyle,chart3DBackgroundStrokeStyle:Br,chart3DTitleFont:l,chart3DTitleFillStyle:t.titleFillStyle,chart3DTitleShadow:a,chart3DSeriesBackgroundFillStyle:t.seriesBackgroundFillStyle,chart3DSeriesBackgroundStrokeStyle:g,chart3DBoundingBoxStrokeStyle:Br,xAxis3DTitleFont:h,xAxis3DTitleFillStyle:t.axisTitleFillStyle,xAxis3DStrokeStyle:z,xAxis3DNumericTicks:W,xAxis3DDateTimeTicks:Z,xAxis3DTimeTicks:K,yAxis3DTitleFont:h,yAxis3DTitleFillStyle:t.axisTitleFillStyle,yAxis3DStrokeStyle:z,yAxis3DNumericTicks:W,yAxis3DDateTimeTicks:Z,yAxis3DTimeTicks:K,zAxis3DTitleFont:h,zAxis3DTitleFillStyle:t.axisTitleFillStyle,zAxis3DStrokeStyle:z,zAxis3DNumericTicks:W,zAxis3DDateTimeTicks:Z,zAxis3DTimeTicks:K,lineSeries3DStrokeStyle:b,pointLineSeries3DStrokeStyle:b,pointLineSeries3DPointStyle:et,pointSeries3DPointStyle:et,pointCloudSeries3DPointStyle:t=>new Qa.Pixelated({size:5,fillStyle:y[t%y.length]}),surfaceGridSeries3DFillStyle:v,surfaceGridSeries3DWireframeStyle:B,surfaceScrollingGridSeries3DFillStyle:v,surfaceScrollingGridSeries3DWireframeStyle:B,boxSeries3DFillStyle:v,meshModel3DFillStyle:v(0),polarChartBackgroundFillStyle:t.panelBackgroundFillStyle,polarChartBackgroundStrokeStyle:Br,polarChartTitleFont:l,polarChartTitleFillStyle:t.titleFillStyle,polarChartTitleShadow:a,polarChartSeriesBackgroundFillStyle:t.seriesBackgroundFillStyle,polarChartSeriesBackgroundStrokeStyle:g,polarSectorFillStyle:Q,polarSectorStrokeStyle:$,polarAmplitudeAxisTitleFont:h,polarAmplitudeAxisTitleFillStyle:t.axisTitleFillStyle,polarAmplitudeAxisTitleShadow:a,polarAmplitudeAxisStrokeStyle:z,polarAmplitudeAxisNumericTicks:W,polarAmplitudeAxisDateTimeTicks:Z,polarAmplitudeAxisTimeTicks:K,polarRadialAxisTitleFont:h,polarRadialAxisTitleFillStyle:t.axisTitleFillStyle,polarRadialAxisStrokeStyle:z,polarRadialAxisTickStyle:j.setTickPadding(10),polarRadialAxisMarginAfterTicks:0,polarLineSeriesStrokeStyle:b,polarPointLineSeriesFillStyle:v,polarPointLineSeriesStrokeStyle:b,polarPointSeriesFillStyle:v,polarPointSeriesStrokeStyle:pt,polarPolygonSeriesFillStyle:T,polarPolygonSeriesStrokeStyle:A,polarAreaSeriesFillStyle:T,polarAreaSeriesStrokeStyle:A,polarHeatmapSeriesFillStyle:v,mapChartBackgroundFillStyle:t.panelBackgroundFillStyle,mapChartBackgroundStrokeStyle:Br,mapChartTitleFont:l,mapChartTitleFillStyle:t.titleFillStyle,mapChartTitleShadow:a,mapChartFillStyle:it,mapChartStrokeStyle:new tl({thickness:1,fillStyle:new aa({color:t.dataStrokeColorContrastMedium})}),mapChartOutlierRegionFillStyle:na,mapChartOutlierRegionStrokeStyle:new tl({thickness:1,fillStyle:s}),mapChartSeparateRegionFillStyle:rt,mapChartSeparateRegionStrokeStyle:st,dataGridBackgroundFillStyle:t.panelBackgroundFillStyle,dataGridBackgroundStrokeStyle:Br,dataGridTitleFont:l,dataGridTitleFillStyle:t.titleFillStyle,dataGridTitleShadow:a,dataGridTextFont:c,dataGridTextFillStyle:it,dataGridCellBackgroundFillStyle:new aa({color:t.uiBackgroundColor}),dataGridBorderStrokeStyle:new tl({thickness:.4,fillStyle:new aa({color:t.uiBackgroundBorderColor})}),dataGridScrollBarBackgroundFillStyle:t.seriesBackgroundFillStyle,dataGridScrollBarBackgroundStrokeStyle:Br,dataGridScrollBarFillStyle:t.seriesBackgroundFillStyle,dataGridScrollBarStrokeStyle:st,dataGridScrollBarButtonFillStyle:t.seriesBackgroundFillStyle,dataGridScrollBarButtonStrokeStyle:st,dataGridScrollBarButtonArrowFillStyle:new aa({color:t.legendButtonDefaultColor}),dataGridScrollBarThickness:20,dataGridCellPadding:5,sparkLineChartStrokeStyle:b(0),sparkPointChartFillStyle:v(0),sparkBarChartFillStyle:v(0),sparkBarChartStrokeStyle:A(0),sparkAreaChartFillStyle:w(0),sparkAreaChartStrokeStyle:A(0),sparkPieChartFillStyle:v,sparkPieChartStrokeStyle:st,sparkChartBandFillStyle:Q,sparkChartBandStrokeStyle:$,sparkChartConstantLineStrokeStyle:tt,dataGridTextShadow:a,textSeriesShadow:a,spiderChartBackgroundFillStyle:t.panelBackgroundFillStyle,spiderChartBackgroundStrokeStyle:Br,spiderChartTitleFont:l,spiderChartTitleFillStyle:t.titleFillStyle,spiderChartTitleShadow:a,spiderChartSeriesBackgroundFillStyle:t.seriesBackgroundFillStyle,spiderChartSeriesBackgroundStrokeStyle:g,spiderChartWebStyle:new tl({thickness:2,fillStyle:s}),spiderChartScaleLabelFillStyle:t.axisLabelMajorFillStyle,spiderChartScaleLabelFont:c,spiderChartAxisLabelFillStyle:t.axisTitleFillStyle,spiderChartAxisLabelFont:h,spiderChartAxisStrokeStyle:new tl({thickness:2,fillStyle:r}),spiderChartAxisNibStrokeStyle:new tl({thickness:2,fillStyle:n}),spiderSeriesFillStyle:T,spiderSeriesStrokeStyle:A,spiderSeriesPointFillStyle:v,spiderChartScaleLabelShadow:a,pieChartBackgroundFillStyle:t.panelBackgroundFillStyle,pieChartBackgroundStrokeStyle:Br,pieChartTitleFont:l,pieChartTitleFillStyle:t.titleFillStyle,pieChartTitleShadow:a,pieChartSliceFillStylePalette:v,pieChartSliceStrokeStyle:st,pieChartSliceLabelFont:f,pieChartSliceLabelFillStyle:t.uiTextFillStyle,pieChartConnectorStrokeStyle:ht,pieChartSliceLabelShadow:a,funnelChartBackgroundFillStyle:t.panelBackgroundFillStyle,funnelChartBackgroundStrokeStyle:Br,funnelChartTitleFont:l,funnelChartTitleFillStyle:t.titleFillStyle,funnelChartTitleShadow:a,funnelChartSliceFillStylePalette:v,funnelChartSliceStrokeStyle:st,funnelChartSliceLabelFont:f,funnelChartSliceLabelFillStyle:t.uiTextFillStyle,funnelChartConnectorStrokeStyle:ht,funnelChartSliceLabelShadow:a,pyramidChartBackgroundFillStyle:t.panelBackgroundFillStyle,pyramidChartBackgroundStrokeStyle:Br,pyramidChartTitleFont:l,pyramidChartTitleFillStyle:t.titleFillStyle,pyramidChartTitleShadow:a,pyramidChartSliceFillStylePalette:v,pyramidChartSliceStrokeStyle:st,pyramidChartSliceLabelFont:f,pyramidChartSliceLabelFillStyle:t.uiTextFillStyle,pyramidChartConnectorStrokeStyle:ht,gaugeChartValueLabelFont:f.setSize(60),gaugeChartUnitLabelFont:f.setSize(40),gaugeChartTickFont:f.setSize(30),gaugeChartBarThickness:40,gaugeChartValueIndicatorThickness:10,gaugeChartRoundedEdges:!0,gaugeChartNeedleLength:40,gaugeChartStartAngle:225,gaugeChartEndAngle:-45,gaugeChartNeedleAlignment:0,gaugeChartGapBetweenBarAndValueIndicators:10,gaugeChartTickFillStyle:t.uiTextFillStyle,gaugeChartBarGradient:!0,gaugeChartBarStrokeStyle:Br,gaugeChartUnitLabelFillStyle:t.uiTextFillStyle,gaugeChartValueLabelFillStyle:t.uiTextFillStyle,gaugeChartBarColor:i,gaugeChartGlowColor:Vn(255,255,64),gaugeChartNeedleFillStyle:new aa({color:i}),gaugeChartNeedleThickness:10,gaugeChartNeedleStrokeStyle:new tl({thickness:2,fillStyle:new aa({color:e})}),pyramidChartSliceLabelShadow:a,gaugeChartBackgroundFillStyle:t.panelBackgroundFillStyle,gaugeChartBackgroundStrokeStyle:Br,gaugeChartTitleFont:l,gaugeChartTitleFillStyle:t.titleFillStyle,gaugeChartTitleShadow:a,treeMapChartBackgroundFillStyle:t.panelBackgroundFillStyle,treeMapChartBackgroundStrokeStyle:Br,treeMapChartParentColor:t.treeMapChartParentColor,treeMapChartNodeColors:t.treeMapChartNodeColors,treeMapChartNodeStrokeStyle:new tl({thickness:1,fillStyle:new aa({color:_n("000")})}),treeMapChartTitleFillStyle:t.titleFillStyle,treeMapChartTitleShadow:a,treeMapChartTitleFont:l,treeMapChartPathLabelFillStyle:nt,treeMapChartPathLabelFont:f,treeMapChartLabelHeaderFillStyle:t.treeMapChartLabelHeaderFillStyle,treeMapChartLabelHeaderFont:l,treeMapChartLabelFillStyle:t.treeMapChartLabelFillStyle,treeMapChartLabelFont:f,treeMapChartCornerRadius:8,uiPanelBackgroundFillStyle:t.panelBackgroundFillStyle,uiPanelBackgroundStrokeStyle:Br,zoomBandChartDefocusOverlayFillStyle:dt,zoomBandChartSplitterStrokeStyle:ft,zoomBandChartKnobFillStyle:t.zoomBandChartKnobFillStyle,zoomBandChartKnobSize:t.zoomBandChartKnobSize,onScreenMenuBackgroundColor:Vn(254,204,0,.7),parallelCoordinateChartBackgroundFillStyle:t.panelBackgroundFillStyle,parallelCoordinateChartBackgroundStrokeStyle:Br,parallelCoordinateChartTitleFont:l,parallelCoordinateChartTitleFillStyle:t.titleFillStyle,parallelCoordinateChartTitleShadow:a,parallelCoordinateChartSeriesBackgroundFillStyle:t.seriesBackgroundFillStyle,parallelCoordinateChartSeriesBackgroundStrokeStyle:g,parallelCoordinateChartSeriesColor:e=>t.dataColorPalette[e%t.dataColorPalette.length].stroke,parallelCoordinateChartSeriesColorUnselected:t.dataColorUnselected,parallelCoordinateChartSeriesLineThickness:2,parallelCoordinateChartPointedSeriesLineStyle:x[0],parallelCoordinateAxisTitleFont:h,parallelCoordinateAxisTitleFillStyle:t.axisTitleFillStyle,parallelCoordinateAxisNumericTicks:W,parallelCoordinateAxisDateTimeTicks:Z,parallelCoordinateAxisTimeTicks:K,parallelCoordinateAxisStrokeStyle:z,parallelCoordinateAxisRangeSelectorFillStyle:t.seriesBackgroundFillStyle,parallelCoordinateAxisRangeSelectorStrokeStyle:st,parallelCoordinateAxisBackgroundFillStyle:new Jn({angle:90,stops:[{offset:0,color:t.isDark?Vn(0,0,0,0):Vn(255,255,255,0)},{offset:1,color:t.isDark?Vn(0,0,0,255):Vn(255,255,255,180)}]}),uiButtonFillStyle:ot,uiButtonFillStyleHidden:at,uiButtonStrokeStyle:t.isDark?Br:new tl({thickness:1,fillStyle:new aa({color:e})}),uiButtonSize:10,uiBackgroundFillStyle:rt,uiBackgroundStrokeStyle:st,uiTextFillStyle:nt,uiTextFillStyleHidden:lt,uiTextFont:f,uiTextPadding:5,legendTitleFillStyle:nt,legendTitleFont:d,legendBorderRadius:5,legendPadding:5,legendLUTLabelMargin:7,legendLUTUnitLabelMargin:7,legendLUTCornerRadius:5,legendLUTLengthHorizontal:160,legendLUTThicknessHorizontal:15,legendLUTLengthVertical:140,legendLUTThicknessVertical:25,cursorTickMarkerXBackgroundFillStyle:rt,cursorTickMarkerXBackgroundStrokeStyle:st,cursorTickMarkerXTextFillStyle:nt,cursorTickMarkerXTextFont:f,cursorTickMarkerYBackgroundFillStyle:rt,cursorTickMarkerYBackgroundStrokeStyle:st,cursorTickMarkerYTextFillStyle:nt,cursorTickMarkerYTextFont:f,cursorPointMarkerSize:{x:9,y:9},cursorPointMarkerShape:Ra.Circle,cursorPointMarkerFillStyle:ct.getFillStyle(),cursorPointMarkerStrokeStyle:Br,cursorDynamicBehavior:{pointMarkerFill:n=>new aa({color:ur(n,t.isDark?e:i,.2,230)}),pointMarkerStroke:n=>new tl({thickness:2,fillStyle:new aa({color:ur(n,t.isDark?i:e,t.isDark?.8:.6,204)})}),pointMarkerSize:t=>({x:t+3,y:t+3})},cursorResultTableFillStyle:t.resultTableBackgroundFillStyle,cursorResultTableStrokeStyle:new tl({thickness:1,fillStyle:t.resultTableBackgroundBorderFillStyle}),cursorResultTableTextFillStyle:nt,cursorResultTableTextFont:f,cursorResultTableHeaderBackgroundFillStyle:t.resultTableHeaderBackgroundFillStyle,cursorResultTableBorderRadius:5,cursorGridStrokeStyleX:ct,cursorGridStrokeStyleY:ct,cursor3DGridStrokeStyleX:ut,cursor3DGridStrokeStyleY:ut,cursor3DGridStrokeStyleZ:ut,cursor3DTickStrokeStyleX:j.tickStyle,cursor3DTickStrokeStyleY:j.tickStyle,cursor3DTickStrokeStyleZ:j.tickStyle,cursor3DTickLabelFillStyleX:nt,cursor3DTickLabelFillStyleY:nt,cursor3DTickLabelFillStyleZ:nt,cursor3DTickLabelFontX:f,cursor3DTickLabelFontY:f,cursor3DTickLabelFontZ:f,cursor3DTickLabelBackgroundFillStyleX:gt,cursor3DTickLabelBackgroundFillStyleY:gt,cursor3DTickLabelBackgroundFillStyleZ:gt,cursor3DTickLabelBackgroundStrokeStyleX:st,cursor3DTickLabelBackgroundStrokeStyleY:st,cursor3DTickLabelBackgroundStrokeStyleZ:st,cursor3DTickLabelPaddingX:{left:4,right:4,top:4,bottom:4},cursor3DTickLabelPaddingY:{left:4,right:4,top:4,bottom:4},cursor3DTickLabelPaddingZ:{left:4,right:4,top:4,bottom:4}};return t.overrideThemeProperties&&(mt={...mt,...t.overrideThemeProperties}),mt})(t),n={...e,header1Font:i.xAxisTitleFont,header2Font:i.xAxisNumericTicks.getMajorTickStyle().labelFont,header3Font:i.uiTextFont,mainDataColor:t.dataColorPalette[0].stroke};return{...i,examples:n}},Em="Segoe UI, -apple-system, Verdana, Helvetica",wm=(t,e)=>{const i=new Image;i.crossOrigin="*";const n="".concat(t,"/").concat(e);return i.src=n,i},km=(t,e,i)=>n=>{const r=!0===t?e[n%e.length].stroke:ur(e[n%e.length].stroke,Vn(255,255,255),.5);return new Wn({stops:[{color:ur(r,Vn(255,255,255),.5*i).setA(100),offset:0},{color:r.setA(100),offset:.5},{color:ur(r,Vn(30,30,30),.5*i).setA(100),offset:1}]})},Cm=(t,e,i)=>n=>{const r=!0===t?e[n%e.length].stroke:ur(e[n%e.length].stroke,Vn(255,255,255),.2);return new Wn({stops:[{color:ur(r,Vn(255,255,255),.2*i),offset:0},{color:r,offset:.5},{color:ur(r,Vn(0,0,0),.2*i),offset:1}]})},Mm=(t,e,i)=>n=>{const r=!0===t?e[n%e.length].stroke:ur(e[n%e.length].stroke,Vn(255,255,255),.2);return new Jn({angle:90,stops:[{color:ur(r,Vn(255,255,255),.5*i),offset:0},{color:r,offset:.35},{color:ur(r,Vn(30,30,30),.5*i),offset:1}]})},Tm=(t,e,i)=>(()=>{const i=new Map;return n=>{const r=i.get(n);if(r)return r;const s=(i=>{const n=!0===t?e[i%e.length].stroke:ur(e[i%e.length].stroke,Vn(255,255,255),.3);return new Jn({angle:90,stops:[{color:ur(n,Vn(255,255,255),.5),offset:0},{color:n,offset:.35},{color:ur(n,Vn(30,30,30),.5),offset:1}]})})(n);return i.set(n,s),s}})(),Pm=Ys((()=>{const t=Vn(255,255,255),e=new aa({color:t}),i=!0,n=new cl({spread:1,blur:9,offset:{x:0,y:0},color:Vn(0,0,0,150)}),r=new Wn({position:{x:.8,y:.8},extent:Gn.farthestCorner,shape:Yn.ellipse,stops:[{offset:0,color:Vn(50,51,52)},{offset:.5,color:Vn(14,15,16)},{offset:1,color:Vn(0,0,0)}]}),s=new aa({color:Vn(45,45,45)}),o=new Wn({position:{x:.5,y:.5},extent:Gn.farthestCorner,shape:Yn.circle,stops:[{offset:0,color:Vn(120,120,120,100)},{offset:1,color:Vn(0,0,0,50)}]}),a=new Wn({position:{x:.5,y:.5},extent:Gn.farthestCorner,shape:Yn.circle,stops:[{offset:0,color:Vn(30,30,30,200)},{offset:1,color:Vn(0,0,0,255)}]}),l=Em,h=new aa({color:Vn(255,255,220)}),c=new aa({color:Vn(255,255,166)}),u=new aa({color:Vn(255,255,220)}),d=new aa({color:Vn(255,255,200)}),f=d,g=f,p=new Jn({angle:45,stops:[{offset:0,color:Vn(230,230,230)},{offset:1,color:Vn(150,150,150)}]}),m=new aa({color:Vn(220,220,220)}),y=new aa({color:Vn(200,200,200,50)}),v=new aa({color:Vn(200,200,200,150)}),x=new aa({color:Vn(200,200,200,20)}),b=new aa({color:Vn(220,220,220)}),S=new Jn({angle:0,stops:[{offset:0,color:Vn(10,10,10,220)},{offset:1,color:Vn(30,30,30,220)}]}),A=e,E=Vn(255,255,200),w=new aa({color:Vn(0,0,0,224)}),k=new aa({color:Vn(166,166,166)}),C=new aa({color:Vn(49,53,58)}),M=Vn(20,20,20),T=Vn(0,0,0),P=t,F=Vn(150,150,150),L=Vn(50,50,50),R=Vn(50,50,50),B=Vn(100,100,100),z=Vn(200,200,200),I=[Vn(255,255,91,255),Vn(255,205,91,255),Vn(255,155,91,255),Vn(255,196,188,255),Vn(255,148,184,255),Vn(219,148,198,255),Vn(235,196,224,255),Vn(169,148,198,255),Vn(148,226,198,255),Vn(148,255,176,255),Vn(180,255,165,255)].map((t=>({stroke:t,border:t,area:t.setA(180)}))),D=t.setA(20),V=Vn(176,255,157,255),_=Vn(255,112,76,255),N={mapChartFillStyle:new Jn({angle:135,stops:[{color:Vn(255,255,91,255),offset:0},{color:Vn(255,155,91,255),offset:1}]}),spiderSeriesFillStyle:km(i,I,.5),pieChartSliceFillStylePalette:Cm(i,I,1),funnelChartSliceFillStylePalette:Mm(i,I,1),pyramidChartSliceFillStylePalette:Mm(i,I,1),rectangleSeriesFillStyle:Tm(i,I),gaugeChartBarColor:Vn(255,255,91,255),gaugeChartGlowColor:Vn(255,255,91,64)},O=new aa({color:Vn(176,255,157,255)}),H=new aa({color:Vn(255,146,146,255)}),U=new aa({color:Vn(176,255,157,255)}),Y=new aa({color:Vn(230,63,63,255)}),G=new aa({color:Vn(176,255,157,120)}),j=new aa({color:Vn(229,63,63,180)}),X=new aa({color:Vn(27,37,36,255)}),W=new aa({color:Vn(62,27,27,255)}),Z=[Vn(255,0,0),Vn(255,255,0),Vn(0,255,0)],q=[Vn(10,10,255),Vn(10,190,255),Vn(251,255,0),Vn(255,38,0)],J=[Vn(255,255,0),Vn(255,204,0),Vn(255,128,0),Vn(255,0,0)],K=[Vn(0,0,0),Vn(167,4,69,255),Vn(255,0,0),Vn(252,252,168,255)],Q=new Wn({stops:[{color:Vn(61,61,80,100),offset:0},{color:Vn(44,44,55,30),offset:1}]}),$=new aa({color:Vn(148,148,198,255)}),tt=G.getColor().setA(255),et=Vn(100,100,100),it=[Vn(255,241,149,200),Vn(255,230,65,200),Vn(238,211,32,200),Vn(238,176,32,200),Vn(255,159,13,200),Vn(254,120,37,200),Vn(253,91,56,200),Vn(253,75,84,200),Vn(254,95,124,200),Vn(227,56,160,200),Vn(226,53,134,200),Vn(216,90,166,200),Vn(254,151,206,200),Vn(237,151,254,200),Vn(243,177,255,200),Vn(233,133,252,200),Vn(210,101,230,200),Vn(178,61,200,200),Vn(193,81,156,200),Vn(217,95,145,200)];return Am({isDark:i,highlightColorOffset:Vn(60,60,60,60),highlightColorOffsetAxisOverlay:Vn(255,255,255,40),effect:n,effectsText:!0,effectsDashboardSplitters:!0,lcjsBackgroundFillStyle:r,dashboardSplitterFillStyle:s,panelBackgroundFillStyle:o,seriesBackgroundFillStyle:a,fontFamily:l,fontScaler:1,titleFillStyle:h,axisTitleFillStyle:c,axisLabelMajorFillStyle:u,uiTitleFillStyle:d,uiTextFillStyle:f,cursorTextFillStyle:g,axisLineFillStyle:p,axisTickMajorFillStyle:m,axisGridMajorFillStyle:y,axisTickMinorFillStyle:v,axisGridMinorFillStyle:x,cursorGridFillStyle:b,legendBackgroundFillStyle:S,legendBackgroundBorderFillStyle:A,legendButtonDefaultColor:E,resultTableBackgroundFillStyle:w,resultTableBackgroundBorderFillStyle:k,resultTableHeaderBackgroundFillStyle:C,uiBackgroundColor:M,uiBackgroundBorderColor:T,uiStrokeColorContrastHigh:P,uiStrokeColorContrastMedium:F,uiStrokeColorContrastLow:L,dataStrokeColorContrastHigh:R,dataStrokeColorContrastMedium:B,dataStrokeColorContrastLow:z,dataColorPalette:I,dataColorPaletteInverted:[{area:Vn(190,50,50,100),border:Vn(210,80,80)}],dataHighlightOverlayColor:D,dataColorPositive:V,dataColorNegative:_,zoomBandChartDefocusOverlayFillStyle:new aa({color:Vn(0,0,0,180)}),zoomBandChartSplitterColor:Vn(251,251,90),zoomBandChartKnobFillStyle:t=>new Fr({source:wm(t,"zoomBandChart/darkgold-selector.png"),fitMode:Tr.Fill}),zoomBandChartKnobSize:{x:14,y:30},dataColorUnselected:Vn(255,255,255,24),overrideThemeProperties:N,treeMapChartParentColor:Vn(24,30,33),treeMapChartNodeColors:it,treeMapChartLabelFillStyle:new aa({color:Vn(33,33,33)}),treeMapChartLabelHeaderFillStyle:new aa({color:Vn(250,250,250)})},{positiveTextFillStyle:O,negativeTextFillStyle:H,positiveFillStyle:U,negativeFillStyle:Y,positiveAreaFillStyle:G,negativeAreaFillStyle:j,positiveBackgroundFillStyle:X,negativeBackgroundFillStyle:W,badGoodColorPalette:Z,coldHotColorPalette:q,intensityColorPalette:J,spectrogramColorPalette:K,bollingerFillStyle:Q,bollingerBorderFillStyle:$,highlightPointColor:t,highlightDataGridColor:tt,unfocusedDataColor:et})})),Fm=Ys((()=>{const t=Vn(255,255,255),e=new aa({color:t}),i=!0,n=new cl({spread:0,blur:9,offset:{x:0,y:0},color:Vn(105,255,236,40)}),r=new aa({color:Vn(2,21,30)}),s=new Wn({stops:[{color:Vn(19,40,66,150),offset:0},{color:Vn(0,0,0,150),offset:1}]}),o=new aa({color:Vn(0,5,8,150)}),a=Em,l=e,h=e,c=e,u=e,d=e,f=d,g=new aa({color:Vn(20,224,250,255)}),p=e,m=new aa({color:Vn(61,94,110,100)}),y=new aa({color:Vn(61,94,110,255)}),v=new aa({color:Vn(61,94,110,40)}),x=e,b=new aa({color:Vn(0,18,23,255)}),S=e,A=t,E=new aa({color:Vn(0,0,0,225)}),w=e,k=new aa({color:Vn(18,66,75)}),C=Vn(0,38,48,220),M=Vn(0,0,0),T=t,P=Vn(150,150,150),F=Vn(19,78,93),L=Vn(50,50,50),R=Vn(0,36,48),B=Vn(200,200,200),z=[Vn(45,253,253,255),Vn(44,172,247,255),Vn(46,100,248,255),Vn(96,84,199,255),Vn(184,104,245,255),Vn(98,160,218,255),Vn(43,238,245,255),Vn(38,140,206,255),Vn(112,96,224,255),Vn(206,157,255,255)].map((t=>({stroke:t,border:t,area:t.setA(180)}))),I=t.setA(50),D=Vn(3,217,194,255),V=Vn(230,63,63,255),_={mapChartFillStyle:new Jn({angle:135,stops:[{color:Vn(118,248,231,255),offset:0},{color:Vn(45,177,255,255),offset:1}]}),spiderSeriesFillStyle:km(i,z,1),pieChartSliceFillStylePalette:Cm(i,z,1),funnelChartSliceFillStylePalette:Mm(i,z,1),pyramidChartSliceFillStylePalette:Mm(i,z,1),rectangleSeriesFillStyle:Tm(i,z),gaugeChartBarColor:Vn(3,217,194,255),gaugeChartGlowColor:Vn(3,217,194,120)},N=new aa({color:Vn(45,253,253,255)}),O=new aa({color:Vn(255,146,146,255)}),H=new aa({color:Vn(45,253,253,255)}),U=new aa({color:Vn(230,63,63,255)}),Y=new aa({color:Vn(1,190,164,120)}),G=new aa({color:Vn(229,63,63,180)}),j=new aa({color:Vn(1,53,57,255)}),X=new aa({color:Vn(62,27,27,255)}),W=[Vn(1,104,119,255),Vn(0,165,144,255),Vn(0,246,214,255)],Z=[Vn(0,87,95,255),Vn(0,125,124,255),Vn(1,209,182,255),Vn(0,255,221,255),Vn(218,112,112,255),Vn(172,47,47,255)],q=[Vn(126,255,253,255),Vn(50,233,230,255),Vn(0,196,193,255),Vn(62,138,178,255),Vn(139,88,191,255),Vn(162,55,143,255)],J=[Vn(13,31,52,255),Vn(101,50,118,255),Vn(1,142,172,255),Vn(2,196,170,255),Vn(0,255,221,255)],K=new Wn({stops:[{color:Vn(122,103,254,70),offset:0},{color:Vn(178,168,255,10),offset:1}]}),Q=new aa({color:Vn(122,103,254,255)}),$=Y.getColor().setA(255),tt=Vn(15,83,83),et=[Vn(139,252,252,150),Vn(60,239,239,150),Vn(2,201,201,150),Vn(26,159,159,150),Vn(15,146,187,150),Vn(65,168,200,150),Vn(67,146,207,150),Vn(64,108,209,150),Vn(189,64,233,150),Vn(219,84,238,150),Vn(192,55,212,150),Vn(212,98,229,150),Vn(248,110,211,150),Vn(251,154,225,150),Vn(251,154,184,150),Vn(233,105,144,150),Vn(255,133,170,150),Vn(249,110,135,150),Vn(245,72,101,150),Vn(210,57,84,150)];return Am({isDark:i,highlightColorOffset:Vn(60,60,60,60),highlightColorOffsetAxisOverlay:Vn(255,255,255,40),effect:n,effectsText:!1,effectsDashboardSplitters:!0,lcjsBackgroundFillStyle:t=>new Fr({source:wm(t,"themes/turquoiseHexagon.jpg"),fitMode:Tr.Fill}),dashboardSplitterFillStyle:r,panelBackgroundFillStyle:s,seriesBackgroundFillStyle:o,fontFamily:a,fontScaler:1,titleFillStyle:l,axisTitleFillStyle:h,axisLabelMajorFillStyle:c,uiTitleFillStyle:u,uiTextFillStyle:d,cursorTextFillStyle:f,axisLineFillStyle:g,axisTickMajorFillStyle:p,axisGridMajorFillStyle:m,axisTickMinorFillStyle:y,axisGridMinorFillStyle:v,cursorGridFillStyle:x,legendBackgroundFillStyle:b,legendBackgroundBorderFillStyle:S,legendButtonDefaultColor:A,resultTableBackgroundFillStyle:E,resultTableBackgroundBorderFillStyle:w,resultTableHeaderBackgroundFillStyle:k,uiBackgroundColor:C,uiBackgroundBorderColor:M,uiStrokeColorContrastHigh:T,uiStrokeColorContrastMedium:P,uiStrokeColorContrastLow:F,dataStrokeColorContrastHigh:L,dataStrokeColorContrastMedium:R,dataStrokeColorContrastLow:B,dataColorPalette:z,dataColorPaletteInverted:[{area:Vn(170,60,210,100),border:Vn(210,100,250)}],dataHighlightOverlayColor:I,dataColorPositive:D,dataColorNegative:V,zoomBandChartDefocusOverlayFillStyle:new aa({color:Vn(0,0,0,180)}),zoomBandChartSplitterColor:Vn(43,244,244),zoomBandChartKnobFillStyle:t=>new Fr({source:wm(t,"zoomBandChart/turquoise-selector.png"),fitMode:Tr.Fill}),zoomBandChartKnobSize:{x:14,y:30},dataColorUnselected:Vn(255,255,255,24),overrideThemeProperties:_,treeMapChartParentColor:Vn(0,35,41),treeMapChartNodeColors:et,treeMapChartLabelFillStyle:new aa({color:Vn(33,33,33)}),treeMapChartLabelHeaderFillStyle:new aa({color:Vn(250,250,250)})},{positiveTextFillStyle:N,negativeTextFillStyle:O,positiveFillStyle:H,negativeFillStyle:U,positiveAreaFillStyle:Y,negativeAreaFillStyle:G,positiveBackgroundFillStyle:j,negativeBackgroundFillStyle:X,badGoodColorPalette:W,coldHotColorPalette:Z,intensityColorPalette:q,spectrogramColorPalette:J,bollingerFillStyle:K,bollingerBorderFillStyle:Q,highlightPointColor:t,highlightDataGridColor:$,unfocusedDataColor:tt})})),Lm=Ys((()=>{const t=!1,e=new cl({spread:0,blur:6,offset:{x:2,y:-2},color:Vn(0,0,0,30)}),i=new Wn({position:{x:.8,y:.8},extent:Gn.farthestCorner,shape:Yn.ellipse,stops:[{offset:0,color:Vn(255,255,255)},{offset:1,color:Vn(255,255,255)}]}),n=new aa({color:Vn(219,227,233,255)}),r=new Wn({position:{x:.5,y:.5},extent:Gn.farthestCorner,shape:Yn.circle,stops:[{offset:0,color:Vn(255,255,255,200)},{offset:1,color:Vn(240,244,246,200)}]}),s=new Wn({position:{x:.5,y:.5},extent:Gn.farthestCorner,shape:Yn.circle,stops:[{offset:0,color:Vn(255,255,255,255)},{offset:1,color:Vn(255,255,255,255)}]}),o=Em,a=new aa({color:Vn(33,43,49)}),l=new aa({color:Vn(33,43,49)}),h=new aa({color:Vn(33,43,49)}),c=new aa({color:Vn(33,43,49)}),u=c,d=u,f=new Jn({angle:45,stops:[{offset:0,color:Vn(225,225,225)},{offset:1,color:Vn(225,225,225)}]}),g=new aa({color:Vn(150,150,150,255)}),p=new aa({color:Vn(150,150,150,170)}),m=new aa({color:Vn(150,150,150,150)}),y=new aa({color:Vn(150,150,150,100)}),v=new aa({color:Vn(60,70,80)}),x=new Jn({angle:0,stops:[{offset:0,color:Vn(255,255,255,240)},{offset:1,color:Vn(255,255,255,240)}]}),b=new aa({color:Vn(168,186,199)}),S=Vn(150,150,150),A=new aa({color:Vn(255,255,255,230)}),E=new aa({color:Vn(168,186,199)}),w=new aa({color:Vn(228,235,243)}),k=Vn(255,255,255,255),C=Vn(168,168,199,255),M=Vn(168,186,199,255),T=Vn(168,186,199,255),P=Vn(168,186,199,255),F=Vn(168,186,199,255),L=Vn(100,100,100),R=Vn(200,200,200),B=[Vn(28,181,140,255),Vn(255,132,0,255),Vn(240,39,39,255),Vn(86,121,251,255),Vn(2,181,213,255),Vn(13,212,158,255),Vn(22,167,3,255),Vn(234,103,232,255),Vn(62,183,179,255),Vn(140,93,3,255),Vn(155,158,186,255)].map((t=>({stroke:t,border:t,area:t.setA(180)}))),z=Vn(150,150,150,80),I=Vn(46,182,120,255),D=Vn(255,66,66,255),V=new tl({thickness:2,fillStyle:new aa({color:Vn(168,186,199,255)})}),_={mapChartFillStyle:new Jn({angle:-45,stops:[{color:Vn(2,181,213,255),offset:0},{color:Vn(175,243,255,255),offset:1}]}),spiderSeriesFillStyle:km(t,B,.8),pieChartSliceFillStylePalette:Cm(t,B,.8),funnelChartSliceFillStylePalette:Mm(t,B,.5),pyramidChartSliceFillStylePalette:Mm(t,B,.5),rectangleSeriesFillStyle:Tm(t,B),gaugeChartBarColor:Vn(46,182,120,255),gaugeChartGlowColor:Vn(46,182,120,120),chartXYSeriesBackgroundStrokeStyle:V,chart3DSeriesBackgroundStrokeStyle:V,polarChartSeriesBackgroundStrokeStyle:V,spiderChartSeriesBackgroundStrokeStyle:V,dataGridTextFillStyle:new aa({color:Vn(0,88,64,255)})},N=new aa({color:Vn(4,146,108,255)}),O=new aa({color:Vn(240,39,39,255)}),H=new aa({color:Vn(28,181,140,255)}),U=new aa({color:Vn(230,88,88,255)}),Y=new aa({color:Vn(28,181,140,180)}),G=new aa({color:Vn(230,88,88,180)}),j=new aa({color:Vn(229,243,228)}),X=new aa({color:Vn(232,225,216)}),W=[Vn(193,48,48,255),Vn(240,234,60,255),Vn(45,191,55,255)],Z=[Vn(10,19,255,255),Vn(15,191,250,255),Vn(249,255,2,255),Vn(253,133,0,255),Vn(255,24,0,255)],q=[Vn(50,99,213),Vn(8,179,77),Vn(255,246,0),Vn(255,126,0),Vn(189,36,30)],J=[Vn(16,64,176),Vn(8,179,77),Vn(255,246,0),Vn(255,126,0),Vn(168,6,0)],K=new aa({color:Vn(185,198,207,255)}),Q=new Wn({stops:[{color:Vn(151,190,220,10),offset:0},{color:Vn(151,190,220,50),offset:1}]}),$=Y.getColor().setA(255),tt=Vn(150,150,150),et=[Vn(255,243,136,125),Vn(254,237,99,125),Vn(255,216,109,125),Vn(255,172,100,125),Vn(255,133,101,125),Vn(255,113,142,125),Vn(230,103,129,125),Vn(242,126,219,125),Vn(255,155,235,125),Vn(255,181,240,125),Vn(203,143,255,125),Vn(208,154,255,125),Vn(171,188,255,125),Vn(197,209,255,125),Vn(171,187,255,125),Vn(84,167,239,125),Vn(38,196,214,125),Vn(38,214,196,125),Vn(69,225,141,125),Vn(36,191,88,125)];return Am({isDark:t,highlightColorOffset:Vn(-60,-60,-60,60),highlightColorOffsetAxisOverlay:Vn(0,0,0,40),effect:e,effectsText:!1,effectsDashboardSplitters:!0,lcjsBackgroundFillStyle:i,dashboardSplitterFillStyle:n,panelBackgroundFillStyle:r,seriesBackgroundFillStyle:s,fontFamily:o,fontScaler:1,titleFillStyle:a,axisTitleFillStyle:l,axisLabelMajorFillStyle:h,uiTitleFillStyle:c,uiTextFillStyle:u,cursorTextFillStyle:d,axisLineFillStyle:f,axisTickMajorFillStyle:g,axisGridMajorFillStyle:p,axisTickMinorFillStyle:m,axisGridMinorFillStyle:y,cursorGridFillStyle:v,legendBackgroundFillStyle:x,legendBackgroundBorderFillStyle:b,legendButtonDefaultColor:S,resultTableBackgroundFillStyle:A,resultTableBackgroundBorderFillStyle:E,resultTableHeaderBackgroundFillStyle:w,uiBackgroundColor:k,uiBackgroundBorderColor:C,uiStrokeColorContrastHigh:M,uiStrokeColorContrastMedium:T,uiStrokeColorContrastLow:P,dataStrokeColorContrastHigh:F,dataStrokeColorContrastMedium:L,dataStrokeColorContrastLow:R,dataColorPalette:B,dataColorPaletteInverted:[{area:Vn(190,50,50,100),border:Vn(210,80,80)}],dataHighlightOverlayColor:z,dataColorPositive:I,dataColorNegative:D,zoomBandChartDefocusOverlayFillStyle:new aa({color:Vn(255,255,255,180)}),zoomBandChartSplitterColor:Vn(80,93,101),zoomBandChartKnobFillStyle:t=>new Fr({source:wm(t,"zoomBandChart/light-selector.png"),fitMode:Tr.Fill}),zoomBandChartKnobSize:{x:14,y:30},dataColorUnselected:Vn(0,0,0,24),overrideThemeProperties:_,treeMapChartParentColor:Vn(217,217,217),treeMapChartNodeColors:et,treeMapChartLabelFillStyle:new aa({color:Vn(0,0,0)}),treeMapChartLabelHeaderFillStyle:new aa({color:Vn(33,33,33)})},{positiveTextFillStyle:N,negativeTextFillStyle:O,positiveFillStyle:H,negativeFillStyle:U,positiveAreaFillStyle:Y,negativeAreaFillStyle:G,positiveBackgroundFillStyle:j,negativeBackgroundFillStyle:X,badGoodColorPalette:W,coldHotColorPalette:Z,intensityColorPalette:q,spectrogramColorPalette:J,bollingerFillStyle:Q,bollingerBorderFillStyle:K,highlightPointColor:Vn(0,0,0),highlightDataGridColor:$,unfocusedDataColor:tt})})),Rm=Ys((()=>{const t=!1,e=new Wn({position:{x:.8,y:.8},extent:Gn.farthestCorner,shape:Yn.ellipse,stops:[{offset:0,color:Vn(255,255,255)},{offset:1,color:Vn(255,255,255)}]}),i=new aa({color:Vn(214,236,216,255)}),n=new Wn({position:{x:.5,y:.5},extent:Gn.farthestCorner,shape:Yn.circle,stops:[{offset:0,color:Vn(233,244,231,70)},{offset:1,color:Vn(233,244,231,200)}]}),r=new Wn({position:{x:.5,y:.5},extent:Gn.farthestCorner,shape:Yn.circle,stops:[{offset:0,color:Vn(255,255,255,255)},{offset:1,color:Vn(255,255,255,255)}]}),s=Em,o=new aa({color:Vn(1,61,53)}),a=new aa({color:Vn(1,61,53)}),l=new aa({color:Vn(1,61,53)}),h=new aa({color:Vn(1,61,53)}),c=h,u=c,d=new Jn({angle:45,stops:[{offset:0,color:Vn(225,225,225)},{offset:1,color:Vn(225,225,225)}]}),f=new aa({color:Vn(188,211,186,255)}),g=new aa({color:Vn(188,211,186,150)}),p=new aa({color:Vn(188,211,186,50)}),m=new aa({color:Vn(188,211,186,50)}),y=new aa({color:Vn(104,148,111,255)}),v=new Jn({angle:0,stops:[{offset:0,color:Vn(255,255,255,240)},{offset:1,color:Vn(255,255,255,240)}]}),x=new aa({color:Vn(104,148,111)}),b=Vn(150,150,150),S=new aa({color:Vn(255,255,255,230)}),A=new aa({color:Vn(104,148,111)}),E=new aa({color:Vn(226,236,224)}),w=Vn(255,255,255,255),k=Vn(179,201,183,255),C=Vn(188,211,186,255),M=Vn(188,211,186,255),T=Vn(188,211,186,255),P=Vn(188,211,186,255),F=Vn(100,100,100),L=Vn(200,200,200),R=[Vn(138,195,142,255),Vn(193,161,114,255),Vn(178,99,99,255),Vn(142,156,210,255),Vn(154,209,219,255),Vn(164,212,199,255),Vn(104,156,97,255),Vn(196,147,195,255),Vn(92,190,187,255),Vn(126,100,51,255),Vn(136,138,157,255)].map((t=>({stroke:t,border:t,area:t.setA(180)}))),B=Vn(150,150,150,80),z=Vn(46,182,84,255),I=Vn(232,96,96,255),D=new tl({thickness:2,fillStyle:new aa({color:Vn(188,211,186,255)})}),V={mapChartFillStyle:new Jn({angle:-45,stops:[{color:Vn(118,160,121,255),offset:0},{color:Vn(174,227,178,255),offset:1}]}),spiderSeriesFillStyle:km(t,R,.8),pieChartSliceFillStylePalette:Cm(t,R,.8),pyramidChartSliceFillStylePalette:Mm(t,R,.5),funnelChartSliceFillStylePalette:Mm(t,R,.5),rectangleSeriesFillStyle:Tm(t,R),gaugeChartBarColor:Vn(46,182,84,255),gaugeChartGlowColor:Vn(46,182,84,120),chartXYSeriesBackgroundStrokeStyle:D,chart3DSeriesBackgroundStrokeStyle:D,polarChartSeriesBackgroundStrokeStyle:D,spiderChartSeriesBackgroundStrokeStyle:D,dataGridTextFillStyle:new aa({color:Vn(77,66,21,255)})},_=new aa({color:Vn(93,151,97,255)}),N=new aa({color:Vn(178,99,99,255)}),O=new aa({color:Vn(138,195,142,255)}),H=new aa({color:Vn(178,99,99,255)}),U=new aa({color:Vn(138,195,142,180)}),Y=new aa({color:Vn(178,99,99,180)}),G=new aa({color:Vn(224,240,237)}),j=new aa({color:Vn(251,227,227)}),X=[Vn(178,99,99,255),Vn(215,224,111,255),Vn(80,186,88,255)],W=[Vn(62,64,142,255),Vn(66,131,77,255),Vn(250,250,135,255),Vn(202,161,78,255),Vn(179,53,53,255)],Z=[Vn(64,86,138),Vn(123,192,205),Vn(255,252,149),Vn(220,155,92),Vn(184,78,74)],q=[Vn(64,86,138),Vn(123,192,205),Vn(255,252,149),Vn(220,155,92),Vn(132,60,57)],J=new aa({color:Vn(185,198,207,255)}),K=new Wn({stops:[{color:Vn(151,190,220,10),offset:0},{color:Vn(151,190,220,50),offset:1}]}),Q=U.getColor().setA(255),$=Vn(150,150,150),tt=[Vn(242,239,210,150),Vn(243,238,183,150),Vn(210,222,136,150),Vn(204,217,148,150),Vn(157,190,124,150),Vn(143,178,72,150),Vn(198,147,88,150),Vn(216,148,71,150),Vn(229,142,103,150),Vn(225,174,152,150),Vn(219,149,203,150),Vn(216,188,209,150),Vn(109,198,189,150),Vn(172,206,202,150),Vn(164,223,217,150),Vn(174,215,233,150),Vn(203,225,235,150),Vn(220,227,243,150),Vn(207,213,227,150),Vn(171,182,209,150)];return Am({isDark:t,highlightColorOffset:Vn(-60,-60,-60,60),highlightColorOffsetAxisOverlay:Vn(0,0,0,40),effect:void 0,effectsText:!1,effectsDashboardSplitters:!1,lcjsBackgroundFillStyle:e,dashboardSplitterFillStyle:i,panelBackgroundFillStyle:n,seriesBackgroundFillStyle:r,fontFamily:s,fontScaler:1,titleFillStyle:o,axisTitleFillStyle:a,axisLabelMajorFillStyle:l,uiTitleFillStyle:h,uiTextFillStyle:c,cursorTextFillStyle:u,axisLineFillStyle:d,axisTickMajorFillStyle:f,axisGridMajorFillStyle:g,axisTickMinorFillStyle:p,axisGridMinorFillStyle:m,cursorGridFillStyle:y,legendBackgroundFillStyle:v,legendBackgroundBorderFillStyle:x,legendButtonDefaultColor:b,resultTableBackgroundFillStyle:S,resultTableBackgroundBorderFillStyle:A,resultTableHeaderBackgroundFillStyle:E,uiBackgroundColor:w,uiBackgroundBorderColor:k,uiStrokeColorContrastHigh:C,uiStrokeColorContrastMedium:M,uiStrokeColorContrastLow:T,dataStrokeColorContrastHigh:P,dataStrokeColorContrastMedium:F,dataStrokeColorContrastLow:L,dataColorPalette:R,dataColorPaletteInverted:[{area:Vn(210,70,70,100),border:Vn(200,110,110)}],dataHighlightOverlayColor:B,dataColorPositive:z,dataColorNegative:I,zoomBandChartDefocusOverlayFillStyle:new aa({color:Vn(255,255,255,180)}),zoomBandChartSplitterColor:Vn(68,106,64),zoomBandChartKnobFillStyle:t=>new Fr({source:wm(t,"zoomBandChart/lightnature-selector.png"),fitMode:Tr.Fill}),zoomBandChartKnobSize:{x:14,y:30},dataColorUnselected:Vn(0,0,0,24),overrideThemeProperties:V,treeMapChartParentColor:Vn(239,247,238),treeMapChartNodeColors:tt,treeMapChartLabelFillStyle:new aa({color:Vn(0,0,0)}),treeMapChartLabelHeaderFillStyle:new aa({color:Vn(33,33,33)})},{positiveTextFillStyle:_,negativeTextFillStyle:N,positiveFillStyle:O,negativeFillStyle:H,positiveAreaFillStyle:U,negativeAreaFillStyle:Y,positiveBackgroundFillStyle:G,negativeBackgroundFillStyle:j,badGoodColorPalette:X,coldHotColorPalette:W,intensityColorPalette:Z,spectrogramColorPalette:q,bollingerFillStyle:K,bollingerBorderFillStyle:J,highlightPointColor:Vn(0,0,0),highlightDataGridColor:Q,unfocusedDataColor:$})})),Bm=Ys((()=>{const t=Vn(255,255,255),e=new aa({color:t}),i=!0,n=new cl({spread:1,blur:9,offset:{x:0,y:0},color:Vn(255,255,255,30)}),r=new aa({color:Vn(6,15,36)}),s=new Wn({stops:[{color:Vn(46,13,87,50),offset:0},{color:Vn(0,0,0,150),offset:1}]}),o=new aa({color:Vn(0,5,8,150)}),a=Em,l=e,h=e,c=e,u=e,d=e,f=d,g=new Jn({angle:45,stops:[{offset:0,color:Vn(241,133,255,255)},{offset:1,color:Vn(115,207,238,255)}]}),p=e,m=new aa({color:Vn(61,94,110,100)}),y=new aa({color:Vn(61,94,110,255)}),v=new aa({color:Vn(61,94,110,40)}),x=e,b=new aa({color:Vn(0,18,23,255)}),S=e,A=Vn(115,207,238,255),E=new aa({color:Vn(0,0,0,224)}),w=e,k=new aa({color:Vn(68,31,78)}),C=Vn(0,38,48,255),M=Vn(0,0,0),T=t,P=Vn(150,150,150),F=Vn(19,57,93),L=Vn(50,50,50),R=Vn(0,17,48),B=Vn(200,200,200),z=[Vn(20,211,237,255),Vn(98,147,252,255),Vn(164,73,250,255),Vn(129,117,253,255),Vn(95,134,252,255),Vn(22,133,212,255),Vn(35,200,242,255),Vn(104,121,233,255),Vn(137,69,232,255),Vn(70,72,241,255)].map((t=>({stroke:t,border:t,area:t.setA(180)}))),I=t.setA(50),D=Vn(3,217,194,255),V=Vn(243,21,110,255),_={mapChartFillStyle:new Jn({angle:135,stops:[{color:Vn(118,248,231,255),offset:0},{color:Vn(45,177,255,255),offset:1}]}),spiderSeriesFillStyle:km(i,z,.5),pieChartSliceFillStylePalette:Cm(i,z,2),funnelChartSliceFillStylePalette:Mm(i,z,1),pyramidChartSliceFillStylePalette:Mm(i,z,1),rectangleSeriesFillStyle:Tm(i,z),gaugeChartBarColor:Vn(3,217,194,255),gaugeChartGlowColor:Vn(3,217,194,150)},N=new aa({color:Vn(20,211,237,255)}),O=new aa({color:Vn(253,145,178,255)}),H=new aa({color:Vn(20,211,237,255)}),U=new aa({color:Vn(239,68,121,255)}),Y=new aa({color:Vn(20,211,237,120)}),G=new aa({color:Vn(239,68,121,180)}),j=new aa({color:Vn(1,53,57,255)}),X=new aa({color:Vn(94,19,42,255)}),W=[Vn(174,51,132,255),Vn(204,107,218,255),Vn(189,215,253,255)],Z=[Vn(0,63,95,255),Vn(0,149,255,255),Vn(0,225,255,255),Vn(255,154,254,255),Vn(204,98,170,255),Vn(139,39,84,255)],q=[Vn(197,241,255,255),Vn(70,210,255,255),Vn(0,164,217,255),Vn(90,99,222,255),Vn(138,75,192,255),Vn(151,27,162,255)],J=[Vn(13,31,52,255),Vn(129,54,130,255),Vn(131,108,176,255),Vn(7,162,213,255),Vn(26,247,255,255)],K=new Wn({stops:[{color:Vn(219,42,235,60),offset:0},{color:Vn(237,73,252,10),offset:1}]}),Q=new aa({color:Vn(237,73,252,255)}),$=Y.getColor().setA(255),tt=Vn(8,70,100),et=[Vn(149,230,255,150),Vn(93,213,243,150),Vn(20,189,223,150),Vn(5,151,181,150),Vn(2,138,198,150),Vn(2,113,198,150),Vn(97,148,236,150),Vn(93,111,230,150),Vn(151,120,223,150),Vn(128,87,227,150),Vn(153,52,230,150),Vn(179,92,245,150),Vn(248,110,211,150),Vn(255,155,228,150),Vn(251,88,207,150),Vn(255,0,162,150),Vn(214,73,177,150),Vn(209,71,159,150),Vn(238,101,169,150),Vn(210,57,134,150)];return Am({isDark:i,highlightColorOffset:Vn(60,60,60,60),highlightColorOffsetAxisOverlay:Vn(255,255,255,40),effect:n,effectsText:!0,effectsDashboardSplitters:!0,lcjsBackgroundFillStyle:t=>new Fr({source:wm(t,"themes/cyberSpace.jpg"),fitMode:Tr.Fill}),dashboardSplitterFillStyle:r,panelBackgroundFillStyle:s,seriesBackgroundFillStyle:o,fontFamily:a,fontScaler:1,titleFillStyle:l,axisTitleFillStyle:h,axisLabelMajorFillStyle:c,uiTitleFillStyle:u,uiTextFillStyle:d,cursorTextFillStyle:f,axisLineFillStyle:g,axisTickMajorFillStyle:p,axisGridMajorFillStyle:m,axisTickMinorFillStyle:y,axisGridMinorFillStyle:v,cursorGridFillStyle:x,legendBackgroundFillStyle:b,legendBackgroundBorderFillStyle:S,legendButtonDefaultColor:A,resultTableBackgroundFillStyle:E,resultTableBackgroundBorderFillStyle:w,resultTableHeaderBackgroundFillStyle:k,uiBackgroundColor:C,uiBackgroundBorderColor:M,uiStrokeColorContrastHigh:T,uiStrokeColorContrastMedium:P,uiStrokeColorContrastLow:F,dataStrokeColorContrastHigh:L,dataStrokeColorContrastMedium:R,dataStrokeColorContrastLow:B,dataColorPalette:z,dataColorPaletteInverted:[{area:Vn(41,130,255,100),border:Vn(45,110,240)}],dataHighlightOverlayColor:I,dataColorPositive:D,dataColorNegative:V,zoomBandChartDefocusOverlayFillStyle:new aa({color:Vn(0,0,0,180)}),zoomBandChartSplitterColor:Vn(219,119,255),zoomBandChartKnobFillStyle:t=>new Fr({source:wm(t,"zoomBandChart/cyberspace-selector.png"),fitMode:Tr.Fill}),zoomBandChartKnobSize:{x:14,y:30},dataColorUnselected:Vn(255,255,255,24),overrideThemeProperties:_,treeMapChartParentColor:Vn(30,30,59),treeMapChartNodeColors:et,treeMapChartLabelFillStyle:new aa({color:Vn(33,33,33)}),treeMapChartLabelHeaderFillStyle:new aa({color:Vn(250,250,250)})},{positiveTextFillStyle:N,negativeTextFillStyle:O,positiveFillStyle:H,negativeFillStyle:U,positiveAreaFillStyle:Y,negativeAreaFillStyle:G,positiveBackgroundFillStyle:j,negativeBackgroundFillStyle:X,badGoodColorPalette:W,coldHotColorPalette:Z,intensityColorPalette:q,spectrogramColorPalette:J,bollingerFillStyle:K,bollingerBorderFillStyle:Q,highlightPointColor:t,highlightDataGridColor:$,unfocusedDataColor:tt})})),zm={};Object.defineProperty(zm,"darkGold",{get:Pm,enumerable:!0}),Object.defineProperty(zm,"turquoiseHexagon",{get:Fm,enumerable:!0}),Object.defineProperty(zm,"light",{get:Lm,enumerable:!0}),Object.defineProperty(zm,"lightNature",{get:Rm,enumerable:!0}),Object.defineProperty(zm,"cyberSpace",{get:Bm,enumerable:!0});const Im=zm.darkGold;class Dm extends Cd{constructor(t,e,i,n,r,s){var o,a,l,h;let c;super(t,e,i,e.Vg("dataGrid bg",0),n,e.gi.bi.dataGridBackgroundFillStyle,e.gi.bi.dataGridBackgroundStrokeStyle,e.gi.bi.dataGridTitleFont,e.gi.bi.dataGridTitleFillStyle,e.gi.bi.dataGridTitleShadow,s),this.OC=[],this.zC=[],this.VC=[],this.NC=new Map,this.GC=!0,this.$C=!0,this.UC=!0,this.YC=!0,this.jC=!0,this.HC=!0,this.WC=!0,this.XC=!0,this.ZC=!0,this.JC=!0,this.QC=!0,this.KC=!0,this.qC=!0,this.tT=!0,this.iT=!0,this.sT=!0,this.eT=new Set,this.hT=new Set,this.rT=!0,this.nT=!0,this.oT=(t,e)=>{t.borders=void 0===e?Om:{...t.borders,...e},this.aT(t),this.KC=!0,this.gi.Rs()},this.aT=t=>{t.borders&&(!1===t.borders.top&&this.lT(t.column,t.row-1,(t=>{t.borders=t.borders?{...null==t?void 0:t.borders,bottom:!1}:{...this.cT,bottom:!1}})),!1===t.borders.bottom&&this.lT(t.column,t.row+1,(t=>{t.borders=t.borders?{...t.borders,top:!1}:{...this.cT,top:!1}})),!1===t.borders.left&&this.lT(t.column-1,t.row,(t=>{t.borders=t.borders?{...t.borders,right:!1}:{...this.cT,right:!1}})),!1===t.borders.right&&this.lT(t.column+1,t.row,(t=>{t.borders=t.borders?{...t.borders,left:!1}:{...this.cT,left:!1}})),!0===t.borders.top&&this.lT(t.column,t.row-1,(t=>{t.borders=t.borders?{...null==t?void 0:t.borders,bottom:!0}:{...this.cT,bottom:!0}})),!0===t.borders.bottom&&this.lT(t.column,t.row+1,(t=>{t.borders=t.borders?{...t.borders,top:!0}:{...this.cT,top:!0}})),!0===t.borders.left&&this.lT(t.column-1,t.row,(t=>{t.borders=t.borders?{...t.borders,right:!0}:{...this.cT,right:!0}})),!0===t.borders.right&&this.lT(t.column+1,t.row,(t=>{t.borders=t.borders?{...t.borders,left:!0}:{...this.cT,left:!0}})))},this.uT={x:0,y:0},this.cells=new Er,this.L=new Er,this.gi.Ta(_h.vo),this.Hh.Kr("Data Grid"),this.dT=i.d2({scaleXYConstructor:sr}),this.dT.x.jf=am,this.fT=i.d2({scaleXYConstructor:sr}),this.AT={x:0,y:0},this.gT=this.bi.dataGridTextFont,this.vT=this.bi.dataGridTextFillStyle,this.cT={top:!0,bottom:!0,left:!0,right:!0},this.yT=this.bi.dataGridCellBackgroundFillStyle,this.pT=this.bi.dataGridBorderStrokeStyle,this.mT="left-center",this.ST={left:null!==(o=this.bi.dataGridCellPadding)&&void 0!==o?o:5,right:null!==(a=this.bi.dataGridCellPadding)&&void 0!==a?a:5,bottom:null!==(l=this.bi.dataGridCellPadding)&&void 0!==l?l:5,top:null!==(h=this.bi.dataGridCellPadding)&&void 0!==h?h:5},this.bT=e.km("dataGrid grid bg",0),this.xT=e.km("dataGrid cell bg",1),this.MT=e.Cm("dataGrid cell content",0),this.wT=e.Cm("dataGrid scrollbar bg",1),this._T=e.Cm("dataGrid scrollbar fg",2),this.kT=this.bT.wu(this.fT).th(this.bi.dataGridBackgroundFillStyle).qe(Br).setPointerEvents(!1),this.CT=this.MT.yA(this.dT).setPointerEvents(!1),this.TT=new dd((()=>{const t=this.xT.ih(this.dT).setPointerEvents(!0);return this.cells.Vi(t,{getExtraData:()=>this.NC.get(t),continueIfNotPrevented:(t,e,i)=>{const n=ba(this.getUserInteractions().scroll,"wheel",e,e.shiftKey,e.ctrlKey,e.altKey);if(n&&"wheel"===t&&e instanceof WheelEvent){ys(e),this.FT({x:!0===n.x?Math.sign(e.deltaY):0,y:!0===n.y?Math.sign(e.deltaY):0});const t=n.on;t&&t({event:e})}}}),t})),this.IT=new dd((()=>this.MT.ih(this.dT).setPointerEvents(!1))),this.PT=new dd((()=>this.MT.Mn(this.dT,!1).setPointerEvents(!1))),this.LT=new dd((()=>this.MT.Dv(this.dT,{},[Ld.InternalUI,{type:"DataPattern",args:{pattern:"ProgressiveX"}}]).setPointerEvents(!1))),this.BT=new dd((()=>this.MT.gh(this.dT).setPointerEvents(!1))),this.DT=new dd((()=>this.MT.Dd(this.dT).Bd(na).Ah(Br).setPointerEvents(!1))),this.RT=new dd((()=>this.MT.ih(this.dT).setPointerEvents(!1))),this.ET=new dd((()=>this.MT.Ex(this.dT).setPointerEvents(!1))),this.OT=new dd((()=>this.MT.bd(this.dT).setPointerEvents(!1))),this.zT={background:this.wT.ih(this.fT).setPointerEvents(!0).th(this.bi.dataGridScrollBarBackgroundFillStyle).qe(this.bi.dataGridScrollBarBackgroundStrokeStyle),scrollbar:this._T.ih(this.fT).setPointerEvents(!0).th(this.bi.dataGridScrollBarFillStyle).qe(this.bi.dataGridScrollBarStrokeStyle),button1:this.wT.ih(this.fT).setPointerEvents(!0).th(this.bi.dataGridScrollBarButtonFillStyle).qe(this.bi.dataGridScrollBarButtonStrokeStyle),button2:this.wT.ih(this.fT).setPointerEvents(!0).th(this.bi.dataGridScrollBarButtonFillStyle).qe(this.bi.dataGridScrollBarButtonStrokeStyle),buttonIcon1:this._T.Dd(this.fT).setPointerEvents(!1).Ah(Br).Ld(this.bi.dataGridScrollBarButtonArrowFillStyle).Rd(Ra.Triangle),buttonIcon2:this._T.Dd(this.fT).setPointerEvents(!1).Ah(Br).Ld(this.bi.dataGridScrollBarButtonArrowFillStyle).Rd(Ra.Triangle)},this.VT={background:this.wT.ih(this.fT).setPointerEvents(!0).th(this.bi.dataGridScrollBarBackgroundFillStyle).qe(this.bi.dataGridScrollBarBackgroundStrokeStyle),scrollbar:this._T.ih(this.fT).setPointerEvents(!0).th(this.bi.dataGridScrollBarFillStyle).qe(this.bi.dataGridScrollBarStrokeStyle),button1:this.wT.ih(this.fT).setPointerEvents(!0).th(this.bi.dataGridScrollBarButtonFillStyle).qe(this.bi.dataGridScrollBarButtonStrokeStyle),button2:this.wT.ih(this.fT).setPointerEvents(!0).th(this.bi.dataGridScrollBarButtonFillStyle).qe(this.bi.dataGridScrollBarButtonStrokeStyle),buttonIcon1:this._T.Dd(this.fT).setPointerEvents(!1).Ah(Br).Ld(this.bi.dataGridScrollBarButtonArrowFillStyle).Rd(Ra.Triangle),buttonIcon2:this._T.Dd(this.fT).setPointerEvents(!1).Ah(Br).Ld(this.bi.dataGridScrollBarButtonArrowFillStyle).Rd(Ra.Triangle)},this.zT.scrollbar.addEventListener("pointerenter",(t=>{c=this.engine.setMouseStyle(Yl.Vertical,c)})),this.zT.scrollbar.addEventListener("pointerleave",(t=>{c=this.engine.restoreMouseStyle(c)})),this.zT.scrollbar.addEventListener("pointerdown",(t=>{ys(t);let e=t;const i=t=>{const i=t.clientY-e.clientY;e=t,this.NT({x:0,y:-i})},n=e=>{e.pointerId===t.pointerId&&(jr.removeEventListener("pointermove",i),jr.removeEventListener("pointerup",n))};jr.addEventListener("pointermove",i),jr.addEventListener("pointerup",n)})),this.zT.scrollbar.addEventListener("wheel",(t=>{ys(t),this.FT({x:0,y:Math.sign(t.deltaY)})})),this.zT.background.addEventListener("pointerenter",(t=>{c=this.engine.setMouseStyle(Yl.Vertical,c)})),this.zT.background.addEventListener("pointerleave",(t=>{c=this.engine.restoreMouseStyle(c)})),this.zT.background.addEventListener("click",(t=>{ys(t);const e=this.gi.Ka(t),i=hr({x:e.engineX,y:e.engineY},this.gi.oi,this.fT);this.FT({x:0,y:i.y>this.zT.scrollbar.El().y?-1:1})})),this.zT.background.addEventListener("wheel",(t=>{ys(t),this.FT({x:0,y:Math.sign(t.deltaY)})})),this.zT.button1.addEventListener("pointerenter",(t=>{c=this.engine.setMouseStyle(Yl.Point,c)})),this.zT.button1.addEventListener("pointerleave",(t=>{c=this.engine.restoreMouseStyle(c)})),this.zT.button1.addEventListener("click",(t=>{ys(t),this.FT({x:0,y:1})})),this.zT.button2.addEventListener("click",(t=>{ys(t),this.FT({x:0,y:-1})})),this.zT.button2.addEventListener("pointerenter",(t=>{c=this.engine.setMouseStyle(Yl.Point,c)})),this.zT.button2.addEventListener("pointerleave",(t=>{c=this.engine.restoreMouseStyle(c)})),this.VT.scrollbar.addEventListener("pointerenter",(t=>{c=this.engine.setMouseStyle(Yl.Horizontal,c)})),this.VT.scrollbar.addEventListener("pointerleave",(t=>{c=this.engine.restoreMouseStyle(c)})),this.VT.scrollbar.addEventListener("pointerdown",(t=>{ys(t);let e=t;const i=t=>{const i=t.clientX-e.clientX;e=t,this.NT({x:i,y:0})},n=e=>{e.pointerId===t.pointerId&&(jr.removeEventListener("pointermove",i),jr.removeEventListener("pointerup",n))};jr.addEventListener("pointermove",i),jr.addEventListener("pointerup",n)})),this.VT.scrollbar.addEventListener("wheel",(t=>{ys(t),this.FT({x:Math.sign(t.deltaY),y:0})})),this.VT.background.addEventListener("pointerenter",(t=>{c=this.engine.setMouseStyle(Yl.Horizontal,c)})),this.VT.background.addEventListener("pointerleave",(t=>{c=this.engine.restoreMouseStyle(c)})),this.VT.background.addEventListener("click",(t=>{ys(t);const e=this.gi.Ka(t),i=hr({x:e.engineX,y:e.engineY},this.gi.oi,this.fT);this.FT({x:i.x<this.VT.scrollbar.El().x?-1:1,y:0})})),this.VT.background.addEventListener("wheel",(t=>{ys(t),this.FT({x:Math.sign(t.deltaY),y:0})})),this.VT.button1.addEventListener("pointerenter",(t=>{c=this.engine.setMouseStyle(Yl.Point,c)})),this.VT.button1.addEventListener("pointerleave",(t=>{c=this.engine.restoreMouseStyle(c)})),this.VT.button1.addEventListener("click",(t=>{ys(t),this.FT({x:-1,y:0})})),this.VT.button2.addEventListener("click",(t=>{ys(t),this.FT({x:1,y:0})})),this.VT.button2.addEventListener("pointerenter",(t=>{c=this.engine.setMouseStyle(Yl.Point,c)})),this.VT.button2.addEventListener("pointerleave",(t=>{c=this.engine.restoreMouseStyle(c)})),this.zg(r,this.uiScale),this.addEventListener("resize",(()=>{this.GC=!0,this.gi.Rs(),this.dT.X(this.Kf._t()),this.fT.X(this.Kf._t())})),this.GT=this.Ss.eA([this.kT])}getMinimumSize(){return{x:200,y:200}}setAnimationsEnabled(t){return this}gg(){return[]}dispose(){return super.dispose(),this.bT.N(),this.xT.N(),this.MT.N(),this.wT.N(),this._T.N(),wd(this.dT),wd(this.fT),this.PT.zA(),this.TT.zA(),this.IT.zA(),this.LT.zA(),this.BT.zA(),this.DT.zA(),this.RT.zA(),this.ET.zA(),this.OT.zA(),this}Y(){return super.Y(),this.dT.Y(),this.fT.Y(),this}j(){return super.j(),this.dT.j(),this.fT.j(),this}setBackgroundEffect(t){return this.GT.Ds(t),this.gi.Rs(),this}getBackgroundEffect(){return this.GT.Es()}setUserInteractions(t){return this.uh=void 0===t?{scroll:!1}:t,this}getUserInteractions(){return Yr({scroll:{wheel:{x:!1,y:!0},ctrl:{wheel:{x:!0,y:!1}}}},this.uh)}setGridBackgroundFillStyle(t){return this.kT.th(t),this.gi.Rs(),this}getGridBackgroundFillStyle(){return this.kT.Sr()}setCellContent(t,e,i,n,r){if("number"==typeof i&&void 0!==n&&void 0!==r){const s=i,o=n,a=r;let l=[];for(let i=t;i<t+s;i+=1)for(let t=e;t<e+o;t+=1){const e=this.lT(i,t);e&&l.push(e)}l=Ns(l);let h={highlight:0};for(const t of l){const e=this.OC.indexOf(t);e<0||(h={...h,highlight:t.highlight,textFont:t.textFont,textFillStyle:t.textFillStyle,contentAlignment:t.contentAlignment,borders:t.borders,padding:t.padding,backgroundFillStyle:t.backgroundFillStyle},this.OC.splice(e,1))}const c={...h,column:t,row:e,columnSpan:s,rowSpan:o,content:a};this.OC.push(c),this.YC=!0,"string"==typeof c.content||"number"==typeof c.content?this.$C=!0:this.UC=!0,this.gi.Rs()}else this.$T(t,e,i);return this}setColumnContent(t,e){const i=e.length;if(0===i)return this;for(let n=0;n<i;n+=1){const i=e[n];this.$T(t,n,i)}return this}setRowContent(t,e){const i=e.length;if(0===i)return this;for(let n=0;n<i;n+=1){const i=e[n];this.$T(n,t,i)}return this}setTableContent(t){const e=t.length;if(0===e)return this;const i=t[0].length;if(0===i)return this;for(let n=0;n<i;n+=1)for(let i=0;i<e;i+=1){const e=t[i][n];this.$T(n,i,e)}return this}setColumnWidth(t,e){let i=this.zC.find((e=>e.column===t));return i||(i={column:t,min:void 0,max:void 0},this.zC.push(i)),"object"==typeof e?(i.min=e.min,i.max=e.max):void 0===e?this.zC.splice(this.zC.indexOf(i),1):(i.min=e,i.max=e),this.HC=!0,this.gi.Rs(),this}setRowHeight(t,e){let i=this.VC.find((e=>e.row===t));return i||(i={row:t,min:void 0,max:void 0},this.VC.push(i)),"object"==typeof e?(i.min=e.min,i.max=e.max):void 0===e?this.VC.splice(this.VC.indexOf(i),1):(i.min=e,i.max=e),this.HC=!0,this.gi.Rs(),this}setColumnPaddings(t,e){return"number"==typeof e&&(e=Rn(e,e,e,e)),this.UT(t,(t=>this.YT(t,e))),this}setRowPaddings(t,e){return"number"==typeof e&&(e=Rn(e,e,e,e)),this.jT(t,(t=>this.YT(t,e))),this}setCellPadding(t,e,i){return"number"==typeof i&&(i=Rn(i,i,i,i)),this.lT(t,e,(t=>this.YT(t,i))),this}setCellsPaddings(t){return"number"==typeof t&&(t=Rn(t,t,t,t)),this.ST={...this.ST,...t},this.HT((t=>this.YT(t,this.ST))),this}setCellBorders(t,e,i){return this.lT(t,e,(t=>this.oT(t,i))),this}setRowBorders(t,e){return this.jT(t,(t=>this.oT(t,e))),this}setColumnBorders(t,e){return this.UT(t,(t=>this.oT(t,e))),this}setCellsBorders(t){return this.cT=void 0===t?Om:t,this.HT((t=>this.oT(t,this.cT))),this}setCellsBorderStrokeStyle(t){return this.pT="function"==typeof t?t(this.pT):t,this.tT=!0,this.gi.Rs(),this}setColumnTextFillStyle(t,e){return this.UT(t,(t=>this.WT(t,e))),this}setRowTextFillStyle(t,e){return this.jT(t,(t=>this.WT(t,e))),this}setCellTextFillStyle(t,e,i){return this.lT(t,e,(t=>this.WT(t,i))),this}setCellsTextFillStyle(t){return this.vT="function"==typeof t?t(this.vT):t,this.HT((t=>this.WT(t,this.vT))),this}setColumnTextFont(t,e){return this.UT(t,(t=>this.XT(t,e))),this}setRowTextFont(t,e){return this.jT(t,(t=>this.XT(t,e))),this}setCellTextFont(t,e,i){return this.lT(t,e,(t=>this.XT(t,i))),this}setCellsTextFont(t){return this.gT="function"==typeof t?t(this.gT):t,this.HT((t=>this.XT(t,this.gT))),this}setColumnContentAlignment(t,e){return this.UT(t,(t=>this.ZT(t,e))),this}setRowContentAlignment(t,e){return this.jT(t,(t=>this.ZT(t,e))),this}setCellContentAlignment(t,e,i){return this.lT(t,e,(t=>this.ZT(t,i))),this}setCellsContentAlignment(t){return this.mT=t,this.HT((t=>this.ZT(t,this.mT))),this}setCellBackgroundFillStyle(t,e,i){return this.lT(t,e,(t=>this.JT(t,i))),this}setColumnBackgroundFillStyle(t,e){return this.UT(t,(t=>this.JT(t,e))),this}setRowBackgroundFillStyle(t,e){return this.jT(t,(t=>this.JT(t,e))),this}setCellsBackgroundFillStyle(t){return this.yT="function"==typeof t?t(this.yT):t,this.HT((t=>this.JT(t,this.yT))),this}setCellHighlight(t,e,i){return this.lT(t,e,(t=>{t.highlight=Hs(i)})),this.qC=!0,this.gi.Rs(),this}setColumnHighlight(t,e){const i=Hs(e);return this.UT(t,(t=>{t.highlight=i})),this.qC=!0,this.gi.Rs(),this}setRowHighlight(t,e){const i=Hs(e);return this.jT(t,(t=>{t.highlight=i})),this.qC=!0,this.gi.Rs(),this}removeCell(t,e){return this.lT(t,e,(t=>this.OC.splice(this.OC.indexOf(t),1))),this.jC=!0,this.gi.Rs(),this}removeRow(t){return this.jT(t,(t=>this.OC.splice(this.OC.indexOf(t),1))),this.OC.filter((e=>e.row>t)).forEach((t=>{t.row-=1})),this.jC=!0,this.gi.Rs(),this}removeColumn(t){return this.UT(t,(t=>this.OC.splice(this.OC.indexOf(t),1))),this.OC.filter((e=>e.column>t)).forEach((t=>{t.column-=1})),this.jC=!0,this.gi.Rs(),this}removeCells(){return this.OC.splice(0),this.jC=!0,this.gi.Rs(),this}getColumnMax(){return 0===this.OC.length?0:this.OC.reduce(((t,e)=>Math.max(t,e.column+e.columnSpan-1)),0)}getRowMax(){return 0===this.OC.length?0:this.OC.reduce(((t,e)=>Math.max(t,e.row+e.rowSpan-1)),0)}sh(t){var e;super.sh(t),Md.Xg(this.Hh,this.Ng,this.uiScale.ri(),this.Vn),super.Og();const i=Math.round(this.pT.Hi()),n=i/2;let r=this.$C||this.UC||this.YC||this.jC||this.HC||this.WC||this.QC||this.KC||this.tT||this.sT;if(r){this.OC.forEach((t=>{this.hT.add(t.column)})),this.OC.forEach((t=>{this.eT.add(t.row)}));const t=this.PT.DA(),e=this.QT(n,t);t.finishPlot();const s=this.KT(this.hT.size,e),o=this.qT(this.eT.size,e),a=s.reduce(go,0)+i,l=o.reduce(go,0)+i,h=new Array(s.length+1).fill(0).map(((t,e)=>s.reduce(((t,i,n)=>t+(n<e?i:0)),0))),c=new Array(o.length+1).fill(0).map(((t,e)=>o.reduce(((t,i,n)=>t+(n<e?i:0)),0)));if(this.tF){const t=this.tF.columnWidths.every(((t,e)=>t===s[e])),e=this.tF.rowHeights.every(((t,e)=>t===o[e]));t&&e&&(r=!1)}this.tF={columnWidths:s,rowHeights:o,dataGridWidth:a,dataGridHeight:l,columnWidthsCumulative:h,rowHeightsCumulative:c,cellsContentSizes:e}}const s=r||this.UC||this.YC||this.jC||this.XC||this.ZC||this.JC||this.KC||this.qC||this.tT||this.GC||this.sT;if((s||this.iT)&&this.tF){const t=this.Kf.getInnerIntervalPixels(),r=Md.Wg(this.Hh,this.Ng),o=[this.Vn.left+n,this.Vn.right+n],a=[this.Vn.bottom+n,this.Vn.top+r+n],l={x:t.x-o[0]-o[1],y:t.y-a[0]-a[1]},h=[this.Vn.left,this.Vn.right],c=[this.Vn.bottom,this.Vn.top+r],u={x:Math.round(t.x-h[0]-h[1]),y:Math.round(t.y-c[0]-c[1])},d={x:Math.ceil(n),y:Math.floor(u.y-n)};this.fT.Kt(o).qt(a).ti(0,l.x).ii(0,l.y);const f=null!==(e=this.bi.dataGridScrollBarThickness)&&void 0!==e?e:20,g={x:Math.min(l.x,this.tF.dataGridWidth+f)-f,y:Math.min(l.y,this.tF.dataGridHeight+f)-f};0===this.uT.x&&0===this.uT.y||(this.AT.y+=this.tF.dataGridHeight*this.uT.y/g.y,this.AT.x+=this.tF.dataGridWidth*this.uT.x/g.x,this.uT.x=0,this.uT.y=0),this.AT.y=Qr(this.AT.y,l.y-this.tF.dataGridHeight-f,0),this.AT.x=Qr(this.AT.x,0,this.tF.dataGridWidth-l.x+f);const p=this.AT;this.dT.Kt(h).qt(c).ti(p.x,u.x+p.x).ii(p.y,u.y+p.y);const m={x:this.dT.x.bt(),y:this.dT.y.bt()+f,width:this.dT.x.Mt()+i-f,height:this.dT.y.Mt()+i-f};this.MT.ym(m),this.xT.ym(m);const y=this.tF,v=[{x:this.dT.x.getInnerStart(),y:this.dT.y.getInnerStart()},{x:this.dT.x.getInnerEnd(),y:this.dT.y.getInnerStart()},{x:this.dT.x.getInnerEnd(),y:this.dT.y.getInnerEnd()},{x:this.dT.x.getInnerStart(),y:this.dT.y.getInnerEnd()}];y.cellsContentSizes.forEach((t=>{var e;const i={x:d.x+y.columnWidthsCumulative[t.cell.column],y:d.y-y.rowHeightsCumulative[t.cell.row+t.cell.rowSpan]},n={x:i.x+y.columnWidths[t.cell.column],y:i.y+y.rowHeights[t.cell.row]},r=co([i,{x:n.x,y:i.y},n,{x:i.x,y:n.y}],v);null===(e=t.text)||void 0===e||e.setVisible(r)})),s&&this.iF(d,this.tF,i);const x=l.y-f<this.tF.dataGridHeight;this.zT.background.setVisible(x).eh({x:g.x,y:f}).X({x:f,y:g.y}),this.zT.scrollbar.setVisible(x).eh({x:g.x,y:f+g.y-f+-(g.y-2*f)*(-this.AT.y/this.tF.dataGridHeight)}).X({x:f,y:-(g.y-2*f)*(g.y/this.tF.dataGridHeight)}),this.zT.button1.setVisible(x).eh({x:g.x,y:f}).X({x:f,y:f}),this.zT.buttonIcon1.setVisible(x).$d(.5*f).Od(0).Pd((new Mc).appendSample({x:g.x+f/2,y:1.5*f}),{x:"x",y:"y"}),this.zT.button2.setVisible(x).eh({x:g.x,y:g.y}).X({x:f,y:f}),this.zT.buttonIcon2.setVisible(x).$d(.5*f).Od(180).Pd((new Mc).appendSample({x:g.x+f/2,y:g.y+f/2}),{x:"x",y:"y"});const b=l.x-f<this.tF.dataGridWidth,S=Math.max(l.y-this.tF.dataGridHeight-f,0);this.VT.background.setVisible(b).eh({x:0,y:S}).X({x:g.x,y:f}),this.VT.scrollbar.setVisible(b).eh({x:f+(g.x-2*f)*(this.AT.x/this.tF.dataGridWidth),y:S}).X({x:(g.x-2*f)*(g.x/this.tF.dataGridWidth),y:f}),this.VT.button1.setVisible(b).eh({x:0,y:S}).X({x:f,y:f}),this.VT.buttonIcon1.setVisible(b).$d(.5*f).Od(90).Pd((new Mc).appendSample({x:f/2,y:S+f/2}),{x:"x",y:"y"}),this.VT.button2.setVisible(b).eh({x:g.x-f,y:S}).X({x:f,y:f}),this.VT.buttonIcon2.setVisible(b).$d(.5*f).Od(270).Pd((new Mc).appendSample({x:g.x-f/2,y:S+f/2}),{x:"x",y:"y"}),this.kT.oc([d,{x:d.x+g.x+(x?f:0),y:d.y},{x:d.x+g.x+(x?f:0),y:d.y-g.y},{x:d.x+g.x,y:d.y-g.y},{x:d.x+g.x,y:d.y-g.y-(b?f:0)},{x:d.x,y:d.y-g.y-(b?f:0)}])}this.GC=!1,this.$C=!1,this.UC=!1,this.YC=!1,this.jC=!1,this.HC=!1,this.WC=!1,this.XC=!1,this.ZC=!1,this.JC=!1,this.QC=!1,this.KC=!1,this.qC=!1,this.tT=!1,this.iT=!1,this.sT=!1}QT(t,e){const i=[],n={left:Math.ceil(t),right:Math.ceil(t),top:Math.ceil(t),bottom:Math.ceil(t)};for(const r of this.OC){const{content:t}=r,s={...this.ST,...r.padding};let o,a,l,h={x:0,y:0};if("string"==typeof t||"number"==typeof t){const i=String(t);o=e.add(),h=o.Kr(i)._r(r.textFont||this.gT).zr().pu()}if(lm(t)&&(a=t,h={x:200,y:50}),ll(t)){const e=this.gi.sF(t);e.eF()?(l=t,h=l._t()):e.hF((()=>{this.sT=!0,this.gi.Rs()}))}if(o||a||l){s.top=Math.round(s.top),s.left=Math.round(s.left),s.right=Math.round(s.right),s.bottom=Math.round(s.bottom);const t={x:Math.round(h.x+s.left+s.right+n.left+n.right),y:Math.round(h.y+s.top+s.bottom+n.top+n.bottom)};i.push({cell:r,contentSize:t,text:o,sparkChart:a,icon:l,cellPadding:s,cellMargin:n})}}return i}iF(t,e,i){const{cellsContentSizes:n,columnWidths:r,columnWidthsCumulative:s,rowHeights:o,rowHeightsCumulative:a}=e;this.CT.Ah(this.pT),this.NC.clear();const l={cellBackground:this.TT.DA(),cellIconRect:this.IT.DA(),lineSet:this.LT.DA(),line:this.BT.DA(),pointSet:this.DT.DA(),rect:this.RT.DA(),junction:this.ET.DA(),arc:this.OT.DA()},h=[];for(const c of n){const{cell:e,text:n,sparkChart:u,icon:d,cellPadding:f,cellMargin:g}=c,p={column:e.column,row:e.row},m={x:t.x+s[e.column],y:t.y-a[e.row+e.rowSpan]},y={x:m.x+g.left,y:m.y+g.bottom},v={x:y.x+f.left,y:y.y+f.bottom},x={x:new Array(e.columnSpan).fill(0).reduce(((t,i,n)=>t+r[e.column+n]),0),y:new Array(e.rowSpan).fill(0).reduce(((t,i,n)=>t+o[e.row+n]),0)},b={x:x.x-g.left-g.right,y:x.y-g.top-g.bottom},S={x:b.x-f.left-f.right,y:b.y-f.top-f.bottom};if(n){const t=Nm(v,S,e.contentAlignment||this.mT);n.eh(t[0]).Hl({x:t[1],y:t[2]}).th(this.rF(e.textFillStyle||this.vT,e.content,this.vT)).Fi(e.highlight).Qr(this.bi.dataGridTextShadow)}const A=this.rF(e.backgroundFillStyle||this.yT,e.content);if(A!==na){const t=l.cellBackground.add();t.eh(m).X(x).th(A).qe(Br).Fi(e.highlight),this.NC.set(t,p)}const E=e.borders||this.cT;if(E&&_m(m,x,E,i,h),u){const t=v,i=S;hm(u,l,this.dT,t,i,this.bi,this._g,e.highlight)}if(d){const t=d._t(),i=Nm(v,S,e.contentAlignment||this.mT);l.cellIconRect.add().eh({x:i[0].x+t.x*(-.5-i[1]/2),y:i[0].y+t.y*(-.5-i[2]/2)}).X(t).th(new Fr({source:d.Ks,fitMode:Tr.Stretch})).qe(Br).Fi(e.highlight)}}this.CT.Ni();for(const c of h)this.CT.Uo().mA(c[0],c[1]);l.cellBackground.finishPlot(),l.cellIconRect.finishPlot(),l.lineSet.finishPlot(),l.line.finishPlot(),l.pointSet.finishPlot(),l.rect.finishPlot(),l.junction.finishPlot(),l.arc.finishPlot()}KT(t,e){const i=new Array(t).fill(0);for(const n of this.hT.values()){const t=e.filter((t=>n>=t.cell.column&&n+1<=t.cell.column+t.cell.columnSpan)).reduce(((t,e)=>{const i=e.contentSize.x/e.cell.columnSpan;return Math.max(t,i)}),0),r=this.zC.find((t=>t.column===n)),s=r?Qr(t,void 0!==r.min?r.min:so,void 0!==r.max?r.max:ro):t;i[n]=s}return i}qT(t,e){const i=new Array(t).fill(0);for(const n of this.eT.values()){const t=e.filter((t=>n>=t.cell.row&&n+1<=t.cell.row+t.cell.rowSpan)).reduce(((t,e)=>{const i=e.contentSize.y/e.cell.rowSpan;return Math.max(t,i)}),0),r=this.VC.find((t=>t.row===n)),s=r?Qr(t,void 0!==r.min?r.min:so,void 0!==r.max?r.max:ro):t;i[n]=s}return i}rF(t,e,i){if(fa(t)){try{const i=Number(e);return new aa({color:t.getPalette().getColors(i,void 0)})}catch(t){}return i||na}return t}WT(t,e){t.textFillStyle="function"==typeof e?e(t.textFillStyle||this.vT):e,this.JC=!0,this.gi.Rs()}XT(t,e){t.textFont="function"==typeof e?e(t.textFont||this.gT):e,this.QC=!0,this.gi.Rs()}JT(t,e){t.backgroundFillStyle="function"==typeof e?e(t.backgroundFillStyle||this.yT):e,this.ZC=!0,this.gi.Rs()}ZT(t,e){t.contentAlignment=e,this.XC=!0,this.gi.Rs()}YT(t,e){t.padding={...t.padding,...e},this.WC=!0,this.gi.Rs()}$T(t,e,i){let n=this.lT(t,e);n?n.content=i:(n={column:t,row:e,columnSpan:1,rowSpan:1,content:i,highlight:0},this.OC.push(n),this.YC=!0),"string"==typeof n.content||"number"==typeof n.content?this.$C=!0:this.UC=!0,this.gi.Rs()}HT(t){this.OC.forEach((e=>t(e)))}lT(t,e,i){const n=this.OC.find((i=>t>=i.column&&t+1<=i.column+i.columnSpan&&e>=i.row&&e+1<=i.row+i.rowSpan));return n&&i&&i(n),n}UT(t,e){const i=this.OC.filter((e=>t>=e.column&&t+1<=e.column+e.columnSpan));for(const n of i)n&&e(n)}jT(t,e){const i=this.OC.filter((e=>t>=e.row&&t+1<=e.row+e.rowSpan));for(const n of i)n&&e(n)}FT(t){var e,i,n,r,s,o;if(this.tF){if(0!==t.y){const r=null!==(i=null===(e=this.tF.rowHeightsCumulative.map(((t,e)=>({value:t,index:e}))).reverse().find((e=>-this.AT.y+(t.y>0?1:0)>=e.value)))||void 0===e?void 0:e.index)&&void 0!==i?i:0,s=null!==(n=this.tF.rowHeightsCumulative[r+t.y])&&void 0!==n?n:0;this.AT.y=-s,this.iT=!0,this.gi.Rs()}if(0!==t.x){const e=null!==(s=null===(r=this.tF.columnWidthsCumulative.map(((t,e)=>({value:t,index:e}))).reverse().find((e=>this.AT.x+(t.x>0?1:0)>=e.value)))||void 0===r?void 0:r.index)&&void 0!==s?s:0,i=null!==(o=this.tF.columnWidthsCumulative[e+t.x])&&void 0!==o?o:0;this.AT.x=i,this.iT=!0,this.gi.Rs()}}}NT(t){this.tF&&(this.uT.x+=t.x,this.uT.y+=t.y,this.iT=!0,this.gi.Rs())}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}var Vm;!function(t){t.Center="center",t.RightCenter="right-center",t.LeftCenter="left-center",t.RightTop="right-top",t.LeftTop="left-top",t.RightBottom="right-bottom",t.LeftBottom="left-bottom",t.CenterTop="center-top",t.CenterBottom="center-bottom"}(Vm||(Vm={}));const _m=(t,e,i,n,r)=>{const s={x:t.x,y:t.y},o={x:t.x,y:t.y+e.y},a={x:t.x+e.x,y:t.y},l={x:t.x+e.x,y:t.y+e.y};i.top&&r.push([o,l]),i.bottom&&r.push([s,a]),i.left&&r.push([s,o]),i.right&&r.push([a,l])},Nm=(t,e,i)=>{const n=t.x,r=t.x+e.x,s=t.x+e.x/2,o=t.y+e.y,a=t.y,l=t.y+e.y/2;switch(i){case"left-center":return[En(n,l),-1,0];case"right-center":return[En(r,l),1,0];case"center":return[En(s,l),0,0];case"left-bottom":return[En(n,a),-1,-1];case"right-bottom":return[En(r,a),1,-1];case"center-bottom":return[En(s,a),0,-1];case"left-top":return[En(n,o),-1,1];case"right-top":return[En(r,o),1,1];case"center-top":return[En(s,o),0,1]}return Us(0,"Unidentified DataGrid cell content alignment option: ".concat(i))},Om={top:!1,bottom:!1,left:!1,right:!1};class Hm extends wh{constructor(t,e,i,n,r,s){super(t,{un(){},cn(){},fn(){}},n,e,i,{numeric:e.xAxisNumericTicks.setFallBackToExtremeTicksAutomatically(!1),datetime:e.xAxisDateTimeTicks,time:e.xAxisTimeTicks},{type:"linear"}),this.L=new Er,this.chart=t,this.Ss=s,this.Zs=r,this.Kh=r.Mn(t.nF)._r(this.bi.barChartCategoryAxisTitleFont||this.bi.xAxisTitleFont).th(this.bi.barChartCategoryAxisTitleFillStyle||this.bi.xAxisTitleFillStyle),this.setTitleRotation(this.chart.Js.getWidth({x:0,y:-90})),this.Tr=this.Ss.eA([this.Kh]).Ds(e.effectsText),this.oF=r.gh(t.nF).Ah(e.barChartCategoryAxisStrokeStyle||e.xAxisStrokeStyle)}setThickness(t){return"number"==typeof t?(this.aA=t,this.lA=t):"object"==typeof t&&(this.aA=t.min,this.lA=t.max),this.chart.gi.Rs(),this}getThickness(){return{min:this.aA,max:this.lA}}setStrokeStyle(t){return this.oF.Ah(t),this.chart.gi.Rs(),this}getStrokeStyle(){return this.oF.co()}sh(t){const e=this.getInterval(),i=this.chart.valueAxis.getInterval();this.oF.ph(this.chart.Js.toPoint(e.start,i.start)).yh(this.chart.Js.toPoint(e.end,i.start)).setVisible(this.ui),this.Kh.eh(this.chart.Js.toPoint(.5*(e.start+e.end),this.chart.valueAxis.oi.Jt(i.start,-t.uA))).Hl(this.chart.Js.toPoint(0,1)).setVisible(this.ui),t.ticksInfo.forEach(((t,e)=>{e.Er.eh(t.labelPosition).Hl(t.labelAlignment).kr(t.labelRotation).Vl(t.labelOffset.x,t.labelOffset.y)}))}$r(t){return{}}Hr(t,e,i,n){return{keyValue:t,tickLevel:e,labelText:i,labelAlignment:{x:0,y:0},labelPosition:{x:0,y:0},labelOffset:{x:0,y:0},labelRotation:0}}qr(t,e){return new kh(e,t,this.Zs,this.chart.nF)}Zr(t,e,i){const n=t.uA,r=this.chart.Js.getHeight(this.Kh.zr().pu());return{dA:r,ff:Qr(this.oF.co().Hi()/2+n+r,void 0!==this.aA?this.aA:0,void 0!==this.lA?this.lA:ro),ticksInfo:e,updatedTicks:i}}tr(){return this.chart.uiScale}gn(t,e){return e}pn(t,e,i){return{start:t,end:e}}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}setPointerEvents(t){return this.L.setPointerEvents(t),this}getPointerEvents(){return this.L.getPointerEvents()}}class Um extends wh{constructor(t,e,i,n,r,s,o){super(t,{un:()=>{var e;if(t.aF){if("positive"===t.lF||"bipolar"===t.lF){if("after-bar"===(null===(e=t.cF)||void 0===e?void 0:e.position)){const e=this.oi.Mt();return this.oi.Jt(t.aF.max,Math.min(this.chart.Js.getHeight(this.chart.uF())+t.cF.labelMargin,.3*e))}return t.aF.max}return t.dF?Qr(-1,-1e-6,t.aF.max):0}},cn:()=>{var e;if(t.aF){if("negative"===t.lF||"bipolar"===t.lF){if("after-bar"===(null===(e=t.cF)||void 0===e?void 0:e.position)){const e=this.oi.Mt();return this.oi.Jt(t.aF.min,-Math.min(this.chart.Js.getHeight(this.chart.uF())+t.cF.labelMargin,.3*e))}return t.aF.min}return t.dF?Qr(1,1e-6,t.aF.min):0}},fn:()=>{}},n,e,i,{numeric:e.barChartValueAxisTicks||e.yAxisNumericTicks,datetime:e.yAxisDateTimeTicks,time:e.yAxisTimeTicks},o),this.L=new Er,this.chart=t,this.Ss=s,this.Zs=r,this.Kh=r.Mn(t.nF)._r(this.bi.barChartValueAxisTitleFont||this.bi.yAxisTitleFont).th(this.bi.barChartValueAxisTitleFillStyle||this.bi.yAxisTitleFillStyle),this.setTitleRotation(this.chart.Js.getHeight({x:0,y:-90})),this.Tr=this.Ss.eA([this.Kh]).Ds(e.effectsText),this.oF=r.gh(t.nF).Ah(e.barChartValueAxisStrokeStyle||this.bi.yAxisStrokeStyle)}setThickness(t){return"number"==typeof t?(this.aA=t,this.lA=t):"object"==typeof t&&(this.aA=t.min,this.lA=t.max),this.chart.gi.Rs(),this}getThickness(){return{min:this.aA,max:this.lA}}setStrokeStyle(t){return this.oF.Ah(t),this.chart.gi.Rs(),this}getStrokeStyle(){return this.oF.co()}setTickStrategy(t,e){return super.dr(t,e)}sh(t){const e=this.getInterval();this.oF.ph(this.chart.Js.toPoint(-.5,this.Ar)).yh(this.chart.Js.toPoint(-.5,this.gr)).setVisible(this.ui);const i="logarithmic"===this.cr.type?Math.sqrt(e.start+e.end):.5*(e.start+e.end),n=this.chart.Js.toPoint(this.chart.categoryAxis.oi.Jt(-.5,t.uA*this.chart.Js.fF),i),r=this.chart.Js.toPoint(this.chart.Js.AF,0);this.Kh.eh(n).Hl(r).setVisible(this.ui),t.ticksInfo.forEach(((e,i)=>{i.Er.eh(e.labelPosition).Hl(e.labelAlignment).kr(e.labelRotation).Vl(e.labelOffset.x,e.labelOffset.y);const n=i.wn.Ph;n.tickStyle!==Br&&0!==n.tickLength&&t.plotLines.add({positions:[e.positionTicklineStart,e.positionTicklineEnd]},{lineStyle:n.tickStyle}),n.gridStrokeStyle!==Br&&n.gridStrokeLength>0&&t.plotLines.add({positions:[e.positionTicklineStart,e.positionGridlineEnd]},{lineStyle:n.gridStrokeStyle})}))}$r(t){return{}}Hr(t,e,i,n,r){const s=e.Ph,o=this.chart.Js.toPoint(-.5,t),a=this.chart.nF.Jt(o,this.chart.Js.toPoint(s.getTickLength()*this.chart.Js.fF,0)),l=this.chart.nF.Jt(o,this.chart.Js.toPoint(s.gridStrokeLength*n.oppositeAxisSize*-this.chart.Js.fF,0));return{keyValue:t,tickLevel:e,labelText:i,labelPosition:this.chart.nF.Jt(a,this.chart.Js.toPoint(s.getTickPadding()*this.chart.Js.fF,0)),labelAlignment:this.chart.Js.toPoint(this.chart.Js.AF,s.getLabelAlignment()),labelOffset:{x:0,y:0},labelRotation:e.Ph.labelRotation,positionTicklineStart:o,positionTicklineEnd:a,positionGridlineEnd:l}}qr(t,e){return new kh(e,t,this.Zs,this.chart.nF)}Zr(t,e,i){let n=0;for(const o of this.Dh.values())for(const t of o.values()){const e=t.wn.Ph,i=this.chart.Js.getWidth(t.Er.zr().pu()),r=e.getTickLength()+e.getTickPadding()+i;n=Math.max(n,r)}const r=n+this.oF.co().Hi()/2,s=this.chart.Js.getWidth(this.Kh.zr().pu());return{uA:r,dA:s,ff:Qr(r+s,void 0!==this.aA?this.aA:0,void 0!==this.lA?this.lA:ro),ticksInfo:e,updatedTicks:i}}tr(){return this.chart.nF}gn(t,e){return"linear"===this.cr.type?ka(t,e,this.oi):Ca(t,e,this.oi)}pn(t,e,i){return{start:t,end:e}}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}setPointerEvents(t){return this.L.setPointerEvents(t),this}getPointerEvents(){return this.L.getPointerEvents()}}class Ym extends $f{constructor(t,e,i,n,r,s,o){super(t,e,i,n),this.mi=qs(),this.S=0,this.gF=!1,this.L=new Er,this.gs=t,this.gs=t,this.category=r,this.subCategory=s,this.zs=r,this.Je=Is(i.barChartBarFillStyle||i.rectangleSeriesFillStyle,o),this.Qe=Is(i.barChartBarStrokeStyle||i.rectangleSeriesStrokeStyle,o),this.addEventListener("visiblechange",(()=>this.gs.vF())),this.addEventListener("dispose",(()=>{this.gs.vF(),this.gs.yF.delete(this.category),this.gs.pF.delete(this)}))}Ki(t,e,i){const n=this.gs.gi.Ka(e);return{cursorPosition:{pointMarker:{x:n.engineX,y:n.engineY},pointMarkerScale:this.gs.gi.oi,resultTable:{x:n.engineX,y:n.engineY},resultTableScale:this.gs.gi.oi},category:this.category,subCategory:this.subCategory,bar:this,value:this.getValue()}}setValue(t){return this.gF=!0,this.S=t,this.gs.vF(),this.gs.gi.Rs(),this.gs.yF.delete(this.category),this.gs.pF.delete(this),this}getValue(){return this.S}get value(){return this.S}setFillStyle(t){return this.Je="function"==typeof t?t(this.Je):t,this.gs.vF(),this}getFillStyle(){return this.Je}setStrokeStyle(t){return this.Qe="function"==typeof t?t(this.Qe):t,this.gs.vF(),this}getStrokeStyle(){return this.Qe}Av(){return this.Qg}setEffect(t){return this.gs.setBarsEffect(t),this}hh(){return{fill:this.Je,lutValue:this.value}}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class Gm extends Xd{constructor(t,e,i,n,r,s,o){var a,l;let h;super(t,e,i,e.Vg("barChart bg",0),n,e.gi.bi.barChartBackgroundFillStyle||e.gi.bi.chartXYBackgroundFillStyle,e.gi.bi.barChartBackgroundStrokeStyle||e.gi.bi.chartXYBackgroundStrokeStyle,e.gi.bi.barChartTitleFont||e.gi.bi.chartXYTitleFont,e.gi.bi.barChartTitleFillStyle||e.gi.bi.chartXYTitleFillStyle,e.gi.bi.barChartTitleShadow||e.gi.bi.chartXYTitleShadow,s,null===(a=null==o?void 0:o.legend)||void 0===a?void 0:a.customLegend),this.coordsBars="barChart",this.mF=jm.Descending,this.SF=this.bi.barChartCategoryLabels,this.cF=this.bi.barChartValueLabelsAfterBars,this.bF=!0,this.Ub=Ws(),this.yF=new Map,this.pF=new Map,this.lF="positive",this.xF="columns",this.MF=!0,this.wF=new Map,this._F={speed:1},this.tk={speed:1},this.kF=.08,this.CF=[],this.TF=!1,this.FF={left:2,right:2,top:2,bottom:2},this.IF=[],this.ya=t=>{this.nF.X(t.engineWidth,t.engineHeight),this.TF=!0},this.L=new Er,this.gi.Ta(_h.bo),this.PF=this.bi.barChartCornerRadius,this.Js="horizontal"===(null==o?void 0:o.type)?Wm:Xm,this.Hh.Kr("Bar Chart"),this.LF=e.Cm("barChart plotting 1",0),this.BF=e.Cm("barChart plotting 2",1),this.dF="logarithmic"===(null===(l=null==o?void 0:o.valueAxis)||void 0===l?void 0:l.type),this.dF?"horizontal"===this.Js.DF?(h=i.d1({scale1DConstructor:ir,dimension:"y"}),this.nF=(new or).Qt(i.d1({scale1DConstructor:Yo,dimension:"x"}),h)):(h=i.d1({scale1DConstructor:ir,dimension:"x"}),this.nF=(new or).Qt(h,i.d1({scale1DConstructor:Yo,dimension:"y"}))):(this.nF=i.d2({scaleXYConstructor:sr}),h=this.Js.getWidth(this.nF)),this.RF=this.Ss.eA(),this.Yb=new zd((()=>this.Ub.Qi(this.LF.gd(this.nF).el(0))),((t,e,i)=>(t.th(i.fillStyle).qe(i.strokeStyle),e.map((e=>{const i=e.existingMember||t.Uo();return i.md(e.x1,e.y1,e.x2,e.y2).pd(e.rounding),this.Ub.qi(i,e.bar),e.bar.Is([i]),i})))),(()=>{this.Ub.Ni()}),(t=>{this.RF.Ts(t)})),this.gy=this.Mg.ih(this.nF).th(this.bi.barChartSeriesBackgroundFillStyle||na).qe(Br),this.vy=this.Mg.ih(this.nF).th(na).qe(this.bi.barChartSeriesBackgroundStrokeStyle||Br).setPointerEvents(!1),super.Ay(this.gy,this.vy),this.categoryAxis=new Hm(this,this.bi,!1!==(null==o?void 0:o.animationsEnabled),h,this.BF,this.Ss),this.categoryAxis.setInterval(this.Js.getWidth({x:{start:-.5,end:.5},y:{start:.5,end:-.5}}));const c=wa(null==o?void 0:o.valueAxis);this.valueAxis=new Um(this,this.bi,!1!==(null==o?void 0:o.animationsEnabled),this.Js.getHeight(this.nF),this.BF,this.Ss,c.type),this.EF=new dd((()=>this.BF.Mn(this.nF).xn(Zs).bn(Zs).el(1))),this.OF=new zd((()=>this.Mg.yA(this.nF).setPointerEvents(!1)),((t,e,i)=>(t.Ah(i.lineStyle),e.map((e=>{let{positions:i,existingMember:n}=e;return(n||t.Uo()).mA(i[0],i[1])})))));const u=e.Dm(),d=ts(o?o.cursorBuilder:void 0,wf);this.Rm=vy(this,u,d.sm(u,this.uiScale,this.uiScale,Jr,this.bi),this,"show-pointed",Zm,(()=>0)),this.addEventListener("resize",this.ya),this.zg(r,this.nF),this.setAnimationsEnabled(!1!==(null==o?void 0:o.animationsEnabled)),void 0!==(null==o?void 0:o.legend)&&this.legend.setOptions(o.legend)}getSeries(){return this.ny}setCornerRadius(t){return this.PF=t,this.bF=!0,this.gi.Rs(),this}getCornerRadius(){return this.PF}setCursor(t){return this.Rm.setCursor(t),this}getCursor(){return this.Rm.getCursor()}setCursorMode(t){return this.Rm.setCursorMode(t),this}getCursorMode(){return this.Rm.getCursorMode()}setCustomCursor(t){return this.Rm.setCustomCursor(t),this}setCursorDynamicBehavior(t){return this.Rm.Ym(t),this}setCursorFormatting(t){return this.Rm.setCursorFormatting(t),this}getCursorFormatting(){return this.Rm.getCursorFormatting()}addCursor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wf;const e=this.Tg(),i=t.sm(e,this.uiScale,this.uiScale,this.wg(e),this.bi);return this.Eg(i),i}setBarsMargin(t){return this.kF=Qr(t,0,.49),this.bF=!0,this.gi.Rs(),this}getBarsMargin(){return this.kF}setBarsEffect(t){return this.RF.Ds(t),this.gi.Rs(),this}getBarsEffect(){return this.RF.Es()}setData(t){let e;if(Array.isArray(t))e=[],t.forEach(((t,i)=>{"string"==typeof t?e.push({category:t}):"number"==typeof t?e.push({category:"Category ".concat(i+1),value:t}):"object"==typeof t&&e.push(t)}));else{e=[];const i=Object.keys(t);for(const n of i){const i=t[n];e.push({category:n,value:"number"==typeof i?i:void 0})}}return this.zF("columns",e),this}setDataStacked(t,e){const i=[];return e.forEach((e=>{const{subCategory:n,values:r}=e;r.forEach(((e,r)=>{const s=t[r];i.push({category:s,subCategory:n,value:e})}))})),this.zF("stacks",i),this}setDataGrouped(t,e){const i=[];return e.forEach((e=>{const{subCategory:n,values:r}=e;r.forEach(((e,r)=>{const s=t[r];i.push({category:s,subCategory:n,value:e})}))})),this.zF("groups",i),this}zF(t,e){this.ny.length>0&&this.gi.Ta(_h.Do),this.xF=t,this.IF=e.map((t=>({category:t.category,subCategory:t.subCategory}))),this.VF(e);const i=Ns(e.map((t=>t.category))),n=i.length,r=Ns(e.map((t=>t.subCategory))).filter((t=>void 0!==t));if(e.forEach((e=>{let n=this.ny.find((t=>t.category===e.category&&t.subCategory===e.subCategory));if(!n){const s=i.indexOf(e.category),o=void 0!==e.subCategory&&r.includes(e.subCategory)?r.indexOf(e.subCategory):void 0;n=new Ym(this,this.ly,this.bi,this.gi.Ss,e.category,e.subCategory,ts(o,s)),this.yy(n,"groups"===t||"stacks"===t?{legend:null}:void 0),this.wF.set(n,{category:s,valueStart:this.dF?1e-6:0,valueEnd:void 0!==e.value?e.value:0})}void 0!==e.value&&n.setValue(e.value)})),this.ny.slice().forEach((t=>{void 0===e.find((e=>e.category===t.category&&e.subCategory===t.subCategory))&&(t.dispose(),this.wF.delete(t))})),this.categoryAxis.setInterval(this.Js.getWidth({x:{start:-.5,end:Math.max(n,1)-.5},y:{start:Math.max(n,1)-.5,end:-.5}})),this.aF=0===this.ny.length?void 0:"stacks"!==t?this.ny.reduce(((t,e)=>({min:Math.min(t.min,e.getValue()),max:Math.max(t.max,e.getValue())})),{min:ro,max:so}):{min:0,max:i.reduce(((t,i)=>Math.max(t,e.reduce(((t,e)=>e.category!==i?t:void 0!==e.value?t+e.value:t),0))),0)},this.aF&&(this.lF=this.aF.min>=0?"positive":this.aF.max<=0?"negative":"bipolar",("bipolar"===this.lF||"negative"===this.lF)&&this.dF))throw new Error("LightningChart JS BarChart bipolar/negative data + logarithmic value axis combination not supported.");if(this.NF&&this.NF(),"groups"===t||"stacks"===t){const t=r.map((t=>(t=>{let e=!1;const i=new Array;return t.forEach((n=>{const r=i=>{e||(e=!0,t.forEach((t=>n!==t?t.setHighlight(i.highlight):void 0)),e=!1)};n.addEventListener("highlightchange",r),i.push((()=>n.removeEventListener("highlightchange",r)))})),t.forEach((e=>{const n=()=>{const i=t.indexOf(e);i>=0&&t.splice(i,1)};e.addEventListener("dispose",n),i.push((()=>e.removeEventListener("dispose",n)))})),()=>{i.forEach((t=>t()))}})(this.ny.filter((e=>e.subCategory===t)))));this.NF=()=>t.forEach((t=>t()))}this.Vs.forEach((t=>{t.dg()&&t.add(this)})),this.VF(this.ny),this.yF.clear(),this.pF.clear(),this.bF=!0,this.gi.Rs()}setCategoryLabels(t){const e="function"==typeof t?this.SF?t(this.SF):this.SF:t;return this.SF=e?{...this.bi.barChartCategoryLabels,...e}:void 0,this.yF.clear(),this.gi.Rs(),this.TF=!0,this}getCategoryLabels(){return this.SF}setValueLabels(t){var e;const i="function"==typeof t?this.cF?t(this.cF):this.cF:t,n=(null==i?void 0:i.position)||(null===(e=this.cF)||void 0===e?void 0:e.position);return i&&n?"after-bar"===n?this.cF={...this.bi.barChartValueLabelsAfterBars,...i}:"inside-bar"!==n&&"inside-bar-start"!==n&&"inside-bar-centered"!==n&&"inside-bar-end"!==n||(this.cF={...this.bi.barChartValueLabelsInsideBars,...i}):this.cF=void 0,this.pF.clear(),this.gi.Rs(),this.TF=!0,this}getValueLabels(){return this.cF}setLabelFittingEnabled(t){return this.MF=t,this.gi.Rs(),this}getLabelFittingEnabled(){return this.MF}setLabelFittingMargins(t){return this.FF="object"==typeof t?t:"number"==typeof t?{left:t,right:t,top:t,bottom:t}:Zs,this.TF=!0,this.gi.Rs(),this}getLabelFittingMargins(){return this.FF}getBar(t,e){if(("groups"===this.xF||"stacks"===this.xF)&&void 0===e)throw new Error("LightningChart JS BarChart.getBar() | `subCategory` parameter is required for grouped and stacked bar charts!");const i=this.ny.find((i=>i.category===t&&(void 0===e||e===i.subCategory)));if(!i)throw new Error('BarChart.getBar() no such bar: "'.concat(t,'" ').concat(e?'"'.concat(e,'"'):""));return i}getBars(){return this.ny}setSorting(t){this.mF=t;const e=this.ny.slice();return this.ny.length=0,this.ny.push(...Os(this.IF.map((t=>e.find((e=>e.category===t.category&&(void 0===t.subCategory||t.subCategory===e.subCategory))))))),this.VF(this.ny),this.gi.Rs(),this.bF=!0,this}getSorting(){return this.mF}setAnimationCategoryPosition(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._F=t?{speed:e}:void 0,this.gi.Rs(),this}setAnimationValues(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.tk=t?{speed:e}:void 0,this.gi.Rs(),this}translateCoordinate(t,e,i){if(i&&va(t)&&ya(e))return super.translateCoordinate(t,e,i);const n=e;let r;if(ma(t))r=this.gi.Ka(t);else if(va(t)){const e=hr(t,this.Kf,this.gi.oi);r={engineX:e.x,engineY:e.y}}else{if(!(t=>!!(t&&"object"==typeof t&&"iCategory"in t&&"number"==typeof t.iCategory&&"value"in t&&"number"==typeof t.value))(t))throw new Error("LightningChart JS BarChart.translateCoordinate unexpected error. Input coordinate system not recognized.");{const e=hr(this.Js.toPoint(t.iCategory,t.value),this.nF,this.gi.oi);r={engineX:e.x,engineY:e.y}}}if(pa(n))return this.gi.qa(r);if("barChart"===n){const t=hr({x:r.engineX,y:r.engineY},this.gi.oi,this.nF);return{iCategory:this.Js.getWidth(t),value:this.Js.getHeight(t)}}if(ya(n))return hr({x:r.engineX,y:r.engineY},this.gi.oi,this.Kf);throw new Error("LightningChart JS BarChart.translateCoordinate unexpected error. Target coordinate system not recognized.")}gg(){if("columns"===this.xF)return this.ny;const t=Ns(Os(this.ny.map((t=>t.subCategory))));return Os(t.map((t=>{const e=this.ny.filter((e=>e.subCategory===t)),i=e[0];if(i)return{Hs:()=>{},getVisible:()=>i.getVisible(),setVisible:t=>{e.forEach((e=>e.setVisible(t)))},getName:()=>t,hh:()=>i.hh()}})))}sh(t){var e,i,n;super.sh(t);const r=this.EF.DA(),s=this.OF.DA(),o=this.ny.filter((t=>t.getVisible()&&t.gF)),a=Ns(o.map((t=>t.category))),l=Ns(Os(o.map((t=>t.subCategory)))),h=5e-4*t*((null===(e=this._F)||void 0===e?void 0:e.speed)||0),c=.003*t*((null===(i=this._F)||void 0===i?void 0:i.speed)||0),u=this.valueAxis.oi,d=u instanceof ir?(t,e)=>{var i;return ka(t,e,u,(null===(i=this.tk)||void 0===i?void 0:i.speed)||0)}:(t,e)=>{var i;return Ca(t,e,u,(null===(i=this.tk)||void 0===i?void 0:i.speed)||0)};let f;const g=null!==(n="positive"===this.lF&&this.aF?Math.min(this.aF.min,this.valueAxis.getInterval().start,this.valueAxis.getInterval().end)-(this.aF.max-this.aF.min):"negative"===this.lF&&this.aF?Math.max(this.aF.max,this.valueAxis.getInterval().start,this.valueAxis.getInterval().end)+(this.aF.max-this.aF.min):void 0)&&void 0!==n?n:0;"columns"===this.xF?f=o.map((t=>({bar:t,position:{category:a.indexOf(t.category),valueStart:this.dF?1e-6:g,valueEnd:t.value}}))):"groups"===this.xF?f=o.map((t=>{const e=a.indexOf(t.category),i=l.indexOf(t.subCategory),n=1/(l.length+2*(l.length+1)*this.kF),r=this.kF*n;return{bar:t,position:{category:e+(i-(l.length-1)/2)*(n+r),valueStart:this.dF?1e-6:g,valueEnd:t.value}}})):(f=[],a.forEach((t=>{const e=o.filter((e=>e.category===t));let i=this.dF?1e-6:0;e.forEach((e=>{f.push({bar:e,position:{category:a.indexOf(t),valueStart:i,valueEnd:i+e.value}}),i+=e.value}))}))),f.forEach((t=>{const{bar:e,position:i}=t;let n,r,s=this.wF.get(e);void 0===s&&(s=i);const o=i.valueStart;if(this._F&&s.category!==i.category){const t=Math.sign(i.category-s.category);n=s.category+h*t+c*(i.category-s.category),t!==Math.sign(i.category-n)&&(n=i.category)}else n=i.category;if(this.tk&&s.valueEnd!==i.valueEnd){const t=Math.sign(i.valueEnd-s.valueEnd);r=d(s.valueEnd,i.valueEnd),t!==Math.sign(i.valueEnd-r)&&(r=i.valueEnd)}else r=i.valueEnd;this.wF.set(e,{category:n,valueStart:o,valueEnd:r}),n===i.category&&r===i.valueEnd||this.gi.Rs(!0),n===s.category&&r===s.valueEnd||(this.bF=!0)}));const p=[...this.ny];(this.CF.length!==p.length||this.CF.some(((t,e)=>t!==p[e])))&&(this.Vs.forEach((t=>t.Ag(this.ny))),this.CF=p);const m=Md.Wg(this.Hh,this.Ng),y=this.Vs.reduce(((t,e)=>{const i=e.zr(m,this.Vn);return{top:Math.max(t.top,i.top),bottom:Math.max(t.bottom,i.bottom),left:Math.max(t.left,i.left),right:Math.max(t.right,i.right)}}),{top:0,bottom:0,left:0,right:0});Md.Xg(this.Hh,this.Ng,this.uiScale.ri(),this.Vn,y);const v=o.length>0;this.categoryAxis.An(),this.valueAxis.An();const{labelMarginBeforeCategoryAxisPixels:x,labels:b}=v?this.GF(a,l,o,r,s):{labelMarginBeforeCategoryAxisPixels:0,labels:[]},S=this.categoryAxis.zr({physicalAxisSize:this.categoryAxis.oi.Mt(),uA:x}),A=this.valueAxis.zr({plotLines:s,physicalAxisSize:this.valueAxis.oi.Mt(),oppositeAxisSize:this.Js.getWidth(this.nF).Mt()});this.nF.qt([this.nt.bottom+this.Vn.bottom+y.bottom+("vertical"===this.Js.DF?S.ff:0),this.nt.top+this.Vn.top+m+y.top+("horizontal"===this.Js.DF?A.ff:0)]),this.nF.Kt([this.nt.left+this.Vn.left+y.left+this.Js.getHeight({x:S.ff,y:A.ff}),this.nt.right+this.Vn.right+y.right]),this.LF.ym({x:this.nF.x.bt(),y:this.nF.y.bt(),width:this.nF.x.Mt(),height:this.nF.y.Mt()}),this.mg&&this.mg();const E={x:Math.min(this.nF.x.getInnerStart(),this.nF.x.getInnerEnd()),y:Math.min(this.nF.y.getInnerStart(),this.nF.y.getInnerEnd())},w=Math.max(this.nF.x.getInnerStart(),this.nF.x.getInnerEnd()),k=Math.max(this.nF.y.getInnerStart(),this.nF.y.getInnerEnd()),C={x:w-E.x,y:k-E.y};if(this.gy.eh(E),this.gy.X(C),this.vy.eh(E),this.vy.X(C),this.categoryAxis.sh(S),this.valueAxis.sh(A),super.Og(),this.Rm.sh(!1,this.ny,void 0),(this.bF||this.TF)&&this.MF){const t=b.map((t=>{const e=t.setVisible(!0).zr().gu();if(0!==this.FF.bottom||0!==this.FF.left||0!==this.FF.right||0!==this.FF.top){const i=Math.sign(this.nF.x.$-this.nF.x.G),n=Math.sign(this.nF.y.$-this.nF.y.G),r=n>0?e.min.y:e.max.y,s=n>0?e.max.y:e.min.y,o=i>0?e.min.x:e.max.x,a=i>0?e.max.x:e.min.x,l=t.oi.Jt({x:o,y:r},{x:-this.FF.left,y:-this.FF.bottom}),h=t.oi.Jt({x:a,y:s},{x:this.FF.right,y:this.FF.top});return{min:{x:Math.min(l.x,h.x),y:Math.min(l.y,h.y)},max:{x:Math.max(l.x,h.x),y:Math.max(l.y,h.y)}}}return e}));for(let e=0;e<b.length;e+=1){if(!b[e].getVisible())continue;const i=t[e];let n;do{n=b.findIndex(((n,r)=>r!==e&&b[r].getVisible()&&ho(i,t[r]))),n>=0&&b[n].setVisible(!1)}while(n>=0)}}if(this.bF){const t=this.Yb.DA(),e="groups"===this.xF?1/(l.length+2*(l.length+1)*this.kF):1-2*this.kF;o.forEach((i=>{const n=this.wF.get(i);if(void 0===n)return;const r=n.category-.5*e,s=n.category+.5*e,o=this.Js.toPoint(r,n.valueStart),a=this.Js.toPoint(s,n.valueEnd);let h;this.PF&&(h={extent:this.PF,c_x1_y2:"vertical"===this.Js.DF,c_x2_y2:"vertical"===this.Js.DF||"horizontal"===this.Js.DF,c_x1_y1:!1,c_x2_y1:"horizontal"===this.Js.DF},"stacks"===this.xF&&i.subCategory&&l.indexOf(i.subCategory)!==l.length-1&&(h=void 0)),t.add({mi:i.mi,bar:i,x1:o.x,y1:o.y,x2:a.x,y2:a.y,rounding:h},{fillStyle:i.Je,strokeStyle:i.Qe})})),t.finishPlot()}r.finishPlot(),s.finishPlot(),this.bF=!1,this.TF=!1,this.Vs.forEach((t=>t.sh(m,this.Vn)))}setAnimationsEnabled(t){return super.setAnimationsEnabled(t),this.setAnimationCategoryPosition(t),this.setAnimationValues(t),this.valueAxis.setAnimationsEnabled(t),this.categoryAxis.setAnimationsEnabled(t),this}dispose(){return this.BF.N(),this.LF.N(),this.Rm.N(),super.dispose()}VF(t){const e=this.mF;e&&t.sort(((i,n)=>e({category:i.category,value:t.reduce(((t,e)=>t+(e.category===i.category&&e.value||0)),0)},{category:n.category,value:t.reduce(((t,e)=>t+(e.category===n.category&&e.value||0)),0)})))}GF(t,e,i,n,r){let s=0;const o=this.SF,a=this.cF,l=this.valueAxis.getInterval(),h=[];if(o&&o.labelFillStyle!==na){const e=o.tickLength+o.labelMargin,a=this.Js.toPoint(0,1),c={if:t.map(((t,n)=>{const r=i.reduce(((e,i)=>i.category!==t?e:e+i.value),0),s=o.formatter(t,r);if(!s)return;const h=n;return void 0!==h?{text:s,position:this.Js.toPoint(h,this.valueAxis.oi.Jt(l.start,-e)),alignment:a,rotation:o.labelRotation,sizePixels:this.$F(t,r)}:void 0})),Qn:o.labelFont,oi:this.nF};c.if.forEach((t=>{t&&h.push(n.add().Kr(t.text).eh(t.position).Hl(t.alignment).kr(t.rotation).th(o.labelFillStyle)._r(o.labelFont).Qr(o.labelShadow))})),o.tickStyle!==Br&&0!==o.tickLength&&c.if.forEach((t=>{if(!t)return;const e=this.Js.getWidth(t.position);r.add({positions:[this.Js.toPoint(e,this.valueAxis.oi.getInnerStart()),this.Js.toPoint(e,this.valueAxis.oi.Jt(l.start,-o.tickLength))]},{lineStyle:o.tickStyle})})),s=c.if.reduce(((t,e)=>e?Math.max(t,this.Js.getHeight(e.sizePixels)):t),0)+o.tickLength+o.labelMargin}if(a&&a.labelFillStyle!==na){const r={if:[],Qn:a.labelFont,oi:this.nF};"stacks"===this.xF&&a.displayStackedSum&&r.if.push(...t.map(((t,n)=>{const r=i.reduce(((e,i)=>e+(i.category===t?i.value:0)),0),s=a.formatter({chart:this,bar:void 0,category:t,value:r,subCategory:void 0});if(!s)return;const o=i.filter((e=>e.category===t)).sort(((t,i)=>{var n,r;return e.indexOf(null!==(n=t.subCategory)&&void 0!==n?n:"")-e.indexOf(null!==(r=i.subCategory)&&void 0!==r?r:"")})),l=o[o.length-1],h=this.wF.get(l);return void 0!==h?{text:s,position:this.Js.toPoint(h.category,this.valueAxis.oi.Jt(h.valueEnd,a.labelMargin*Math.sign(h.valueEnd))),alignment:this.Js.toPoint(0,-1*Math.sign(h.valueEnd)),rotation:a.labelRotation,sizePixels:this.gi.sr.Ih(s,a.labelFont,a.labelRotation)}:void 0}))),"after-bar"!==a.position||"stacks"===this.xF&&!a.displayStackedIndividuals?"inside-bar"!==a.position&&"inside-bar-start"!==a.position&&"inside-bar-centered"!==a.position&&"inside-bar-end"!==a.position||r.if.push(...i.map(((t,e)=>{const i=a.formatter({chart:this,bar:t,category:t.category,value:t.value,subCategory:t.subCategory});if(!i)return;const n=this.wF.get(t);if(void 0===n)return;const r="bipolar"===this.lF?Math.sign(n.valueEnd):"negative"===this.lF?-1:1,s=this.Js.toPoint(0,"inside-bar"===a.position||"inside-bar-end"===a.position?1*r:"inside-bar-centered"===a.position?0:-1*r);return{text:i,position:this.Js.toPoint(n.category,"inside-bar"===a.position||"inside-bar-end"===a.position?this.valueAxis.oi.Jt(n.valueEnd,-a.labelMargin*r):"inside-bar-centered"===a.position?(n.valueStart+n.valueEnd)/2:this.valueAxis.oi.Jt(n.valueStart,a.labelMargin*r)),alignment:s,rotation:a.labelRotation,sizePixels:this.UF(t)}}))):r.if.push(...i.map(((t,e)=>{const i=a.formatter({chart:this,bar:t,category:t.category,value:t.value,subCategory:t.subCategory});if(!i)return;const n=this.wF.get(t);return void 0!==n?{text:i,position:this.Js.toPoint(n.category,this.valueAxis.oi.Jt(n.valueEnd,a.labelMargin*Math.sign(n.valueEnd))),alignment:this.Js.toPoint(0,-1*Math.sign(n.valueEnd)),rotation:a.labelRotation,sizePixels:this.UF(t)}:void 0}))),r&&r.if.forEach((t=>{t&&h.push(n.add().Kr(t.text).eh(t.position).Hl(t.alignment).kr(t.rotation).th(a.labelFillStyle)._r(a.labelFont).Qr(a.labelShadow).setPointerEvents(!1))}))}return{labelMarginBeforeCategoryAxisPixels:s,labels:h}}$F(t,e){if(!this.SF||this.SF.labelFillStyle===na)return{x:0,y:0};const i=this.yF.get(t);if(i)return i;const n=this.SF.formatter(t,e),r=this.gi.sr.Ih(n,this.SF.labelFont,this.SF.labelRotation);return r.isEstimate?this.gi.Rs(!0):this.yF.set(t,r),r}UF(t){if(!this.cF||this.cF.labelFillStyle===na)return{x:0,y:0};const e=this.pF.get(t);if(e)return e;const i=this.gi.sr.Ih(this.cF.formatter({chart:this,bar:t,category:t.category,value:t.value,subCategory:t.subCategory}),this.cF.labelFont,this.cF.labelRotation);return i.isEstimate?this.gi.Rs(!0):this.pF.set(t,i),i}uF(){return this.ny.reduce(((t,e)=>{const i=this.UF(e);return{x:Math.max(t.x,i.x),y:Math.max(t.y,i.y)}}),{x:0,y:0})}vF(){this.bF=!0,this.gi.Rs()}Y(){return super.Y(),this.nF.Y(),this}j(){return super.j(),this.nF.j(),this}getMinimumSize(){return{x:200,y:200}}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}const jm={Disabled:void 0,None:void 0,Ascending:(t,e)=>t.value-e.value,Descending:(t,e)=>e.value-t.value,Alphabetical:(t,e)=>t.category.localeCompare(e.category)},Xm={...Au,DF:"vertical",fF:-1,AF:1},Wm={...Eu,DF:"horizontal",fF:1,AF:-1},Zm=(t,e,i)=>{const n=[[{component:e.bar,rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}]],r=t.valueAxis.getTitle();return r&&n.push([r]),e.subCategory?n.push([e.subCategory,"",{text:Ea(t.valueAxis.formatValue(e.bar.getValue()),t.valueAxis),font:{weight:"bold"}}]):n.push({text:Ea(t.valueAxis.formatValue(e.bar.getValue()),t.valueAxis),font:{weight:"bold"}}),n},qm=(t,e)=>Math.abs(t)+Math.abs(e);function Jm(t,e){const i=t.reduce(qm,0),n=(r=t,Math.max(...r.map((t=>t))));var r;const s=(t=>Math.min(...t.map((t=>t))))(t);return Math.max(e**2*n/i**2,i**2/(e**2*s))}const Km=t=>{let{height:e,width:i}=t;return e>i?{value:i,vertical:!1}:{value:e,vertical:!0}},Qm=t=>{let{data:e,dimensions:i}=t;const{x:n,y:r,width:s,height:o}=i,a=e.map((t=>t.value)).reduce(qm,0),l=e.map((t=>t.animatedValue)).reduce(qm,0),h=e.map((t=>t.animatedValue*o*s/l)),c=h.reduce(((t,e)=>t+e),0),u=h.map((t=>t/c*100)),d=h.filter(((t,e)=>u[e])),f={children:[],id:0,parentID:-1,name:"Main Rectangle",value:a,animatedValue:l,x:n,y:r,width:s,height:o,nodeIndex:-1,userNode:{name:"Main Rectangle",value:a}};if(1===e.length){const t={...e[0],x:i.x,y:i.y,width:i.width,height:i.height,userNode:{...e[0].userNode,value:e[0].value}};f.children.push(t)}else ty(d,Km(f).value,e,f);return f.children},$m=(t,e,i,n,r)=>{const s=t.reduce(qm,0)/e;t.forEach(((t,e)=>{const o=Math.abs(t)/s,{x:a,y:l,children:h}=r,c=n[h.length],u={...c,x:a,y:l,width:i?s:o,height:i?o:s,userNode:{...c.userNode,value:c.value}};i?r.y-=o:r.x+=o,h.push(u)})),i?(r.x+=s,r.y+=e,r.width-=s):(r.x-=e,r.y-=s,r.height-=s)},ty=(t,e,i,n)=>{const r=[{children:t,width:e,row:[]}];for(;r.length>0;){const t=r.pop();if(!t)continue;const{children:e,width:s,row:o}=t;let a=0;const l=[...o];for(;a<e.length;){const t=[...l,e[a]],o=Jm(l,s),h=Jm(t,s);if(!(0===l.length||o>h)){$m(l,s,Km(n).vertical,i,n),r.push({children:e.slice(a),width:Km(n).value,row:[]});break}l.push(e[a]),a+=1}a===e.length&&$m(l,s,Km(n).vertical,i,n)}};class ey extends Cd{constructor(t,e,i,n,r,s,o){var a;if(super(t,e,i,e.Vg("treeMapChart bg",0),n,e.gi.bi.treeMapChartBackgroundFillStyle||e.gi.bi.chartXYSeriesBackgroundFillStyle,e.gi.bi.treeMapChartBackgroundStrokeStyle||e.gi.bi.chartXYBackgroundStrokeStyle,e.gi.bi.treeMapChartTitleFont||e.gi.bi.chartXYTitleFont,e.gi.bi.treeMapChartTitleFillStyle||e.gi.bi.chartXYTitleFillStyle,e.gi.bi.treeMapChartTitleShadow||e.gi.bi.chartXYTitleShadow,o,null===(a=null==s?void 0:s.legend)||void 0===a?void 0:a.customLegend),this.YF=new Map,this.jF=[],this.HF={},this.WF=Fn([]),this.tk={speed:1},this.XF=ro,this.ZF="Go Back",this.JF=[],this.QF=this.bi.treeMapChartPathLabelFillStyle||this.bi.uiTextFillStyle,this.KF=this.bi.treeMapChartPathLabelFont||this.bi.uiTextFont,this.qF=this.bi.treeMapChartLabelHeaderFillStyle||this.bi.uiTextFillStyle,this.tI=this.bi.treeMapChartLabelHeaderFont||this.bi.uiTextFont,this.iI=this.bi.treeMapChartLabelFillStyle||this.bi.uiTextFillStyle,this.sI=this.bi.treeMapChartLabelFont||this.bi.uiTextFont,this.qm=!0,this.ZA=!1,this.eI=this.bi.treeMapChartParentColor||Hn,this.hI=this.bi.treeMapChartNodeStrokeStyle||this.bi.uiBackgroundStrokeStyle,this.rI=Zs,this.$b=this.bi.treeMapChartCornerRadius,this.iS=()=>{this.gi.Rs(),this.ZA=!0},this.nI=(t,e)=>{var i;const{collectionMember:n}=e,r=this.oI(n);r&&(this.yS=this.aI(r,t),this.qm&&this.gi._s.Gs(n,!0),(null===(i=this.getUserInteractions().drillDown)||void 0===i?void 0:i.click)&&this.engine.setMouseStyle(Yl.Point),this.gi.Rs())},this.lI=(t,e)=>{const{collectionMember:i}=e;this.oI(i)&&(this.yS=void 0,this.qm&&this.gi._s.Gs(i,!1),this.engine.setMouseStyle(Yl.Default),this.gi.Rs())},this.cI=(t,e)=>{var i;const{collectionMember:n}=e,r=this.oI(n);r&&(this.yS=this.aI(r,t),this.qm&&this.gi._s.Gs(n,!0),(null===(i=this.getUserInteractions().drillDown)||void 0===i?void 0:i.click)&&this.engine.setMouseStyle(Yl.Point),this.gi.Rs())},this.uI=(t,e)=>{var i;if(t.defaultPrevented)return;const{collectionMember:n}=e,r=this.oI(n);if(r){if(null===(i=this.getUserInteractions().drillDown)||void 0===i?void 0:i.click){const e=(null==r?void 0:r.children.length)?r:r.parentID?this.HF[r.parentID]:void 0;e&&(this.WF._([e]),this.yS=void 0,this.L.D("viewchange",{nodes:this.WF.C().map((t=>t.userNode))}),this.ZA=!0),t&&ys(t)}this.gi.Rs()}},this.dI=t=>{const e=this.HF[this.JF[t].id]?[this.HF[this.JF[t].id]]:this.jF;this.WF._(e),this.L.D("viewchange",{nodes:e.map((t=>t.userNode))}),this.ZA=!0,this.gi.Rs()},this.nodes=new Er,this.L=new Er,this.bi.treeMapChartNodeColors)this.fI=this.bi.treeMapChartNodeColors;else{const t=this.bi.pointSeriesFillStyle,e=t=>la(t)?t.getColor():Hn;this.fI="function"==typeof t?new Array(5).fill(0).map(((i,n)=>e(t(n)))):[e(t)]}this.gi.Ta(_h.Oo),this.gk=e.km("TreeMapChart plotting",0),this.vk=e.km("TreeMap UI plotting",1),this.addEventListener("resize",this.iS),this.Hh.Kr("TreeMap Chart");const l=e.Dm(),h=ts(s?s.cursorBuilder:void 0,Cf);this.Rm=vy(this,l,h.sm(l,this.uiScale,this.uiScale,Jr,this.bi),void 0,"show-pointed",iy,(()=>0)),this.AI=this.Ss.eA(),this.zg(r,this.uiScale),this.af=this.gk.gd(this.Kf).th(new ha).qe(this.hI),this.gI=this.gi._s.$o(this,{animationEnabled:!1!==(null==s?void 0:s.animationsEnabled)}),this.vI=new dd((()=>this.vk.Mn(this.Kf).setPointerEvents(!1))),this.yI=new dd((()=>this.vk.Mn(this.uiScale))),this.af.setPointerEvents(!0),this.nodes.Gi(this.af,(t=>{const e=this.oI(t);if(e)return e.userNode})),this.setAnimationsEnabled(!1!==(null==s?void 0:s.animationsEnabled)),this.af.addEventListener("pointerenter",this.nI),this.af.addEventListener("pointerleave",this.lI),this.af.addEventListener("click",this.uI),this.af.addEventListener("pointermove",this.cI),void 0!==(null==s?void 0:s.legend)&&this.legend.setOptions(s.legend)}setCornerRadius(t){return this.$b=t,this.ZA=!0,this.gi.Rs(),this}getCornerRadius(){return this.$b}setData(t){t=Array.isArray(t)?t.slice():[t];const{pI:e}=(()=>{let t=0;return{pI:e=>{var i;const n=e.map(((t,e)=>({node:t,parent:null}))),r=[];for(;n.length>0;){const e=n.pop();if(!e)continue;const{node:s,parent:o}=e;t+=1;const a={id:t,parentID:null==o?void 0:o.id,name:s.name,value:Number(s.value)||0,animatedValue:Number(s.value)||0,children:[],nodeIndex:o?o.nodeIndex:-1,userNode:s};o?o.children.push(a):r.push(a),null===(i=s.children)||void 0===i||i.forEach((t=>{n.push({node:t,parent:a})}))}const s=t=>{t.children.forEach(s),t.children.length>0&&(t.value+=t.children.reduce(((t,e)=>t+e.value),0),t.animatedValue+=t.children.reduce(((t,e)=>t+e.animatedValue),0),t.children.sort(((t,e)=>e.animatedValue-t.animatedValue)))};r.forEach(s);const o=1===e.length?r[0].children:r;return o.sort(((t,e)=>e.animatedValue-t.animatedValue)),o.forEach(((t,e)=>{t.nodeIndex=e;const i=e=>{e.children.forEach((e=>{e.nodeIndex=t.nodeIndex,i(e)}))};i(t)})),r}}})(),i=e(t);return i.forEach((t=>{const e=this.HF[t.id];e&&this.mI(t,e)})),this.yS=void 0,this.WF._(i),this.jF=i,this.HF=this.SI(i),this.ZA=!0,this.gi.Rs(),this}setAnimationValues(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.tk=t?{speed:e}:void 0,this.gi.Rs(),this}setInitPathButtonText(t){return this.ZF=t,this.ZA=!0,this.gi.Rs(),this}setDisplayedLevelsCount(t){return this.XF=t,this.ZA=!0,this.gi.Rs(),this}setDrillDownNode(t){var e,i;if(this.yS=void 0,void 0===t)this.WF._(this.jF);else{const n=[...this.jF];for(;n.length>0;){const r=n.pop();if(r){if(void 0!==r.value&&r.userNode===t||r.parentID&&Array.isArray(t)&&(null===(i=null===(e=this.HF[r.parentID])||void 0===e?void 0:e.userNode)||void 0===i?void 0:i.children)===t){const t=r.children.length?r:r.parentID?this.HF[r.parentID]:this.jF[0];this.WF._([t]);break}if(r.children)for(let t=r.children.length-1;t>=0;t-=1)n.push(r.children[t])}}}return this.L.D("viewchange",{nodes:this.WF.C().map((t=>t.userNode))}),this.ZA=!0,this.gi.Rs(),this}setNodeColoring(t){return t instanceof Array?(this.af.th(new ha),this.fI=t):(this.af.th(t),this.Vs.forEach((t=>{t.dg()&&t.add(this)}))),this.Vs.forEach((t=>t.Ns())),this.ZA=!0,this.gi.Rs(),this}setParentNodeColor(t){return this.eI=t,this.ZA=!0,this.gi.Rs(),this}setPathLabelFillStyle(t){return this.QF="function"==typeof t?t(this.QF):t,this.ZA=!0,this.gi.Rs(),this}getPathLabelFillStyle(){return this.QF}setPathLabelFont(t){return Ga(t)?this.KF=t:this.KF=t(this.KF),this.ZA=!0,this.gi.Rs(),this}getPathLabelFont(){return this.KF}setHeaderFont(t){return Ga(t)?this.tI=t:this.tI=t(this.tI),this.ZA=!0,this.gi.Rs(),this}getHeaderFont(){return this.tI}setHeaderFillStyle(t){return this.qF="function"==typeof t?t(this.qF):t,this.ZA=!0,this.gi.Rs(),this}getHeaderFillStyle(){return this.qF}setLabelFont(t){return Ga(t)?this.sI=t:this.sI=t(this.sI),this.ZA=!0,this.gi.Rs(),this}getLabelFont(){return this.sI}setLabelFillStyle(t){return this.iI="function"==typeof t?t(this.iI):t,this.ZA=!0,this.gi.Rs(),this}getLabelFillStyle(){return this.iI}setNodeBorderStyle(t){return this.af.qe(t),this.ZA=!0,this.gi.Rs(),this}getNodeBorderStyle(){return this.af.Wa()}setNodeEffect(t){return this.AI.Ds(t),this.gi.Rs(),this}getNodeEffect(){return this.AI.Es()}setCursor(t){return this.Rm.setCursor(t),this}getCursor(){return this.Rm.getCursor()}setCursorMode(t){return this.Rm.setCursorMode(t),this}getCursorMode(){return this.Rm.getCursorMode()}setCustomCursor(t){return this.Rm.setCustomCursor(t),this}setCursorDynamicBehavior(t){return this.Rm.Ym(t),this}setCursorFormatting(t){return this.Rm.setCursorFormatting(t),this}getCursorFormatting(){return this.Rm.getCursorFormatting()}addCursor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cf;const e=this.Tg(),i=t.sm(e,this.uiScale,this.uiScale,this.wg(e),this.bi);return this.Eg(i),i}setAnimationHighlight(t){return this.gI.jo(t),this}getAnimationHighlight(){return this.gI.Ho()}setHighlightOnHover(t){return this.qm=t,this}getHighlightOnHover(){return this.qm}aI(t,e){const i=this.gi.Ka(e);return{cursorPosition:{pointMarker:{x:i.engineX,y:i.engineY},pointMarkerScale:this.gi.oi,resultTable:{x:i.engineX,y:i.engineY},resultTableScale:this.gi.oi},name:t.name,value:t.value,node:t.userNode}}getMinimumSize(){}gg(){return[this]}sh(t){super.sh(t),super.Og();const e=Md.Wg(this.Hh,this.Ng),i=this.Vs.reduce(((t,i)=>{const n=i.zr(e,this.Vn);return{top:Math.max(t.top,n.top),bottom:Math.max(t.bottom,n.bottom),left:Math.max(t.left,n.left),right:Math.max(t.right,n.right)}}),{top:0,bottom:0,left:0,right:0});if(i.bottom===this.rI.bottom&&i.right===this.rI.right&&i.top===this.rI.top&&i.left===this.rI.left||(this.ZA=!0,this.rI=i),Md.Xg(this.Hh,this.Ng,this.uiScale.ri(),this.Vn,i),this.ZA&&this.WF.C().length){this.af.Ni(),this.YF.clear(),this.gI.Yo(),this.Oh&&this.bI(t);const n=Qm({data:this.WF.C(),dimensions:{x:0+this.Vn.left+i.left,y:this.Kf.y.getInnerEnd()-e-this.Vn.top-i.top,width:this.Kf.x.getInnerEnd()-this.Vn.right-this.Vn.left-i.right-i.left,height:this.Kf.y.getInnerEnd()-e-this.Vn.top-this.Vn.bottom-i.top-i.bottom}}),r=this.vI.DA();this.xI(n,r),r.finishPlot(),this.MI(),this.jF!==this.WF.C()&&this.jF.length>1&&this.JF.unshift({name:this.ZF,id:0});let s=0;const o=this.yI.DA(),a=this.KF;this.JF.forEach(((t,e)=>{const i=o.add(),n=this.gi.sr.Ih(t.name,a,0);let r;i.Kr("\u2190 ".concat(t.name))._r(a).eh({x:0,y:100}).Hl({x:-1,y:1}).bn({left:this.Vn.left+s,top:this.Vn.top,right:0,bottom:0}).th(this.QF),i.addEventListener("click",(()=>this.dI(e))),i.addEventListener("pointerenter",(()=>{r=this.engine.setMouseStyle(Yl.Point,r)})),i.addEventListener("pointerleave",(()=>{this.engine.restoreMouseStyle(r)})),s+=n.x+25})),o.finishPlot(),this.WF.C().every((t=>t.value===t.animatedValue))?this.ZA=!1:this.gi.Rs(!0)}return this.Rm.sh(!1,[],void 0,{explicitTarget:this.yS}),this.Vs.forEach((t=>t.sh(e,this.Vn))),this}dispose(){return this.vk.N(),this.gk.N(),this.Rm.N(),this.af.dispose(),this.YF.clear(),this.vI.zA(),this.yI.zA(),super.dispose()}Y(){return super.Y(),this}j(){return super.j(),this}Hs(){return Rs(this.af.Sr(),this.af.wi())}xI(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const r=t.map(((t,e)=>({node:t,isChild:i,visibleDepth:n}))),s=this.$b?{extent:this.$b,c_x1_y1:!0,c_x1_y2:!0,c_x2_y1:!0,c_x2_y2:!0}:void 0;for(;r.length>0;){const t=r.pop();if(!t)continue;const{node:i,visibleDepth:n,opacity:o}=t,{x:a,y:l,height:h,width:c,children:u,animatedValue:d,name:f,nodeIndex:g}=i,p=this.fI,m=0===n&&1===this.WF.C().length?this.eI:p[g%p.length],y=this.af.Uo().md(a,l,a+c,l-h).wI(m.setA(m.getA()*((null!=o?o:255)/255))).vS(d).pd(s);this.YF.set(y,i),this.gI.Uo(y,(t=>y.Fi(t)));const v=a+5,x=l+25+5,b=Math.max(h-25-5,0),S=Math.max(c-5-5,0);if(u&&u.length&&n<this.XF&&S>15&&b>15){const t=Qm({data:u,dimensions:{x:S>0?v:a,y:b>0?l-25:x,width:S,height:b}});for(let e=0;e<t.length;e+=1){const s=(255-(u.length>7?50:150))/(u.length-1),a=1===i.id&&1===this.jF.length||this.jF===this.WF.C()?255:o?o/(n+1):255-e*s;r.push({node:t[e],isChild:!0,visibleDepth:n+1,opacity:a})}}const A=0===n&&1===this.WF.C().length?this.qF:this.iI,E=0===n?this.tI:this.sI,w=this._I(f,c-25,E),k=this.gi.sr.Ih(w,E,0),C=e.add();c-25>k.x&&h>25?C.Kr(w).eh({x:a+5,y:l-2.5}).Hl({x:-1,y:1}).th(A)._r(E):C.Kr("")}}SI(t){const e={},i=[...t];for(;i.length>0;){const t=i.pop();t&&(e[t.id]=t,t.children&&i.push(...t.children))}return e}oI(t){if(!this.ZA&&t)return this.YF.get(t)}MI(){this.JF=[];const t=this.WF.C()[0].id;let e=this.HF[t].parentID;for(;e;)this.JF.push({name:this.HF[e].name,id:e}),e=this.HF[e].parentID;return this.JF.reverse()}_I(t,e,i){let n=this.gi.sr.Ih(t,i,0).x;if(n<=e)return t;const r=t.split(" ");let s=t;for(;r.length>1&&n>e;)r.pop(),s="".concat(r.join(" "),"..."),n=this.gi.sr.Ih(s,i,0).x;if(n>e)for(s="".concat(r[0],"..."),n=this.gi.sr.Ih(s,i,0).x;s.length>3&&n>e;)s="".concat(s.substring(0,s.length-4),"..."),n=this.gi.sr.Ih(s,i,0).x;return s.length<=3&&n>e?"":s}bI(t){var e;const i=[...this.jF];for(;i.length>0;){const n=i.pop();if(!n)continue;const r=n.value-n.animatedValue;if(Math.abs(r)<.0015*n.value||void 0===this.tk)n.animatedValue=n.value;else{const i=r/255*((null===(e=this.tk)||void 0===e?void 0:e.speed)||1)*t;n.animatedValue+=i,(r>0&&n.animatedValue>n.value||r<0&&n.animatedValue<n.value)&&(n.animatedValue=n.value)}n.children&&n.children.length>0&&i.push(...n.children)}}mI(t,e){const i=[{current:t,previous:e}];for(;i.length>0;){const t=i.pop();if(!t)continue;const{current:e,previous:n}=t;e.animatedValue=this.Oh?n.animatedValue:e.value,n.nodeIndex<0?e.nodeIndex=0:e.nodeIndex=n.nodeIndex;const r=new Map(n.children.map((t=>[t.id,t])));e.children.forEach(((t,e)=>{const s=r.get(t.id);i.push({current:t,previous:s||n})}))}}setUserInteractions(t){return this.uh=void 0===t?{drillDown:{click:!1}}:t,this}getUserInteractions(){return Yr({drillDown:{click:!0}},this.uh)}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}const iy=(t,e,i)=>[[{text:e.name,rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[{text:e.value.toString(),font:{weight:"bold"}}]];class ny extends Cd{constructor(t,e,i,n,r,s,o){var a;super(t,e,i,e.Vg("gaugeChart bg",0),n,e.gi.bi.gaugeChartBackgroundFillStyle,e.gi.bi.gaugeChartBackgroundStrokeStyle,e.gi.bi.gaugeChartTitleFont,e.gi.bi.gaugeChartTitleFillStyle,e.gi.bi.gaugeChartTitleShadow,s,null===(a=null==o?void 0:o.legend)||void 0===a?void 0:a.customLegend),this.Gc=this.bi.gaugeChartStartAngle,this.$c=this.bi.gaugeChartEndAngle,this.kI={start:0,end:100},this.S=0,this.CI=[],this.TI=this.bi.gaugeChartBarThickness,this.FI=this.bi.gaugeChartValueIndicatorThickness,this.II=this.bi.gaugeChartNeedleLength,this.LI=this.bi.gaugeChartNeedleThickness,this.BI=this.bi.gaugeChartNeedleFillStyle,this.DI=this.bi.gaugeChartNeedleStrokeStyle,this.yd=this.bi.gaugeChartRoundedEdges,this.RI=!0,this.EI=!0,this.OI=!0,this.zI=[],this.VI=[],this.NI=!0,this.GI=!0,this.Q_=this.S,this.$I=t=>Number.isInteger(t)?t.toString():t.toFixed(2),this.UI=this.bi.gaugeChartBarGradient,this.YI=t=>Number.isInteger(t)?t.toString():t.toFixed(2),this.jI=this.bi.gaugeChartTickFont,this.HI=this.bi.gaugeChartValueLabelFont,this.WI=this.bi.gaugeChartValueLabelFillStyle,this.XI=this.bi.gaugeChartUnitLabelFont,this.ZI=this.bi.gaugeChartUnitLabelFillStyle,this.JI=this.bi.gaugeChartTickFillStyle,this.QI=this.bi.gaugeChartBarColor,this.KI=this.bi.gaugeChartGlowColor,this.qI=this.bi.gaugeChartGlowColor.getA(),this.tP=1,this.iP=1,this.sP=this.bi.gaugeChartNeedleAlignment,this.eP=!1,this.hP=this.bi.gaugeChartGapBetweenBarAndValueIndicators,this.rP=this.bi.gaugeChartBarStrokeStyle,this.rI=Zs,this.nP=!1,this.L=new Er,this.gi.Ta(_h.Mo),this.Hh.Kr("Gauge Chart"),this.zg(r,this.Kf),this.setAnimationsEnabled(!1!==(null==o?void 0:o.animationsEnabled)),this.oP=this.QI,this.aP=this.KI,this.lP=Vn(0,0,0,0),this.cP=this.Ss.eA(),this.uP=this.Ss.eA().Ds(this.bi.effectsText),this.dP=this.Mg.wu(this.Kf).qe(this.rP).setPointerEvents(!1),this.fP=this.Mg.bd(this.Kf).Qc(0).yh(360).iu(0).qe(Br).setPointerEvents(!1),this.AP=this.$g.gh(this.Kf).Ah(this.bi.gaugeChartNeedleStrokeStyle).setPointerEvents(!1),this.gP=this.$g.gh(this.Kf).Ah(new tl({thickness:this.LI,fillStyle:this.BI})).setPointerEvents(!1),this.vP=this.$g.Mn(this.Kf)._r(this.HI).th(this.WI).setPointerEvents(!1),this.lf=this.$g.Mn(this.Kf)._r(this.XI).th(this.ZI).Kr("").setPointerEvents(!1),this.yP=this.Mg.Mn(this.Kf)._r(this.jI).th(this.JI).setPointerEvents(!1),this.pP=this.Mg.Mn(this.Kf)._r(this.jI).th(this.JI).setPointerEvents(!1),this.cP.Ts([this.dP]),this.uP.Ts([this.vP,this.lf,this.yP,this.pP]),this.mP(),this.addEventListener("resize",(()=>{this.eP=!0}));const l={backgroundVisible:!0,...null==o?void 0:o.legend};this.legend.setOptions(l)}mP(){this.gP.Ah((t=>t.setThickness(this.LI))),this.AP.Ah((t=>t.setThickness(2*this.DI.getThickness()+this.LI)))}setAnimationsEnabled(t){return this.Oh=t,this.GI=t,this.NI=t,this}setInterval(t,e){return this.kI={start:t,end:e},this.eP=!0,this.gi.Rs(),this}getInterval(){return this.kI}setTickFillStyle(t){return this.JI="function"==typeof t?t(this.JI):t,this.VI.forEach((e=>{e.start.th(t),e.end.th(t)})),this.yP.th(t),this.pP.th(t),this.eP=!0,this.gi.Rs(),this}getTickFillStyle(){return this.JI}setTickFont(t){return this.jI="function"==typeof t?t(this.jI):t,this.VI.forEach((e=>{e.start._r(t),e.end._r(t)})),this.yP._r(t),this.pP._r(t),this.eP=!0,this.gi.Rs(),this}getTickFont(){return this.jI}setTickFormatter(t){return this.$I=t,this.eP=!0,this.gi.Rs(),this}getTickFormatter(){return this.$I}setValueLabelFillStyle(t){return this.WI="function"==typeof t?t(this.WI):t,this.vP.th(t),this.eP=!0,this.gi.Rs(),this}getValueLabelFillStyle(){return this.vP.Sr()}setValueLabelFont(t){return this.HI="function"==typeof t?t(this.HI):t,this.vP._r(t),this.eP=!0,this.gi.Rs(),this}getValueLabelFont(){return this.vP.wr()}setValueFormatter(t){return this.YI="string"==typeof t?e=>t:t,this.eP=!0,this.gi.Rs(),this}getValueLabel(){return this.vP.sn()||this.YI}setUnitLabelFillStyle(t){return this.ZI="function"==typeof t?t(this.ZI):t,this.lf.th(t),this.eP=!0,this.gi.Rs(),this}getUnitLabelFillStyle(){return this.lf.Sr()}setUnitLabelFont(t){return this.XI="function"==typeof t?t(this.XI):t,this.lf._r(t),this.eP=!0,this.gi.Rs(),this}getUnitLabelFont(){return this.lf.wr()}setUnitLabel(t){return this.lf.Kr(t),this.eP=!0,this.gi.Rs(),this}getUnitLabel(){return this.lf.sn()}setNeedleFillStyle(t){return this.BI="function"==typeof t?t(this.BI):t,this.gP.Ah((e=>e.setFillStyle(t))),this.eP=!0,this.gi.Rs(),this}getNeedleFillStyle(){return this.gP.co().getFillStyle()}setNeedleThickness(t){return this.LI=t,this.mP(),this.eP=!0,this.gi.Rs(),this}getNeedleThickness(){return this.LI}setNeedleStrokeStyle(t){return this.DI="function"==typeof t?t(this.DI):t,this.AP.Ah(t),this.mP(),this.eP=!0,this.gi.Rs(),this}getNeedleStrokeStyle(){return this.AP.co()}setNeedleLength(t){return this.II=t,this.eP=!0,this.gi.Rs(),this}getNeedleLength(){return this.II}setBarColor(t){return this.QI=t,this.eP=!0,this.gi.Rs(),this}getBarColor(){return this.oP}setBarGradient(t){return this.UI=t,this.eP=!0,this.gi.Rs(),this}getBarGradient(){return this.UI}setBarStrokeStyle(t){return this.rP="function"==typeof t?t(this.rP):t,this.dP.qe(t),this.eP=!0,this.gi.Rs(),this}getBarStrokeStyle(){return this.dP.Wa()}setBarThickness(t){return this.TI=t,this.eP=!0,this.gi.Rs(),this}getBarThickness(){return this.TI}setAngleInterval(t,e){return Math.abs(t-e)>360&&(e=t<e?t+360:t-360),this.Gc=t,this.$c=e,this.eP=!0,this.gi.Rs(),this}getAngleInterval(){return{start:this.Gc,end:this.$c}}setValue(t){return this.nP&&this.gi.Ta(_h.Do),this.nP=!0,this.S=t,this.NI||(this.Q_=this.S),this.eP=!0,this.gi.Rs(),this}getValue(){return this.S}setValueAnimation(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.NI=t,this.tP=Math.max(0,e),this.eP=!0,this.gi.Rs(),this}setColorAnimation(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.GI=t,this.iP=Math.max(0,e),this.eP=!0,this.gi.Rs(),this}setRoundedEdges(t){return this.yd=t,this.eP=!0,this.gi.Rs(),this}getRoundedEdges(){return this.yd}setValueIndicators(t){return this.CI=t,this.zI.forEach((t=>{t.dispose()})),this.zI.length=0,this.VI.forEach((t=>{t.start.dispose(),t.end.dispose()})),this.VI.length=0,this.CI.forEach((t=>{const e=new aa({color:t.color}),i=this.Mg.wu(this.Kf).qe(Br).th(e).setPointerEvents(!1);this.zI.push(i);const n=this.Mg.Mn(this.Kf)._r(this.jI).th(this.JI).setPointerEvents(!1),r=this.Mg.Mn(this.Kf)._r(this.jI).th(this.JI).setPointerEvents(!1);this.VI.push({start:n,end:r})})),this.cP.Ts([this.dP,...this.zI]),this.uP.Ts([this.vP,this.lf,this.yP,this.pP,...this.VI.map((t=>[t.start,t.end])).flat()]),this.eP=!0,this.gi.Rs(),this}getValueIndicators(){return this.CI}setValueIndicatorThickness(t){return this.FI=t,this.eP=!0,this.gi.Rs(),this}getValueIndicatorThickness(){return this.FI}setAutomaticBarColoring(t){return this.OI=!!t,this.eP=!0,this.gi.Rs(),this}getAutomaticBarColoring(){return this.OI}setGlowColor(t){return void 0===t?(this.RI=!1,this.aP=void 0):"object"==typeof t&&"auto"in t?(this.EI=t.auto,t.auto&&(this.aP=void 0),void 0!==t.alpha&&(this.qI=t.alpha),this.RI=!0):(this.aP=t,this.qI=t.getA(),this.EI=!1,this.RI=!0),this.eP=!0,this.gi.Rs(),this}getAutomaticGlowColoring(){return this.EI}setNeedleAlignment(t){return this.sP=t,this.eP=!0,this.gi.Rs(),this}getNeedleAlignment(){return this.sP}setGapBetweenBarAndValueIndicators(t){return this.hP=t,this.eP=!0,this.gi.Rs(),this}getGapBetweenBarAndValueIndicators(){return this.hP}setBarEffect(t){return this.cP.Ds(t),this.gi.Rs(),this}getBarEffect(){return this.cP.Es()}setLabelEffect(t){return this.uP.Ds(t),this.gi.Rs(),this}getLabelEffect(){return this.uP.Es()}sh(t){var e;if(super.sh(t),super.Og(),this.Q_!==this.S){if(this.NI){const e=5e-4*t,i=.003*t,n=Math.sign(this.S-this.Q_);this.Q_=this.Q_+e*n+i*this.tP*(this.S-this.Q_),n!==Math.sign(this.S-this.Q_)?this.Q_=this.S:this.gi.Rs(!0)}else this.Q_=this.S;this.eP=!0}let i=this.CI.find((t=>this.Q_>=t.start&&this.Q_<=t.end));if(i||(this.Q_<this.kI.start?i=this.CI.find((t=>t.start===this.kI.start)):this.Q_>this.kI.end&&(i=this.CI.find((t=>t.end===this.kI.end)))),this.oP=this.OI&&i?i.color:this.QI,this.GI){if(this.lP!==this.oP){const e=this.lP.getR(),i=this.lP.getG(),n=this.lP.getB(),r=this.oP.getR(),s=this.oP.getG(),o=this.oP.getB(),a=Math.sign(r-e),l=Math.sign(s-i),h=Math.sign(o-n),c=.005*t,u=.003*t;this.lP=Vn(e+c*a+u*this.iP*(r-e),i+c*l+u*this.iP*(s-i),n+c*h+u*this.iP*(o-n));const d=Math.abs(r-this.lP.getR()),f=Math.abs(s-this.lP.getG()),g=Math.abs(o-this.lP.getB());d<1&&f<1&&g<1?this.lP=this.oP:this.gi.Rs(!0),this.eP=!0}}else this.lP=this.oP;const n=Md.Wg(this.Hh,this.Ng),r=this.Vs.reduce(((t,e)=>{const i=e.zr(n,this.Vn);return{top:Math.max(t.top,i.top),bottom:Math.max(t.bottom,i.bottom),left:Math.max(t.left,i.left),right:Math.max(t.right,i.right)}}),{top:0,bottom:0,left:0,right:0});if(r.right===this.rI.right&&r.bottom===this.rI.bottom&&r.top===this.rI.top&&r.left===this.rI.left||(this.eP=!0,this.rI=r),this.eP){let t=ro,s=so,o=ro,a=so;if(new Array(100).fill(0).forEach(((e,i,n)=>{const r=this.Gc+i/n.length*(this.$c-this.Gc),l=Math.sin(r*Math.PI/180),h=Math.cos(r*Math.PI/180);l<t&&(t=l),l>s&&(s=l),h<o&&(o=h),h>a&&(a=h)})),this.UI?this.dP.th(new Wn({stops:[{offset:0,color:_n("#000000")},{offset:1,color:this.lP}],position:{x:.5,y:.5}})):this.dP.th(new aa({color:this.lP})),this.RI){const t=this.EI&&i?this.lP:null!==(e=this.aP)&&void 0!==e?e:this.KI;this.fP.th(new Wn({stops:[{offset:0,color:t.setA(this.qI)},{offset:1,color:t.setA(0)}],position:{x:.5,y:.5},extent:Gn.farthestSide}))}else this.fP.th(na);const l=this.$I(this.kI.start),h=this.$I(this.kI.end);let c=0,u=0;const d=this.gi.sr.Ih(l,this.yP.wr(),this.yP.Cr()),f=this.gi.sr.Ih(h,this.pP.wr(),this.pP.Cr());d.x>c&&(c=d.x),d.y>u&&(u=d.y),f.x>c&&(c=f.x),f.y>u&&(u=f.y),this.VI.forEach(((t,e)=>{if(e>=this.CI.length)return;const i=this.CI[e],n=this.$I(i.start),r=this.$I(i.end),s=this.gi.sr.Ih(n,t.start.wr(),t.start.Cr()),o=this.gi.sr.Ih(r,t.end.wr(),t.end.Cr());s.x>c&&(c=s.x),s.y>u&&(u=s.y),o.x>c&&(c=o.x),o.y>u&&(u=o.y)}));const g=this.CI.length>0?this.FI:0,p=this.Kf.getInnerIntervalPixels();Md.Xg(this.Hh,this.Ng,this.uiScale.ri(),this.Vn,r);const m={x:p.x-(this.Vn.left+this.Vn.right),y:p.y-(this.Vn.bottom+this.Vn.top)-n},y={x:m.x-r.left-r.right,y:m.y-r.top-r.bottom},v={x:this.Vn.left+(m.x+r.left-r.right)/2,y:this.Vn.bottom+(m.y+r.bottom-r.top)/2},x=g+2*this.hP+this.TI/2,b=c+x,S=u+x,A=S+n,E=y.y-(A+S),w=y.x-(b+b),k=Math.max(0,E<w?E:w),C=.5*k,M=.5*C,T=(t+s)*M,P=(o+a)*M,F={x:v.x-P,y:v.y-T},L=k>0;if(this.dP.setVisible(L),this.zI.forEach((t=>t.setVisible(L))),this.gP.setVisible(L),this.AP.setVisible(L),this.fP.setVisible(L),this.lf.setVisible(L),this.vP.setVisible(L),this.yP.setVisible(L),this.pP.setVisible(L),this.VI.forEach((t=>{t.start.setVisible(L),t.end.setVisible(L)})),!L)return;const R={x:v.x-.5*P,y:v.y-.5*T};this.fP.eh(v).Kc(.5*Math.min(y.x,p.y)),this.vP.eh(R).Kr(this.YI(this.Q_));let B=this.vP.pu(),z=this.lf.pu();0===B.y&&(B=this.gi.sr.Ih(this.vP.sn(),this.vP.wr(),this.vP.Cr())),0===z.y&&(z=this.gi.sr.Ih(this.lf.sn(),this.lf.wr(),this.lf.Cr())),this.lf.eh({x:R.x,y:R.y-B.y-z.y/4});const I=oy(this.kI,this.Gc,this.$c,this.Q_,F,C+this.sP*(this.II/2+this.TI/2)),D=I.angle*(Math.PI/180),V=.5*this.II,_=Math.cos(D),N=Math.sin(D);this.gP.ph({x:I.x+V*_,y:I.y+V*N}).yh({x:I.x-V*_,y:I.y-V*N}),this.AP.ph({x:I.x+V*_,y:I.y+V*N}).yh({x:I.x-V*_,y:I.y-V*N});const O=ry(F,C,this.Gc,this.$c,this.TI,this.yd,!1,!1);this.dP.oc(O).Ci({min:{x:F.x-C,y:F.y-C},max:{x:F.x+C,y:F.y+C}});const H=F.y+C,U=F.y-C,Y=F.x+C,G=F.x-C,[j,X]=this.kI.start<this.kI.end?[this.kI.start,this.kI.end]:[this.kI.end,this.kI.start],W=C+.5*this.TI+g/2+this.hP,Z=W+g/2;this.CI.forEach(((t,e)=>{var i,n;const r=t.start>=j&&t.end<=X;this.zI[e].setVisible(r),this.VI[e].start.setVisible(r),this.VI[e].end.setVisible(r);const s=oy(this.kI,this.Gc,this.$c,t.start,F,Z),o=oy(this.kI,this.Gc,this.$c,t.end,F,Z),a=ry(F,W,s.angle,o.angle,this.FI,this.yd,!(0===e),!(e===this.CI.length-1));this.zI[e].oc(a);const l=this.kI.start===t.start||this.kI.end===t.start,h=this.kI.start===t.end||this.kI.end===t.end||this.CI.some((e=>e.start===t.end&&e!==t));this.VI[e].start.eh({x:s.x,y:s.y}).Hl({x:Math.min(1,Math.max(-1,2*(s.x-Y)/(G-Y)-1)),y:Math.min(1,Math.max(-1,2*(s.y-H)/(U-H)-1))}).Kr(null!==(i=t.startLabel)&&void 0!==i?i:l?"":this.$I(t.start)),this.VI[e].end.eh({x:o.x,y:o.y}).Hl({x:Math.min(1,Math.max(-1,2*(o.x-Y)/(G-Y)-1)),y:Math.min(1,Math.max(-1,2*(o.y-H)/(U-H)-1))}).Kr(null!==(n=t.endLabel)&&void 0!==n?n:h?"":this.$I(t.end))}));const q=this.CI.some((t=>t.start<t.end?this.kI.start>=t.start&&this.kI.start<=t.end:this.kI.start<=t.start&&this.kI.start>=t.end)),J=oy(this.kI,this.Gc,this.$c,this.kI.start,F,q?Z:W-this.hP);this.yP.eh({x:J.x,y:J.y}).Hl({x:Math.min(1,Math.max(-1,2*(J.x-Y)/(G-Y)-1)),y:Math.min(1,Math.max(-1,2*(J.y-H)/(U-H)-1))}).Kr(l);const K=this.CI.some((t=>t.start<t.end?this.kI.end>=t.start&&this.kI.end<=t.end:this.kI.end<=t.start&&this.kI.end>=t.end)),Q=oy(this.kI,this.Gc,this.$c,this.kI.end,F,K?Z:W-this.hP);this.pP.eh({x:Q.x,y:Q.y}).Hl({x:Math.min(1,Math.max(-1,2*(Q.x-Y)/(G-Y)-1)),y:Math.min(1,Math.max(-1,2*(Q.y-H)/(U-H)-1))}).Kr(h),this.eP=!1}this.Vs.forEach((t=>t.sh(n,this.Vn)))}getMinimumSize(){return{x:150,y:150}}gg(){return[]}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}const ry=function(t,e,i,n,r){let s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],a=!(arguments.length>7&&void 0!==arguments[7])||arguments[7];const l=[],h=.5*r,c=i>n,u=Math.sign(i-n),d=-1*u;if(s){const t=h/(2*Math.PI*e)*360+.1;o&&(i+=t*d),a&&(n+=t*u)}else i+=.1*d,n+=.1*u;const f=sy(t,e+h,i,n,c);if(l.push(...f),s){const r={x:t.x+e*Math.cos(n*(Math.PI/180)),y:t.y+e*Math.sin(n*(Math.PI/180))};let s;s=i>n?sy(r,h,n+180,n+360,c):sy(r,h,n-180,n-360,c),l.push(...s)}const g=sy(t,e-h,n,i,!c);if(l.push(...g),s){const r={x:t.x+e*Math.cos(i*(Math.PI/180)),y:t.y+e*Math.sin(i*(Math.PI/180))};let s;s=i>n?sy(r,h,i-180,i-360,c):sy(r,h,i+180,i+360,c),l.push(...s)}return l},sy=(t,e,i,n,r)=>{i<n&&([i,n]=[n,i]);const s=[],o=r?-2:2,a=r?t=>t>n:t=>t<i;for(let u=r?i:n;a(u);u+=o){const i=u*(Math.PI/180),n=t.x+e*Math.cos(i),r=t.y+e*Math.sin(i);s.push({x:n,y:r})}const l=(r?n:i)*(Math.PI/180),h=t.x+e*Math.cos(l),c=t.y+e*Math.sin(l);return s.push({x:h,y:c}),s},oy=(t,e,i,n,r,s)=>{const[o,a]=t.start<t.end?[t.start,t.end]:[t.end,t.start],l=Math.max(o,Math.min(a,n)),h=t.start<t.end?i-e:e-i,c=t.start<t.end?e+(l-t.start)/(t.end-t.start)*h:e-(l-t.start)/(t.end-t.start)*h,u=c*(Math.PI/180);return{x:r.x+s*Math.cos(u),y:r.y+s*Math.sin(u),angle:Math.round(c)}};class ay extends Rd{constructor(t,e,i,n,r,s,o,a,l,h,c){super(t,e,i,n,r,s,o,a,l,h),this.SP=c}setLabelAlignment(t){return this.SP=t,this.Rs(),this}getLabelAlignment(){return this.SP}}class ly extends wh{constructor(t,e,i,n,r,s,o){let a;super(t,{un:()=>t.bP?t.bP[this.key].max:void 0,cn:()=>t.bP?t.bP[this.key].min:void 0,fn:()=>{}},s,e,i,{numeric:e.parallelCoordinateAxisNumericTicks||e.yAxisNumericTicks,datetime:e.parallelCoordinateAxisDateTimeTicks||e.yAxisDateTimeTicks,time:e.parallelCoordinateAxisTimeTicks||e.yAxisTimeTicks},{type:"linear"}),this.xP=[],this.Tf=[],this.MP=8,this.ci=!1,this.L=new Er,this.chart=t,this.key=n,this.userID=r,this.Ss=this.chart.gi.Ss.bs(this,{}),this.Zs=o,this.wP=o.ih(t._P).th(this.bi.parallelCoordinateAxisBackgroundFillStyle||na).qe(Br).setPointerEvents(!1),this.Kh=o.Mn(t._P)._r(this.bi.parallelCoordinateAxisTitleFont||this.bi.yAxisTitleFont).th(this.bi.parallelCoordinateAxisTitleFillStyle||this.bi.yAxisTitleFillStyle).setPointerEvents(!1).bn(Zs).xn(Zs),this.Tr=this.Ss.eA([this.Kh]).Ds(e.effectsText),this.oF=o.gh(t._P).Ah(e.parallelCoordinateAxisStrokeStyle||e.yAxisStrokeStyle),this.setAnimationsEnabled(!1),this.addEventListener("intervalchange",(e=>{t.kP(this,e.start,e.end)})),this.oF.addEventListener("pointerenter",(()=>{var t,e;(null===(e=null===(t=this.chart.getUserInteractions().rangeSelectors)||void 0===t?void 0:t.create)||void 0===e?void 0:e.doubleClickAxis)&&(a=this.chart.engine.setMouseStyle(Yl.Point))})),this.oF.addEventListener("pointerleave",(()=>{a=this.chart.engine.restoreMouseStyle(a)})),this.oF.addEventListener("dblclick",(t=>{var e,i;t.defaultPrevented||(null===(i=null===(e=this.chart.getUserInteractions().rangeSelectors)||void 0===e?void 0:e.create)||void 0===i?void 0:i.doubleClickAxis)&&(this.addRangeSelector(),ys(t))})),this.setTitle(n)}setBackgroundFillStyle(t){return this.wP.th(t),this.Zs.Rs(),this}getBackgroundFillStyle(){return this.wP.Sr()}setStrokeStyle(t){const e="function"==typeof t?t(this.oF.co()):t,i=e.getFillStyle();return fa(i)?(this.CP=i.lut,this.chart.TP=!0):this.CP=void 0,this.oF.Ah(e),this.chart.gi.Rs(),this}getStrokeStyle(){return this.oF.co()}setTickStrategy(t,e){return super.dr(t,e)}getTickStrategy(){return this.Bh}addRangeSelector(){const t=this.Vr(),e=this.Zs.ih(this.chart._P).th(this.bi.parallelCoordinateAxisRangeSelectorFillStyle||this.bi.dataGridScrollBarFillStyle).qe(this.bi.parallelCoordinateAxisRangeSelectorStrokeStyle||this.bi.dataGridScrollBarStrokeStyle);let i;const n=t=>{var e,n;(null===(n=null===(e=this.chart.getUserInteractions().rangeSelectors)||void 0===e?void 0:e.move)||void 0===n?void 0:n.drag)&&(i=this.chart.engine.setMouseStyle(Yl.Vertical,i))},r=t=>{i=this.chart.engine.restoreMouseStyle(i)};e.addEventListener("pointermove",n),e.addEventListener("pointerleave",r),e.addEventListener("pointerdown",(t=>{var o,a;if(!(null===(a=null===(o=this.chart.getUserInteractions().rangeSelectors)||void 0===o?void 0:o.move)||void 0===a?void 0:a.drag))return;const l=this.chart.getCursorMode();let h;this.chart.setCursorMode(void 0);const c=this.chart.gi.Ka(t),u=hr({x:c.engineX,y:c.engineY},this.chart.gi.oi,this.chart._P),d=this.chart._P.y.Jt(e.Zi(),10),f=this.chart._P.y.Jt(e.Ji(),-10);h=u.y<=d?"scaleMin":u.y>=f?"scaleMax":"move",ys(t);let g=t;const p=t=>{if(void 0===this.FP)return;const e=.05*Math.abs(this.gr-this.Ar),i=(t.clientX,g.clientX,t.clientY-g.clientY);if(g=t,"move"===h){const t=s.max-s.min,e=this.chart.IP(s.max,this.FP,this).y,n=this.chart._P.y.Jt(e,-i),r=this.chart.PP(n,this.FP,this);s.max=Qr(r,Math.max(this.Ar,this.gr),Math.min(this.Ar,this.gr)+t),s.min=s.max-t}else if("scaleMax"===h){const t=this.chart.IP(s.max,this.FP,this).y,n=this.chart._P.y.Jt(t,-i),r=this.chart.PP(n,this.FP,this);s.max=Qr(r,s.min+e,Math.max(this.Ar,this.gr))}else if("scaleMin"===h){const t=this.chart.IP(s.min,this.FP,this).y,n=this.chart._P.y.Jt(t,-i),r=this.chart.PP(n,this.FP,this);s.min=Qr(r,s.max-e,Math.min(this.Ar,this.gr))}this.chart.LP(),ys(t)},m=s=>{s.pointerId===t.pointerId&&(this.chart.setCursorMode(l),e.addEventListener("pointermove",n),e.addEventListener("pointerleave",r),jr.removeEventListener("pointermove",p),jr.removeEventListener("pointerup",m),i=this.chart.engine.restoreMouseStyle(i))};e.removeEventListener("pointermove",n),e.removeEventListener("pointerleave",r),jr.addEventListener("pointermove",p),jr.addEventListener("pointerup",m)})),e.addEventListener("dblclick",(t=>{var e,i;if(!(null===(i=null===(e=this.chart.getUserInteractions().rangeSelectors)||void 0===e?void 0:e.dispose)||void 0===i?void 0:i.doubleClick))return;const n=this.xP.indexOf(s);n>=0&&this.xP.splice(n,1),s.shape.dispose(),this.chart.LP(),ys(t)}));const s={min:t.min+.25*(t.max-t.min),max:t.max-.25*(t.max-t.min),shape:e};this.xP.push(s),this.chart.LP();const o={setInterval:(t,e)=>(s.min=Math.min(t,e),s.max=Math.max(t,e),this.chart.LP(),o),setPointerEvents:t=>(e.setPointerEvents(t),o),dispose:()=>{const t=this.xP.indexOf(s);return t>=0&&(this.xP.splice(t,1),this.chart.LP()),o}};return o}addCustomTick(){const t=new ay((()=>this.chart.gi.Rs()),(()=>{const e=this.Tf.indexOf(t);e>=0&&this.Tf.splice(e,1)}),(this.bi.parallelCoordinateAxisNumericTicks||this.bi.yAxisNumericTicks).majorTickStyle.tickStyle,(this.bi.parallelCoordinateAxisNumericTicks||this.bi.yAxisNumericTicks).majorTickStyle.tickLength,(this.bi.parallelCoordinateAxisNumericTicks||this.bi.yAxisNumericTicks).majorTickStyle.gridStrokeStyle,(this.bi.parallelCoordinateAxisNumericTicks||this.bi.yAxisNumericTicks).majorTickStyle.tickPadding,(this.bi.parallelCoordinateAxisNumericTicks||this.bi.yAxisNumericTicks).majorTickStyle.labelRotation,(this.bi.parallelCoordinateAxisNumericTicks||this.bi.yAxisNumericTicks).majorTickStyle.labelFillStyle,(this.bi.parallelCoordinateAxisNumericTicks||this.bi.yAxisNumericTicks).majorTickStyle.labelFont,(t=>this.formatValue(t)),(this.bi.parallelCoordinateAxisNumericTicks||this.bi.yAxisNumericTicks).majorTickStyle.labelAlignment);return this.Tf.push(t),this.chart.gi.Rs(),t}sh(t){this.FP=t.parallelAxisIndex;const e=Math.min(this.Ar,this.gr),i=Math.max(this.Ar,this.gr);for(const[s,o]of this.Dh)for(const[,e]of o){const i=t.ticksInfo.get(e);i&&(t.plotAxisLines.add({positions:[i.positionTicklineStart,i.positionTicklineEnd]},{lineStyle:s.Ph.tickStyle}),e.Er.eh(i.labelPosition).Hl(i.labelAlignment).kr(i.labelRotation).Vl(i.labelOffset.x,i.labelOffset.y))}this.Tf.forEach((n=>{if(!n.ui||n.S<e||n.S>i)return;const r=this.BP(t.parallelAxisIndex,t.halfAxisThickness,n.S,n.yv,n.mv,n.SP);t.plotAxisLines.add({positions:[r.positionTicklineStart,r.positionTicklineEnd]},{lineStyle:n.vv}),t.plotAxisText.add().eh(r.labelPosition).Hl(r.labelAlignment).th(n.Sv)._r(n.bv).Kr(n.lo(n.S)).kr(n.hf).setPointerEvents(n.li)})),this.oF.ph({x:t.parallelAxisIndex,y:0}).yh({x:t.parallelAxisIndex,y:1}),this.Kh.eh({x:t.parallelAxisIndex,y:this.chart._P.y.Jt(0,-(t.halfAxisThickness+this.MP))}).kr(this.getTitleRotation()).Hl({x:0,y:1});const n=0===t.parallelAxisIndex?t.parallelAxisIndex:this.chart._P.x.Jt(t.parallelAxisIndex,-1.2*t.uA);this.wP.eh({x:n,y:0}).X({x:t.parallelAxisIndex-n,y:1});const r=this.chart._P.ri();this.xP.forEach((e=>{const i=this.chart.IP(e.min,t.parallelAxisIndex,this),n=this.chart.IP(e.max,t.parallelAxisIndex,this),s={x:t.parallelAxisIndex-10*r.x*.5,y:i.y},o=t.parallelAxisIndex+10*r.x*.5,a=n.y;e.shape.eh(s).X({x:o-s.x,y:a-s.y})}))}N(){this.wP.dispose(),this.Kh.dispose(),this.oF.dispose(),this.xP.forEach((t=>t.shape.dispose())),this.xP.length=0,this.Fr(),this.Xr(),this.ci=!0,this.L.D("dispose",{})}isDisposed(){return this.ci}BP(t,e,i,n,r,s){const o=this.chart._P.Jt({x:t,y:(i-this.Ar)/(this.gr-this.Ar)},{x:0-e,y:0}),a=this.chart._P.Jt(o,{x:-n,y:0});return{positionTicklineStart:o,positionTicklineEnd:a,labelPosition:this.chart._P.Jt(a,{x:-r,y:0}),labelAlignment:{x:1,y:s}}}$r(t){const e=this.oF.co();return{halfAxisThickness:el(e)?e.getThickness()/2:0}}Hr(t,e,i,n,r){const s=e.Ph,o=this.getInterval();return{...this.BP(n.parallelAxisIndex,r.halfAxisThickness,t,s.getTickLength(),s.getTickPadding(),2*(t-o.start)/(o.end-o.start)-1),keyValue:t,tickLevel:e,labelText:i,labelRotation:s.labelRotation,labelOffset:{x:0,y:0}}}qr(t,e){return new kh(e,t,this.Zs,this.chart._P)}Zr(t,e,i){const n=this.Kh&&this.Kh.sn().length>0&&this.getTitleFillStyle()!==na?this.Kh.zr().pu():{x:0,y:0};let r=0;this.Dh.forEach(((t,e)=>{const i=e.Ph.tickLength+e.Ph.tickPadding;t.forEach((t=>{if(!t.Er.getVisible())return void(r=Math.max(r,i));const e=i+t.Er.zr().pu().x;r=Math.max(r,e)}))}));const s=this.Tf.reduce(((t,e)=>Math.max(t,e.ui?this.chart.gi.sr.Ih(e.lo(e.S),e.bv,e.hf).x+e.yv+e.mv:0)),0);r=Math.max(r,s);const o=n.y+this.MP;r=Math.max(r,n.x/2);const a=r;return{uA:r,DP:o,RP:n.x,ff:a,ticksInfo:e,updatedTicks:i}}tr(){return this.chart._P}gn(t,e){return ka(t,e,this.oi)}pn(t,e,i){return{start:t,end:e}}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}setPointerEvents(t){return this.L.setPointerEvents(t),this}getPointerEvents(){return this.L.getPointerEvents()}}class hy extends $f{constructor(t,e,i,n,r){super(t,e,i,n),this.zs="Parallel Coordinate Series",this.EP=!1,this.L=new Er,this.gs=t;const s=void 0!==(null==r?void 0:r.automaticColorIndex)?r.automaticColorIndex:this.gs.getSeries().length;this.OP=Is(this.bi.parallelCoordinateChartSeriesColor,s)||(()=>{const t=Is(this.bi.lineSeriesStrokeStyle,s).getFillStyle();return(la(t)?t.getColor():void 0)||Vn(255,255,0)})(),this.addEventListener("visiblechange",(t=>{this.gs.zP()})),this.addEventListener("dispose",(t=>{this.gs.zP()})),this.setHighlightOnHover(!1)}setData(t){const e=void 0!==this.VP;return this.VP=this.gs.NP(t),e&&this.gs.GP(),this}getData(){return this.VP}setColor(t){const e="function"==typeof t?t(this.OP):t;return e===this.OP||(this.OP=e,this.gs.gi.Rs(),this.gs.$P(this)),this}getColor(){return this.OP}Av(){return this.getAutoScrollingEnabled()}rv(){}sh(){}nv(){}hh(){return{fill:new aa({color:this.OP})}}sv(){return super.sv()&&!this.EP}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}class cy extends Xd{constructor(t,e,i,n,r,s,o){var a,l,h;super(t,e,i,e.Vg("parallelAxisChart bg",0),n,e.gi.bi.parallelCoordinateChartBackgroundFillStyle||e.gi.bi.chartXYBackgroundFillStyle,e.gi.bi.parallelCoordinateChartBackgroundStrokeStyle||e.gi.bi.chartXYBackgroundStrokeStyle,e.gi.bi.parallelCoordinateChartTitleFont||e.gi.bi.chartXYTitleFont,e.gi.bi.parallelCoordinateChartTitleFillStyle||e.gi.bi.chartXYTitleFillStyle,e.gi.bi.parallelCoordinateChartTitleShadow||e.gi.bi.chartXYTitleShadow,s,null===(a=null==o?void 0:o.legend)||void 0===a?void 0:a.customLegend),this.axes=[],this.UP=!0,this.YP=Ws(),this.jP=new Map,this.HP=this.bi.parallelCoordinateChartSeriesColorUnselected||Vn(255,255,255,30),this.WP=Fn({resolution:32}),this.TP=!1,this.XP=!1,this.ZP=!0,this.JP=!1,this.QP=!1,this.KP=!1,this.qP=!1,this.ya=t=>{this._P.X(t.engineWidth,t.engineHeight)},this.L=new Er,this.G_=e.Cm("parallelAxisChart series",0),this.tL=e.Cm("parallelAxisChart labels",1),this.Hh.Kr("Parallel Coordinate Chart"),this.gi.Ta(_h.zo),this._P=this.kg.d2({scaleXYConstructor:sr}).ii(0,1),this.zg(r,this._P),this.gy=this.Mg.ih(this._P).eh({x:0,y:0}).X({x:0,y:1}).th(this.bi.parallelCoordinateChartSeriesBackgroundFillStyle||this.bi.chartXYSeriesBackgroundFillStyle).qe(Br).setPointerEvents(!0),this.vy=this.Mg.ih(this._P).eh({x:0,y:0}).X({x:0,y:1}).th(na).qe(this.bi.parallelCoordinateChartSeriesBackgroundStrokeStyle||this.bi.chartXYBackgroundStrokeStyle).setPointerEvents(!1),super.Ay(this.gy,this.vy),this.setSeriesBackgroundEffect(!1),this.iL=new tl({thickness:null!==(l=this.bi.parallelCoordinateChartSeriesLineThickness)&&void 0!==l?l:2,fillStyle:new ha}),this.sL=new tl({thickness:null!==(h=this.bi.parallelCoordinateChartSeriesLineThickness)&&void 0!==h?h:2,fillStyle:new aa({color:this.bi.parallelCoordinateChartSeriesColorUnselected})}),this.eL=this.YP.Qi(this.G_.yA(this._P)).Ah(this.iL),this.eL.lu=5e4,this.hL=this.G_.yA(this._P).Ah(this.bi.parallelCoordinateChartPointedSeriesLineStyle||Is(this.bi.lineSeriesStrokeStyle,0)).setPointerEvents(!1),this.rL=new dd((()=>this.tL.Mn(this._P))),this.nL=new zd((()=>this.tL.yA(this._P).setPointerEvents(!1)),((t,e,i)=>(t.Ni().Ah(i.lineStyle),e.map((e=>{let{positions:i}=e;return t.Uo().mA(i[0],i[1])})))));const c=e.Dm(),u=ts(o?o.cursorBuilder:void 0,Pf);this.Rm=vy(this,c,u.sm(c,this.uiScale,this.uiScale,Jr,this.bi),this,"show-nearest",uy,(()=>0)),this.addEventListener("resize",this.ya),void 0!==(null==o?void 0:o.legend)&&this.legend.setOptions(o.legend)}setCursor(t){return this.Rm.setCursor(t),this}getCursor(){return this.Rm.getCursor()}setCursorMode(t){return this.Rm.setCursorMode(t),this}getCursorMode(){return this.Rm.getCursorMode()}setCustomCursor(t){return this.Rm.setCustomCursor(t),this}setCursorDynamicBehavior(t){return this.Rm.Ym(t),this}setCursorFormatting(t){return this.Rm.setCursorFormatting(t),this}getCursorFormatting(){return this.Rm.getCursorFormatting()}addCursor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pf;const e=this.Tg(),i=t.sm(e,this.uiScale,this.uiScale,this.wg(e),this.bi);return this.Eg(i),i}setUnselectedSeriesColor(t){return this.HP="function"==typeof t?t(this.HP):t,this.sL=new tl({thickness:this.getSeriesStrokeThickness(),fillStyle:new aa({color:this.HP})}),this.gi.Rs(),this}getUnselectedSeriesColor(){return this.HP}setPointedSeriesStrokeStyle(t){return this.hL.Ah(t),this.gi.Rs(),this}getPointedSeriesStrokeStyle(){return this.hL.co()}setSpline(t,e){return t?this.WP._({resolution:void 0!==(null==e?void 0:e.resolution)?e.resolution:32}):this.WP._(void 0),this.gi.Rs(),this}setAxes(t){const e=Array.isArray(t)?t.map(((t,e)=>({key:t,id:e}))):"object"==typeof t?Object.entries(t).map(((t,e)=>({key:t[0],id:t[1]}))):void 0;if(!e)return this;const i=e.filter((t=>void 0===this.axes.find((e=>e.key===t.key)))),n=this.axes.filter((t=>void 0===e.find((e=>t.key===e.key))));return i.forEach((t=>{const e=this.oL(),i=new ly(this,this.bi,!this.Oh,t.key,t.id,e,this.tL),n=()=>{this.ZP=!0};i.addEventListener("visiblechange",n),i.addEventListener("dispose",(()=>i.removeEventListener("visiblechange",n))),this.axes.push(i)})),n.forEach((t=>{t.N();const e=this.axes.indexOf(t);e>=0&&this.axes.splice(e,1)})),this.axes=e.map((t=>this.axes.find((e=>e.key===t.key)))),this.ZP=!0,this.bP=void 0,this.gi.Rs(),this}getAxis(t){const e=this.aL(t);if(!e)throw new Error('ParallelAxisChart.getAxis | no such axis: "'.concat(t,'". Found: ').concat(this.axes.map((t=>void 0!==t.userID?"".concat(t.key,", ").concat(t.userID):t.key)).join(", ")));return e}hasAxis(t){return void 0!==this.aL(t)}addSeries(t){var e,i;const n=new hy(this,this.ly,this.bi,this.gi.Ss,t);return super.yy(n,{...t,legend:{...null==t?void 0:t.legend,show:null!==(i=null===(e=null==t?void 0:t.legend)||void 0===e?void 0:e.show)&&void 0!==i&&i}}),this.QP=!0,this.bP=void 0,this.gi.Rs(),n}setSeriesStrokeThickness(t){return this.iL=this.iL.setThickness(t),this.sL=this.sL.setThickness(t),this.eL.Ah(this.iL),this.gi.Rs(),this}getSeriesStrokeThickness(){return this.iL.getThickness()}setLUT(t){return this.vf=t,this.vf&&0===this.vf.lut.units.length&&(this.vf.lut=this.vf.lut.setUnits(this.vf.axis.getTitle())),this.Vs.forEach((t=>{t.dg()&&t.add(this)})),this.qP=!0,this.Vs.forEach((t=>t.Ns())),this.gi.Rs(),this}sh(t){super.sh(t);const e=this.axes.filter((t=>t.getVisible()));this._P.ti(0,e.length-1),this.gy.X({x:e.length-1,y:1}),this.vy.X({x:e.length-1,y:1});const i=void 0===this.bP;if(!this.bP){const t={};e.forEach((e=>{t[e.key]={min:ro,max:so}})),this.ny.forEach((e=>{e.VP&&Object.entries(e.VP).forEach((e=>{let[i,n]=e;const r=t[i];r&&!Number.isNaN(n)&&(r.min=Math.min(r.min,n),r.max=Math.max(r.max,n))}))})),this.bP=t}if(this.KP||this.JP||this.QP){const t=e.map(((t,e)=>t.xP));this.ny.forEach((i=>{const n=i.VP;if(!n)return;let r=!1;for(let s=0;s<e.length;s+=1){const i=e[s],o=t[s],a=void 0!==o.find((t=>mo(n[i.key],t.min,t.max)));if(o.length>0&&!a){r=!0;break}}i.EP=r}));const i=this.ny.filter((t=>!t.EP));this.L.D("seriesselect",{selectedSeries:i})}for(const l of this.ny)l.rv();for(const l of this.ny)l.sh();super.Og();const n=this.gi.js(this.gy)||void 0!==this.ny.find((t=>t.getPointed()))?this.lL():void 0;this.Rm.sh(!1,this.ny,void 0,{explicitTarget:n,afterCursorPointedAt:t=>{const e=this.gi.Ca();if(t.length>1&&e){const t=this.gi.Ka(e);this.Rm.t_.Hp({x:t.engineX,y:t.engineY},this.gi.oi)}}});const r=Md.Wg(this.Hh,this.Ng),s=this.Vs.reduce(((t,e)=>{const i=e.zr(r,this.Vn);return{top:Math.max(t.top,i.top),bottom:Math.max(t.bottom,i.bottom),left:Math.max(t.left,i.left),right:Math.max(t.right,i.right)}}),{top:0,bottom:0,left:0,right:0});if(Md.Xg(this.Hh,this.Ng,this.uiScale.ri(),this.Vn,s),e.length>=2){const t=this.rL.DA(),n=this.nL.DA(),o=e.map(((e,i)=>(e.An(),e.zr({plotAxisLines:n,plotAxisText:t,physicalAxisSize:this._P.y.Mt(),parallelAxisIndex:i}))));this._P.Kt([this.nt.left+this.Vn.left+o[0].ff+s.left,this.nt.right+this.Vn.right+o[o.length-1].RP/2+s.right]),this._P.qt([this.nt.bottom+this.Vn.bottom+o.reduce(((t,e)=>Math.max(t,e.DP)),0)+s.bottom,this.nt.top+this.Vn.top+r+s.top]),o.forEach(((t,i)=>e[i].sh(t))),t.finishPlot(),n.finishPlot(),(i||this.TP)&&e.forEach(((t,e)=>{if(!t.CP)return;const i=t.CP.steps.map((i=>({...i,value:this.IP(i.value,e,t).y}))),n=t.CP.setSteps(i);t.oF.Ah((t=>t.setFillStyle(new da({lookUpProperty:"y",lut:n}))))}));const a=this.ZP||this.JP||this.UP||this.WP.o;a&&(this.eL.Ni(),this.YP.Ni(),this.jP.clear(),this.ny.forEach((t=>{const i=t.VP;if(!t.getVisible()||!i)return;const n=this.cL(t,i,e,this.eL,this.YP);this.jP.set(t,n),t.Is(n)}))),(a||this.KP||this.qP||this.JP)&&this.uL(this.ny),!a&&this.QP&&this.ny.forEach((t=>{if(t.As.length>0)return;const i=t.VP;if(!t.getVisible()||!i)return;const n=this.cL(t,i,e,this.eL,this.YP);this.jP.set(t,n),t.Is(n),this.uL([t])})),this.ny.find((t=>t.VP&&Object.keys(t.VP).length>0))&&(this.XP=!0)}const o=1===(null==n?void 0:n.length)?n[0]:void 0;(o!==this.dL||this.JP)&&(this.hL.Ni(),o&&o.series.VP?(this.cL(o.series,o.series.VP,e,this.hL,void 0),this.eL.Ah(this.sL)):this.eL.Ah(this.iL));const a=Pn(this._P.x.bt(),this._P.y.bt(),this._P.x.Mt(),this._P.y.Mt());this.G_.ym(a),this.Vs.forEach((t=>t.sh(r,this.Vn)));for(const l of this.ny)l.nv();this.UP=!1,this.KP=!1,this.ZP=!1,this.JP=!1,this.QP=!1,this.qP=!1,this.WP.o=!1,this.TP=!1,this.dL=o}uL(t){const e=this.vf&&{lut:this.vf.lut,key:this.vf.axis.key};t.forEach((t=>{const i=t.VP,n=this.jP.get(t);if(!i||!n)return;let r;if(t.EP)r=this.HP;else if(e){const t=i[e.key],n=this.bP&&this.bP[e.key];r=e.lut.getColors(t,n)}else r=t.OP;n.forEach((t=>t.wI(r)))}))}zP(){this.JP=!0,this.gi.Rs()}GP(){this.XP&&this.gi.Ta(_h.Do),this.JP=!0,this.gi.Rs()}aL(t){return this.axes.find((e=>e.key===t))||this.axes.find((e=>e.userID===t))}oL(){return ar.d1({scale1DConstructor:ir,dimension:"x"}).H(0,1)}NP(t){if(this.bP=void 0,this.gi.Rs(),Array.isArray(t)){const e={};return t.forEach(((t,i)=>{var n;if("number"==typeof t){const r=null===(n=this.axes[i])||void 0===n?void 0:n.key;if(!r)throw new Error("ParallelCoordinateSeries Axis count doesnt match supplied data");e[r]=t}else"object"==typeof t&&(e[t.key]=t.value)})),e}if("object"==typeof t)return t;throw new Error("ParallelCoordinateSeries unidentified data format")}kP(t,e,i){this.UP=!0,this.gi.Rs()}IP(t,e,i){return{x:e,y:(t-i.oi.G)/(i.oi.$-i.oi.G)}}PP(t,e,i){const n=i.getInterval();return n.start+t*(n.end-n.start)}$P(t){this.qP=!0,this.gi.Rs()}LP(){this.KP=!0,this.gi.Rs()}getSeries(){return this.ny}gg(){return[this]}Hs(){return this.vf?{lut:this.vf.lut}:void 0}getMinimumSize(){return{x:200,y:200}}forEachAxis(t){return this.axes.slice().forEach((e=>t(e))),this}dispose(){return super.dispose(),this.axes.forEach((t=>t.N())),this.Rm.N(),this.G_.N(),this.tL.N(),this}cL(t,e,i,n,r){const s=[];let o;for(let a=0;a<i.length;a+=1){const l=i[a],h=e[l.key],c=this.IP(h,a,l),u=this.WP.C();if(u){if(void 0!==o){const e=u.resolution;let i;for(let a=0;a<=e;a+=1){const l=(a-1)/e,h=a/e,u=h<.5?4*h*h*h:1-(-2*h+2)**3/2;if(void 0!==i){const e={x:o.x+l*(c.x-o.x),y:o.y+i*(c.y-o.y)},a={x:o.x+h*(c.x-o.x),y:o.y+u*(c.y-o.y)},d=n.Uo();r&&r.qi(d,t),s.push(d),d.mA(e,a)}i=u}}}else if(void 0!==o){const e=n.Uo();r&&r.qi(e,t),s.push(e),e.mA(o,c)}o=c}return s}lL(){const t=this.getCursorMode(),e=this.gi.Ca();if(t&&e){const i=this.gi.Ka(e),n=hr({x:i.engineX,y:i.engineY},this.gi.oi,this._P),r=Math.round(n.x),s=this.axes.filter((t=>t.getVisible()))[r];if(!s)return;const o=s.key,a=Os(this.ny.map((t=>{if(!t.VP||!t.sv())return;const e=t.VP[o],i=this.IP(e,r,s);return{cursorPosition:{pointMarker:i,pointMarkerScale:this._P,resultTable:i,resultTableScale:this._P},value:e,series:t,axis:s}})));return"show-nearest"===t?[a.filter((t=>!Number.isNaN(t.cursorPosition.pointMarker.y))).sort(((t,e)=>Math.abs(t.cursorPosition.pointMarker.y-n.y)-Math.abs(e.cursorPosition.pointMarker.y-n.y)))[0]]:("show-nearest-interpolated"!==t&&"show-all-interpolated"!==t||jr.console.warn('LightningChart JS ParallelCoordinateChart does not support "interpolated" cursor modes.'),a)}}setUserInteractions(t){return this.uh=void 0===t?{rangeSelectors:{create:{doubleClickAxis:!1},move:{drag:!1},dispose:{doubleClick:!1}}}:t,this}getUserInteractions(){return Yr({rangeSelectors:{create:{doubleClickAxis:!0},move:{drag:!0},dispose:{doubleClick:!0}}},this.uh)}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}const uy=(t,e,i)=>{if(i.length>1)return[[{text:i[0].axis.getTitle(),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],...Os(i.map((t=>{const e=t.series.getData(),i=e?e[t.axis.key]:void 0;if(void 0!==i)return gy(t,[[t.series,"",Ea(t.axis.formatValue(i),t.axis)]])})).flat())];const n=i[0],r=[[{component:n.series,rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}]];return t.axes.forEach((e=>{const i=n.series.getData();if(!i)return;const s=i[e.key];if(void 0===s)return;const o=t.axes.filter((t=>t.getVisible()))[n.cursorPosition.pointMarker.x]===e?{weight:"bold"}:{};r.push([{text:e.getTitle(),font:o},"",{text:e.formatValue(s),font:o}])})),r};class dy extends kd{constructor(t,e,i,n,r,s,o){var a;super(t,e,i,n,r,s),this.legend=new Ad(fd,this,this.Ig,this.Kf),this.legend.setOptions({position:xd.LeftTop,autoHideThreshold:1,...o}),null===(a=this.Vs)||void 0===a||a.push(this.legend)}add(t){return t instanceof By?(t.getCells().forEach((t=>{t.panel instanceof Cd&&this.add(t.panel)})),this.gi.Rs(),this):(this.legend.add(t),this.gi.Rs(),this)}getMinimumSize(){return super.getMinimumSize()}}const fy=t=>"show-all-interpolated"===t||"show-nearest-interpolated"===t||"show-pointed-interpolated"===t,gy=(t,e)=>{const i="series"in t?t.series:void 0;if(!i||!("getCursorFormattingOverride"in i))return e;const n=i.getCursorFormattingOverride();return n?n(t,e):e},py=t=>{var e,i;const n="series"in t?t.series:"slice"in t?t.slice:"bar"in t?t.bar:void 0,r=n&&vd(n)&&n.Hs(),s="x"in t&&t.x,o="y"in t&&t.y,a="z"in t&&t.z,l="color"in t&&t.color,h=null!==(i=null!==(e="lookupValue"in t?t.lookupValue:void 0)&&void 0!==e?e:"intensity"in t?t.intensity:void 0)&&void 0!==i?i:"value"in t?t.value:void 0;if(void 0!==h&&r&&"value"===r.lookUpProperty)return r.lut.getColors(h,r.valueRange);if(void 0!==s&&!1!==s&&r&&"x"===r.lookUpProperty)return r.lut.getColors(s,my(n)?{min:n.getXMin(),max:n.getXMax()}:void 0);if(void 0!==o&&!1!==o&&r&&"y"===r.lookUpProperty)return r.lut.getColors(o,my(n)?{min:n.getYMin(),max:n.getYMax()}:void 0);if(void 0!==a&&!1!==a&&r&&"z"===r.lookUpProperty)return r.lut.getColors(a,yy(n)?{min:n.getZMin(),max:n.getZMax()}:void 0);if(l)return"number"==typeof l?(t=>Vn(255&t,255&(t>>=8),255&(t>>=8),255&(t>>=8)))(l):l;if(n){const t=n.hh(),e=Ls(n.gs.getTheme(),!0,t);if(la(e))return e.getColor()}},my=t=>!(!t||"object"!=typeof t||!("getXMin"in t)),yy=t=>!(!t||"object"!=typeof t||!("getZMin"in t)),vy=(t,e,i,n,r,s,o)=>{let a,l,h,c=r,u=t.getTheme().cursorDynamicBehavior,d=s,f=null,g=!0;n&&(g=!1,n.seriesBackground.addEventListener("pointerenter",(()=>{var e;g=!0,t.getCursorMode()&&(l&&h&&!("explicitTarget"in(null!==(e=h[3])&&void 0!==e?e:{}))?p.sh(...h):t.gi.Rs())})),n.seriesBackground.addEventListener("pointerleave",(()=>{var e;g=!1,t.getCursorMode()&&(l&&h&&!("explicitTarget"in(null!==(e=h[3])&&void 0!==e?e:{}))?p.sh(...h):t.gi.Rs())})),n.seriesBackground.addEventListener("pointermove",(()=>{var e;g=!0,t.getCursorMode()&&(l&&h&&!("explicitTarget"in(null!==(e=h[3])&&void 0!==e?e:{}))?p.sh(...h):t.gi.Rs())})),n.addEventListener("seriesadd",(e=>{const i=e.series;i.addEventListener("pointerenter",((e,n)=>{var r;i.sv()&&(l||t.gi.Rs(),a=n||void 0),t.getCursorMode()&&(l&&h&&!("explicitTarget"in(null!==(r=h[3])&&void 0!==r?r:{}))?p.sh(...h):t.gi.Rs())})),i.addEventListener("pointermove",((e,n)=>{var r;i.sv()&&(l||t.gi.Rs(),a=n||void 0),t.getCursorMode()&&(l&&h&&!("explicitTarget"in(null!==(r=h[3])&&void 0!==r?r:{}))?p.sh(...h):t.gi.Rs())})),i.addEventListener("pointerleave",(e=>{var n;i.sv()&&(l||t.gi.Rs(),a=void 0),t.getCursorMode()&&(l&&h&&!("explicitTarget"in(null!==(n=h[3])&&void 0!==n?n:{}))?p.sh(...h):t.gi.Rs())}))})));const p={setCursor:e=>(e(i),t),getCursor:()=>i,setCursorMode:e=>(c=e,t.gi.Rs(),t),getCursorMode:()=>c,setCustomCursor:t=>{l=t},Ym:e=>{u=e,t.gi.Rs()},setCursorFormatting:e=>(d=e,t.gi.Rs(),t),getCursorFormatting:()=>d,N:()=>{i.dispose(),e.N()},sh:(e,n,r,s)=>{h=[e,n,r,s];const p=t.gi.Ca();let m=[];if((null==s?void 0:s.explicitTarget)&&c)m=Array.isArray(s.explicitTarget)?s.explicitTarget:[s.explicitTarget];else if(!e&&c){const t=n.find((t=>t.getPointed())),e=p&&t&&(!t.getCursorEnabled||t.getCursorEnabled())&&t.Ls?t.Ls(p):void 0;if(a=e||a,a&&"show-all"!==c&&"show-all-interpolated"!==c)m=[a];else if("show-all"===c||"show-all-interpolated"===c||"show-nearest"===c||"show-nearest-interpolated"===c){if((g||void 0!==t)&&p&&r){for(const t of n){if(!t.getVisible()||t.getCursorEnabled&&!t.getCursorEnabled())continue;const e=r(t,p,c);e&&m.push(e)}"show-nearest"!==c&&"show-nearest-interpolated"!==c||(m.sort(((t,e)=>o(t,p)-o(e,p))),m.length=1)}}else if(("show-pointed"===c||"show-pointed-interpolated"===c)&&p&&t&&(!t.getCursorEnabled||t.getCursorEnabled())&&r){const e=r(t,p,c);e&&(m=[e])}}m=Os(m.map((t=>Qs(t))));const y=(null==s?void 0:s.overrideCursorPositions)||((t,e)=>e),v=m[0],x=m.length>0?m:void 0;if(v!==f&&p&&(l&&l({hit:v,hits:x,mouseLocation:p}),t.L.D("cursortargetchange",{hit:v,hits:x,mouseLocation:p}),f=v),l)i.getVisible()&&(i.setVisible(!1),i.zr().sh());else{let e=!1;if(m&&m.length>0){const n=d(t,m[0],m);i.setVisible(!0).setPosition(...y(m,m.map((t=>{const e=t.cursorPosition;if(u){const i=py(t);void 0!==i&&(e.pointMarkerFillStyle=u.pointMarkerFill&&u.pointMarkerFill(i),e.pointMarkerStrokeStyle=u.pointMarkerStroke&&u.pointMarkerStroke(i));const n=(t=>{if(cr(t))return void 0!==t.size?t.size:t.series instanceof Hg?t.series.getPointSize():void 0})(t);if(void 0!==n&&(e.pointMarkerSize=u.pointMarkerSize&&u.pointMarkerSize(n)),!1!==u.matchPointMarkerShape){const i=(t=>{const e=cr(t)&&t.series instanceof Hg?t.series.getPointShape():void 0;return void 0===e||ll(e)?void 0:e})(t);void 0!==i&&(e.pointMarkerShape=i)}}return e})))).setResultTable((t=>t.setContent(n))),e=!0}else i.getVisible()&&(i.setVisible(!1).setPosition().setResultTable((t=>t.setContent([]))),e=!0);(null==s?void 0:s.afterCursorPointedAt)&&s.afterCursorPointedAt(m),e&&(i.zr(),i.sh())}},solveNearest:(e,i,n,r)=>{const s=e||t.gi.Ca();if(!s)return[];let a=[];if("show-all"===i||"show-all-interpolated"===i||"show-nearest"===i||"show-nearest-interpolated"===i){for(const t of n){if(!t.getCursorEnabled()||!t.getVisible())continue;const e=r(t,s,i);e&&a.push(e)}"show-nearest"!==i&&"show-nearest-interpolated"!==i||(a.sort(((t,e)=>o(t,s)-o(e,s))),a.length=1)}return a=Os(a.map((t=>Qs(t)))),a},t_:i};return p},xy=(t,e,i)=>Ro(e,Lo(Ho(.5*(t.jc()+t.Gt())*Math.PI/180),i)),by=(t,e,i,n,r,s)=>{const o=t.length;let a=90;for(let l=0;l<o;l+=1){const h=t[l],c=a-360*e[l],u=h.getAnimatedExplosion();if(0===u||1===o)h.zk.eh(i);else{const t=Ro(i,Lo(Ho(.5*(a+c)*Math.PI/180),s*u));h.zk.eh(t)}h.zk.Qc(a).yh(c).qc(n).tu(n).iu(r),a=c}};class Sy extends Cd{constructor(t,e,i,n,r,s,o){var a;super(t,e,i,e.Vg("pieChart bg",0),n,e.gi.bi.pieChartBackgroundFillStyle,e.gi.bi.pieChartBackgroundStrokeStyle,e.gi.bi.pieChartTitleFont,e.gi.bi.pieChartTitleFillStyle,e.gi.bi.pieChartTitleShadow,s,null===(a=null==o?void 0:o.legend)||void 0===a?void 0:a.customLegend),this.sk=[],this.ek=wp,this.zc=0,this.yk=this.bi.pieChartSliceFillStylePalette,this.pk=this.bi.pieChartSliceStrokeStyle,this.hk=!0,this.mk=this.bi.pieChartSliceLabelFont,this.Sk=this.bi.pieChartSliceLabelFillStyle,this.rk=this.bi.pieChartSliceLabelShadow,this.nk=0,this.fL=!1,this.AL=20,this.uk=!0,this.Ak=!0,this.dk=t=>{const e=this.sk.indexOf(t);e>=0&&(this.sk.splice(e,1),this.fk())},this.L=new Er,this.gi.Ta(_h.xo),this.gk=e.Cm("pieChart bottom",0),this.vk=e.Cm("pieChart top",1),this.Hh.Kr("Pie Chart"),this.zg(r,this.Kf),this.background.addEventListener("dblclick",(t=>{t.defaultPrevented||(()=>{const t=this.getSlices();for(let e=0;e<t.length;e+=1)t[e].setExploded(!1)})()}));const l=e.Dm(),h=ts(o?o.cursorBuilder:void 0,kf);this.Rm=vy(this,l,h.sm(l,this.uiScale,this.uiScale,Jr,this.bi),void 0,"show-pointed",Ay,(()=>0)),this.setAnimationsEnabled(!1!==(null==o?void 0:o.animationsEnabled));const c={backgroundVisible:!0,...null==o?void 0:o.legend};this.legend.setOptions(c)}setCursor(t){return this.Rm.setCursor(t),this}getCursor(){return this.Rm.getCursor()}setCursorMode(t){return this.Rm.setCursorMode(t),this}getCursorMode(){return this.Rm.getCursorMode()}setCustomCursor(t){return this.Rm.setCustomCursor(t),this}setCursorDynamicBehavior(t){return this.Rm.Ym(t),this}setCursorFormatting(t){return this.Rm.setCursorFormatting(t),this}getCursorFormatting(){return this.Rm.getCursorFormatting()}addCursor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kf;const e=this.Tg(),i=t.sm(e,this.uiScale,this.uiScale,this.wg(e),this.bi);return this.Eg(i),i}addSlice(t,e){const i=new Vp(this.nk,this.gk,this.vk,this,this.Kf,this.dk,this.bi,this.gi.Ss);this.nk+=1,i.setName(t);const n=this.Oh;return this.Oh=!1,i.setValue(e),this.Oh=n,i.setEffect(this.uk),this.xk(i),this.sk.push(i),this.fk(),i.setHighlightOnHover(this.hk),this.Vs.forEach((t=>{t.dg()&&t.xc(i)})),i}addSlices(t){const e=[];for(let i=0;i<t.length;i+=1)e.push(this.addSlice(t[i].name,t[i].value));return e}getSlices(){return this.sk}setMultipleSliceExplosion(t){return this.fL=t,this}getMultipleSliceExplosion(){return this.fL}setInnerRadius(t){return this.zc=t,this.gi.Rs(),this}getInnerRadius(){return this.zc}setSliceExplosionOffset(t){return this.AL=t,this.gi.Rs(),this}getSliceExplosionOffset(){return this.AL}setLUT(t){return this.vf=t,this.gi.Rs(),this}setSliceFillStyle(t){this.yk=t;for(let e=0;e<this.sk.length;e+=1)this.xk(this.sk[e]);return this.gi.Rs(),this}getSliceFillStyle(){return this.yk}setSliceStrokeStyle(t){this.pk="function"==typeof t?t(this.pk):t;for(let e=0;e<this.sk.length;e+=1)this.xk(this.sk[e]);return this.gi.Rs(),this}getSliceStrokeStyle(){return this.pk}setSliceEffect(t){return this.uk=t,this.sk.forEach((e=>e.Ss.Ms.Ds(t))),this.gi.Rs(),this}getSliceEffect(){return this.uk}setSliceSorter(t){return this.ek=t,this.sk=this.sk.sort(this.ek),this.gi.Rs(),this}getSliceSorter(){return this.ek}setLabelFillStyle(t){this.Sk="function"==typeof t?t(this.Sk):t;for(let e=0;e<this.sk.length;e+=1)this.xk(this.sk[e]);return this.gi.Rs(),this}getLabelFillStyle(){return this.Sk}setLabelShadow(t){return this.rk=t,this.gi.Rs(),this}getLabelShadow(){return this.rk}setLabelFont(t){this.mk="function"==typeof t?t(this.mk):t;for(let e=0;e<this.sk.length;e+=1)this.xk(this.sk[e]);return this.gi.Rs(),this}getLabelFont(){return this.mk}setLabelEffect(t){return this.Ak=t,this.sk.forEach((e=>e.Ss.xs.Ds(t))),this.gi.Rs(),this}getLabelEffect(){return this.Ak}setLabelFormatter(t){return this.bk=t,this.gi.Rs(),this}getLabelFormatter(){return this.bk}setSliceHighlightOnHover(t){return this.hk=t,this.sk.forEach((e=>e.setHighlightOnHover(t))),this}sh(t){super.sh(t),super.Og();const e=Md.Wg(this.Hh,this.Ng),i=this.Vs.reduce(((t,i)=>{const n=i.zr(e,this.Vn);return{top:Math.max(t.top,n.top),bottom:Math.max(t.bottom,n.bottom),left:Math.max(t.left,n.left),right:Math.max(t.right,n.right)}}),{top:0,bottom:0,left:0,right:0});Md.Xg(this.Hh,this.Ng,this.uiScale.ri(),this.Vn,i);const n=En(this.Kf.x.getInnerInterval()-(this.Vn.left+this.Vn.right),this.Kf.y.getInnerInterval()-(this.Vn.bottom+this.Vn.top+e)),r=En(n.x-i.left-i.right,n.y-i.top-i.bottom),s=En(this.Vn.left+(n.x+i.left-i.right)/2,this.Vn.bottom+(n.y+i.bottom-i.top)/2);if(this.vf){const t=this.vf;this.sk.forEach((e=>{this.xk(e,new aa({color:t.getColors(e.getAnimatedValue(),void 0)}))}))}for(let c=0;c<this.sk.length;c+=1){const t=Math.abs(this.sk[c].getAnimatedValue())>0;this.sk[c].zk.setVisible(t),this.sk[c].Er.setVisible(t)}this.sk=this.sk.sort(this.ek);const o=this.sk.filter((t=>Math.abs(t.getAnimatedValue())>0));let a=0;for(let c=0;c<o.length;c+=1)a+=Math.abs(o[c].getAnimatedValue());const l=[];for(let c=0;c<o.length;c+=1)l.push((h=Math.abs(o[c].getAnimatedValue()))>0?h/a:0);var h;for(let c=0;c<o.length;c+=1){const t=o[c];t.Er.Kr(this.bk(t,l[c])).zr()}this.Rm.sh(!1,this.sk,((t,e,i)=>{const n=l[o.indexOf(t)]||0,r=this.gi.Ka(e);return{cursorPosition:{pointMarker:{x:r.engineX,y:r.engineY},pointMarkerScale:this.gi.oi,resultTable:{x:r.engineX,y:r.engineY},resultTableScale:this.gi.oi},slice:t,category:t.getName(),value:t.getValue(),relativeValue:n}})),this.Vs.forEach((t=>t.sh(e,this.Vn))),this.Mk(o,l,s,r)}xk(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.yk(t.index,t);t.setStyle(e,this.pk,this.Sk,this.mk,this.rk)}fk(){this.sk=this.sk.sort(this.ek),this.gi.Rs()}gg(){return this.sk}dispose(){return super.dispose(),this.sk.slice().forEach((t=>t.dispose())),this.Rm.N(),this.vk.N(),this.gk.N(),this}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}const Ay=(t,e,i)=>[[{component:e.slice,rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[{text:e.value.toString(),font:{weight:"bold"}}]];class Ey extends Sy{constructor(t,e,i,n,r,s,o){super(t,e,i,n,r,s,o),this.bk=Cp,this.Fk=[],this.gL=40,this.vL=5,this.yL=10,this.Ik=this.bi.pieChartConnectorStrokeStyle}setLabelConnectorStyle(t){this.Ik=t;for(let e=0;e<this.Fk.length;e+=1)this.Fk[e].Ah(this.Ik);return this.gi.Rs(),this}getLabelConnectorStyle(){return this.Ik}setLabelSliceOffset(t){return this.gL=t,this.gi.Rs(),this}getLabelSliceOffset(){return this.gL}setLabelConnectorGapStart(t){return this.vL=t,this.gi.Rs(),this}getLabelConnectorGapStart(){return this.vL}setLabelConnectorEndLength(t){return this.yL=t,this.gi.Rs(),this}getLabelConnectorEndLength(){return this.yL}Mk(t,e,i,n){const r=this.mk.getSize(),s=this.gL,o=this.yL,a=this.vL,l=Math.min(this.AL,s-a);let h=0;if(1===t.length)h=t[0].Er.pu().x;else for(let u=0;u<t.length;u+=1)h=Math.max(h,t[u].Er.pu().x);const c=Math.max(.5*(Math.min(n.x-2*h-2*o,n.y-2*r)-2*s),0);if(c<50){const s=Math.max(.5*Math.min(n.x,n.y-2*r),0);by(t,e,i,s,this.zc,l),t.forEach((t=>t.Er.setVisible(!1))),this.Fk.forEach((t=>t.setVisible(!1)))}else{by(t,e,i,c,this.zc,l);let n=90;const r=t.map(((t,r)=>{const a=360*e[r],l=n-a,h=Ho(No(.5*(n+l))),u=h.x>=0?-1:1,d=Ro(Ro(i,Lo(h,c+s)),{x:u*-o,y:0});n=l;const f={x:u,y:0};t.Er.eh(d).Hl(f),t.Er.zr();const g=t.Er.gu();return{position:d,alignment:f,shape:t.Er,boundaries:g,sliceAngleVec:h,slice:t}})),h=[];for(let t=0;t<r.length;t+=1){const e=r[t],i=h[h.length-1];i&&!1!==fo([i.boundaries,e.boundaries])?e.shape.setVisible(!1):(h.push(e),e.shape.setVisible(!0))}for(let t=0;t<this.Fk.length;t+=1)this.Fk[t].setVisible(!1);h.forEach(((t,e)=>{const n=t.slice.zk,r=xy(n,i,c+a+l*t.slice.getAnimatedExplosion()),s=((t,e,i)=>{const n=(i.y-e.y)/(i.x-e.x),r=e.x+(t-e.y)/n;return En(r,t)})(t.position.y,r,i),o=t.position;this.Pk([r,s,o])}))}}getMinimumSize(){return En(500,300)}Pk(t){let e;for(let i=0;i<this.Fk.length;i+=1)if(!this.Fk[i].getVisible()){e=this.Fk[i].setVisible(!0);break}void 0===e&&(e=this.vk.Dv(this.Kf,void 0,[Ld.InternalUI]).Ah(this.Ik).setPointerEvents(!1),this.Fk.push(e)),e.Ni().xc(t)}}const wy=510001,ky=(t,e)=>{const i=Math.floor(99999/e),n=Math.floor(99999/e),r=Math.floor(99998/e),s=Math.floor(99998/e),o=Math.floor(99999/(e+1)),a=Math.floor(89999/(e+1)),l=wy+e*a;let h=0;return{mL:()=>{const e=t.SL("dashboard ui",l+h);return h+=1,e},bL:()=>t.SL("dashboard legend",51e4),xL:e=>{const l=1+e*i,h=100001+e*n,c=200002+e*r,u=300002+e*s,d=400001+e*o,f=wy+e*a;let g=0;return{gi:t,Vg:(e,i)=>{const n=l+i;return t.SL(e,n)},km:(e,i)=>{const n=h+i;return t.SL(e,n)},Ww:(e,i)=>{const n=c+i;return t.SL(e,n)},Cm:(e,i)=>{const n=u+i;return t.SL(e,n)},_m:(e,i,n)=>{const r=u+i;return t.ML(e,r,n)},Ug:(e,i)=>{const n=d+i;return t.SL(e,n)},Fg:e=>{const i=f+g,n=t.SL(e,i);return g+=1,n},Pg:()=>t.SL("panel legend",500002+e),Dm:()=>t.SL("panel cursor",600001+e)}}}};class Cy extends Error{constructor(t,e){super("ChartError: ".concat(t," ").concat(e?"in ".concat(e.constructor.name):"")),Object.setPrototypeOf(this,Cy.prototype)}}class My extends Error{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n="EngineError: ".concat(t," ").concat(e?"in ".concat(e.constructor.name):"");super(n),i&&jr.alert(n),Object.setPrototypeOf(this,My.prototype)}}class Ty extends My{constructor(t){super(t),Object.setPrototypeOf(this,Ty.prototype)}}class Py{constructor(t){this.L=new Er,this.S=t}_(t){return this.S=t,this.L.D("change",{value:t}),this}C(){return this.S}R(t,e,i){this.L.addEventListener(t,e,i)}V(t,e){this.L.removeEventListener(t,e)}}const Fy=(t,e)=>e?t.x:t.y,Ly=(t,e,i,n)=>1===e&&n===(i?t.columnIndex:t.rowIndex)||-1===e&&n===(i?t.columnIndex+t.columnSpan:t.rowIndex+t.rowSpan),Ry=(t,e,i,n,r,s)=>{const o=e.length,a=Math.sign(n),l=[],h=e.reduce(((t,e)=>t+e));for(let g=1;g<=o-1;g+=1)l.push(Fy(r,s)*e.slice(0,g).reduce(((t,e)=>t+e),0)/h);const c=l.map((t=>0));let u=l[i-1]+n;for(let g=i;g>0&&g<o;g+=a){const e=t.filter((t=>Ly(t,a,s,g))).reduce(((t,e)=>Math.max(t,Fy(e.panel.getMinimumSize()||{x:0,y:0},s))),20),n=l[g-1];if(1===a&&u>Fy(r,s)-e||-1===a&&u<0+e){c.fill(0);break}if(g!==i&&(1===a?n>u:n<u))break;c[g-1]=u-n,u+=e*a}const d=c.map(((t,e)=>l[e]+t)),f=d.map(((t,e)=>(t-(e>0?d[e-1]:0))/Fy(r,s)));return f.push(1-f.reduce(((t,e)=>t+e),0)),f};class By{constructor(t,e,i,n,r,s){this.coordsRelative="relative",this.coordsClient="client",this.ci=!1,this.OC=new Array,this.wL=[],this._L=void 0,this.kL=!0,this.CL=!0,this.TL=!0,this.Sg=!1,this.FL=!0,this.IL=()=>{this.FL=!0,this.gi.Rs()},this.PL=[],this.LL=t=>{for(let e=0;e<this.OC.length;e+=1)if(this.OC[e].panel===t){this.OC.splice(e,1),this.kL=!0,this.gi.Rs();break}},this.BL=t=>{const e=this.wL.indexOf(t);e>=0&&this.wL.splice(e,1)},this.DL=(t,e,i,n,r)=>{if(this.RL(e,i,n,r)){const s={panel:t,columnIndex:e,rowIndex:i,columnSpan:n,rowSpan:r};return this.OC.push(s),this.EL(s),this.kL=!0,t}throw new Cy("Out of dashboard range.")},this.L=new Er,this.OL=e.numberOfRows,this.zL=e.numberOfColumns,this._g=t,this.VL=e,this.NL=n;const o=this.zL*this.OL;this.GL={x:new Py(new Array(this.zL).fill(1)),y:new Py(new Array(this.OL).fill(1))},this.bi=i.bi,this.$L=this.bi.dashboardSplitterStyle,this.Oh=!1!==(null==e?void 0:e.animationsEnabled),this.UL=ky(i,o),this.YL=i.SL("dashboard splitters",500001),this.jL=()=>this.UL.mL(),this.Ig=this.UL.bL(),this.Ss=i.Ss.bs(this,{HL:{}}),this.Ss.HL.Ds(this.bi.effectsDashboardSplitters);const a=i._t();this.uiScale=ar.d2({scaleXYConstructor:sr}).ti(0,100).ii(0,100).X(a),this.Kf=ar.d2({scaleXYConstructor:sr}).ti(0,this.uiScale.x.getCellSize()).ii(0,this.uiScale.y.getCellSize()).X(a),this.WL=i.XL.bind(i),this.ZL=i.JL.bind(i),this.QL=i.KL.bind(i),this.qL=i.tB.bind(i),this.$a=i.$a.bind(i),this.Ya=i.Ya.bind(i),this.engine=i.Cg,this.gi=i.mu,i.R("resize",this.IL),i.Rs();const l=t=>{this.Sg=t.isInView,this.L.D("inviewchange",{isInView:this.Sg})};i.R("inviewchanged",l),this.Rg=()=>{i.V("inviewchanged",l)},this.iB(),this.setAnimationsEnabled(this.Oh),this.createChartXY=t=>{const e=zy(t,this.VL,this.Oh);return this.DL(new ep(this._g,this.UL.xL(this.sB(t.columnIndex,t.rowIndex)),this.eB(e,this.GL),this.LL,s,e,this),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createSpiderChart=t=>{const e=zy(t,this.VL,this.Oh);return this.DL(new sm(this._g,this.UL.xL(this.sB(t.columnIndex,t.rowIndex)),this.eB(e,this.GL),this.LL,s,e,this),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createPolarChart=t=>{const e=zy(t,this.VL,this.Oh);return this.DL(new yp(this._g,this.UL.xL(this.sB(t.columnIndex,t.rowIndex)),this.eB(e,this.GL),this.LL,s,e,this),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createPieChart=t=>{const e=zy(t,this.VL,this.Oh),i=e&&e.type?e.type:Ey;return this.DL(new i(this._g,this.UL.xL(this.sB(t.columnIndex,t.rowIndex)),this.eB(e,this.GL),this.LL,s,this,e),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createGaugeChart=t=>{const e=zy(t,this.VL,this.Oh);return this.DL(new ny(this._g,this.UL.xL(this.sB(t.columnIndex,t.rowIndex)),this.eB(e,this.GL),this.LL,s,this,e),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createFunnelChart=t=>{const e=zy(t,this.VL,this.Oh),i=e&&e.type?e.type:Bp;return this.DL(new i(this._g,this.UL.xL(this.sB(t.columnIndex,t.rowIndex)),this.eB(e,this.GL),this.LL,s,this,e),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createPyramidChart=t=>{const e=zy(t,this.VL,this.Oh),i=t&&t.type?t.type:jp;return this.DL(new i(this._g,this.UL.xL(this.sB(t.columnIndex,t.rowIndex)),this.eB(e,this.GL),this.LL,s,this,e),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createUIPanel=t=>{const e=zy(t,this.VL,this.Oh);return this.DL(new kd(this._g,this.UL.xL(this.sB(t.columnIndex,t.rowIndex)),this.eB(e,this.GL),this.LL,s,this),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createLegendPanel=t=>{const e=zy(t,this.VL,this.Oh);return this.DL(new dy(this._g,this.UL.xL(this.sB(t.columnIndex,t.rowIndex)),this.eB(e,this.GL),this.LL,s,this,t.legend),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createZoomBandChart=t=>{const e=zy(t,this.VL,this.Oh);return this.DL(new lp(this._g,this.UL.xL(this.sB(t.columnIndex,t.rowIndex)),this.eB(e,this.GL),this.LL,s,e,this),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createMapChart=t=>{const e=zy(t,this.VL,this.Oh);return this.DL(new jf(this._g,this.UL.xL(this.sB(t.columnIndex,t.rowIndex)),this.eB(e,this.GL),this.LL,s,e,this),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createChart3D=t=>{const e=zy(t,this.VL,this.Oh),i=new vf(this._g,this.UL.xL(this.sB(t.columnIndex,t.rowIndex)),this.eB(e,this.GL),this.LL,s,this,e);return this.DL(i,e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createDataGrid=t=>{const e=zy(t,this.VL,this.Oh),i=new Dm(this._g,this.UL.xL(this.sB(t.columnIndex,t.rowIndex)),this.eB(e,this.GL),this.LL,s,this);return this.DL(i,e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createBarChart=t=>{const e=zy(t,this.VL,this.Oh),i=new Gm(this._g,this.UL.xL(this.sB(t.columnIndex,t.rowIndex)),this.eB(e,this.GL),this.LL,s,this,e);return this.DL(i,e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createParallelCoordinateChart=t=>{const e=zy(t,this.VL,this.Oh),i=new cy(this._g,this.UL.xL(this.sB(t.columnIndex,t.rowIndex)),this.eB(e,this.GL),this.LL,s,this,e);return this.DL(i,e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)}}sB(t,e){return t+e*this.zL}eB(t,e){return{d1:i=>new i.scale1DConstructor("x"===i.dimension?t.columnIndex:t.rowIndex,"x"===i.dimension?t.columnSpan:t.rowSpan,"x"===i.dimension?this.zL:this.OL,"x"===i.dimension?e.x:e.y),d2:i=>(new i.scaleXYConstructor).hi({x:t.columnIndex,y:t.rowIndex},{x:t.columnSpan,y:t.rowSpan},{x:this.zL,y:this.OL},e),d3:()=>new Qn({x:t.columnIndex,y:t.rowIndex},{x:t.columnSpan,y:t.rowSpan},{x:this.zL,y:this.OL},e)}}setWidth(t){return t instanceof Array||(t=[t,t]),this.WL(t[0]),this.ZL(t[1]),this}setHeight(t){return t instanceof Array||(t=[t,t]),this.QL(t[0]),this.qL(t[1]),this}getWidth(){return this.$a()}getHeight(){return this.Ya()}setBackgroundFillStyle(t){return this.engine.setBackgroundFillStyle(t),this.YL.Rs(),this}getBackgroundFillStyle(){return this.engine.getBackgroundFillStyle()}setBackgroundStrokeStyle(t){return this.engine.setBackgroundStrokeStyle(t),this.YL.Rs(),this}getBackgroundStrokeStyle(){return this.engine.getBackgroundStrokeStyle()}getTheme(){return this.bi}setSplitterStyle(t){const e=this.$L;return this.$L="function"==typeof t?t(this.$L):t,this.hB(e),this}getSplitterStyle(){return this.$L}setSplitterEffect(t){return this.Ss.HL.Ds(t),this.gi.Rs(),this}getSplitterEffect(){return this.Ss.HL.Es()}setAnimationHighlight(t){return this.TL=t,this.PL.forEach((e=>this.gi._s.$s(e.line,t))),this}getAnimationHighlight(){return this.TL}hB(t){for(const e of this.PL)e.line.Ah(this.$L);this.iB()}setColumnWidth(t,e){const i=this.GL.x.C();return t>=0&&t<i.length&&(i[t]=e,this.GL.x._(i)),this.IL(),this}getColumnWidth(t){const e=this.GL.x.C();if(t>=e.length)throw new Cy("Column index is out of dashboard range.");return e[t]}setRowHeight(t,e){const i=this.GL.y.C();return t>=0&&t<i.length&&(i[Math.abs(i.length-1-t)]=e,this.GL.y._(i)),this.IL(),this}getRowHeight(t){const e=this.GL.y.C();if(t>=e.length)throw new Cy("Row index is out of dashboard range.");return e[Math.abs(e.length-1-t)]}getSizePixels(){return this.Kf.getInnerIntervalPixels()}rB(t,e,i){if(i&&Math.abs(t.x)>0)this.nB(e,t.x);else{if(i||!(Math.abs(t.y)>0))return;this.oB(e,t.y)}for(const n of this.OC)n.panel.j();this.IL()}oB(t,e){const i=Ry(this.OC,this.GL.y.C(),t,e,this.Kf._t(),!1);this.GL.y._(i),this.IL()}nB(t,e){const i=Ry(this.OC,this.GL.x.C(),t,e,this.Kf._t(),!0);this.GL.x._(i),this.IL()}aB(){this.PL.forEach((t=>t.line.dispose())),this.PL.length=0;for(let t=1;t<=this.zL-1;t+=1)for(let e=0;e<=this.OL-1;e+=1)if(void 0!==this.OC.find((i=>mo(e,i.rowIndex,i.rowIndex+i.rowSpan-1)&&(t===i.columnIndex||t===i.columnIndex+i.columnSpan)))){const i=this.YL.gh(this.Kf).Ah(this.$L);i.addEventListener("pointerenter",(e=>{this.PL.forEach((e=>{"vertical"===e.alignment&&e.column===t&&(this.gi._s.Gs(e.line,1),this.YL.lB(e.line))})),this._L=this.engine.setMouseStyle(Yl.ResizeColumn,this._L),this.gi.Rs()})),i.addEventListener("pointerleave",(e=>{this.PL.forEach((e=>{"vertical"===e.alignment&&e.column===t&&this.gi._s.Gs(e.line,0)})),this._L=this.engine.restoreMouseStyle(this._L),this.gi.Rs()})),i.addEventListener("pointerdown",(e=>{ys(e);let i=e;const n=e=>{ys(e),this._L=this.engine.setMouseStyle(Yl.ResizeColumn,this._L),this.PL.forEach((e=>{"vertical"===e.alignment&&e.column===t&&(this.gi._s.Gs(e.line,1),this.YL.lB(e.line))}));const n={x:e.clientX-i.clientX,y:e.clientY-i.clientY};i=e,this.rB(n,t,!0)},r=i=>{i.pointerId===e.pointerId&&(this.PL.forEach((e=>{"vertical"===e.alignment&&e.column===t&&this.gi._s.Gs(e.line,0)})),this._L=this.engine.restoreMouseStyle(this._L),jr.removeEventListener("pointermove",n),jr.removeEventListener("pointerup",r))};jr.addEventListener("pointermove",n),jr.addEventListener("pointerup",r)})),this.gi._s.ws(i,(t=>i.Fi(t)),{animationEnabled:this.TL}),this.PL.push({row:e,column:t,line:i,alignment:"vertical"})}for(let t=1;t<=this.OL-1;t+=1)for(let e=0;e<=this.zL-1;e+=1)if(void 0!==this.OC.find((i=>mo(e,i.columnIndex,i.columnIndex+i.columnSpan-1)&&(t===i.rowIndex||t===i.rowIndex+i.rowSpan)))){const i=this.YL.gh(this.Kf).Ah(this.$L);i.addEventListener("pointerenter",(e=>{this.PL.forEach((e=>{"horizontal"===e.alignment&&e.row===t&&(this.gi._s.Gs(e.line,1),this.YL.lB(e.line))})),this._L=this.engine.setMouseStyle(Yl.ResizeRow,this._L),this.gi.Rs()})),i.addEventListener("pointerleave",(e=>{this.PL.forEach((e=>{"horizontal"===e.alignment&&e.row===t&&this.gi._s.Gs(e.line,0)})),this._L=this.engine.restoreMouseStyle(this._L),this.gi.Rs()})),i.addEventListener("pointerdown",(e=>{ys(e);let i=e;const n=e=>{ys(e),this._L=this.engine.setMouseStyle(Yl.ResizeRow,this._L),this.PL.forEach((e=>{"horizontal"===e.alignment&&e.row===t&&(this.gi._s.Gs(e.line,1),this.YL.lB(e.line))}));const n={x:e.clientX-i.clientX,y:-(e.clientY-i.clientY)};i=e,this.rB(n,t,!1)},r=i=>{i.pointerId===e.pointerId&&(this.PL.forEach((e=>{"horizontal"===e.alignment&&e.row===t&&this.gi._s.Gs(e.line,0)})),this._L=this.engine.restoreMouseStyle(this._L),jr.removeEventListener("pointermove",n),jr.removeEventListener("pointerup",r))};jr.addEventListener("pointermove",n),jr.addEventListener("pointerup",r)})),this.gi._s.ws(i,(t=>i.Fi(t)),{animationEnabled:this.TL}),this.PL.push({row:t,column:e,line:i,alignment:"horizontal"})}this.Ss.HL.Ts(this.PL.map((t=>t.line)))}cB(){const t=this.Kf._t(),e=this.GL.x.C(),i=e.reduce(((t,e)=>t+e)),n=this.GL.y.C(),r=n.reduce(((t,e)=>t+e));this.PL.forEach((s=>{if("vertical"===s.alignment){const o=En(t.x*e.slice(0,s.column).reduce(((t,e)=>t+e),0)/i,t.y*n.slice(0,s.row).reduce(((t,e)=>t+e),0)/r),a=En(o.x,t.y*n.slice(0,s.row+1).reduce(((t,e)=>t+e),0)/r);s.line.ph(o).yh(a)}else{const o=En(t.x*e.slice(0,s.column).reduce(((t,e)=>t+e),0)/i,t.y*n.slice(0,s.row).reduce(((t,e)=>t+e),0)/r),a=En(t.x*e.slice(0,s.column+1).reduce(((t,e)=>t+e),0)/i,o.y);s.line.ph(o).yh(a)}}))}setAnimationsEnabled(t){return this.Oh=t,this.getCells().filter((t=>t.panel instanceof Cd)).forEach((e=>e.panel.setAnimationsEnabled(t))),this.setAnimationHighlight(this.Oh),this}getAnimationsEnabled(){return this.Oh}getCells(){return this.OC.slice()}dispose(){return this.ci||(this.Rg&&this.Rg(),this.OC.slice().forEach((t=>t.panel.dispose())),this.wL.slice().forEach((t=>t.dispose())),this.ci=!0,this.NL(),this.L.D("dispose",{})),this}isDisposed(){return this.ci}getIsInView(){return this.Sg}saveToFile(t,e,i){return ld(this.engine,t,e,i),this}Su(t){if(this.FL){const t=this.gi.oi._t(),e=t.x,i=t.y;this.uiScale.X(e,i),this.Kf.X(e,i);const n=this.uiScale.getInnerIntervalPixels();this.Kf.ti(0,n.x).ii(0,n.y),this.L.D("resize",{width:n.x,height:n.y,engineWidth:e,engineHeight:i}),this.CL=!0}this.kL&&(this.aB(),this.kL=!1,this.CL=!0),this.CL&&(this.cB(),this.CL=!1);for(const e of this.OC)e.panel.sh(t);return this.wL.forEach((t=>t.zr())),this.wL.forEach((t=>t.sh())),this.FL=!1,this}Y(){for(const t of this.OC)t.panel.Y();return this.Kf.x.Y(),this.Kf.y.Y(),this.uiScale.x.Y(),this.uiScale.y.Y(),this}j(){for(const t of this.OC)t.panel.j();return this.Kf.x.j(),this.Kf.y.j(),this.uiScale.x.j(),this.uiScale.y.j(),this}translateCoordinate(t,e,i){return ud(t,e,i,this.Kf,this.gi)}addUIElement(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ru,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.uiScale;e=cd(e,this.Kf);const i=hd(t,this.jL(),this.uiScale,e,this.BL,this.bi);return this.wL.push(i),i}RL(t,e,i,n){return e>=0&&t>=0&&e+n<=this.OL&&t+i<=this.zL}EL(t){const e=this.$L,i=e===Br?0:e.getThickness()/2,n={left:t.columnIndex>0?i:0,top:t.rowIndex<this.OL-1?i:0,right:t.columnIndex<this.zL-1?i:0,bottom:t.rowIndex>0?i:0};t.panel.bn(n)}iB(){this.uiScale.x.St([0,0]),this.uiScale.y.St([0,0]),this.Kf.x.St([0,0]),this.Kf.y.St([0,0]);for(const t of this.OC)this.EL(t);this.gi.Rs()}addEventListener(t,e,i){this.L.addEventListener(t,e,i)}removeEventListener(t,e){this.L.removeEventListener(t,e)}}const zy=(t,e,i)=>{const n={...t,columnSpan:t.columnSpan||1,rowSpan:t.rowSpan||1,animationsEnabled:void 0!==t.animationsEnabled?t.animationsEnabled:i};var r,s;return n.rowIndex=(r=n.rowIndex,s=n.rowSpan,e.numberOfRows-(r+s)),n},Iy=function(t){let e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAgCAYAAADwkoGKAAAsa2NhQlgAACxranVtYgAAAB5qdW1kYzJwYQARABCAAACqADibcQNjMnBhAAAALEVqdW1iAAAAR2p1bWRjMm1hABEAEIAAAKoAOJtxA3Vybjp1dWlkOjlmZDBkZjkzLTVmMDMtNDczYi1hZThhLTFhNDM4NmMzNmJhYQAAAAGzanVtYgAAAClqdW1kYzJhcwARABCAAACqADibcQNjMnBhLmFzc2VydGlvbnMAAAAA12p1bWIAAAAmanVtZGNib3IAEQAQgAAAqgA4m3EDYzJwYS5hY3Rpb25zAAAAAKljYm9yoWdhY3Rpb25zgaNmYWN0aW9ua2MycGEuZWRpdGVkbXNvZnR3YXJlQWdlbnRtQWRvYmUgRmlyZWZseXFkaWdpdGFsU291cmNlVHlwZXhTaHR0cDovL2N2LmlwdGMub3JnL25ld3Njb2Rlcy9kaWdpdGFsc291cmNldHlwZS9jb21wb3NpdGVXaXRoVHJhaW5lZEFsZ29yaXRobWljTWVkaWEAAACranVtYgAAAChqdW1kY2JvcgARABCAAACqADibcQNjMnBhLmhhc2guZGF0YQAAAAB7Y2JvcqVqZXhjbHVzaW9uc4GiZXN0YXJ0GCFmbGVuZ3RoGSx3ZG5hbWVuanVtYmYgbWFuaWZlc3RjYWxnZnNoYTI1NmRoYXNoWCBvErgv+J0u7bVCYViyMUgw5yMb8idAv1erA3/DALx9NWNwYWRIAAAAAAAAAAAAAAIDanVtYgAAACRqdW1kYzJjbAARABCAAACqADibcQNjMnBhLmNsYWltAAAAAddjYm9yqGhkYzp0aXRsZW9HZW5lcmF0ZWQgaW1hZ2VpZGM6Zm9ybWF0aWltYWdlL3BuZ2ppbnN0YW5jZUlEeCh4bXAuaWlkOjI3NEMxQjdDN0E0MDExRUVBQkZFQUNFQjJDOTA0NzVCb2NsYWltX2dlbmVyYXRvcng2QWRvYmVfUGhvdG9zaG9wLzI1LjIuMCBhZG9iZV9jMnBhLzAuNy42IGMycGEtcnMvMC4yNS4ydGNsYWltX2dlbmVyYXRvcl9pbmZvgb9kbmFtZW9BZG9iZSBQaG90b3Nob3BndmVyc2lvbmYyNS4yLjD/aXNpZ25hdHVyZXgZc2VsZiNqdW1iZj1jMnBhLnNpZ25hdHVyZWphc3NlcnRpb25zgqJjdXJseCdzZWxmI2p1bWJmPWMycGEuYXNzZXJ0aW9ucy9jMnBhLmFjdGlvbnNkaGFzaFggSmnBvf+o3kEweL4k7cz4MTrB0WSVNFZxoA1rBrM31K+iY3VybHgpc2VsZiNqdW1iZj1jMnBhLmFzc2VydGlvbnMvYzJwYS5oYXNoLmRhdGFkaGFzaFggL2g6Dghd536quyA5vPlS/9NGA5WvLRkkKJmqn0VxCoFjYWxnZnNoYTI1NgAAKEBqdW1iAAAAKGp1bWRjMmNzABEAEIAAAKoAOJtxA2MycGEuc2lnbmF0dXJlAAAAKBBjYm9y0oREoQE4JKNmc2lnVHN0oWl0c3RUb2tlbnOBoWN2YWxZDjYwgg4yMAMCAQAwgg4pBgkqhkiG9w0BBwKggg4aMIIOFgIBAzEPMA0GCWCGSAFlAwQCAQUAMIGCBgsqhkiG9w0BCRABBKBzBHEwbwIBAQYJYIZIAYb9bAcBMDEwDQYJYIZIAWUDBAIBBQAEIHj4VpJDPzaO0x4hOPnj/w1GTHuwXU0IpBf4VVocIQzoAhB3SsxvHza2JR1fKj3Mjr0yGA8yMDIzMTEwMzExNTcyNloCCQCyOL6wAOGCbaCCC70wggUHMIIC76ADAgECAhAFHp6R1x6RCrvkPVzt0N3ZMA0GCSqGSIb3DQEBCwUAMGMxCzAJBgNVBAYTAlVTMRcwFQYDVQQKEw5EaWdpQ2VydCwgSW5jLjE7MDkGA1UEAxMyRGlnaUNlcnQgVHJ1c3RlZCBHNCBSU0E0MDk2IFNIQTI1NiBUaW1lU3RhbXBpbmcgQ0EwHhcNMjMwOTA4MDAwMDAwWhcNMzQxMjA3MjM1OTU5WjBYMQswCQYDVQQGEwJVUzEXMBUGA1UEChMORGlnaUNlcnQsIEluYy4xMDAuBgNVBAMTJ0RpZ2lDZXJ0IEFkb2JlIEFBVEwgVGltZXN0YW1wIFJlc3BvbmRlcjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABE0srlH5A/+15/MFl1asNh8Q8TubOsEVfu0qlJrF0smjtwL1IeHZ/AB7J59u1Trpho1BDN85lfTY30rNBsfT+myjggGLMIIBhzAOBgNVHQ8BAf8EBAMCB4AwDAYDVR0TAQH/BAIwADAWBgNVHSUBAf8EDDAKBggrBgEFBQcDCDAgBgNVHSAEGTAXMAgGBmeBDAEEAjALBglghkgBhv1sBwEwHwYDVR0jBBgwFoAUuhbZbU2FL3MpdpovdYxqII+eyG8wHQYDVR0OBBYEFLA1qlbDIamLztO4vIsWJVed7zThMFoGA1UdHwRTMFEwT6BNoEuGSWh0dHA6Ly9jcmwzLmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydFRydXN0ZWRHNFJTQTQwOTZTSEEyNTZUaW1lU3RhbXBpbmdDQS5jcmwwgZAGCCsGAQUFBwEBBIGDMIGAMCQGCCsGAQUFBzABhhhodHRwOi8vb2NzcC5kaWdpY2VydC5jb20wWAYIKwYBBQUHMAKGTGh0dHA6Ly9jYWNlcnRzLmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydFRydXN0ZWRHNFJTQTQwOTZTSEEyNTZUaW1lU3RhbXBpbmdDQS5jcnQwDQYJKoZIhvcNAQELBQADggIBAHgrjELHhBCEWJSCyRX7lsL0C9LJgbX1ryVYySNRxHkMR2LqC7PQZRJgDNR+kJop8P5v2Bzp/jMrzw4U4pY6rYv3I8HpFlJa4uBwUTIUgHWpi8Xxd1JEEX94POODi7HySekX60A055BozFb7GGVaxb0LreQTRXnkr6ggPNUPX9Gh+2ScOxlTdQQLgZbkdYvxo3Ap6cy9riZijRxOZqiOyWSxMUhgKxeKzwrFW6Xbe0awNhOUXZzIxc4ixpKzWSItpPJ30ZiBQn49U3ADYTnshbN9ZkTA1pHf/Nov2ZUvvddkZ8UYvwo9vBvLTDvnmABnRMBKaXYAs3ZCvw9CkDPOWTeUJMFRAtmUx52ohaA3nD8bCJ6UfpQ2pFfOdShwpb6GKv0g+BgcdIG2LHPJ0Ufmr+XmpgZgq/HIge0hjcCADpjDgq2z4B0L4xtAA1M8MrUx02hxb7104nFKqMuv5zJTQl3sgwqXUyP+9zHQP9y/Z5Fx/AQWrOXCW56dV7P4cFBJl8zHqinlhkOStZ1m22+9Hlq+eC0hJ2lkF1LuzRdJJb/51LXoPKRnopFDng6XpoD7eG6w4YpAx9+P00JuUoBsYSrdsuFiyWyQQGBAnjI69ggbSLcW+hJytuinaxawVlItJkS2eV5Z4XsxPg7f82uRkdtN0hTHeI93CN3OWeRebnK7MIIGrjCCBJagAwIBAgIQBzY3tyRUfNhHrP0oZipeWzANBgkqhkiG9w0BAQsFADBiMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNlcnQuY29tMSEwHwYDVQQDExhEaWdpQ2VydCBUcnVzdGVkIFJvb3QgRzQwHhcNMjIwMzIzMDAwMDAwWhcNMzcwMzIyMjM1OTU5WjBjMQswCQYDVQQGEwJVUzEXMBUGA1UEChMORGlnaUNlcnQsIEluYy4xOzA5BgNVBAMTMkRpZ2lDZXJ0IFRydXN0ZWQgRzQgUlNBNDA5NiBTSEEyNTYgVGltZVN0YW1waW5nIENBMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAxoY1BkmzwT1ySVFVxyUDxPKRN6mXUaHW0oPRnkyibaCwzIP5WvYRoUQVQl+kiPNo+n3znIkLf50fng8zH1ATCyZzlm34V6gCff1DtITaEfFzsbPuK4CEiiIY3+vaPcQXf6sZKz5C3GeO6lE98NZW1OcoLevTsbV15x8GZY2UKdPZ7Gnf2ZCHRgB720RBidx8ald68Dd5n12sy+iEZLRS8nZH92GDGd1ftFQLIWhuNyG7QKxfst5Kfc71ORJn7w6lY2zkpsUdzTYNXNXmG6jBZHRAp8ByxbpOH7G1WE15/tePc5OsLDnipUjW8LAxE6lXKZYnLvWHpo9OdhVVJnCYJn+gGkcgQ+NDY4B7dW4nJZCYOjgRs/b2nuY7W+yB3iIU2YIqx5K/oN7jPqJz+ucfWmyU8lKVEStYdEAoq3NDzt9KoRxrOMUp88qqlnNCaJ+2RrOdOqPVA+C/8KI8ykLcGEh/FDTP0kyr75s9/g64ZCr6dSgkQe1CvwWcZklSUPRR8zZJTYsg0ixXNXkrqPNFYLwjjVj33GHek/45wPmyMKVM1+mYSlg+0wOI/rOP015LdhJRk8mMDDtbiiKowSYI+RQQEgN9XyO7ZONj4KbhPvbCdLI/Hgl27KtdRnXiYKNYCQEoAA6EVO7O6V3IXjASvUaetdN2udIOa5kM0jO0zbECAwEAAaOCAV0wggFZMBIGA1UdEwEB/wQIMAYBAf8CAQAwHQYDVR0OBBYEFLoW2W1NhS9zKXaaL3WMaiCPnshvMB8GA1UdIwQYMBaAFOzX44LScV1kTN8uZz/nupiuHA9PMA4GA1UdDwEB/wQEAwIBhjATBgNVHSUEDDAKBggrBgEFBQcDCDB3BggrBgEFBQcBAQRrMGkwJAYIKwYBBQUHMAGGGGh0dHA6Ly9vY3NwLmRpZ2ljZXJ0LmNvbTBBBggrBgEFBQcwAoY1aHR0cDovL2NhY2VydHMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0VHJ1c3RlZFJvb3RHNC5jcnQwQwYDVR0fBDwwOjA4oDagNIYyaHR0cDovL2NybDMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0VHJ1c3RlZFJvb3RHNC5jcmwwIAYDVR0gBBkwFzAIBgZngQwBBAIwCwYJYIZIAYb9bAcBMA0GCSqGSIb3DQEBCwUAA4ICAQB9WY7Ak7ZvmKlEIgF+ZtbYIULhsBguEE0TzzBTzr8Y+8dQXeJLKftwig2qKWn8acHPHQfpPmDI2AvlXFvXbYf6hCAlNDFnzbYSlm/EUExiHQwIgqgWvalWzxVzjQEiJc6VaT9Hd/tydBTX/6tPiix6q4XNQ1/tYLaqT5Fmniye4Iqs5f2MvGQmh2ySvZ180HAKfO+ovHVPulr3qRCyXen/KFSJ8NWKcXZl2szwcqMj+sAngkSumScbqyQeJsG33irr9p6xeZmBo1aGqwpFyd/EjaDnmPv7pp1yr8THwcFqcdnGE4AJxLafzYeHJLtPo0m5d2aR8XKc6UsCUqc3fpNTrDsdCEkPlM05et3/JWOZJyw9P2un8WbDQc1PtkCbISFA0LcTJM3cHXg65J6t5TRxktcma+Q4c6umAU+9Pzt4rUyt+8SVe+0KXzM5h0F4ejjpnOHdI/0dKNPH+ejxmF/7K9h+8kaddSweJywm228Vex4Ziza4k9Tm8heZWcpw8De/mADfIBZPJ/tgZxahZrrdVcA6KYawmKAr7ZVBtzrVFZgxtGIJDwq9gdkT/r+k0fNX2bwE+oLeMt8EifAAzV3C+dAjfwAL5HYCJtnwZXZCpimHCUcr5n8apIUP/JiW9lVUKx+A+sDyDivl1vupL0QVSucTDh3bNzgaoSv27dZ8/DGCAbgwggG0AgEBMHcwYzELMAkGA1UEBhMCVVMxFzAVBgNVBAoTDkRpZ2lDZXJ0LCBJbmMuMTswOQYDVQQDEzJEaWdpQ2VydCBUcnVzdGVkIEc0IFJTQTQwOTYgU0hBMjU2IFRpbWVTdGFtcGluZyBDQQIQBR6ekdcekQq75D1c7dDd2TANBglghkgBZQMEAgEFAKCB0TAaBgkqhkiG9w0BCQMxDQYLKoZIhvcNAQkQAQQwHAYJKoZIhvcNAQkFMQ8XDTIzMTEwMzExNTcyNlowKwYLKoZIhvcNAQkQAgwxHDAaMBgwFgQU2Rq5M/4XremCHqYT9aQ6cU4+fn0wLwYJKoZIhvcNAQkEMSIEIGmY+GsCefCDmP0PFcYjdxBUfi0EgKYuEZb9pUMyLNuVMDcGCyqGSIb3DQEJEAIvMSgwJjAkMCIEIILa8ZSVezaEAkWP1ScAaf5ixxRW+p4Lhqv4J+hTICfZMAoGCCqGSM49BAMCBEcwRQIgcxxuf7QHV9Fkpj1VhPrFqhNFh8dZzl8qUU/2N3Sr4eoCIQDKu0KGYL++CSsDAXjJciMDbr5ImTy3jw0yQU5GYYeLimd4NWNoYWluglkGMzCCBi8wggQXoAMCAQICEBtbCzvasORd8vMNnlTR2tIwDQYJKoZIhvcNAQELBQAwdTELMAkGA1UEBhMCVVMxIzAhBgNVBAoTGkFkb2JlIFN5c3RlbXMgSW5jb3Jwb3JhdGVkMR0wGwYDVQQLExRBZG9iZSBUcnVzdCBTZXJ2aWNlczEiMCAGA1UEAxMZQWRvYmUgUHJvZHVjdCBTZXJ2aWNlcyBHMzAeFw0yMzAyMDEwMDAwMDBaFw0yNDAyMDEyMzU5NTlaMIGhMREwDwYDVQQDDAhjYWktcHJvZDEcMBoGA1UECwwTQ29udGVudCBDcmVkZW50aWFsczETMBEGA1UECgwKQWRvYmUgSW5jLjERMA8GA1UEBwwIU2FuIEpvc2UxEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMSQwIgYJKoZIhvcNAQkBFhVncnAtY2FpLW9wc0BhZG9iZS5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDv0wCnfYY9lkHDsykrTG7FYlnYHBcyualuD5u9ULjzv+FsTWOLg8Nhrz9RTxI9EeBbu3Wm7f4vqPsQYfxkEp0wIa6DVmEOZhbAeRfbhybWQ/D4Wvvck4mEZR+QZmTpIn7HX61gbtMFHlJUxkYBctIoAt9TBAFbz9d5Ig2WG0bsH39b6/8USXnIIk4FB6dtBRT1xeEwSDtwOd1YBpXXNBJmRWHXNJZZ85of2tBTesg/kMvTrOJJxYDZ97U416wcvbVomlees+NXUY3/ZB4xH+NsZils7m1bL2v2hSnHiLoqZeUKklbHUmT4ZpjrZCdtuIsWm5j2PPXKr7HKUuCbZSXBAgMBAAWjggGMMIIBiDAMBgNVHRMBAf8EAjAAMA4GA1UdDwEB/wQEAwIHgDAeBgNVHSUEFzAVBgkqhkiG9y8BAQwGCCsGAQUFBwMEMIGOBgNVHSAEgYYwgYMwgYAGCSqGSIb3LwECAzBzMHEGCCsGAQUFBwICMGUMY1lvdSBhcmUgbm90IHBlcm1pdHRlZCB0byB1c2UgdGhpcyBMaWNlbnNlIENlcnRpZmljYXRlIGV4Y2VwdCBhcyBwZXJtaXR0ZWQgYnkgdGhlIGxpY2Vuc2UgYWdyZWVtZW50LjBdBgNVHR8EVjBUMFKgUKBOhkxodHRwOi8vcGtpLWNybC5zeW1hdXRoLmNvbS9jYV83YTVjM2EwYzczMTE3NDA2YWRkMTkzMTJiYzFiYzIzZi9MYXRlc3RDUkwuY3JsMDcGCCsGAQUFBwEBBCswKTAnBggrBgEFBQcwAYYbaHR0cDovL3BraS1vY3NwLnN5bWF1dGguY29tMB8GA1UdIwQYMBaAFFcpejJNzP7kNU7AHyRzznNTq99qMA0GCSqGSIb3DQEBCwUAA4ICAQBXjlGa3yAK/Gijn6n/JNU9FZm72MP6vc5czrWe9y0T+EawuRvhpD5Edi1TnXkrpe8sMkgSjTGdbY+yGhq8zlCWQeXN1/aWo3L9Xr1uNxY/oVpLn0uWWfnfJ7yR9gKl/yoMfhjydT4t1fXHi/MhfhrWSVRHqX2U31UFGz/e298P2kv+vqhzpIUo1bj+jibtoPLMMQcCOTtKiJOTh4o3VSZpwQDERCzo91NkF+LnZjwYl6fE5USIkg/oCoomXxSPpowybDrcRJ9ilbtJcER48/LGgwzv/c7OYdron4PnEXm1FkOaVj+QRf7OwiNTizonhIzLR5Vfp0QHOWv/bPzvCjPQd+Xr0Q4032WlSxQwostNTAPtoVAU4OCwVH3Ech38emJ00/6fkDCdr7MN8/4n2LSNrMUvaBEZdmLqDCBnO02dbFrmpg3pTc0FqRQ4GL/88pjRNSMy5tU9SoQnSCGYqIsjfL8AzgPEGiXXRgABYc1uXecf4/eayb3K2MPs7hnWTbUKpHHJIwxpdN3vTGdZNWpz9Oxfuo3eELQlkTvACHgqkaXi/FAanHe5PChn6fr1/4cNF8goD0buPApgS3zzwqjRhxrH8ISwPfJn8JqzurMaLDMnnc18tHzUiMtX73jf6oXh7voCxX/T4D3nFPlxU3om2cpcLQ1Wd4026x18rlSGR1kGpTCCBqEwggSJoAMCAQICEAyotlR7iebSBol1zYubieIwDQYJKoZIhvcNAQELBQAwbDELMAkGA1UEBhMCVVMxIzAhBgNVBAoTGkFkb2JlIFN5c3RlbXMgSW5jb3Jwb3JhdGVkMR0wGwYDVQQLExRBZG9iZSBUcnVzdCBTZXJ2aWNlczEZMBcGA1UEAxMQQWRvYmUgUm9vdCBDQSBHMjAeFw0xNjExMjkwMDAwMDBaFw00MTExMjgyMzU5NTlaMHUxCzAJBgNVBAYTAlVTMSMwIQYDVQQKExpBZG9iZSBTeXN0ZW1zIEluY29ycG9yYXRlZDEdMBsGA1UECxMUQWRvYmUgVHJ1c3QgU2VydmljZXMxIjAgBgNVBAMTGUFkb2JlIFByb2R1Y3QgU2VydmljZXMgRzMwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQC3Hy69vQmzXEhs/gyDrmwB6lF4JaSAPomnsbKIZNr2iXaB+fkd85X8eJiNmI7P5O4cVT4Nc1p3zrESqBV4ZUyW8gcZ78QdwoHG8QNd2VNcHnMgSR+XT9Iafsnq9Nfww3Jt9KL3l5ANQ5n1+MJqr48EWNLll942bOL/JH4ywDSMoqhZqtJEIUUUGlQVBZ8CAvJc7LE6ddA5C52PE2Ppa7RfQgHXf4gfXVZwpxYRZcziPiOHqEvLb0J3cShUbejFxV6cwX8QyAPa1ePHg1RtM0HX+D34xHo3DkyGnmT+Ddq00TEDGG26AL5PdINKFIQl+zaq6KJFQe1fdGE5wrWzU4mBPmzaz3EbLn+7FWlwAhorYqIMldbfHE3ydc+aTU1JW7+bG19qmvhO9IluGtTtQDeqFBj2fg6faxsfVfVPD7stN6TwoIDlkOCE4RE+Iin8m3z3eqi/VsTmsmRqBxWDRaqOHz02EJoEDxXJG3ei+UbIIp01XZQvdufm90WxOTuqqan2ZqTPX9K5VdjEh/ovr7xFc5q1dZo+Sa5y4sTVM854/tLU3klOgUKzzSXYPYS3GhBcYJHjwr9xNRHnNX99D6F0g7OijScWfvtjxh13aTv/H0ETvymah4yfDpVdh9cK5YSCPqnuOlsujFAyhYwJXOWDvZZU2EkWVLDhoPx9zp7N4QIDAQABo4IBNDCCATAwEgYDVR0TAQH/BAgwBgEB/wIBADA1BgNVHR8ELjAsMCqgKKAmhiRodHRwOi8vY3JsLmFkb2JlLmNvbS9hZG9iZXJvb3RnMi5jcmwwDgYDVR0PAQH/BAQDAgEGMBQGA1UdJQQNMAsGCSqGSIb3LwEBBzBXBgNVHSAEUDBOMEwGCSqGSIb3LwECAzA/MD0GCCsGAQUFBwIBFjFodHRwczovL3d3dy5hZG9iZS5jb20vbWlzYy9wa2kvcHJvZF9zdmNlX2Nwcy5odG1sMCQGA1UdEQQdMBukGTAXMRUwEwYDVQQDEwxTWU1DLTQwOTYtMzMwHQYDVR0OBBYEFFcpejJNzP7kNU7AHyRzznNTq99qMB8GA1UdIwQYMBaAFKYc4W1UJEyoj0hyv26pjNXk7DHUMA0GCSqGSIb3DQEBCwUAA4ICAQBxzuUHjKbcLdzI4DtlXgCSgZXrlSAkr59pOF3JfPG42qVNAGU7JcEYXJ6+WbfcGwY7WYMl+jO7IvJPb7shXFYW9bnJgxX7lLU14KExchmcLNY1ee6IhBJ2Y8PzZMRUKSd5CkURPg0PBLGjz/KR/DofHx+G4rPTCOGORYxeYrd01lci5hVxvKccvIk7MD69ZTewfZPSM+0WnsU3f0Zmd7hgbRpUyWceG0eHFpdUKK/ZFWhHjDVC28odCnN885tHncKXviItK0ZUUo/AIthFKlhEXsnq9VL9fFbgvO83ZvpUQo5y8mY3cuGnEVGXdhjNb53CfC1u4dbpYmWaN99subUzEsUaUb3loLPfVfzDOpg2y9v37kBdy/wuXr20teY7U62xj/fAgs1QSnhUtlMTfCqbefyEycKVmKIrJkJLsvgTSYKVvH4FFIwfd5WjqOC97jX98rcVAzhAI0iSkazsWOMvL6m0L4nLJapx+85GsVX8Y6AHmEP4bmCElwil6KAP+UewJFiw5rmwV2pESHAhYuZJa03B8tl0nd2QJzvJGmbeBqXqpF9ORinFM3HErK8puRokOjFH2+1asLeI2tB31W/ELdNe27Ogduq6Z6qBwCp59YX27qydDhD0WRfN64kCs25K88iGAGNW2CAfTDS+b+WYJBiIL9jXYZ4LF+BiUvfdu2NwYWRZC70AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPZZAQBKX2Q2ihN2fLDLReHISpfOF0xIqNpOZXbBwZ0XanWG98erbIBdawl7r9nVma/uZjYH457wp00TVpKYUTJHMnzJMKskvM2Df4K6t5pUKGtJqEvMXLUy3g9kJq53aYDwikcUE+8wv+CYtu/+vii4XYSXQIxT4NN+JKoTDXmrNH1G46Nmpfq6SKk0g9GQ2brbkW3fzGR0xDxY3BXRy71guSBxN9TAbQGqUjMnkIyBcwV9wUQ2oCW9oIMNKASjW0CRkcFEzzmrQ+y+zHYpNvUaG7QehHcyhvOec3plzlyP6DZeQWp3PHA5bmonI8t5j6Qj15X1KnQiXuJ0rW+xoMA89aIVmpx4VgAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAOSaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA5LjEtYzAwMSA3OS4xNDYyODk5Nzc3LCAyMDIzLzA2LzI1LTIzOjU3OjE0ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjYyYTdmYWExLWJmZTMtMjE0Ny04MjAwLWMxM2NlMGU4ZTc1NCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyNzRDMUI3RDdBNDAxMUVFQUJGRUFDRUIyQzkwNDc1QiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNzRDMUI3QzdBNDAxMUVFQUJGRUFDRUIyQzkwNDc1QiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjUuMiAoMjAyMzEwMjQubS4yMzc0IDRhYjk0MzkpICAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDphYjQzZjNjYy1hNTY4LTRkNGQtOTdiZC1iYjk0YjBlZjhjYmQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjJhN2ZhYTEtYmZlMy0yMTQ3LTgyMDAtYzEzY2UwZThlNzU0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+HNvo5wAADZFJREFUeNrsXFtPVUkW3gc4yP0qDigKON517FFbHRGn1TamjaOJvvhsjIkvPplgfEKe1AefNDE+GP+AmWTszPTYcbpn2piJzc1GWwlOekRBEBFQ7jeZ9ZVrnVkUtfc5CGp3h5VU9qUuu3bVV9+67DonND4+7omEQiHPJaWlpYlxcXGLKX8epTCdB5aXNnHU6c2bN5POcaREp+O9dHxSX1/f5s3KL1ImYCkasMrKyvIISJspD+AyZSTpOrodDSaIBpQCkwtgSM8oVd2/f39M2quoqAijmcrKyjG/l7L77vde+v6sfCRgbdu2LY3AtJNSgg0qDa5oTOViKQtM9nXTgQMHaqmpPEoLKXUQqJpcYIqPj/cSEhLMUZgUbYyNjZkjRPpu50n+VEUvKtditMEb7Xom5OrVqzvpkOXIukFps5XXTunO4cOHR7heKp1/ye1gEX9BCcdv6H4330cbCyh9iXrRgJUQ1FmarFWUIqDS4ApiCT9AobxMpj24uI/209LSvMLCwiLKz6fyQModAlW73TeAac6cOV5SUpIBlasv9qKRvgBYIyMj3tDQkDmPdaLRPzwrHA6bhGsNWr9xsMfEZnC7XDSg+tzv4lRCCRPfjJtHjhzpu3LlCkDVx4BKZICsx9gy4PT4rmFQQbIpdfM5ynX7gWrS/Phl7NixI0SDWCCD52Is14vqAXIByoluAkl+fr43f/58Lyvr7cIaHh4OJSYmfkug6rXZApOamprqUb6vned3X4CBujj29/cbkEl/7EUj74o+og4S2gh6xkypk6mUPXnyZN25c+fCDKzm8vLyOuQzqCAtJ06cuH/+/PkwAytMLCR57VjQFy5cmKeAiXJZGOeLFy/iPBVt4Nqeb60dogKLBm9O/FvxXIwVxBAaUBpgixYt8np7e7329vYJZUtKSkwSefHihVdTU9N2586dXrtfmNj09HQz0dMRvAsYD0dhLryrvG8s7/w+ZCrPcJSdx8duAb+6l0WgWqeu/8uMZMoDWCTr+BpMVoZ8jLUq18XXgdohEFg0cXF6kF2s5Uf9NqBwxL0FCxaYSXz58qWZSNzr6+vzioqKIm01NTV5ZLgbT9HuExgGAzBdUOmJEeb6EKD5AJKt1KJ9TwAFNrpz6tSpljNnzgiQuuh8DbNSNx9HlF0mx26/cbTHLy6AsSKGcVCyjWepJwnS2trqbdiwwZyDJaDyUBbslZmZGTG6Hz9+7D18+NDdUSqTkpIyY6B6V5b4mYsBAIGm27rXR/f+DFXGKm5Ega6P7a5lqvw6sbMIcFkKlCUAI6esQI0QBCwBjxirNqCkDACSkZFhQKLVCSassbHR27Jli6kvsnDhQnN8/vy5t3Hjxsj95ubmSQ6CVoEA5a8IBO+LsSKgoskPKxaC1DKo1mmDXF1/AwAyCO+rNoX1FrANVqLA6V6sfuGGgwcPphBovrCBIuwCgRp7+vSpAUd2dra5bmtrM6pvdHTUu3fvnrGdNHhEbt265XV1dXn79+9/y8V0XltbGwkDkKpsqqqqqhG2AmgBrFn5+Qo0Uyw21gRm0kwCLwqAAgC2b99u2AQCVYWyACtUGkRUoC2bNm0yYBIBe/l5ncKaWmg1hrj/47TCRu32ebUam4LyAweEymK1QG+PUdk3PmXCrGZicrej9e99CD0znvs4NsPtRh2fmMMNLmBBYHgDmTC4ly1bNslWAbhu375tyh06dGgCw2kB+yDEAIEh39HR4RsjE+/NkgJKf0DwlNJ3jkndi2Yo/QXOZ5RxWElpOaUqSk99QLWPErzUr2OcD+j7T+GPUKqZocldyu2mWWbMv1mt4T3q2OObSVnNz46MD49xMfelE85ArOGGiA2FSR0cHDRggVe3fv16Lzc317cXCBeUlZUZu8sVBLUF7YrnaDMWygsjWpLJx1eOvCS8LKX+GFeYdPS1T356wLOC7NcOK/g4HSbaSmku2zZtlo0D6l8U5R2mIxmO91/F79iP8aY+lmhAR2Us09PXr439hAles2ZNoK2Tl5dnwgorV66clHfz5k1v165dk8CFuJYfWwm4/Twgn4FMZqO0U00OPg/lsgck0k3Ae6JACq8HamsAJgPl9fOAzef8VLpey1HtVGXUQoZ45b7QawzgojqpauJNZIYnpEXUFpWZw8ZxMqsdEdgUixlUqPMt1RlygE8mv4jO5/M7tFHZXs4HI+uJG4YFQvldnF+sAPRGjd8SSjl8fzGVG6I6Dxk76GcKl8uOlbESh4eHDVOBpWCcQ/1F88qQv2fPnknlnjx5YsIJOBYXF/9/NqhtANcV8ZbYlc8zswJYJJ8H5Eem7A3WxEYmjdVcigycyltBeV/RsVANbDKDrJnL5jom+Dsa+A5e0WDOn7g/Kx3PR/06qpPDjBS28gG6e6pfDT6gimeV5LF6iqh4focxHo84Ne8hzv8ng2sJA6tfjUedROkZbPkqRhbie8JauTEBi7y6ePncAQaaO3fulKLaWgDQgYEBoxrh+WlgiW3l9znFNtp5IBN5kv0YS6vJYgYVVlU120mfUPot58sqbeaBxJh8zqs7TIN+i573R2aMfykGQD2w21dcfx2DMI3yXjOosLqH6Fr6U8VqDHGhzVw2ns8T2BaTWNMefrc09a7PA1R1iNuuYibZwfXmUB8Qq/qrZa9tZjs1i65fcRswHf5O1zuYgZ7yeG1jdq3SbM9gauFF8yimOBYABaN66dKlUwKVS0TVQT2+evVqgjcIYAWxXxQ12O/jcWUq0MlqvwtQsIeo8zOUWoQHOcCTNMbqQsqPcTARE5PCk/+a64woB6HPYf/JMzq57KgqW8AAaKa8Jn4fbfOlKe92wGeoMq13GFQqdwD95aDmZ5Q+Z9AJwwwoYL5Wn3vqHH2JCOU9pkMjg7jWMgH8GYtspVx8cIwW6QYDrV271rccgATGAkhgm8GTfPDggbd161YTWIUqdLGVnPt4lQKsQQebJTCVj7CNlO4YmAwFlCUaBAo0XVR/nK6T+RqTNh5g7GuwLrTyMxlMfY760r/eKI4J+hJSffA1rlm9o989DK5SLtOmnpOm+pCr6zNoojpJVK6HnxFbuKGiomI5u5hRQVVdXW0+0UjowGa97u6Jn5ewewExMIAN3mA0lepjX8nLgsYXMy2P8SAmWJM6zGoJhnkrr7BEBRwbJLYHJJ/zQ5gwZhx7IkMMkEFWfZF8BcxOFU9zAes33L9+yzERMKLP66nMM8V4HjNFpgPI0r9kft4AmwLjzE4wD0Z58S0OMCvk/RMDgB1zHGtZtIoIgopKe/TokRNYnZ2dzroAIsAFo93Vrq0OAxgLdPZ7TZBsLOtBAl2vZbvqE1VWT4JWM/YkDfJk4P4+GtxqR5l07otrYjMdk6Ydj24ebxjwO23CZ6A+YGegiJOn+vY3xcC9jncY5TwA7E92+zGEW/r5+CnbUjdijbXYbJXs8E6ck11aWmp2G+B7oC1Qc2AsP+AAVHqT3RR3Vd5nQ9dO93hw6ik95hX9H7jonF/PIQBjj7ARC9f5rhUTQrlWrt/L9e/y/XbOq1ce0ihfy0A85useZop6K2gJ8P8A0FACo/7De7tV5Qd4sgIa8QDp2IBoDTNOvU7Mlo1sQ44rwNSzwS3t19l14WWq/tb4qLW76rn3Yp2gSd8KCVjwWMqC1JP6nmei8Ddu3DBRdgmI4jshDHbkByVpQ5+rY9P3339fk5OT46m9RVMNLGLQf2cxdCGff62M3I8m1EcY73nqVg4nhBYe/FK+EwJH+E4cpAozgxoQlhEQwGNctWqVUW2rV6+OGOx++96jbcm193bJBrx3lBQV3NRu8o+xgCrWvervsoddWD8pKamQ40Py9QEM00htNrzrnvxY3yeW/kUTIRlbO7kYa4OlxyMsZG87loQ8Yhdv9+7dJkIPYGk28mOrFStWGOMeux+wdx0foq9fvx7Z3QDGgmeK9D63y8j74D2QpI+unZHTAZdsgJzKxE33vfQzowEuluC3q57eyx/EWBn2DQQ3MdDa9bd/xrV8+fLIpx8beH4/HigoKHgbKi4u9s6ePeuVl5cbYOkOIxwB0M30Bj+0DRDhy4LE7KSfszJ9SbAMd0+5vxEjG6EB+SWMRq3eepycnGwMdq0mfX7aNWHbsrAhovvXrl2bpCKRB2DDSZjuKpd2AVa0qX9EMSszK3GOmEWCjopLgBMJE4GEyZajVh8OA9zJXBpUOL98+bJ37Ngxr6WlRbPbuIABrILPS+8KAtRD/3t6ekzsTBbLLKg+HLC0GrxLkzCmAaWTDSptm0QDGf92cMKvdy5duuQdPXpU6+sB7TAAWFCzOI8VTCiLOoinIeaGNqbyO8JZmXlg3a2srPyJANQqQHIBTIPLBlYQc8GTxM5SAdHevXvNr3NgSylGe2Z7owAG2AZHcSbshHJgOJQDoCSeNgumj2hjMbAMqHBBE/IAv0imiU6AjSUGvN9Pv1z2lAtc2AiILTg4r6mpMfGP48ePew0NDdJGU21t7SuXaysAt3e26l85z7LSx5cJ4YbTp0/PJVBN2G6wb9++PJrAzdif5fpBhTaK/f70I1qygPeMrqvq6upi0nmuPyWZlY8XJPWNY7mEVJX5GyNK8yiFg34J7fM3RYEgIyCN09H8jVF1dfXs3xj9CoD1PwEGAKorJqR4atjIAAAAAElFTkSuQmCC",n=arguments.length>2?arguments[2]:void 0,r=0,s=0;const o=[],a=t=>{const e=new jr.Image;e.src=t,e.onload=()=>{o.forEach((t=>{var i;const n=new Fr({source:e,fitMode:Tr.Stretch});null===(i=t.vd)||void 0===i||i.th(n),r=e.width,s=e.height,c(t)}))}};a(i);const l=t=>{a(t.logoDataURI)};let h;if(t.Fa.addEventListener("logochange",l),new jr.Image instanceof jr.HTMLImageElement){const t=new jr.Image;t.src=i,h=new Fr({source:t,fitMode:Tr.Stretch})}else if(jr.lcjs_setup){const t=new jr.Image;t.src=i;const e=jr.lcjs_setup(t.naturalWidth,t.naturalHeight);e.getContext("2d").drawImage(t,0,0),h=new Fr({source:e,fitMode:Tr.Stretch})}else h=new aa({color:_n("#f00")});const c=t=>{if(t.vd){const e=t.oi.Jt({x:t.oi.x.getInnerEnd(),y:t.oi.y.getInnerStart()},{x:-(3+r),y:3}),i=t.oi.Jt({x:t.oi.x.getInnerEnd(),y:t.oi.y.getInnerStart()},{x:-3,y:3+s}),n={x:i.x-e.x,y:i.y-e.y};t.vd.eh(e).X(n)}e&&e.Rs()};return e=t.SL("logo",Number.MAX_SAFE_INTEGER),i=>{const r={oi:i};return(i=>{const r=n&&"cGx1Z2lu"in n&&"cHl0aG9u"===n.cGx1Z2lu?Vy:Dy;if(i.vd&&i.vd.dispose(),e){let n;i.vd=e.ih(i.oi).th(h).setPointerEvents(!0).qe(Br),i.vd.addEventListener("pointerenter",(()=>{n=t.Dn(Yl.Point)})),i.vd.addEventListener("pointerleave",(()=>{n=t.Rn(n)})),i.vd.addEventListener("click",r),c(i)}})(r),o.push(r),{zr:()=>c(r),N:()=>(e=>{e.vd&&(e.vd.dispose(),e.vd=void 0);const i=o.indexOf(e);i>=0&&o.splice(i,1),o.length<=0&&t.Fa.removeEventListener("logochange",l)})(r)}}},Dy=()=>jr.open("https://lightningchart.com/lightningchart-js/"),Vy=()=>jr.open("https://lightningchart.com/python-charts/");class _y{constructor(){this.uB=this.dB.bind(this),jr.addEventListener("scroll",this.uB,{passive:!0})}N(){this.uB&&jr.removeEventListener("scroll",this.uB),this.uB=void 0}}class Ny{constructor(t,e){this.wl=t,this.U=e,this.fB=!0,this.AB=null,this.gB=null}}class Oy{constructor(t){this.vB=!1,this.yB=1,this.pB=t,this.mB={wl:En(0,0),U:En(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),fB:!0,AB:null,gB:null},this.SB=En(64,64),this.bB=new Uint8ClampedArray(this.SB.x*this.SB.y*this.yB)}xB(t,e){if(!t.fB)return null;if(t.AB&&t.gB){const i=this.xB(t.AB,e);return null!==i?i:this.xB(t.gB,e)}const i=wn(t.U.x,t.U.y);if(t.wl.x+t.U.x>=Number.MAX_SAFE_INTEGER&&(i.x=this.SB.x-t.wl.x-1),t.wl.y+t.U.y>=Number.MAX_SAFE_INTEGER&&(i.y=this.SB.y-t.wl.y-1),t.U.x===e.x&&t.U.y===e.y)return t.fB=!1,t;if(i.x<e.x||i.y<e.y)return null;let n,r;const s=i.x-e.x,o=i.y-e.y;let a=s<o;return 0===s&&0===o&&(a=!(t.U.x>t.U.y)),a?(n=new Ny(Ro(t.wl,{x:0,y:1}),En(t.U.x,e.y)),r=new Ny(Ro(t.wl,{x:0,y:e.y+1}),En(t.U.x,t.U.y-1-e.y))):(n=new Ny(Ro(t.wl,{x:1,y:0}),En(e.x,t.U.y)),r=new Ny(Ro(t.wl,{x:e.x+1,y:0}),En(t.U.x-1-e.x,t.U.y))),t.AB=n,t.gB=r,this.xB(t.AB,e)}MB(t,e){const i={wB:!1,wl:null};let n=this.xB(this.mB,e);if(null===n)for(;null===n&&this.SB.x<this.pB&&this.SB.y<this.pB;){if(!this._B(En(2*this.SB.x,2*this.SB.y)))return this.vB=!0,null;i.wB=!0,n=this.xB(this.mB,e)}if(null===n)return this.vB=!0,null;for(let r=0;r<e.y;r+=1)for(let i=0;i<e.x;i+=1){const s=n.wl.y+r,o=n.wl.x+i;this.bB[s*this.yB*this.SB.x+o*this.yB+0]=t[r*this.yB*e.x+i*this.yB+0]}return i.wl=n.wl,i}_B(t){if(t.x>this.pB||t.y>this.pB)return!1;const e=new Uint8ClampedArray(t.x*t.y*this.yB);for(let i=0;i<this.SB.y;i+=1)for(let n=0;n<this.SB.x;n+=1)e[i*t.x*this.yB+n*this.yB+0]=this.bB[i*this.SB.x*this.yB+n*this.yB+0];return this.SB=t,this.bB=e,!0}}class Hy{constructor(t){this.kB=new Map,this.pB=t,this.kB.set(this.kB.size,new Oy(this.pB))}CB(t){return this.kB.get(t)}MB(t,e){let i=-1;const n=Array.from(this.kB.values());for(let o=0;o<n.length;o+=1){const t=n[o];if(!t)break;if(!t.vB){i=o;break}}-1===i&&(i=this.kB.size,this.kB.set(this.kB.size,new Oy(this.pB)));const r=this.kB.get(i);if(!r)return null;let s=r.MB(t,e);if(!s&&r.vB){const n=this.kB.size,r=new Oy(this.pB);this.kB.set(n,r),i=n,s=r.MB(t,e)}return s?{TB:i,...s}:null}}var Uy;!function(t){t[t.Fail=0]="Fail",t[t.Success=1]="Success",t[t.Resize=2]="Resize"}(Uy||(Uy={}));const Yy=Bs("font-texture");class Gy{constructor(t){this.FB=new Map,this.IB=new Map,this.mi=Yy(),this.PB=t,this.LB=new Hy(this.PB.BB||4096)}bu(){return this.IB.forEach((t=>{this.PB.DB(t)})),this.IB.clear(),this}RB(t,e){const i=this.FB.get(e);if(i)return i.get(t)}EB(t,e,i){let n=this.FB.get(e);if(n||(n=new Map,this.FB.set(e,n)),n.has(t.glyph))return Uy.Success;const r=this.LB.MB(i,t.size);if(!r||!r.wl)return Uy.Fail;r.wB&&this.OB();const s=this.LB.CB(r.TB);if(!s)return Uy.Fail;let o=this.IB.get(r.TB);if(!o){const t=this.PB.gl.createTexture();if(!t)throw new My("Failed to create texture for font!");o=t,this.IB.set(r.TB,t)}const a=r.wl,l=s.SB.x,h=s.SB.y,c=-t.offsetX,u=t.baseline-t.size.y,d=-t.offsetX+t.size.x,f=t.baseline,g=a.x/l,p=(a.y+t.size.y)/h,m=(a.x+t.size.x)/l,y=a.y/h,v=[g,p,m,p,g,y,g,y,m,p,m,y],x=[c,u,d,u,c,f,c,f,d,u,d,f],b={origin:a,size:t.size,advanceX:t.advance,baseline:t.baseline,vertices:x,texCoords:v,packerId:r.TB,texture:o};n.set(t.glyph,b);const S=this.PB.gl;return S.pixelStorei(S.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),S.bindTexture(S.TEXTURE_2D,o),S.texImage2D(S.TEXTURE_2D,0,S.LUMINANCE,s.SB.x,s.SB.y,0,S.LUMINANCE,S.UNSIGNED_BYTE,this.PB.zB?s.bB:new Uint8Array(s.bB)),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.LINEAR),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.LINEAR),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),S.bindTexture(S.TEXTURE_2D,null),r.wB?Uy.Resize:Uy.Success}OB(){this.FB.forEach((t=>{t.forEach(((e,i)=>{const n=this.LB.CB(e.packerId);if(!n)return;const r=e.origin,s=n.SB.x,o=n.SB.y,a=r.x/s,l=(r.y+e.size.y)/o,h=(r.x+e.size.x)/s,c=r.y/o,u=[a,l,h,l,a,c,a,c,h,l,h,c];e.texCoords=u,t.set(i,e)}))}))}}const jy=t=>(e,i)=>i%2?e:e+t;class Xy{constructor(t){this.VB=new Map,this.NB=Bs("font"),this.GB=new Map,this.$B=new Set,this.PB=t}bu(){return(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||0===this.$B.size)&&(this.VB.forEach(((t,e)=>{t.bu(),this.VB.delete(e)})),this.$B.clear()),this}Xu(t){this.$B.add(t)}UB(t){this.$B.delete(t)}YB(t,e,i,n){const r=jr.devicePixelRatio,s="".concat(n?"dark":"light"," - ").concat(Zh(e,r).id),o=this.GB.get(s),a=this.VB.get(o);let l=0,h=0,c=0;const u=t.split(""),d=e.size,f=.45*e.size*r,g=Math.round(1*e.size*r);let p=!1;for(let y=0;y<u.length;y+=1){const t=u[y],e=a&&a.RB(t,d);if(e)""!==t.trim()&&(h=Math.max(h,e.baseline),l=Math.min(l,e.baseline-(e.size.y-1))),c+=e.advanceX;else{if(""!==t.trim()){const t=0;h=Math.max(h,t),l=Math.min(l,t-(g-1))}c+=f,p=!0}}const m=fl(c/r,(h-l+1)/r,i);return{x:m.x,y:m.y,isEstimate:p}}jB(t,e,i){const n="".concat(i?"dark":"light"," - ").concat(e.id);let r=this.GB.get(n);r||(r=this.NB(),this.VB.set(r,new Gy(this.PB)),this.GB.set(n,r));const s=this.VB.get(r);if(!s)throw new My("Failed to get font texture!");let o=0,a=0,l=0;const h=t.split(""),c=new Map;let u=0;const d=e.properties.size;for(let p=0;p<h.length;p+=1){const t=h[p],n=Math.ceil(u);let r=s.RB(t,d);if(!r){const n=this.PB.HB(t,e.properties,e.dpr,i);if(!n)continue;const l=s.EB(n[1],d,n[0]);if(l===Uy.Resize){this.$B.forEach((t=>{t.vl.o=!0})),p=-1,u=0,a=0,o=0,c.clear(),this.PB.gi.Rs(!0);continue}if(l===Uy.Fail)throw new My("Failed to create glyph");if(r=s.RB(t,d),!r)throw new My("Failed to get glyph after creation")}if(""!==t.trim()){let t=c.get(r.texture);t||(t={vertices:[],texCoords:[]},c.set(r.texture,t)),t.vertices.push(...r.vertices.map(jy(n))),t.texCoords.push(...r.texCoords),a=Math.max(a,r.baseline),o=Math.min(o,r.baseline-(r.size.y-1))}u+=r.advanceX}l=u;const f=Tn(En(0,o),En(l,a)),g=[];return c.forEach(((t,e)=>{g.push({texCoords:new Float32Array(t.texCoords),vertices:new Float32Array(t.vertices),texture:e})})),[g,f]}}const Wy={roundUnsigned:{WB:"roundUnsigned",XB:"float roundUnsigned(float number) {\n  return floor(number + 0.5);\n}"},linearStep:{WB:"linearStep",XB:"float linearStep(float step0, float step1, float step) {\n  return clamp((step - step0) / (step1 - step0), 0.0, 1.0);\n}"},dither:{WB:"dither",XB:"\nconst mat4x4 bayerMatrix4x4 = mat4x4(\n    0.0,  8.0,  2.0, 10.0,\n    12.0, 4.0,  14.0, 6.0,\n    3.0,  11.0, 1.0, 9.0,\n    15.0, 7.0,  13.0, 5.0\n) / 16.0;\n\nvec4 dither(vec2 pos, vec4 c0, vec4 c1, float s0, float s1, float mixVal)\n{\n    float step = linearStep(s0, s1, mixVal);\n    int x = int(pos.x) % 4;\n    int y = int(pos.y) % 4;\n    float threshold = bayerMatrix4x4[y][x];\n    vec4 color = mix(c0, c1, step * 0.95 + threshold * 0.05);\n    return color;\n}"},decodeUbyteRGBAEncodedFloat:{WB:"decodeUbyteRGBAEncodedFloat",XB:"\n      // Denormalize 8-bit color channels to integers in the range 0 to 255.\n      ivec4 floatsToBytes(vec4 inputFloats, bool littleEndian) {\n        ivec4 bytes = ivec4(inputFloats * 255.0);\n        return (\n          littleEndian\n          ? bytes.abgr\n          : bytes\n        );\n      }\n      \n      // Break the four bytes down into an array of 32 bits.\n      void bytesToBits(const in ivec4 bytes, out bool bits[32]) {\n        for (int channelIndex = 0; channelIndex < 4; ++channelIndex) {\n          float acc = float(bytes[channelIndex]);\n          for (int indexInByte = 7; indexInByte >= 0; --indexInByte) {\n            float powerOfTwo = exp2(float(indexInByte));\n            bool bit = acc >= powerOfTwo;\n            bits[channelIndex * 8 + (7 - indexInByte)] = bit;\n            acc = mod(acc, powerOfTwo);\n          }\n        }\n      }\n      \n      // Compute the exponent of the 32-bit float.\n      float getExponent(bool bits[32]) {\n        const int startIndex = 1;\n        const int bitStringLength = 8;\n        const int endBeforeIndex = startIndex + bitStringLength;\n        float acc = 0.0;\n        int pow2 = bitStringLength - 1;\n        for (int bitIndex = startIndex; bitIndex < endBeforeIndex; ++bitIndex) {\n          acc += float(bits[bitIndex]) * exp2(float(pow2--));\n        }\n        return acc;\n      }\n      \n      // Compute the mantissa of the 32-bit float.\n      float getMantissa(bool bits[32], bool subnormal) {\n        const int startIndex = 9;\n        const int bitStringLength = 23;\n        const int endBeforeIndex = startIndex + bitStringLength;\n        // Leading/implicit/hidden bit convention:\n        // If the number is not subnormal (with exponent 0), we add a leading 1 digit.\n        float acc = float(!subnormal) * exp2(float(bitStringLength));\n        int pow2 = bitStringLength - 1;\n        for (int bitIndex = startIndex; bitIndex < endBeforeIndex; ++bitIndex) {\n          acc += float(bits[bitIndex]) * exp2(float(pow2--));\n        }\n        return acc;\n      }\n      \n      // Parse the float from its 32 bits.\n      float bitsToFloat(bool bits[32]) {\n        float signBit = float(bits[0]) * -2.0 + 1.0;\n        float exponent = getExponent(bits);\n        bool subnormal = abs(exponent - 0.0) < 0.01;\n        float mantissa = getMantissa(bits, subnormal);\n        float exponentBias = 127.0;\n        return signBit * mantissa * exp2(exponent - exponentBias - 23.0);\n      }\n      \n      // Decode a 32-bit float from the RGBA color channels of a texel.\n      float decodeUbyteRGBAEncodedFloat(vec4 rgba, bool littleEndian) {\n        ivec4 rgbaBytes = floatsToBytes(rgba, littleEndian);\n        bool bits[32];\n        bytesToBits(rgbaBytes, bits);\n        return bitsToFloat(bits);\n      }\n      "},texelFetchWithFallback:{webgl2:{WB:"texelFetchWithFallback",XB:"vec4 texelFetchWithFallback(sampler2D textureSampler, ivec2 iTexel, vec2 textureSize) {\n  return texelFetch(textureSampler, iTexel, 0);\n}"},webgl1:{WB:"texelFetchWithFallback",XB:"vec4 texelFetchWithFallback(sampler2D textureSampler, ivec2 iTexel, vec2 textureSize) {\n  vec2 halfTexel = 0.5 / textureSize;\n  return texture2D(textureSampler, (vec2(iTexel) * 2.0 + 1.0) * halfTexel);\n}"}},texelFetchUnsignedWithFallback:{webgl2:{WB:"texelFetchUnsignedWithFallback",XB:"uvec4 texelFetchUnsignedWithFallback(usampler2D textureSampler, ivec2 iTexel, vec2 textureSize) {\n  return texelFetch(textureSampler, iTexel, 0);\n}"},webgl1:{WB:"texelFetchUnsignedWithFallback",XB:"uvec4 texelFetchUnsignedWithFallback(usampler2D textureSampler, ivec2 iTexel, vec2 textureSize) {\n  vec2 halfTexel = 0.5 / textureSize;\n  return texture2D(textureSampler, (vec2(iTexel) * 2.0 + 1.0) * halfTexel);\n}"}},modulus:{WB:"modulus",XB:"int modulus(int a, int b) {\n  return (a)-((a)/(b))*(b);\n}"},computeScreenSpaceWireframe:{WB:"computeScreenSpaceWireframe",XB:"#extension GL_OES_standard_derivatives : enable\nfloat computeScreenSpaceWireframe (vec3 barycentric, float lineWidth) {\n  vec3 dist = fwidth(barycentric);\n  vec3 smoothed = smoothstep(dist * ((lineWidth * 0.5) - 0.5), dist * ((lineWidth * 0.5) + 0.5), barycentric);\n  return 1.0 - min(min(smoothed.x, smoothed.y), smoothed.z);\n}"}},Zy="posAxis",qy="posWorld",Jy="normal",Ky="colorFragment",Qy="antiAliasFactor",$y="mousePickingIdOffset",tv="uRatioPxClip",ev="uRatioNwuWu",iv="uColorTexture",nv="uSizePixels",rv="uOffsetAlignment",sv="uMaskTexture",ov="aNormal",av="Rot";class lv{constructor(t){this.modifiers=[],this.modifiers=t}build(t){const e=this.modifiers.filter((t=>hv(t)));for(const i of e)t=i(t);return"".concat(Ns(this.modifiers.filter((t=>uv(t)))).map((t=>t.XB)).join("\n"),"\n").concat(t)}}const hv=t=>"function"==typeof t,cv={WB:"ratioPxClip",XB:"uniform vec2 ".concat(tv,";")},uv=t=>t&&"object"==typeof t&&"WB"in t,dv=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return t=>{e=e.reverse();for(let i of e)"string"==typeof i&&(i=i.includes("{")||i.endsWith(";")?i:"".concat(i,";"),i=i.trim(),t=t.replace("void main(void)","".concat(i,"\nvoid main(void)")));return t}},fv=t=>e=>(t=t.endsWith(";")?t:"".concat(t,";"),e.replace(t,"")),gv=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return t=>{const i=e.filter((t=>t));for(let e=0;e<i.length;e+=1)i[e]=i[e].endsWith(";")?i[e]:"".concat(i[e],";"),i[e]=i[e].startsWith("\t")?i[e]:"\t".concat(i[e]);const n=i.join("\n");return t.replace("void main(void) {\n","void main(void) {\n".concat(n,"\n"))}},pv=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return e=>{for(let t=0;t<i.length;t+=1)i[t]=i[t].endsWith(";")?i[t]:"".concat(i[t],";"),i[t]=i[t].startsWith("\t")?i[t]:"\t".concat(i[t]);const n=i.join("\n"),r=new RegExp("(.*".concat(t,".*)")),s=e.replace(r,"".concat(n,"\n$1"));return i.forEach((e=>{if(!s.includes(e))throw new Error("ShaderBefore misusage (not found: \n".concat(e,"\nmatch: \n").concat(t,"\nresult: \n").concat(s,"\n)"))})),s}},mv=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return e=>{const n=i.filter((t=>"string"==typeof t));for(let t=0;t<n.length;t+=1)n[t]=n[t].endsWith(";")?n[t]:"".concat(n[t],";"),n[t]=n[t].startsWith("\t")?n[t]:"\t".concat(n[t]);const r=n.join("\n"),s=e.lastIndexOf(t),o=e.substring(s),a=o.indexOf("\n"),l=o.substring(a),h="".concat(e.substring(0,s+a),"\n").concat(r).concat(l);return n.forEach((e=>{if(!h.includes(e))throw new Error('ShaderAfter misusage (not found: "'.concat(e,'", match: "').concat(t,'", result: "').concat(h,'")'))})),h}},yv=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return t=>{for(let i of e)if("string"==typeof i){i=i.endsWith(";")?i:"".concat(i,";"),i=i.trim(),i=i.startsWith("\t")?i:"\t".concat(i);const e=t.lastIndexOf("}");t="".concat(t.substring(0,e-1),"\n").concat(i,"\n}")}return t}},vv=(t,e)=>i=>{let n,r;if(t.includes("uniform")||t.includes("attribute")){const e=t.endsWith(";")?t:"".concat(t,";");i=dv(e)(i),n=t.split(" ")[2].replace(";","")}else n=t;if(e.includes(" ")){const t=e.endsWith(";")?e:"".concat(e,";");i=dv(t)(i),r=e.split(" ")[2].replace(";","")}else r=e;return yv("\t".concat(r," = ").concat(n,";"))(i)},xv=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return t=>{e=e.reverse();for(const i of e)t=i+t;return t}},bv=(t,e)=>{const i=e.steps,n=i.length-1,r=[dv("uniform vec4 uFallbackColor")],s=[],o=[];for(let a=0;a<e.steps.length;a+=1)s.push("uniform float uLUTValue".concat(a)),o.push("uniform vec4 uLUTColor".concat(a));return r.push(dv(...s,...o),e.percentageValues&&dv("uniform float uMinValue","uniform float uMaxValue")),e.interpolate?r.push(mv("".concat(Ky," ="),"vec4 colorLookup = uLUTColor0","float value = "+(e.percentageValues?"clamp((".concat(t," - uMinValue) / (uMaxValue  - uMinValue), 0.0, 1.0);"):"".concat(t)),"if (value <= ".concat(Dr,") {\n                    colorLookup = uFallbackColor;\n                }"),"if (value >= uLUTValue".concat(n,") {\n                    colorLookup = uLUTColor").concat(n,";\n                }"),...i.slice(0,-1).map(((t,e)=>"if (value >= uLUTValue".concat(e," && value <= uLUTValue").concat(e+1,") {\ncolorLookup = uLUTColor").concat(e," + vec4(uLUTColor").concat(e+1,".r -  uLUTColor").concat(e,".r, uLUTColor").concat(e+1,".g -  uLUTColor").concat(e,".g, uLUTColor").concat(e+1,".b -  uLUTColor").concat(e,".b, uLUTColor").concat(e+1,".a -  uLUTColor").concat(e,".a) * (value - uLUTValue").concat(e,")/(uLUTValue").concat(e+1," - uLUTValue").concat(e,");} "))),"".concat(Ky," = colorLookup"))):r.push(mv("".concat(Ky," ="),"vec4 colorLookup = vec4(uLUTValue0)","float value = "+(e.percentageValues?"clamp((".concat(t," - uMinValue) / (uMaxValue  - uMinValue), 0.0, 1.0);"):"".concat(t)),"if (".concat(t," <= ").concat(Dr,") {\n                    colorLookup = uFallbackColor;\n                } else if (").concat(t," < uLUTValue0) { colorLookup = uLUTColor0;} ").concat(i.slice().reverse().map((t=>{const e=i.indexOf(t);return"else if (value >= uLUTValue".concat(e,") { colorLookup = uLUTColor").concat(e,";} ")})).join("")),"".concat(Ky," = colorLookup"))),r},Sv=[dv("uniform sampler2D ".concat(sv)),dv("varying vec2 vMaskTextureCoord"),mv("".concat(Qy," ="),"vec4 maskTextureSample = texture2D(".concat(sv,", vMaskTextureCoord)"),"".concat(Qy," = maskTextureSample.r"))],Av=[dv("uniform sampler2D ".concat(sv)),dv("varying vec2 vMaskTextureCoord"),mv("".concat(Qy," ="),"vec4 maskTextureSample = texture2D(".concat(sv,", vMaskTextureCoord)"),"".concat(Qy," = maskTextureSample.a"))],Ev=[dv("varying vec3 vPosWorld;","varying vec3 vNormal;","uniform vec3 uCameraLoc;","uniform vec3 uLightLoc;","uniform vec4 uLightColor;","uniform vec4 uAmbientColor;","uniform float uShininess;","uniform float uAmbientReflection;","uniform float uDiffuseReflection;","uniform float uSpecularReflection;"),mv("".concat(Ky," ="),"float ambientReflection = uAmbientReflection","float diffuseReflection = uDiffuseReflection","float specularReflection = uSpecularReflection","vec3 ambientColor = uAmbientColor.rgb","vec3 diffuseColor = ".concat(Ky,".rgb"),"vec3 specularColor = uLightColor.rgb","vec3 vNormalNormalized = normalize(vNormal)","vNormalNormalized = (float(gl_FrontFacing) * 2.0 - 1.0) * vNormalNormalized","vec3 lightDir = normalize( uLightLoc - vPosWorld )","float lambertian = abs(dot(vNormalNormalized, lightDir))","float specular = 0.0","vec3 R =  reflect(-lightDir, vNormalNormalized)","vec3 V = normalize(uCameraLoc - vPosWorld)","float specAngle = max(dot(R,V),0.0)","specular = pow(specAngle, uShininess)","".concat(Ky," = vec4(ambientReflection * ambientColor + diffuseReflection * lambertian * diffuseColor + specularReflection * specular * specularColor, ").concat(Ky,".a)"))],wv=function(t){var e,i;if("linear-highPrecision"!==t||0===(arguments.length<=1?0:arguments.length-1))return{vertexShaderModifiers:[],fragmentShaderModifiers:[]};const n=arguments.length<=1?void 0:arguments[1];return{vertexShaderModifiers:[dv("varying vec4 d"),yv("d = vec4(".concat(arguments.length<=1?void 0:arguments[1],".x, ").concat(arguments.length<=1?void 0:arguments[1],".y, ").concat(null!==(e=arguments.length<=2?void 0:arguments[2])&&void 0!==e?e:n,".x, ").concat(null!==(i=arguments.length<=2?void 0:arguments[2])&&void 0!==i?i:n,".y)"))],idFragment:"hpfix",fragmentShaderModifiers:[dv("varying vec4 d"),yv("if (d.z == -100.0 + d.z / 10.0) { gl_FragColor = d; }")]}};class kv extends Error{constructor(t,e,i){super("Dynamic shader generation error\n(id: ".concat(e,")\n ").concat(i?"when applying feature: ".concat(i.idVertex?"vert: ".concat(i.idVertex):""," ").concat(i.idFragment?"frag: ".concat(i.idFragment):""):""," | ").concat(t))}}const Cv=function(){let t="";for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];for(const r of i){if("object"!=typeof r){t+="".concat(String(r),",");continue}const e=[{prefix:"",obj:r}];for(;e.length>0;){const{prefix:i,obj:n}=e.shift();t+="".concat(i,":");const r=Object.keys(n).sort();for(const s of r){const i=n[s];"object"==typeof i&&i.__proto__===Object.prototype||Array.isArray(i)?e.push({prefix:s,obj:i}):t+="".concat(s,"=").concat(String(i),",")}}}return t},Mv=t=>void 0!==t.find((t=>{var e;return null===(e=t.ZB)||void 0===e?void 0:e.JB})),Tv=t=>void 0!==t.find((t=>{var e;return null===(e=t.ZB)||void 0===e?void 0:e.QB})),Pv=function(t,e){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];const s=[],o=e?"vec3":"vec2",{axisWorldTranslation:a,scaling:l,translation:h,flipXY:c,flipXZ:u,offsets:d,splitPosAttribute:f,normalSource:g}=t,p=[];"attribute"===g&&s.push(dv("attribute vec3 ".concat(ov)),gv("vec3 ".concat(Jy," = ").concat(ov))),"linear-highPrecision"!==a?n.forEach((t=>{void 0!==t.attributeNameAxisCoord&&void 0!==t.variableNameAxisCoord&&(!0!==f?p.push("".concat(o," ").concat(t.variableNameAxisCoord," = ").concat(t.attributeNameAxisCoord)):p.push("".concat(o," ").concat(t.variableNameAxisCoord," = ").concat(e?"vec3(".concat(t.attributeNameAxisCoord,"X, ").concat(t.attributeNameAxisCoord,"Y, ").concat(t.attributeNameAxisCoord,"Z)"):"vec2(".concat(t.attributeNameAxisCoord,"X, ").concat(t.attributeNameAxisCoord,"Y)"))))})):n.forEach((e=>{!0!==t.splitPosAttribute?p.push("".concat(o," ").concat(e.variableNameAxisCoord,"_highpart = ").concat(e.attributeNameAxisCoord,"_highpart"),"".concat(o," ").concat(e.variableNameAxisCoord,"_lowpart = ").concat(e.attributeNameAxisCoord,"_lowpart")):p.push("".concat(o," ").concat(e.variableNameAxisCoord,"_highpart = vec2(").concat(e.attributeNameAxisCoord,"_highpartX, ").concat(e.attributeNameAxisCoord,"_highpartY)"),"".concat(o," ").concat(e.variableNameAxisCoord,"_lowpart = vec2(").concat(e.attributeNameAxisCoord,"_lowpartX, ").concat(e.attributeNameAxisCoord,"_lowpartY)"))}));const m=(t=>{if(t)for(const i of t){const t=(null==(e=i)?void 0:e.rotation)&&e.rotation.dataType;if(void 0!==t&&!1!==t)return t}var e})(d);if("attribute-deg"===m&&s.push(dv("attribute float aRotDeg"),dv("uniform float uBaseRotDeg")),"attribute"===m&&s.push(dv("attribute vec2 aRot")),"uniform"===m&&s.push(dv("uniform vec2 uRot")),null==d||d.forEach((t=>{if(t&&t.rotation){const e=t.rotation.dataType,i="uniform"===e?"u":"a";if("attribute-deg"===e){const e=t.directionVar,i="c".concat(av);s.push(gv("vec2 ".concat(t.directionVar,"Rot = vec2(").concat(e,".x * ").concat(i,".y + ").concat(e,".y * ").concat(i,".x, ").concat(e,".y * ").concat(i,".y - ").concat(e,".x * ").concat(i,".x)")))}else{const e="".concat(i).concat(av),n=t.directionVar;s.push(gv("vec2 ".concat(t.directionVar,"Rot = vec2(").concat(n,".x * ").concat(e,".y + ").concat(n,".y * ").concat(e,".x, ").concat(n,".y * ").concat(e,".y - ").concat(n,".x * ").concat(e,".x)")))}}})),null==d?void 0:d.find((t=>(null==t?void 0:t.rotation)&&"attribute-deg"===t.rotation.dataType))){const t="c".concat(av);s.push(gv("vec2 ".concat(t," = vec2(sin((aRotDeg + uBaseRotDeg) * 0.01745329252), cos((aRotDeg + uBaseRotDeg) * 0.01745329252))")))}if(d&&d.forEach((t=>{t&&s.push(dv("attribute ".concat(o," ").concat(t.directionVar)))})),!0===c){if("linear-highPrecision"===a)throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + flipXY");n.forEach((t=>{p.push("".concat(t.variableNameAxisCoord," = ").concat(e?"vec3(".concat(t.variableNameAxisCoord,".y, ").concat(t.variableNameAxisCoord,".x, ").concat(t.variableNameAxisCoord,".z)"):"vec2(".concat(t.variableNameAxisCoord,".y, ").concat(t.variableNameAxisCoord,".x)")))}))}if(!0===u){if("linear-highPrecision"===a)throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + flipXZ");n.forEach((t=>{p.push("".concat(t.variableNameAxisCoord," = vec3(").concat(t.variableNameAxisCoord,".z, ").concat(t.variableNameAxisCoord,".y, ").concat(t.variableNameAxisCoord,".x)"))}))}if(l){if("linear-highPrecision"===a)throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + scaling");const t=("attribute"===l.dataType?"a":"u")+"Scaling",i=e?"vec3":"vec2";s.push(dv("".concat(l.dataType," ").concat(i," ").concat(t))),n.forEach((e=>{p.push("".concat(e.variableNameAxisCoord," = ").concat(e.variableNameAxisCoord," * ").concat(t))}))}if(h&&"axis"===h.sizeUnit){if("linear-highPrecision"===a)throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + translation (axis)");const t=("attribute"===h.dataType?"a":"u")+"TranslationAxis",i=e?"vec3":"vec2";s.push(dv("".concat(h.dataType," ").concat(i," ").concat(t))),n.forEach((e=>{p.push("".concat(e.variableNameAxisCoord," = ").concat(e.variableNameAxisCoord," + ").concat(t))}))}if(null==d||d.forEach((t=>{if(t&&"axis"===t.sizeUnit){if("linear-highPrecision"===a)throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + offset (axis)");const i=("attribute"===t.dataType?"a":"u")+"OffsetAxis",r=!0===t.symmetric?"float":o;s.push(dv("".concat(t.dataType," ").concat(r," ").concat(i)));const l=t.halved?" * 0.5":"",h=t.rotation?"".concat(t.directionVar,"Rot"):t.directionVar,c="offsetGeometry";p.push("".concat(o," ").concat(c," = ").concat(i," * ").concat(h).concat(l," * sign(uScale)")),e&&"gpu-calculate"===g&&p.push("".concat(o," ").concat(Jy," = ").concat(h)),n.forEach((t=>{p.push("".concat(t.variableNameAxisCoord," = ").concat(t.variableNameAxisCoord," + ").concat(c))}))}})),void 0===a||"linear"===a)s.push(dv("uniform ".concat(o," uDisp"),"uniform ".concat(o," uScale"))),n.forEach((t=>{p.push("".concat(o," ").concat(t.variableNameWorldCoord," = (").concat(t.variableNameAxisCoord," - uDisp) / uScale"))}));else if("linear-highPrecision"===a)s.push(dv("uniform ".concat(o," uDisp"),"uniform ".concat(o," uScale"),"uniform ".concat(o," uScaleStart_highpart"),"uniform ".concat(o," uScaleStart_lowpart"))),n.forEach((t=>{p.push("".concat(o," ").concat(t.variableNameAxisCoord,"_hprecision = (").concat(t.variableNameAxisCoord,"_highpart - uScaleStart_highpart) + (").concat(t.variableNameAxisCoord,"_lowpart - uScaleStart_lowpart)"),"".concat(o," ").concat(t.variableNameWorldCoord," = (").concat(t.variableNameAxisCoord,"_hprecision - uDisp) / uScale"),"".concat(o," ").concat(t.variableNameAxisCoord," = ").concat(t.variableNameAxisCoord,"_highpart + ").concat(t.variableNameAxisCoord,"_lowpart"))}));else if("matrix"===a)s.push(dv("uniform mat3 uMatrix")),n.forEach((t=>{p.push("vec2 ".concat(t.variableNameWorldCoord," = (uMatrix * vec3(").concat(t.variableNameAxisCoord,", 1.0)).xy"))}));else if("matrix4"===a)s.push(dv("uniform mat4 uMatrix")),n.forEach((t=>{p.push("vec4 ".concat(t.variableNameWorldCoord," = uMatrix * ").concat(t.attributeNameAxisCoord))}));else if("logarithmic"===a[0]){s.push(dv("uniform ".concat(o," uScaleStart"),"uniform ".concat(o," uScaleStartLog"),"uniform ".concat(o," uScaleInterval"),"uniform ".concat(o," uScaleIntervalLog"),"uniform ".concat(o," uViewportStart"),"uniform ".concat(o," uViewportSize")));const t=e?["x","y","z"]:["x","y"],i=[];t.forEach((t=>{const e=a[1][t];if(void 0!==e){const t=e.base;if("e"===t)return;const n="float cLog".concat(t," = 1.0 / log(").concat(jo(t).toFixed(1),")");i.includes(n)||i.push(n)}})),s.push(dv(...i)),n.forEach(((e,i)=>{const n="".concat(i),r=[];t.forEach((t=>{const i=t.toUpperCase(),s=a[1][t];if(void 0===s)p.push("float posPercent".concat(i).concat(n," = (").concat(e.variableNameAxisCoord,".").concat(t," - uScaleStart.").concat(t,") / uScaleInterval.").concat(t));else{const r=s.base,o="e"===r;p.push("float posLog".concat(i).concat(n," = log(").concat(e.variableNameAxisCoord,".").concat(t,")").concat(o?"":" * cLog".concat(r)),"float posPercent".concat(i).concat(n," = (posLog").concat(i).concat(n," - uScaleStartLog.").concat(t,") / uScaleIntervalLog.").concat(t))}r.push("posPercent".concat(i).concat(n))})),p.push("".concat(o," ").concat(e.variableNameWorldCoord," = uViewportStart + ").concat(o,"(").concat(r.join(", "),") * uViewportSize"))}))}return null==d||d.forEach((t=>{if(t&&"px"===t.sizeUnit){s.push(cv);let e="vec2(0.0, 0.0)";if(t.useAlignment&&(s.push(dv("uniform vec2 ".concat(rv))),e=rv),n.find((t=>t.overrideOffsetPixels)))n.forEach((t=>{p.push("".concat(t.variableNameWorldCoord," = ").concat(t.variableNameWorldCoord," + ").concat(t.overrideOffsetPixels," * ").concat(tv))}));else{const i="".concat(t.directionVar,"Amount"),r=!0===t.symmetric?"float":o;s.push(dv("".concat(t.dataType," ").concat(r," ").concat(i)));const a=t.halved?" * 0.5":"";let l;if(!1!==t.useGeometry){const n=t.rotation?"".concat(t.directionVar,"Rot"):t.directionVar;l="(".concat(n," + ").concat(e,") * ").concat(i).concat(a," * ").concat(tv)}else l="".concat(i).concat(a," * ").concat(tv);n.forEach((t=>{p.push("".concat(t.variableNameWorldCoord," = ").concat(t.variableNameWorldCoord," + ").concat(l))}))}}if(t&&"scale"===t.sizeUnit){s.push(cv),s.push(dv("uniform vec2 ".concat(nv)));let e="vec2(0.0, 0.0)";t.useAlignment&&(s.push(dv("uniform vec2 ".concat(rv))),e=rv);const i=("uniform"===t.dataType?"u":"a")+"OffsetScale";s.push(dv("".concat(t.dataType," float ").concat(i)));const r="(".concat(t.rotation?"".concat(t.directionVar,"Rot"):t.directionVar," + ").concat(e,") * ").concat(i," * ").concat(nv," * ").concat(tv);n.forEach((t=>{p.push("".concat(t.variableNameWorldCoord," = ").concat(t.variableNameWorldCoord," + ").concat(r))}))}if(t&&"wu"===t.sizeUnit){const i=("attribute"===t.dataType?"a":"u")+"OffsetWU",r=!0===t.symmetric?"float":o;s.push(dv("".concat(t.dataType," ").concat(r," ").concat(i)));const a=t.halved?" * 0.5":"",l=t.rotation?"".concat(t.directionVar,"Rot"):t.directionVar,h="offsetGeometry";p.push("".concat(o," ").concat(h," = ").concat(i," * ").concat(l).concat(a)),e&&"gpu-calculate"===g&&p.push("".concat(o," ").concat(Jy," = normalize(").concat(h,")")),n.forEach((t=>{p.push("".concat(t.variableNameWorldCoord," = ").concat(t.variableNameWorldCoord," + ").concat(h))}))}if(t&&"nwu"===t.sizeUnit){s.push(dv("uniform float ".concat(ev)));const i=("attribute"===t.dataType?"a":"u")+"OffsetNWU",r=!0===t.symmetric?"float":o;s.push(dv("".concat(t.dataType," ").concat(r," ").concat(i)));const a=t.halved?" * 0.5":"",l=t.rotation?"".concat(t.directionVar,"Rot"):t.directionVar,h="offsetGeometry";p.push("".concat(o," ").concat(h," = ").concat(i," * ").concat(l).concat(a)),e&&"gpu-calculate"===g&&p.push("".concat(o," ").concat(Jy," = normalize(").concat(h,")")),n.forEach((t=>{p.push("".concat(t.variableNameWorldCoord," = ").concat(t.variableNameWorldCoord," + ").concat(h," * ").concat(ev))}))}})),t.snapToNearestPixel&&(s.push(dv("uniform vec2 uViewportSizePx")),n.forEach((t=>{p.push("".concat(t.variableNameWorldCoord," = 2.0 * floor(((").concat(t.variableNameWorldCoord," + 1.0) * 0.5) * uViewportSizePx + 0.5) / uViewportSizePx - 1.0"))}))),s.push(pv("gl_Position =",...p)),s},Fv=(t,e,i,n)=>{const r=[],s=t.axisWorldTranslation,o=e?"vec3":"vec2";if("linear"===s)r.push(mv(i,"".concat(o," ").concat(n," = ").concat(i," * uScale + uDisp")));else if("linear-highPrecision"===s)r.push(mv(i,"".concat(o," ").concat(n," = ").concat(i," * uScale + uDisp + uScaleStart_highpart + uScaleStart_lowpart")));else{if("matrix"===s)throw new Error("transformWorldCoordBackToAxis | unimplemented vertex location type");if("matrix4"===s)throw new Error("transformWorldCoordBackToAxis | unimplemented vertex location type");if("logarithmic"!==s[0])throw new Error("transformWorldCoordBackToAxis | unimplemented vertex location type");{const t=["".concat(o," ").concat(i,"_percent = (").concat(i," - uViewportStart) / uViewportSize")];(e?["x","y","z"]:["x","y"]).forEach((e=>{const n=e.toUpperCase(),r=s[1][e];if(void 0===r)t.push("float pos".concat(n,"Back = ").concat(i,"_percent.").concat(e," * uScaleInterval.").concat(e," + uScaleStart.").concat(e));else{const s=r.base,o="e"===s?"1.0":"cLog".concat(s);t.push("float pos".concat(n,"Back = pow(2.71828, (").concat(i,"_percent.").concat(e," * uScaleIntervalLog.").concat(e," + uScaleStartLog.").concat(e,") / ").concat(o,")"))}})),t.push("".concat(o," ").concat(n," = ").concat(o,"(posXBack, posYBack").concat(e?", posZBack":"",")")),r.push(mv(i,...t))}}return r},Lv=t=>(t=>void 0!==t.find((t=>{var e;return null===(e=t.ZB)||void 0===e?void 0:e.KB})))(t)?[fv("attribute vec4 aColor"),fv("vColor = aColor"),dv("attribute vec4 aColorA"),dv("attribute vec4 aColorB"),yv("vColor = mix(aColorA, aColorB, aSegmentSide)")]:[],Rv=t=>(t=>void 0!==t.find((t=>{var e;return null===(e=t.ZB)||void 0===e?void 0:e.qB})))(t)?[fv("attribute float aLookupValue"),fv("vLookupValue = aLookupValue"),dv("attribute float aLookupValueA"),dv("attribute float aLookupValueB"),yv("vLookupValue = mix(aLookupValueA, aLookupValueB, aSegmentSide)")]:[],Bv={"2D":{idFeature:"2D",apply:t=>({idVertex:"2D",idFragment:"2D",defaultVertexShader:"2D",defaultFragmentShader:"FragmentShader"})},"2DCompose":{idFeature:"2DCompose",apply:t=>({idVertex:"2DCompose",idFragment:"2DCompose",defaultVertexShader:"2DMatrix",defaultFragmentShader:"Empty"})},"3D":{idFeature:"3D",ZB:{JB:!0},apply:t=>({idVertex:"3D",idFragment:"3D",defaultVertexShader:"3D",defaultFragmentShader:"FragmentShader"})},PointSize:t=>({idFeature:"PointSize",apply:e=>{const i="uniform"===t?"u":"a";return{idVertex:"SizePrimitive:".concat(Cv(t)),idFragment:void 0,vertexShaderModifiers:[dv("".concat(t," float ").concat(i,"PointSize"),"uniform float uDevicePixelRatio"),yv("gl_PointSize = ".concat(i,"PointSize * uDevicePixelRatio"))]}}}),Color:t=>{const e=t&&t.dataType,i=t&&t.maskTextureText,n=t&&t.maskTexture,r=t&&t.overrideOpacity;return{idFeature:"Color",ZB:{QB:!(!Array.isArray(t.dataType)||"value"===t.dataType[1])||void 0,qB:!(!Array.isArray(t.dataType)||"value"!==t.dataType[1])||void 0,KB:"attribute"===t.dataType||void 0},apply:(s,o)=>{let a,l="Color:".concat(Cv(t));const h=[];let c="FragmentShader";const u=[];if("uniform"===e)u.push(dv("uniform vec4 uColor"),mv("".concat(Ky," ="),"".concat(Ky," = uColor")),...i?Sv:[],...n?Av:[]);else if("attribute"===e)a="colorAttribute",h.push(vv("attribute vec4 aColor","varying vec4 vColor")),u.push(dv("varying vec4 vColor"),mv("".concat(Ky," ="),"".concat(Ky," = vColor")),...i?Sv:[],...n?Av:[]);else if("texture"===e)a="colorTexCoord",h.push(vv("attribute vec2 aTextureCoord","varying vec2 vTextureCoord")),u.push(dv("varying vec2 vTextureCoord"),dv("uniform sampler2D ".concat(iv)),dv("uniform vec4 uColor"),mv("".concat(Ky," ="),"".concat(Ky," = texture2D(").concat(iv,", vTextureCoord)"),"if(vTextureCoord.x < 0. || vTextureCoord.x > 1. || vTextureCoord.y < 0. || vTextureCoord.y > 1.) {\n                        ".concat(Ky," = uColor;\n                    }")),...i?Sv:[],...n?Av:[]);else if("texture-coord-calc-gpu"===e)a="colorTexCoord",c="Empty",h.push(dv("attribute vec2 aTextureCoord"),dv("varying vec2 vTextureCoord"),yv("vTextureCoord = gl_Position.xy * 0.5 + 0.5")),u.push(dv("varying vec2 vTextureCoord"),dv("uniform sampler2D ".concat(iv)),gv("vec4 ".concat(Ky," = texture2D(").concat(iv,", vTextureCoord)"),"gl_FragColor = ".concat(Ky,";")));else if(Array.isArray(e)&&"image"===e[0])a="colorTexCoord",h.push(vv("attribute vec2 aTextureCoord","varying vec2 vTextureCoord")),e[1].fitMode===Tr.Tile?u.push(dv("uniform sampler2D ".concat(iv)),dv("varying vec2 vTextureCoord"),mv("".concat(Ky," ="),"".concat(Ky," = texture2D(").concat(iv,", vTextureCoord);"))):u.push(dv("uniform sampler2D ".concat(iv)),dv("varying vec2 vTextureCoord"),dv("uniform vec4 uColor"),mv("".concat(Ky," ="),"".concat(Ky," = texture2D(").concat(iv,", vTextureCoord);"),"if(vTextureCoord.x < 0. || vTextureCoord.x > 1. || vTextureCoord.y < 0. || vTextureCoord.y > 1.){\n                                ".concat(Ky," = uColor;\n                            }")));else if(Array.isArray(e)&&"lookup"===e[0]){const t=e[1];if("value"===t)a="lookup:value",h.push(vv("attribute float aLookupValue","varying float vLookupValue"));else{const e="".concat(Zy,".").concat(t);a="lookup:".concat(t),h.push(vv(e,"varying float vLookupValue"))}u.push(dv("varying float vLookupValue"),...bv("vLookupValue",e[2]),...i?Sv:[],...n?Av:[])}else if(Array.isArray(e)&&"gradient"===e[0]){const t=e[1],r=t.getColorStops();if(Zn(t)){const e="webgl2"===o&&!!((d=t)&&"object"==typeof d&&"type"in d&&"fillstyle"===d.type&&"fillType"in d&&"radial-gradient"===d.fillType&&!0===d.ditheringEnabled);l="rgradient".concat(r.length,",").concat(n,",").concat(i,",").concat(e),u.push(dv("uniform vec4 uBounds","uniform vec2 uCenter","uniform vec2 uDistance","uniform float uAspect"),dv(...$r(r.map(((t,e)=>["uniform vec4 color_".concat(e),"uniform float stop_".concat(e)])))),Wy.linearStep,e?Wy.dither:void 0,mv("".concat(Ky," ="),"vec2 uv = vec2((((gl_FragCoord.x)-uBounds.x)/(uBounds.z))*uAspect,((gl_FragCoord.y)-uBounds.y)/(uBounds.w))","float mixVal = distance(uv/uDistance, uCenter/uDistance)",e?"vec4 color = dither(gl_FragCoord.xy, color_0, color_1, stop_0, stop_1, mixVal)":"vec4 color = mix(color_0, color_1, linearStep(stop_0, stop_1, mixVal))",...r.map(((t,i)=>i<2?"":e?"color = dither(gl_FragCoord.xy, color, color_".concat(i,", stop_").concat(i-1,", stop_").concat(i,", mixVal);"):"color = mix(color, color_".concat(i,", linearStep(stop_").concat(i-1,", stop_").concat(i,", mixVal));"))),"".concat(Ky," = color")),...i?Sv:[],...n?Av:[])}else Kn(t)&&(l="lgradient".concat(r.length,",").concat(n,",").concat(i),u.push(dv("uniform vec4 uBounds","uniform vec2 uStartPoint","uniform vec2 uEndPoint"),dv(...$r(r.map(((t,e)=>["uniform vec4 color_".concat(e),"uniform float stop_".concat(e)])))),Wy.linearStep,mv("".concat(Ky," ="),"vec2 uv = gl_FragCoord.xy - uBounds.xy","float magnitude = ((uv.x-uStartPoint.x) * (uEndPoint.x-uStartPoint.x) + (uv.y-uStartPoint.y) * (uEndPoint.y-uStartPoint.y)) / (pow(uEndPoint.x - uStartPoint.x, 2.0) + pow(uEndPoint.y-uStartPoint.y,2.0))","vec4 color = mix(color_0, color_1, linearStep(stop_0, stop_1, magnitude))",...r.map(((t,e)=>e<2?"":"color = mix(color, color_".concat(e,", linearStep(stop_").concat(e-1,", stop_").concat(e,", magnitude))"))),"".concat(Ky," = color")),...i?Sv:[],...n?Av:[]))}var d;if(i||n){const t="maskTexture";a=a?"".concat(a," ").concat(t):"Color:".concat(t),h.push(vv("attribute vec2 aMaskTextureCoord","varying vec2 vMaskTextureCoord"))}return r&&u.push(dv("uniform float uOpacity"),mv("".concat(Ky," ="),"".concat(Ky,".a *= uOpacity"))),{vertexShaderModifiers:h,fragmentShader:c,fragmentShaderModifiers:u,idVertex:a,idFragment:l}}}},ColorShaded3D:t=>{const{dataType:e,shadingStyle:i,wireframe:n}=t;let r=i;const s="ColorShaded3D:".concat(Cv(t));return{idFeature:"ColorShaded3D",ZB:{QB:!(!Array.isArray(t.dataType)||"value"===t.dataType[1])||void 0,qB:!(!Array.isArray(t.dataType)||"value"!==t.dataType[1])||void 0},apply:(t,o)=>{const a=[],l=[];if(a.push("phong"===i&&vv(Jy,"varying vec3 vNormal"),vv(qy,"varying vec3 vPosWorld")),"uniform"===e)l.push(dv("uniform vec4 uColorDiffuse"),mv("".concat(Ky," ="),"".concat(Ky," = uColorDiffuse")));else if("attribute"===e)r+=",per-vertex-color",a.push(vv("attribute vec4 aColor","varying vec4 vColor")),l.push(dv("varying vec4 vColor"),mv("".concat(Ky," ="),"".concat(Ky," = vColor")));else if(Array.isArray(e)){const t=e[1];if("value"===t)r+=",lookup:value",a.push(vv("attribute float aLookupValue","varying float vLookupValue"));else{const e="".concat(Zy,".").concat(t);r+=",lookup:".concat(t),a.push(vv(e,"varying float vLookupValue"))}l.push(dv("varying float vLookupValue"),...bv("vLookupValue",e[2]))}return n&&(r+=",wireframe",a.push(vv("attribute vec3 aTriangleBary","varying vec3 vTriangleBary")),l.push(dv("varying vec3 vTriangleBary"),dv("uniform vec4 uWireframeColor","uniform float uWireframeThickness"),Wy.computeScreenSpaceWireframe,mv("".concat(Ky," ="),"float edge = computeScreenSpaceWireframe(vTriangleBary, uWireframeThickness)","".concat(Ky," = mix(").concat(Ky,", uWireframeColor, edge)")))),"phong"===i&&l.push(...Ev),{idVertex:r,idFragment:s,vertexShaderModifiers:a,fragmentShader:"FragmentShader",fragmentShaderModifiers:l}}}},VertexLocation:t=>({idFeature:"VertexLocation",apply:e=>{const i=wv(t.axisWorldTranslation,"posAxis_hprecision"),n=[],r=Mv(e),s=t.coordType?t.coordType:r?"vec3":"vec2";return t.isInstanceRectangleRendering?n.push(dv("attribute vec2 aRectCorner","attribute vec2 aMemberStart","attribute vec2 aMemberEnd"),gv("vec2 aPos = mix(aMemberStart, aMemberEnd, aRectCorner)")):"linear-highPrecision"!==t.axisWorldTranslation?!0!==t.splitPosAttribute?n.push(dv("attribute ".concat(s," aPos"))):n.push(dv("attribute float aPosX"),dv("attribute float aPosY"),r&&dv("attribute float aPosZ")):!0===t.splitPosAttribute?n.push(dv("attribute float aPos_highpartX"),dv("attribute float aPos_lowpartX"),dv("attribute float aPos_highpartY"),dv("attribute float aPos_lowpartY")):n.push(dv("attribute ".concat(s," aPos_highpart")),dv("attribute ".concat(s," aPos_lowpart"))),n.push(...Pv(t,r,{attributeNameAxisCoord:"aPos",variableNameAxisCoord:"vec4"===t.coordType?void 0:Zy,variableNameWorldCoord:qy})),n.push(...i.vertexShaderModifiers),{idVertex:"VertexLocation:".concat(Cv(t)),idFragment:i.idFragment,vertexShaderModifiers:n,fragmentShaderModifiers:i.fragmentShaderModifiers}}}),Model3D:t=>({idFeature:"Model3D",apply:e=>{const i=[];return i.push(dv("attribute vec3 aGeoPos"),dv("uniform mat4 uModelRotation"),dv("uniform mat4 uModelRotationNormals"),dv("uniform vec3 uLocationAxis"),dv("uniform vec3 uModelAlignment"),dv("uniform vec3 uModelScale"),dv("uniform vec3 uModelSize"),...Pv({axisWorldTranslation:"linear",normalSource:t.normalSource},!0,{attributeNameAxisCoord:"uLocationAxis",variableNameAxisCoord:"locationAxis",variableNameWorldCoord:"locationWorld"}),pv("gl_Position =","vec3 posWorld = locationWorld + ((uModelRotation * vec4(aGeoPos, 1.0)).xyz  - (uModelAlignment + 1.0) * uModelSize/2.0) * uModelScale;"),"attribute"===t.normalSource&&mv("vec3 ".concat(Jy," =")," ".concat(Jy," = (uModelRotationNormals * vec4(").concat(Jy,", 1.0)).xyz;")),...Tv(e)?Fv({axisWorldTranslation:"linear",normalSource:t.normalSource},!0,qy,Zy):[]),{vertexShaderModifiers:i,idVertex:"Model3D:".concat(Cv(t)),idFragment:void 0}}}),LineInstanced2D:t=>{const e=wv(t.axisWorldTranslation,"locationA_hprecision","locationB_hprecision"),i=t.offsets&&t.offsets[0];return{idFeature:"LineInstanced2D",apply:n=>({idVertex:"LineInstanced2D:".concat(Cv(t)),idFragment:e.idFragment,vertexShaderModifiers:[dv("uniform float uThicknessPixels"),cv,..."linear-highPrecision"!==t.axisWorldTranslation&&!0!==t.splitPosAttribute?[dv("attribute vec2 aLocationA"),dv("attribute vec2 aLocationB")]:"linear-highPrecision"===t.axisWorldTranslation&&!0!==t.splitPosAttribute?[dv("attribute vec2 aLocationA_highpart"),dv("attribute vec2 aLocationB_highpart"),dv("attribute vec2 aLocationA_lowpart"),dv("attribute vec2 aLocationB_lowpart")]:"linear-highPrecision"!==t.axisWorldTranslation&&!0===t.splitPosAttribute?[dv("attribute float aLocationAX"),dv("attribute float aLocationAY"),dv("attribute float aLocationBX"),dv("attribute float aLocationBY")]:"linear-highPrecision"===t.axisWorldTranslation&&!0===t.splitPosAttribute?[dv("attribute float aLocationA_highpartX"),dv("attribute float aLocationA_highpartY"),dv("attribute float aLocationB_highpartX"),dv("attribute float aLocationB_highpartY"),dv("attribute float aLocationA_lowpartX"),dv("attribute float aLocationA_lowpartY"),dv("attribute float aLocationB_lowpartX"),dv("attribute float aLocationB_lowpartY")]:[],dv("attribute vec2 aSegmentPosition"),dv("attribute float aSegmentSide"),i&&dv("attribute vec2 ".concat(i.directionVar,"A"),"attribute vec2 ".concat(i.directionVar,"B")),...Pv(t,!1,{attributeNameAxisCoord:"aLocationA",variableNameAxisCoord:"locationA",variableNameWorldCoord:"worldA",overrideOffsetPixels:i?"".concat(i.directionVar,"A"):void 0},{attributeNameAxisCoord:"aLocationB",variableNameAxisCoord:"locationB",variableNameWorldCoord:"worldB",overrideOffsetPixels:i?"".concat(i.directionVar,"B"):void 0}),t.ensureMinimumSegmentLength&&dv("uniform vec2 uMinSegmentPixelVector"),mv("worldB = ",t.ensureMinimumSegmentLength&&"float segmentLengthPixels = sqrt(pow(worldB.x - worldA.x, 2.0) + pow(worldB.y - worldA.y, 2.0)) / length(uRatioPxClip)",t.ensureMinimumSegmentLength&&"if (segmentLengthPixels == 0.0 || segmentLengthPixels < length(uMinSegmentPixelVector)) {\n                            worldB = worldA + uMinSegmentPixelVector * uRatioPxClip;\n                        }","vec2 directionBasis = worldB - worldA","vec2 directionBasisNorm = normalize(directionBasis)","vec2 perpendBasisNorm = vec2(-directionBasisNorm.y, directionBasisNorm.x)","vec2 offset = mix(worldA, worldB, aSegmentSide)","vec2 thicknessDirection = aSegmentPosition.x * directionBasisNorm + aSegmentPosition.y * perpendBasisNorm","vec2 ".concat(qy," = offset + thicknessDirection * uThicknessPixels * ").concat(tv)),...Rv(n),...Lv(n),...Tv(n)?Fv(t,!1,qy,Zy):[],...e.vertexShaderModifiers],fragmentShaderModifiers:e.fragmentShaderModifiers})}},Area2D:t=>({idFeature:"Area2D",apply:e=>{const i=wv(t.axisWorldTranslation,"locationA_hprecision","locationB_hprecision");return{idVertex:"Area2D:".concat(Cv(t)),idFragment:i.idFragment,vertexShaderModifiers:[..."linear-highPrecision"!==t.axisWorldTranslation&&!0!==t.splitPosAttribute?[dv("attribute vec2 aLocationA"),dv("attribute vec2 aLocationB")]:"linear-highPrecision"===t.axisWorldTranslation&&!0!==t.splitPosAttribute?[dv("attribute vec2 aLocationA_highpart"),dv("attribute vec2 aLocationB_highpart"),dv("attribute vec2 aLocationA_lowpart"),dv("attribute vec2 aLocationB_lowpart")]:"linear-highPrecision"!==t.axisWorldTranslation&&!0===t.splitPosAttribute?[dv("attribute float aLocationAX"),dv("attribute float aLocationAY"),dv("attribute float aLocationBX"),dv("attribute float aLocationBY")]:"linear-highPrecision"===t.axisWorldTranslation&&!0===t.splitPosAttribute?[dv("attribute float aLocationA_highpartX"),dv("attribute float aLocationA_highpartY"),dv("attribute float aLocationB_highpartX"),dv("attribute float aLocationB_highpartY"),dv("attribute float aLocationA_lowpartX"),dv("attribute float aLocationA_lowpartY"),dv("attribute float aLocationB_lowpartX"),dv("attribute float aLocationB_lowpartY")]:[],dv("attribute float aCurveOrBaseline"),dv("attribute float aSegmentSide"),...Pv(t,!1,{attributeNameAxisCoord:"aLocationA",variableNameAxisCoord:"locationA",variableNameWorldCoord:"worldA"},{attributeNameAxisCoord:"aLocationB",variableNameAxisCoord:"locationB",variableNameWorldCoord:"worldB"}),mv("worldB = ","vec2 posCoord = mix(worldA, worldB, aSegmentSide)","bottom"===t.fill?"float baseline = min(posCoord.y, -1.0)":"top"===t.fill?"float baseline = max(posCoord.y, 1.0)":"left"===t.fill?"float baseline = min(posCoord.x, -1.0)":"float baseline = max(posCoord.x, 1.0)","vec2 ".concat(qy," = ").concat("bottom"===t.fill||"top"===t.fill?"vec2(posCoord.x, mix(posCoord.y, baseline, aCurveOrBaseline))":"vec2(mix(posCoord.x, baseline, aCurveOrBaseline), posCoord.y)")),...Rv(e),...Lv(e),...Tv(e)?Fv(t,!1,qy,Zy):[],...i.vertexShaderModifiers],fragmentShaderModifiers:i.fragmentShaderModifiers}}}),LineInstanced3D:t=>({idFeature:"LineInstanced3D",apply:e=>({idVertex:"LineInstanced3D:".concat(Cv(t)),idFragment:void 0,defaultFragmentShader:"FragmentShader",vertexShaderModifiers:[dv("uniform float uOffsetWU"),dv("attribute vec3 aLocationA"),dv("attribute vec3 aLocationB"),dv("attribute float aSegmentPosition"),dv("attribute float aPerpendHorizontal"),dv("attribute float aPerpendVertical"),...Pv({axisWorldTranslation:t.axisWorldTranslation,normalSource:"custom"},Mv(e),{attributeNameAxisCoord:"aLocationA",variableNameAxisCoord:"locationA",variableNameWorldCoord:"worldA"},{attributeNameAxisCoord:"aLocationB",variableNameAxisCoord:"locationB",variableNameWorldCoord:"worldB"}),mv("worldB = ","vec3 directionBasis = worldB - worldA","vec3 directionBasisNorm = normalize(directionBasis)","vec3 notParallel = normalize(mix( vec3( 0.0, 1.0, 0.0 ), vec3( 0.2, 0.8, 0.0 ), step( abs(directionBasis.y), 0.9 ) ))","vec3 horizontalBasis = normalize( cross( notParallel, directionBasisNorm ) )","vec3 verticalBasis = normalize( cross( horizontalBasis, directionBasisNorm ) )","vec3 ".concat(Jy," = aPerpendHorizontal * horizontalBasis + aPerpendVertical * verticalBasis"),"vec3 ".concat(qy," = worldA + aSegmentPosition * directionBasis + ").concat(Jy," * uOffsetWU * 0.5")),...Tv(e)?Fv({axisWorldTranslation:t.axisWorldTranslation,normalSource:"custom"},!0,qy,Zy):[]]})}),RoundedEdges3D:{idFeature:"RoundedEdges3D",apply:t=>({idVertex:"RoundedEdges3D",idFragment:void 0,vertexShaderModifiers:[dv("attribute vec3 aEdge"),dv("uniform float uEdgeRoundness"),mv("".concat(qy," ="),"vec3 boxSizeWorld = abs( aOffsetAxis / uScale )","float boxMinDimensionWorldXZ = min( boxSizeWorld.x, boxSizeWorld.z )","vec3 edgeRoundAmount = uEdgeRoundness * vec3( boxMinDimensionWorldXZ, min( boxMinDimensionWorldXZ, boxSizeWorld.y ), boxMinDimensionWorldXZ )","".concat(qy," = ").concat(qy," + aEdge * edgeRoundAmount"))]})},ColorGrid2D:t=>{const e=t.flipXY,i=t.intensityTextureType,n=t.littleEndian;return{idFeature:"ColorGrid2D",apply:(r,s)=>({idVertex:void 0,idFragment:"ColorGrid2D:".concat(Cv(t)),fragmentShader:"FragmentShader",fragmentShaderModifiers:[dv("uniform vec4 uTileBounds","uniform vec2 uTileDimensions","uniform sampler2D uTileIntensityValues"),"ubyte"===i&&Wy.decodeUbyteRGBAEncodedFloat,"bilinear"===t.interpolation?gv("vec2 cellSizePx = uTileBounds.zw / (uTileDimensions - 1.0)","vec2 cellIndex = (gl_FragCoord.xy - uTileBounds.xy) / cellSizePx","vec2 cellStart = floor(cellIndex)","vec2 cellEnd = ceil(cellIndex)","vec2 cellStartNormalized = cellStart / (uTileDimensions - 1.0)","vec2 cellEndNormalized = cellEnd / (uTileDimensions - 1.0)","vec4 sample00 = texture2D(uTileIntensityValues, ".concat(e?"cellStartNormalized":"vec2(cellStartNormalized.y, cellStartNormalized.x)",")"),"vec4 sample01 = texture2D(uTileIntensityValues, ".concat(e?"vec2(cellStartNormalized.x, cellEndNormalized.y)":"vec2(cellStartNormalized.y, cellEndNormalized.x)",")"),"vec4 sample10 = texture2D(uTileIntensityValues, ".concat(e?"vec2(cellEndNormalized.x, cellStartNormalized.y)":"vec2(cellEndNormalized.y, cellStartNormalized.x)",")"),"vec4 sample11 = texture2D(uTileIntensityValues, ".concat(e?"cellEndNormalized":"vec2(cellEndNormalized.y, cellEndNormalized.x)",")"),"float intensity00 = "+("float"===i?"sample00.x":"decodeUbyteRGBAEncodedFloat(sample00, ".concat(n,")")),"float intensity01 = "+("float"===i?"sample01.x":"decodeUbyteRGBAEncodedFloat(sample01, ".concat(n,")")),"float intensity10 = "+("float"===i?"sample10.x":"decodeUbyteRGBAEncodedFloat(sample10, ".concat(n,")")),"float intensity11 = "+("float"===i?"sample11.x":"decodeUbyteRGBAEncodedFloat(sample11, ".concat(n,")")),"vec2 lerpFactors = cellIndex - cellStart","float intensityR1 = mix(intensity00, intensity10, ".concat(e?"lerpFactors.x":"lerpFactors.y",")"),"float intensityR2 = mix(intensity01, intensity11, ".concat(e?"lerpFactors.x":"lerpFactors.y",")"),"float intensityP = mix(intensityR1, intensityR2,  ".concat(e?"lerpFactors.y":"lerpFactors.x",")")):gv("vec2 cellSizePx = uTileBounds.zw / (uTileDimensions)","vec2 cellIndex = (gl_FragCoord.xy - uTileBounds.xy) / cellSizePx","vec2 cellIndexNormalized = cellIndex / uTileDimensions","vec4 sample0 = texture2D(uTileIntensityValues, ".concat(e?"cellIndexNormalized":"vec2(cellIndexNormalized.y, cellIndexNormalized.x)",")"),"float intensityP = "+("float"===i?"sample0.x":"decodeUbyteRGBAEncodedFloat(sample0, ".concat(n,")"))),...bv("intensityP",t.lut)]})}},DrawToNormalTexture:t=>{const e=t.flipXZ,i=t.vertexIdSource,n=t.normalTextureType,r=t.heightmapTextureType,s=t.littleEndian;return{idFeature:"DrawToNormalTexture",apply:(o,a)=>{const l=[],h=[];return l.push(dv("uniform ivec2 uTileDimensions","uniform vec2 uTileDimensionsXZ","uniform vec2 uTileStartLocationAxisXZ","uniform vec2 uTileSizeAxisXZ","uniform sampler2D uHeightmapTexture","uint"===n?"flat varying uvec3 vNormalRGB":"varying vec3 vNormalRGB","attribute"===i&&"attribute float aVertexID"),void 0!==i&&Wy.roundUnsigned,Wy.modulus,Wy.texelFetchWithFallback[a],"ubyte"===r&&Wy.decodeUbyteRGBAEncodedFloat,gv(void 0===i?"int iVertex = gl_VertexID":"int iVertex = int(roundUnsigned(aVertexID))","int iSecondary = modulus(iVertex, (uTileDimensions.y - 1))","int iPrimary = iVertex / (uTileDimensions.y - 1)","vec2 iCell = vec2(float(iPrimary), float(iSecondary))","vec2 uTileDimensionsMinus1 = vec2(uTileDimensions) - 1.0","vec2 halfTexelWorld = 2.0 / (uTileDimensionsMinus1 * 2.0)","vec2 posWorld = vec2(-1.0 + halfTexelWorld.y + iCell.y * 2.0 * halfTexelWorld.y, -1.0 + halfTexelWorld.x + iCell.x * 2.0 * halfTexelWorld.x)","vec2 cellSizeAxis = uTileSizeAxisXZ / (uTileDimensionsXZ - 1.0)","vec3 posAxis0 = vec3(\n                            uTileStartLocationAxisXZ.x + iCell.".concat(e?"y":"x"," * cellSizeAxis.x,\n                            ").concat("float"===r?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(s,")")," ,\n                            uTileStartLocationAxisXZ.y + iCell.").concat(e?"x":"y"," * cellSizeAxis.y\n                        )"),"vec2 iCell1 = iCell + vec2(1.0, 0.0)","vec3 posAxis1 = vec3(\n                            uTileStartLocationAxisXZ.x + iCell1.".concat(e?"y":"x"," * cellSizeAxis.x,\n                            ").concat("float"===r?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell1.y, iCell1.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell1.y, iCell1.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(s,")"),",\n                            uTileStartLocationAxisXZ.y + iCell1.").concat(e?"x":"y"," * cellSizeAxis.y\n                        )"),"vec2 iCell2 = iCell + vec2(0.0, 1.0)","vec3 posAxis2 = vec3(\n                            uTileStartLocationAxisXZ.x + iCell2.".concat(e?"y":"x"," * cellSizeAxis.x,\n                            ").concat("float"===r?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell2.y, iCell2.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell2.y, iCell2.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(s,")"),",\n                            uTileStartLocationAxisXZ.y + iCell2.").concat(e?"x":"y"," * cellSizeAxis.y\n                        )"),"vec2 iCell3 = iCell + vec2(1.0, 1.0)","vec3 posAxis3 = vec3(\n                            uTileStartLocationAxisXZ.x + iCell3.".concat(e?"y":"x"," * cellSizeAxis.x,\n                            ").concat("float"===r?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell3.y, iCell3.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell3.y, iCell3.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(s,")"),",\n                            uTileStartLocationAxisXZ.y + iCell3.").concat(e?"x":"y"," * cellSizeAxis.y\n                        )"),"vec3 normal = normalize(cross(posAxis2 - posAxis0, posAxis1 - posAxis0) + cross(posAxis1 - posAxis3, posAxis2 - posAxis3))","uint"===n?"vNormalRGB = uvec3(((normal / 2.0) + 0.5) * float(-1u))":"vNormalRGB = (normal / 2.0) + 0.5","gl_PointSize = 1.0")),h.push(dv("uint"===n?"flat varying uvec3 vNormalRGB":"varying vec3 vNormalRGB"),gv("uint"===n?"gl_FragColor = uvec4(vNormalRGB, -1u)":"gl_FragColor = vec4(vNormalRGB, 1.0)")),{idVertex:"DrawToNormalTexture:".concat(Cv(t)),idFragment:"DrawToNormalTexture:".concat(Cv(t)),vertexShaderModifiers:l,fragmentShaderModifiers:h,fragmentShader:"Empty",hints:["uint"===n&&{type:"fragOutput",fragOutput:"uvec4"}]}}}},SurfaceGrid:t=>{const e=t.fillColor,i=t.interpolation,n=t.flipXZ,r=t.shadingStyle,s=t.wireframe,o=t.normalTextureType,a=t.heightmapTextureType,l=t.intensityTextureType,h=t.littleEndian;return{idFeature:"SurfaceGrid",ZB:{tD:!0},apply:(c,u)=>{const d=[],f=[];return d.push(dv("attribute vec2 aGeoCellOffset","uniform int uBaseInstance","uniform ivec2 uTileDimensions","uniform vec2 uTileDimensionsXZ","uniform vec2 uTileStartLocationAxisXZ","uniform vec2 uTileSizeAxisXZ","uniform sampler2D uHeightmapTexture"),Wy.modulus,Wy.texelFetchWithFallback[u],"ubyte"===a&&Wy.decodeUbyteRGBAEncodedFloat,gv("int iSecondary = modulus(iInstance + uBaseInstance, (uTileDimensions.y - 1))","int iPrimary = (iInstance + uBaseInstance) / (uTileDimensions.y - 1)","vec2 iCell = vec2(float(iPrimary), float(iSecondary))","vec2 iCellVertex = iCell + aGeoCellOffset","vec2 uTileDimensionsMinus1 = vec2(float(uTileDimensions.x), float(uTileDimensions.y)) - 1.0","vec2 ySampleCoordinate = vec2(iCellVertex.y, iCellVertex.x) / vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x)","float y = "+("float"===a?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCellVertex.y, iCellVertex.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCellVertex.y, iCellVertex.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(h,")")),"vec2 cellSizeAxis = uTileSizeAxisXZ / (uTileDimensionsXZ - 1.0)","vec2 posAxisXZ = uTileStartLocationAxisXZ + cellSizeAxis * "+(n?"vec2(iCellVertex.y, iCellVertex.x)":"iCellVertex"),"vec3 posAxis = vec3(posAxisXZ.x, y, posAxisXZ.y)")),d.push(...Pv({axisWorldTranslation:t.axisWorldTranslation,normalSource:"custom"},!0,{attributeNameAxisCoord:void 0,variableNameAxisCoord:Zy,variableNameWorldCoord:qy})),"phong"===r&&d.push(vv(qy,"varying vec3 vPosWorld"),..."uint"===o?[Wy.texelFetchUnsignedWithFallback[u],yv("vec4 normalAxisRGB = vec4(texelFetchUnsignedWithFallback(uNormalmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x))) / float(-1u)")]:[yv("vec4 normalAxisRGB = texelFetchWithFallback(uNormalmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x))")],yv("vec3 normalAxis = (normalAxisRGB.rgb * 2.0) - 1.0","vNormal = normalize(normalAxis * uScale)"),dv("varying vec3 vNormal",..."uint"===o?["uniform usampler2D uNormalmapTexture"]:["uniform sampler2D uNormalmapTexture"])),f.push(dv("varying vec3 vTriangleBary")),"uniform"===e?f.push(dv("uniform vec4 uColorDiffuse"),mv("".concat(Ky," ="),"".concat(Ky," = uColorDiffuse"))):Array.isArray(e)&&"lookup"===e[0]&&("value"===e[1]?(d.push(vv("".concat(Zy,".xz"),"varying vec2 vVertexLocationAxisXZ")),f.push(dv("uniform vec4 uTileBoundsAxisXZ","uniform vec2 uTileDimensionsXZ","varying vec2 vVertexLocationAxisXZ","uniform sampler2D uTileIntensityValues","uniform mat4 uViewProjectionMatrix","uniform vec3 uScale","uniform vec3 uDisp"),"ubyte"===l&&Wy.decodeUbyteRGBAEncodedFloat,"bilinear"===i?gv("vec2 cellSizeAxisXZ = uTileBoundsAxisXZ.zw / (uTileDimensionsXZ - 1.0)","vec2 cellIndex = (vVertexLocationAxisXZ - uTileBoundsAxisXZ.xy) / cellSizeAxisXZ","vec2 cellStart = floor(cellIndex)","vec2 cellEnd = ceil(cellIndex)","vec2 cellStartNormalized = cellStart / (uTileDimensionsXZ - 1.0)","vec2 cellEndNormalized = cellEnd / (uTileDimensionsXZ - 1.0)","vec4 sample00 = texture2D(uTileIntensityValues, ".concat(n?"cellStartNormalized":"vec2(cellStartNormalized.y, cellStartNormalized.x)",")"),"vec4 sample01 = texture2D(uTileIntensityValues, ".concat(n?"vec2(cellStartNormalized.x, cellEndNormalized.y)":"vec2(cellStartNormalized.y, cellEndNormalized.x)",")"),"vec4 sample10 = texture2D(uTileIntensityValues, ".concat(n?"vec2(cellEndNormalized.x, cellStartNormalized.y)":"vec2(cellEndNormalized.y, cellStartNormalized.x)",")"),"vec4 sample11 = texture2D(uTileIntensityValues, ".concat(n?"cellEndNormalized":"vec2(cellEndNormalized.y, cellEndNormalized.x)",")"),"float intensity00 = "+("float"===l?"sample00.x":"decodeUbyteRGBAEncodedFloat(sample00, ".concat(h,")")),"float intensity01 = "+("float"===l?"sample01.x":"decodeUbyteRGBAEncodedFloat(sample01, ".concat(h,")")),"float intensity10 = "+("float"===l?"sample10.x":"decodeUbyteRGBAEncodedFloat(sample10, ".concat(h,")")),"float intensity11 = "+("float"===l?"sample11.x":"decodeUbyteRGBAEncodedFloat(sample11, ".concat(h,")")),"vec2 lerpFactors = cellIndex - cellStart","float intensityR1 = mix(intensity00, intensity10, ".concat(n?"lerpFactors.x":"lerpFactors.y",")"),"float intensityR2 = mix(intensity01, intensity11, ".concat(n?"lerpFactors.x":"lerpFactors.y",")"),"float intensityP = mix(intensityR1, intensityR2,  ".concat(n?"lerpFactors.y":"lerpFactors.x",")")):gv("vec2 cellSizeAxisXZ = uTileBoundsAxisXZ.zw / (uTileDimensionsXZ - 1.0)","vec2 cellIndex = floor((vVertexLocationAxisXZ - uTileBoundsAxisXZ.xy) / cellSizeAxisXZ)","vec2 cellIndexNormalized = cellIndex / (uTileDimensionsXZ - 1.0)","vec4 sample0 = texture2D(uTileIntensityValues, ".concat(n?"cellIndexNormalized":"vec2(cellIndexNormalized.y, cellIndexNormalized.x)",")"),"float intensityP = sample0.x"),...bv("intensityP",e[2]))):(d.push(vv("".concat(Zy,".").concat(e[1]),"varying float vLookupValue")),f.push(dv("varying float vLookupValue"),...bv("vLookupValue",e[2])))),"phong"===r&&f.push(...Ev),s&&(d.push(dv("attribute vec3 aTriangleBary"),vv("aTriangleBary","varying vec3 vTriangleBary")),f.push(dv("uniform vec4 uWireframeColor","uniform float uWireframeThickness"),Wy.computeScreenSpaceWireframe,mv("".concat(Ky," ="),"float edge = computeScreenSpaceWireframe(vTriangleBary, uWireframeThickness)",e?"if (edge > 0.0) {\n                                    ".concat(Ky," = vec4(mix(").concat(Ky,".rgb, uWireframeColor.rgb, edge * uWireframeColor.a), max(").concat(Ky,".a, uWireframeColor.a));\n                                }"):"if (edge > 0.0) {\n                                    ".concat(Ky," = uWireframeColor;\n                                  } else {\n                                      discard;\n                                  }")))),{idVertex:"SurfaceGrid:".concat(Cv(t)),idFragment:"SurfaceGrid:".concat(Cv(t)),vertexShaderModifiers:d,fragmentShader:"FragmentShader",fragmentShaderModifiers:f}}}},DebugSurfaceGridNormals:t=>({idFeature:"DebugSurfaceGridNormals",apply:(e,i)=>({idVertex:"DebugSurfaceGridNormals:".concat(Cv(t)),idFragment:"DebugSurfaceGridNormals:".concat(Cv(t)),vertexShaderModifiers:[dv("attribute float aNormalArrow","uniform int uBaseInstance","uniform ivec2 uTileDimensions","uniform vec2 uTileDimensionsXZ","uniform vec2 uTileStartLocationAxisXZ","uniform vec2 uTileSizeAxisXZ","uniform sampler2D uHeightmapTexture","attribute"===t.instanceIdSource&&"attribute float aInstanceID",..."uint"===t.normalTextureType?["uniform usampler2D uNormalmapTexture"]:["uniform sampler2D uNormalmapTexture"]),Wy.roundUnsigned,Wy.modulus,Wy.texelFetchWithFallback[i],"ubyte"===t.heightmapTextureType&&Wy.decodeUbyteRGBAEncodedFloat,gv(void 0===t.instanceIdSource?"int iInstance = gl_InstanceID":"int iInstance = int(roundUnsigned(aInstanceID))","iInstance = iInstance + uBaseInstance","int iSecondary = modulus(iInstance, (uTileDimensions.y - 1))","int iPrimary = iInstance / (uTileDimensions.y - 1)","vec2 iCell = vec2(float(iPrimary), float(iSecondary))","vec2 uTileDimensionsMinus1 = vec2(float(uTileDimensions.x), float(uTileDimensions.y)) - 1.0","float y00 = "+("float"===t.heightmapTextureType?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(t.littleEndian,")")),"float y01 = "+("float"===t.heightmapTextureType?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y + 1.0, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y + 1.0, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(t.littleEndian,")")),"float y10 = "+("float"===t.heightmapTextureType?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x + 1.0), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x + 1.0), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(t.littleEndian,")")),"float y11 = "+("float"===t.heightmapTextureType?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y + 1.0, iCell.x + 1.0), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y + 1.0, iCell.x + 1.0), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(t.littleEndian,")")),"float y = (y00 + y01 + y10 + y11) / 4.0","vec2 cellSizeAxis = uTileSizeAxisXZ / (uTileDimensionsXZ - 1.0)","vec2 posAxisXZ = uTileStartLocationAxisXZ + cellSizeAxis * (0.5 + ".concat(t.flipXZ?"vec2(iCell.y, iCell.x)":"iCell",")"),"vec3 posAxis = vec3(posAxisXZ.x, y, posAxisXZ.y)",..."uint"===t.normalTextureType?["vec4 normalAxisRGB = vec4(texelFetchUnsignedWithFallback(uNormalmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x))) / float(-1u)"]:["vec4 normalAxisRGB = texelFetchWithFallback(uNormalmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x))"],"vec3 normalAxis = (normalAxisRGB.rgb * 2.0) - 1.0","vec3 normalWorld = normalize(normalAxis * uScale)"),..."uint"===t.normalTextureType?[Wy.texelFetchUnsignedWithFallback[i]]:[],...Pv({axisWorldTranslation:t.axisWorldTranslation,normalSource:"custom"},!0,{attributeNameAxisCoord:void 0,variableNameAxisCoord:Zy,variableNameWorldCoord:qy}),mv("posWorld =","vec3 dirArrow = normalWorld","vec3 posArrowStart = posWorld","vec3 posArrowEnd = posWorld + dirArrow * 0.010","vec3 notParallel = normalize(mix( vec3( 0.0, 1.0, 0.0 ), vec3( 0.2, 0.8, 0.0 ), step( abs(dirArrow.y), 0.9 ) ))","vec3 dirArrowLeft = normalize(-dirArrow + 0.50 * normalize(cross(dirArrow, notParallel)))","vec3 dirArrowRight = normalize(-dirArrow + 0.50 * normalize(cross(notParallel, dirArrow)))","vec3 posArrowLeft = posArrowEnd + dirArrowLeft * 0.0025","vec3 posArrowRight = posArrowEnd + dirArrowRight * 0.0025","if (aNormalArrow == 0.0) {\n                        posWorld = posArrowStart;\n                    } else if (aNormalArrow == 1.0) {\n                        posWorld = posArrowEnd;\n                    } else if (aNormalArrow == 2.0) {\n                        posWorld = posArrowLeft;\n                    } else if (aNormalArrow == 3.0) {\n                        posWorld = posArrowRight;\n                    }")],fragmentShader:"FragmentShader",fragmentShaderModifiers:[yv("gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0)")]})}),OffsetTowardsCamera:()=>({idFeature:"OffsetTowardsCamera",apply:t=>({idVertex:"OffsetTowardsCamera",idFragment:void 0,vertexShaderModifiers:[dv("uniform vec3 uCameraLoc"),mv("posWorld =","posWorld = posWorld + normalize(uCameraLoc) * 0.0025")]})}),AliasedEdge:{idFeature:"AliasedEdge",apply:t=>({idVertex:"AliasedEdge",idFragment:"AliasedEdge",vertexShaderModifiers:[dv("attribute float aSegmentInside"),dv("varying float vSegmentInside"),dv("varying float vSegmentSide"),mv("gl_Position = ","\n                vSegmentInside = aSegmentInside;\n                vSegmentSide = aSegmentSide;\n                ")],fragmentShaderModifiers:[xv("#extension GL_OES_standard_derivatives : enable"),dv("uniform float uAALimit"),dv("varying float vSegmentInside"),dv("varying float vSegmentSide"),mv("".concat(Qy," = "),"\n                float dist = (uAALimit - vSegmentInside);\n                vec2 ddist = vec2(dFdx(dist), dFdy(dist));\n                float pixelDist = dist / length(ddist);\n                // additional blurring\n                pixelDist *= 0.5;\n\n                float aa = clamp(0.5 - pixelDist, 0.0, 1.0);\n                if((vSegmentSide <= 0.0 || vSegmentSide >= 1.0) && aa <=0.99){\n                    aa *= 0.5;\n                }\n                ".concat(Qy," = aa;\n                "))]})},Glow1D:t=>({idFeature:"Glow1D",apply:()=>{const e=Math.round(t.spreadPx),i=Math.round(t.blurPx),n=e+i,r=t.firstPass,s=[];for(let t=-n;t<=n;t+=1){const e=Math.abs(t);s.push(r?{x:t.toFixed(1),y:"0.0",distPx:e.toFixed(1)}:{x:"0.0",y:t.toFixed(1),distPx:e.toFixed(1)})}return{idVertex:"Glow1D:".concat(Cv(t)),idFragment:"Glow1D:".concat(Cv(t)),vertexShaderModifiers:[vv("attribute vec2 aTextureCoord","varying vec2 vTextureCoord")],fragmentShader:"FragmentShader",fragmentShaderModifiers:[dv("uniform sampler2D uTexture"),dv("varying vec2 vTextureCoord"),dv("uniform vec2 uTextureSize"),r&&dv("uniform vec2 uOffsetPx"),!r&&dv("uniform sampler2D uTextureFirstGlowPass"),!r&&dv("uniform vec4 uGlowColor"),mv("".concat(Qy," ="),"vec2 oneTexel = vec2(1.0, 1.0) / uTextureSize","vec2 vTexCoordPixelCenter = vTextureCoord + vec2(0.5, 0.5) / uTextureSize",...r?[]:["float inverseIntensity =\n                                    0.25 * texture2D(uTexture, vTexCoordPixelCenter).a +\n                                    0.125 * texture2D(uTexture, vTexCoordPixelCenter + vec2(-oneTexel.x, 0.0)).a +\n                                    0.125 * texture2D(uTexture, vTexCoordPixelCenter + vec2(oneTexel.x, 0.0)).a +\n                                    0.125 * texture2D(uTexture, vTexCoordPixelCenter + vec2(0.0, -oneTexel.y)).a +\n                                    0.125 * texture2D(uTexture, vTexCoordPixelCenter + vec2(0.0, oneTexel.y)).a +\n                                    0.0625 * texture2D(uTexture, vTexCoordPixelCenter + vec2(-oneTexel.x, -oneTexel.y)).a +\n                                    0.0625 * texture2D(uTexture, vTexCoordPixelCenter + vec2(oneTexel.x, -oneTexel.y)).a +\n                                    0.0625 * texture2D(uTexture, vTexCoordPixelCenter + vec2(-oneTexel.x, oneTexel.y)).a +\n                                    0.0625 * texture2D(uTexture, vTexCoordPixelCenter + vec2(oneTexel.x, oneTexel.y)).a","".concat(Qy," *= 1.0 - (inverseIntensity * inverseIntensity)"),"if (".concat(Qy," <= 0.0) { discard; }")],"float distancePx = 255.0","vec2 sample_tx = vec2(0.0)",...r?["vec2 texCoordOffset = vTexCoordPixelCenter - uOffsetPx * oneTexel",...s.map(((t,e)=>["sample_tx = texCoordOffset + oneTexel * vec2(".concat(t.x,", ").concat(t.y,")"),"if (distancePx > ".concat(t.distPx," && sample_tx.x <= 1.0 && sample_tx.y <= 1.0 && sample_tx.x >= 0.0 && sample_tx.y >= 0.0 && texture2D(uTexture, sample_tx).a > 0.0) { distancePx = ").concat(t.distPx,"; }")])).flat(),"".concat(Ky," = vec4(distancePx / 255.0, 0.0, 0.0, 1.0)")]:["vec4 sample_horizontal = vec4(0.0)","float horizontal_dist = 255.0","float min_horizontal_dist = 255.0",...s.map(((t,e)=>["sample_tx = vTexCoordPixelCenter + oneTexel * vec2(".concat(t.x,", ").concat(t.y,")"),"if (sample_tx.x <= 1.0 && sample_tx.y <= 1.0 && sample_tx.x >= 0.0 && sample_tx.y >= 0.0) {\n                                                sample_horizontal = texture2D(uTextureFirstGlowPass, sample_tx);\n                                                horizontal_dist = sample_horizontal.r * 255.0;\n                                            }","if (sample_horizontal.a < 0.9) { horizontal_dist = 255.0; }","min_horizontal_dist = min(min_horizontal_dist, horizontal_dist)","distancePx = min(distancePx, pow(horizontal_dist * horizontal_dist + ".concat(t.y," * ").concat(t.y,", 0.5))")])).flat(),"if (distancePx > ".concat(n.toFixed(1),") { discard; }"),"vec4 pixelGlowColor = vec4(0.0, 0.0, 0.0, 0.0)","if (distancePx > ".concat(e.toFixed(1),") {\n                                        float lerpAmount = (distancePx - ").concat(e.toFixed(1),") / ").concat((i+1).toFixed(1),";\n                                        pixelGlowColor = mix(uGlowColor, vec4(uGlowColor.rgb, 0.0), 1.0 - (1.0 - lerpAmount) * (1.0 - lerpAmount));\n                                    } else {\n                                        pixelGlowColor = uGlowColor;\n                                    }"),"".concat(Ky," = pixelGlowColor")])]}}}),MousePicking:t=>{const e=!!(null==t?void 0:t.customMousePickingIdInput),i=!e&&!!(null==t?void 0:t.useVertexId),n=!e&&!!(null==t?void 0:t.useAttribute),r=!e&&!i&&!n;return{idFeature:"MousePicking",ZB:{tD:r,iD:i},apply:(s,o)=>{const a="webgl2"===o?"flat":"",l="webgl2"===o?"int":"float";return{idVertex:"MousePicking:".concat(Cv(t)),idFragment:"MousePicking:".concat(Cv(t)),vertexShaderModifiers:[...r?[dv("".concat(a," varying ").concat(l," vPickingIdOffset")),yv("vPickingIdOffset = ".concat(l,"(iInstance)"))]:[],...i?[dv("".concat(a," varying ").concat(l," vPickingIdOffset")),yv("vPickingIdOffset = ".concat(l,"(iVertex)"))]:[],...n?[dv("attribute float aPickingIdOffset","".concat(a," varying ").concat(l," vPickingIdOffset")),yv("vPickingIdOffset = ".concat(l,"(aPickingIdOffset)"))]:[]],fragmentShaderModifiers:[dv("uniform int uFirstId"),...e?[]:[dv("".concat(a," varying ").concat(l," vPickingIdOffset")),gv("int ".concat($y," = ").concat("int"===l?"vPickingIdOffset":"int(floor(vPickingIdOffset + 0.5))"))],mv("".concat(Ky," ="),"int remainder = ".concat($y," + uFirstId"),"int r = remainder / 16777216","remainder -= r * 16777216","int g = remainder / 65536","remainder -= g * 65536","int b = remainder / 256","remainder -= b * 256","int a = remainder","".concat(Ky," = vec4(float(r) / 255.0, float(g) / 255.0, float(b) / 255.0, float(a) / 255.0)")),t=>t.replace("gl_FragColor = vec4(fragColorEnd.rgb, fragColorEnd.a * ".concat(Qy,")"),"if (".concat(Qy," <= 0.0) { discard; }\ngl_FragColor = fragColorEnd")).replace("if (fragColorEnd.a <= 0.0) { discard; }","")]}}}},AttributeHighlight:{idFeature:"AttributeHighlight",apply:t=>({idVertex:"AttributeHighlight",idFragment:"AttributeHighlight",vertexShaderModifiers:[vv("attribute float aIsHighlighted","varying float vIsHighlighted")],fragmentShaderModifiers:[t=>t.replace("uniform float uIsHighlighted","varying float vIsHighlighted").replace("uIsHighlighted","vIsHighlighted")]})},StippleTexture:{idFeature:"StippleTexture",apply:(t,e)=>({idVertex:"StippleTexture",idFragment:"StippleTexture",vertexShaderModifiers:[dv("attribute vec2 aLengthSoFar"),dv("varying float vLengthSoFar"),dv("uniform vec2 uStippleCount"),yv("\n                vec2 len = (((aLengthSoFar) / uScale) / 2.0) * uStippleCount;\n                vLengthSoFar = len.x + len.y;\n                ")],fragmentShaderModifiers:[dv("uniform sampler2D uStippleTexture"),dv("uniform float uStippleScale"),dv("varying float vLengthSoFar"),"webgl1"===e&&dv("uniform float uStippleTextureWidthLimiter"),mv("".concat(Qy," = "),"\n                    float stippleSampleY = texture2D(\n                        uStippleTexture, \n                        ".concat("webgl1"===e?"vec2(mod((vLengthSoFar / uStippleScale) , uStippleTextureWidthLimiter), 0)":"vec2((vLengthSoFar / uStippleScale), 0)","\n                    ).r;\n                    float stippleAA = (stippleSampleY - 0.5) * 2.0;\n                    ").concat(Qy," *= stippleAA;\n                    if (").concat(Qy," <= 0.0) { discard; }"))]})},StippleTextureInstanced:{idFeature:"StippleTextureInstanced",apply:(t,e)=>({idVertex:"StippleTextureInstanced",idFragment:"StippleTextureInstanced",vertexShaderModifiers:[dv("attribute vec2 aLengthSoFarA"),dv("attribute vec2 aLengthSoFarB"),dv("varying float vLengthSoFar"),dv("uniform vec2 uStippleCount"),yv("\n                vec2 aLengthSoFar = mix(aLengthSoFarA, aLengthSoFarB, aSegmentSide);\n                vec2 len = (((aLengthSoFar) / uScale) / 2.0) * uStippleCount;\n                vLengthSoFar = len.x + len.y;\n                ")],fragmentShaderModifiers:[dv("uniform sampler2D uStippleTexture"),dv("uniform float uStippleScale"),dv("varying float vLengthSoFar"),"webgl1"===e&&dv("uniform float uStippleTextureWidthLimiter"),mv("".concat(Qy," = "),"\n                    float stippleSampleY = texture2D(\n                        uStippleTexture, \n                        ".concat("webgl1"===e?"vec2(mod((vLengthSoFar / uStippleScale) , uStippleTextureWidthLimiter), 0)":"vec2((vLengthSoFar / uStippleScale), 0)","\n                    ).r;\n                    float stippleAA = (stippleSampleY - 0.5) * 2.0;\n                    ").concat(Qy," *= stippleAA;\n                    if (").concat(Qy," <= 0.0) { discard; }"))]})},PolarHeatmap:t=>({idFeature:"PolarHeatmap",apply:(e,i)=>{const n="dataType"in t,r="interpolation"in t?t:void 0,s=r?r.flipXY:void 0,o="bilinear"===(null==r?void 0:r.interpolation),a=null==r?void 0:r.intensityTextureType,l=null==r?void 0:r.littleEndian;return{idVertex:void 0,idFragment:"PolarHeatmap:".concat(Cv(t)),vertexShaderModifiers:[],fragmentShaderModifiers:[dv("uniform vec2 uViewportSize","uniform vec2 uScale","uniform vec2 uDisp","uniform float uSectors","uniform float uAnnuli","uniform float uAmplitudeStart","uniform float uAmplitudeStep","uniform float uAmplitudeAxisStart","uniform float uAmplitudeAxisEnd","uniform float uAngleOffset","uniform float uAngleDirection",r&&"uniform sampler2D uTileIntensityValues",n&&"uniform vec4 uColor"),Wy.texelFetchWithFallback[i],"ubyte"===a&&Wy.decodeUbyteRGBAEncodedFloat,gv("vec2 posWorld = (2.0 * gl_FragCoord.xy / uViewportSize) - 1.0","vec2 posAxis = posWorld * uScale + uDisp","float amplitudeAxisInterval = uAmplitudeAxisEnd - uAmplitudeAxisStart","float amplitude = uAmplitudeAxisStart + sign(amplitudeAxisInterval) * sqrt(posAxis.x * posAxis.x + posAxis.y * posAxis.y)","float iAnnulus = (amplitude - uAmplitudeStart) / uAmplitudeStep"),r&&mv("iAnnulus","float angRad = atan(posAxis.y, posAxis.x) * uAngleDirection + uAngleOffset","if (angRad < 0.0) { angRad = angRad + 2.0 * 3.1415926538; }","if (angRad > 2.0 * 3.1415926538) { angRad = angRad - 2.0 * 3.1415926538; }","float iSector = uSectors * angRad / (2.0 * 3.1415926538)","vec2 cellIndex = vec2(iSector, iAnnulus)","ivec2 cellStart = ivec2(floor(cellIndex))","ivec2 cellEnd = cellStart + ivec2(1)","if (cellEnd.x >= int(uSectors)) { cellEnd = ivec2(0, cellEnd.y); }",s&&"cellIndex = vec2(cellIndex.y, cellIndex.x)",s&&"cellStart = ivec2(cellStart.y, cellStart.x)",s&&"cellEnd = ivec2(cellEnd.y, cellEnd.x)"),n&&mv("".concat(Ky," ="),"".concat(Ky," = uColor")),r&&mv("cellEnd","vec2 tileDimensions = "+(s?"vec2(uAnnuli, uSectors)":"vec2(uSectors, uAnnuli)"),o&&"vec4 sample00 = texelFetchWithFallback(uTileIntensityValues, cellStart, tileDimensions)",o&&"vec4 sample01 = texelFetchWithFallback(uTileIntensityValues, ivec2(cellStart.x, cellEnd.y), tileDimensions)",o&&"vec4 sample10 = texelFetchWithFallback(uTileIntensityValues, ivec2(cellEnd.x, cellStart.y), tileDimensions)",o&&"vec4 sample11 = texelFetchWithFallback(uTileIntensityValues, cellEnd, tileDimensions)",o&&"float intensity00 = "+("float"===a?"sample00.x":"decodeUbyteRGBAEncodedFloat(sample00, ".concat(l,")")),o&&"float intensity01 = "+("float"===a?"sample01.x":"decodeUbyteRGBAEncodedFloat(sample01, ".concat(l,")")),o&&"float intensity10 = "+("float"===a?"sample10.x":"decodeUbyteRGBAEncodedFloat(sample10, ".concat(l,")")),o&&"float intensity11 = "+("float"===a?"sample11.x":"decodeUbyteRGBAEncodedFloat(sample11, ".concat(l,")")),o&&"vec2 lerpFactors = cellIndex - vec2(cellStart)",o&&"float intensityR1 = mix(intensity00, intensity10, lerpFactors.x)",o&&"float intensityR2 = mix(intensity01, intensity11, lerpFactors.x)",o&&"float intensityP = mix(intensityR1, intensityR2,  lerpFactors.y)",!o&&"vec4 sample0 = texelFetchWithFallback(uTileIntensityValues, cellStart, tileDimensions)",!o&&"float intensityP = "+("float"===a?"sample0.x":"decodeUbyteRGBAEncodedFloat(sample0, ".concat(l,")"))),...r?bv("intensityP",r.lut):[]]}}})},zv={"2D":"\nvoid main(void) {\n    gl_Position = vec4(posWorld, 0.0, 1.0 );\n}\n","2DMatrix":"\nvoid main(void) {\n    gl_Position = posWorld;\n}\n","3D":"\nuniform mat4 uViewProjectionMatrix;\nvoid main(void) {\n    gl_Position = uViewProjectionMatrix * vec4(posWorld, 1.0);\n}\n"},Iv={FragmentShader:"\nuniform float uIsHighlighted;\nuniform vec4 uHighlightColorOffset;\nuniform float uRenderEffectMask;\nvoid main(void) {\n    vec4 ".concat(Ky," = vec4(0.0, 0.0, 0.0, 0.0);\n    float ").concat(Qy," = 1.0;\n    vec4 fragColorEnd = ").concat(Ky,";\n    if (fragColorEnd.a <= 0.0) { discard; }\n    fragColorEnd = clamp(fragColorEnd + uIsHighlighted * uHighlightColorOffset, vec4(0.0), vec4(1.0));\n    fragColorEnd = mix(fragColorEnd, vec4(1.0), uRenderEffectMask * fragColorEnd.a * 1000.0);\n    gl_FragColor = vec4(fragColorEnd.rgb, fragColorEnd.a * ").concat(Qy,");\n}\n"),Empty:"\nvoid main(void) {\n}\n"};class Dv{constructor(t,e,i,n,r){if(this.id=t,this.shader=i,this.gl=n,this.info=r,!e||!i)throw new Ty("Could not find ".concat(this.sD()," ").concat(this.eD()," shader source code."));this.gl.shaderSource(i,e),this.gl.compileShader(i)}get src(){return""}sD(){return this.id.toString()}eD(){return this.gl.getShaderParameter(this.shader,this.gl.SHADER_TYPE)===this.gl.FRAGMENT_SHADER?"fragment":"vertex"}}class Vv extends Dv{constructor(t,e,i,n){super(t,e,i.createShader(i.VERTEX_SHADER),i,n)}}class _v extends Dv{constructor(t,e,i,n){super(t,e,i.createShader(i.FRAGMENT_SHADER),i,n)}}class Nv{constructor(t,e,i,n){this.hD=new Map,this.rD=new Map,this.nD=i,this.oD=i.createProgram(),this.aD="".concat(t.sD()," vertex"),this.lD="".concat(e.sD()," fragment"),i.attachShader(this.oD,t.shader),i.attachShader(this.oD,e.shader),i.bindAttribLocation(this.oD,0,"aPos"),i.linkProgram(this.oD),i.deleteShader(t.shader),i.deleteShader(e.shader),this.allAttributeNames=t.info.allAttributeNames,this.allUniformNames=Array.from(new Set(t.info.allUniformNames.concat(e.info.allUniformNames)).values()),this.vertexSharedRemovedVariables=t.info.removedVariableNames,this.fragmentSharedRemovedVariables=e.info.removedVariableNames}get vertexShaderSrc(){return""}get fragmentShaderSrc(){return""}cD(t){return Ds(0,(()=>Vs()))}uD(t){const e=this.dD(t);if(void 0===e)throw this.cD("Could not get ".concat(t," uniform from ").concat(this.aD," and ").concat(this.lD," shaders."));return e}dD(t){const e=this.hD.get(t);if(e)return e;const i=this.nD.getUniformLocation(this.oD,t);return i?(this.hD.set(t,i),i):void 0}fD(t){const e=this.AD(t);if(void 0===e)throw this.cD("Could not get ".concat(t," attribute from ").concat(this.aD," and ").concat(this.lD," shaders."));return e}AD(t){const e=this.rD.get(t);if(e||0===e)return e;const i=this.nD.getAttribLocation(this.oD,t);return i>=0?(this.rD.set(t,i),i):void 0}N(){this.nD.deleteProgram(this.oD)}}const Ov=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/,Hv=t=>{let e;try{e=jr.getComputedStyle(t)}catch(t){return null}return e};function Uv(t){const e=Hv(t);return!!e&&("fixed"===e.position||!!("auto"!==e.zIndex&&"static"!==e.position||function(t){const e=Hv(Xv(t)),i=e?e.display:"auto";return"flex"===i||"inline-flex"===i}(t))||+e.opacity<1||"transform"in e&&"none"!==e.transform||"webkitTransform"in e&&"none"!==e.webkitTransform||"mixBlendMode"in e&&"normal"!==e.mixBlendMode||"filter"in e&&"none"!==e.filter||"webkitFilter"in e&&"none"!==e.webkitFilter||"isolation"in e&&"isolate"===e.isolation||!!Ov.test(e.willChange)||"touch"===e.webkitOverflowScrolling)}function Yv(t){let e=t.length;for(;e--;)if(Uv(t[e]))return t[e];return null}function Gv(t){var e;return t&&Number((null===(e=Hv(t))||void 0===e?void 0:e.zIndex)||0)||0}function jv(t){const e=[];for(;t;)e.push(t),t=Xv(t);return e}function Xv(t){var e;return(null===(e=t.parentNode)||void 0===e?void 0:e.host)||t.parentNode}const Wv=t=>t&&"resize"in t;class Zv extends _y{constructor(t){if(super(),this.gD=new Map,this.vD=new Map,this.yD=new Map,this.pD=!0,this.mD=null,this.SD=null,this.bD=null,this.xD=null,this.MD=0,this.wD=0,this._D=0,this.kD=!1,this.CD=!0,this.ci=!1,this.TD=Bs("chart-engine-".concat((new Date).getTime()).concat(Math.trunc(1e6*Math.random()).toString())),this.U={x:100,y:100},this.FD=()=>{this.ID&&clearTimeout(this.ID),this.ID=setTimeout((()=>this.Ko()),12)},this.PD=t=>{const e=t.intersectionRatio>0,i=t.target.getAttribute("data-lcjs-engine-id");if(i){const t=this.gD.get(i);if(t){const n=t.LD();t.BD(e),e?this.vD.set(i,t):this.vD.delete(i),n!==e&&t.Rs()}}},this.DD=(t,e,i,n,r)=>{const s=r[0],o=this.gl;if(o.bindFramebuffer(null==o?void 0:o.FRAMEBUFFER,null),o.useProgram(this.SD.oD),o.clear(o.COLOR_BUFFER_BIT),s.En.getBoundingClientRect()){const t=s.RD();o.viewport(0,0,t.x,t.y),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,s.ED),o.uniform1i(this.MD,0),o.uniformMatrix4fv(this.wD,!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),o.bindBuffer(o.ARRAY_BUFFER,this.bD),o.enableVertexAttribArray(0),o.vertexAttribPointer(this._D,2,o.FLOAT,!1,0,0),o.drawArrays(o.TRIANGLES,0,6),o.bindFramebuffer(o.FRAMEBUFFER,null),s.OD&&(s.OD.clearRect(0,0,s.OD.canvas.width,s.OD.canvas.height),s.OD.drawImage(this.zD,0,this.zD.height-t.y,t.x,t.y,0,0,s.OD.canvas.width,s.OD.canvas.height))}},this.VD=(t,e,i,n,r)=>{const s=this.gl;s.bindFramebuffer(null==s?void 0:s.FRAMEBUFFER,null),s.useProgram(this.SD.oD),s.clear(s.COLOR_BUFFER_BIT),r.forEach((i=>{const r=i.En.getBoundingClientRect();if(r){const i=r.right-r.left,o=r.bottom-r.top,a=r.left,l=n-r.bottom;s.viewport(a*this.ND-t*this.ND,l*this.ND+e*this.ND,i*this.ND,o*this.ND)}s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,i.ED),s.uniform1i(this.MD,0),s.uniformMatrix4fv(this.wD,!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),s.bindBuffer(s.ARRAY_BUFFER,this.bD),s.enableVertexAttribArray(0),s.vertexAttribPointer(this._D,2,s.FLOAT,!1,0,0),s.drawArrays(s.TRIANGLES,0,6)})),s.bindFramebuffer(s.FRAMEBUFFER,null)},this.GD=(t,e,i,n,r)=>{const s=r[0],o=this.gl2.ctx;o.bindFramebuffer(o.DRAW_FRAMEBUFFER,null),o.clear(o.COLOR_BUFFER_BIT);const a=s.RD();o.bindFramebuffer(o.READ_FRAMEBUFFER,s.$D[1]),o.blitFramebuffer(0,0,a.x,a.y,0,this.zD.height-a.y,a.x,this.zD.height,o.COLOR_BUFFER_BIT,o.LINEAR),s.OD&&(s.OD.clearRect(0,0,s.OD.canvas.width,s.OD.canvas.height),s.OD.drawImage(this.zD,0,0)),o.bindFramebuffer(o.FRAMEBUFFER,null)},this.UD=(t,e,i,n,r)=>{const s=this.gl2.ctx;s.bindFramebuffer(s.DRAW_FRAMEBUFFER,null),s.clear(s.COLOR_BUFFER_BIT),r.forEach((i=>{const r=i.En.getBoundingClientRect();if(r){const o=r.right-r.left,a=r.bottom-r.top,l=r.left,h=n-r.bottom,c=i.RD();s.bindFramebuffer(s.READ_FRAMEBUFFER,i.$D[1]),s.blitFramebuffer(0,0,c.x,c.y,l*this.ND-t*this.ND,h*this.ND+e*this.ND,(l-t+o)*this.ND,(h+e+a)*this.ND,s.COLOR_BUFFER_BIT,s.LINEAR)}})),s.bindFramebuffer(s.FRAMEBUFFER,null)},this.ID=void 0,this.Pa=t,!jr.requestAnimationFrame||!jr.cancelAnimationFrame)throw new Error("LightningChart JS depends on requestAnimationFrame. Make sure to load a polyfill in older browsers.");let e=1;if(t&&t.YD)e=!0===t.YD?jr.devicePixelRatio||1:t.YD||1;else{const t=jr.document.head.querySelector('meta[name="viewport"]');t&&t.content.includes("width=device-width")&&(e=jr.devicePixelRatio||1)}this.ND=e,t.La=!0===t.La,this.CD=!1!==t.jD,this.HD=!1!==t.WD,this.XD=t.XD||!1;let i=!1;if(t.zD)if("string"==typeof t.zD){const e=jr.document.getElementById(t.zD);if(!e)throw new Error('Canvas "'.concat(t.zD,"\" doesn't exist."));this.zD=e,i=!0}else this.zD=t.zD,i=!0;else this.zD=jr.document.createElement("canvas");const n={preserveDrawingBuffer:!0,alpha:!0,antialias:!1};if(2!==t.ZD&&t.ZD){const e=this.zD.getContext("webgl",{...n,antialias:!!t.jD})||this.zD.getContext("experimental-webgl",{...n,antialias:!!t.jD});this.gl=e,this.JD=!1}else{const t=this.zD.getContext("webgl2",n);this.gl2={ctx:t},this.gl=t,this.JD=!0}if(!this.gl)throw new My("No WebGL context available."+((null==t?void 0:t.ZD)?"\nSelected explicit target: WebGL ".concat(t.ZD):""));const r=[];if(this.QD={WEBGL_lose_context:this.gl.getExtension("WEBGL_lose_context")},Object.keys(this.QD).forEach((t=>{null===this.QD[t]&&r.push(t)})),this.JD)this.KD=!0;else{const t={ANGLE_instanced_arrays:this.gl.getExtension("ANGLE_instanced_arrays"),EXT_blend_minmax:this.gl.getExtension("EXT_blend_minmax"),OES_element_index_uint:this.gl.getExtension("OES_element_index_uint"),OES_standard_derivatives:this.gl.getExtension("OES_standard_derivatives"),OES_vertex_array_object:this.gl.getExtension("OES_vertex_array_object")};t.OES_standard_derivatives||(this.pD=!1),Object.keys(t).forEach((e=>{null===t[e]&&r.push(e)}));const e={OES_texture_float:this.gl.getExtension("OES_texture_float")};this.KD=!!e.OES_texture_float,this.gl1={ctx:this.gl,QD:t,optional:e}}const s=r;if(s.length>0&&!1!==t.La){const t=jr.document.createElement("div");t.innerText="LightningChart JS: Some features might not work properly, due to missing WebGL features.",t.style.cssText="position:absolute;top:0;background:red;width:100%;padding:10px;text-align:center;color:white;z-index:1;";const e=jr.document.createElement("button");e.innerText="X",e.addEventListener("click",(()=>{t.parentElement&&t.parentElement.removeChild(t)})),jr.document.body.appendChild(t),t.appendChild(e),jr.console.warn("LightningChart JS - Following WebGL extensions could not be loaded:",s.join(", "))}if(this.qD=this.XD?this.tR(this.JD?this.GD.bind(this):this.DD.bind(this)).bind(this):this.iR(this.JD?this.UD.bind(this):this.VD.bind(this)).bind(this),jr.ResizeObserver){const t=t=>{for(const e of t)e.target===this.zD&&this.sR()};this.Ea=new jr.ResizeObserver(t.bind(this)),this.Ea.observe(this.zD)}if(this.eR=((t,e)=>{const i=t,n=new Map,r=new Map,s=new Map,o={totalMs:0,vertexShaders:0,fragmentShaders:0,programs:0},a=function(t,i){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const r=[],s=[],o={allAttributeNames:Array.from(t.matchAll(/attribute\s[^\s]*\s(.*);/g)).map((t=>t[1])),allUniformNames:Array.from(t.matchAll(/uniform\s[^\s]*\s(.*);/g)).map((t=>t[1])),allVaryingNames:Array.from(t.matchAll(/varying\s[^\s]*\s(.*);/g)).map((t=>t[1])),removedVariableNames:[]};if(e){const e=t.match(/#extension.*/g);e&&s.push(...e),t=t.replace(/#extension.*/g,"")}else if(r.push("#version 300 es"),(t=(t=(t=t.replace(/#extension.*/g,"")).replace(/attribute/g,"in")).replace(/texture2D/g,"texture")).includes("usampler2D")&&r.push("precision highp usampler2D;"),"vertex"===i)t=t.replace(/varying/g,"out");else{t=t.replace(/varying/g,"in");const e=n.find((t=>"fragOutput"===t.type));t=(t=e?"out ".concat(e.fragOutput," fragOutput;\n").concat(t):"out vec4 fragOutput;\n".concat(t)).replace(/gl_FragColor/g,"fragOutput")}return s&&r.push(...s),r.push("precision highp float;"),r.push("precision highp int;"),{source:t="".concat(r.join("\n"),"\n").concat(t),info:o}};return function(){const t=e?"webgl1":"webgl2";let l,h,c,u,d,f,g,p,m;try{const e=jr.performance.now();for(var y=arguments.length,v=new Array(y),x=0;x<y;x++)v[x]=arguments[x];l=v.filter((t=>!1!==t&&void 0!==t)),h=((t,e)=>{const i=t.map((i=>i.apply(t,e))),n=i.map((t=>t.idVertex)).filter((t=>void 0!==t)).sort().join(" "),r=i.map((t=>t.idFragment)).filter((t=>void 0!==t)).sort().join(" "),s="vert: ".concat(n," frag: ").concat(r);let o,a=!1,l=!1;const h=[];let c;const u=[],d=[];if(i.forEach((t=>{if(t.defaultVertexShader&&(a||(o=t.defaultVertexShader)),t.vertexShader){if(o&&a&&o!==t.vertexShader)throw new kv("Conflicting vertex shader templates ".concat(o," vs ").concat(t.vertexShader),s,t);o=t.vertexShader,a=!0}if(t.vertexShaderModifiers)for(const e of t.vertexShaderModifiers)void 0!==e&&!1!==e&&h.push(e);if(t.defaultFragmentShader&&(l||(c=t.defaultFragmentShader)),t.fragmentShader){if(c&&l&&c!==t.fragmentShader)throw new kv("Conflicting fragment shader templates ".concat(c," vs ").concat(t.fragmentShader),s,t);c=t.fragmentShader,l=!0}if(t.fragmentShaderModifiers)for(const e of t.fragmentShaderModifiers)void 0!==e&&!1!==e&&u.push(e);t.hints&&t.hints.forEach((t=>{t&&d.push(t)}))})),!!t.find((t=>{var e;return null===(e=t.ZB)||void 0===e?void 0:e.tD}))&&("webgl1"===e?h.push(dv("attribute float aInstanceID"),gv("int iInstance = int(aInstanceID)")):h.push(gv("int iInstance = gl_InstanceID"))),!!t.find((t=>{var e;return null===(e=t.ZB)||void 0===e?void 0:e.iD}))&&("webgl1"===e?h.push(dv("attribute float aVertexID"),gv("int iVertex = int(aVertexID)")):h.push(gv("int iVertex = gl_VertexID"))),!o)throw new kv("No vertex shader template defined",s);if(!c)throw new kv("Fragment shader not defined",s);return{id:s,vertexShader:{id:n,template:o,modifiers:h},fragmentShader:{id:r,template:c,modifiers:u},hints:d}})(l,t);const b=s.get(h.id);if(c="new",b)return c="existing",f=b.vertexShaderSrc,g=b.fragmentShaderSrc,b;const S=h.vertexShader.id;let A=n.get(S);if(A)f=A.src,u="existing";else{u="new";const t=new lv(h.vertexShader.modifiers).build(zv[h.vertexShader.template]),{source:e,info:r}=a(t,"vertex");f=e,p=r,A=new Vv(S,e,i,r),n.set(S,A),o.vertexShaders+=1}const E=h.fragmentShader;let w;const k=E.id;if(w=r.get(k),w)g=w.src,d="existing";else{d="new";const t=Iv[E.template],e=new lv([...E.modifiers]).build(t),{source:n,info:s}=a(e,"fragment",h.hints);g=n,m=s,w=new _v(k,n,i,s),r.set(k,w),o.fragmentShaders+=1}const C=new Nv(A,w,i,h);return s.set(h.id,C),o.programs+=1,o.totalMs+=jr.performance.now()-e,C}catch(v){throw Ds(0,(()=>{const t="Unexpected LightningChart JS rendering error.\nThis can mean a bug in the library, or that it is simply used in unsupported manner (passing wrong type to method, using disposed component, etc).";return jr.alert(t),new Error(t)}))}}})(this.gl,!this.JD),this.HB=(()=>{const t=jr.document.createElement("canvas"),e=t.getContext("2d",{willReadFrequently:!0});if(!e)throw new My("Failed to get Text canvas rendering context");return e.fillStyle="#fff",(i,n,r,s)=>{const o="".concat(n.style," ").concat(n.weight," ").concat(n.size*r,"px ").concat(n.family);e.font=o,e.textBaseline="alphabetic",e.textAlign="left";const a=e.measureText(i);if(0===a.width)return;const l=void 0!==a.actualBoundingBoxLeft&&void 0!==a.actualBoundingBoxRight?Math.ceil(a.actualBoundingBoxLeft+a.actualBoundingBoxRight):Math.ceil(a.width),h=a.width,c=Math.round(n.size*r),u=void 0!==a.actualBoundingBoxLeft?a.actualBoundingBoxLeft:0;t.width=l>0?l:h,t.height=2*c,e.font=o,e.textBaseline="alphabetic",e.textAlign="left",s?(e.clearRect(0,0,t.width,t.height),e.fillStyle="#fff"):(e.fillStyle="rgba(255,255,255,0)",e.fillRect(0,0,t.width,t.height),e.fillStyle="#000"),e.fillText(i,u,c);const d=e.getImageData(0,0,t.width,t.height);let f=0,g=0;const p=d.width;for(let t=0;t<d.height;t+=1){for(let e=0;e<p;e+=1)if(0!==d.data[t*p*4+4*e+3]){f=t;break}if(0!==f)break}for(let t=d.height-1;t>=0;t-=1){for(let e=0;e<p;e+=1)if(0!==d.data[t*p*4+4*e+3]){g=t;break}if(0!==g)break}const m=e.canvas.height/2-f,y=g-f+1,v=p,x=new Uint8ClampedArray(v*y*1);for(let t=0;t<y;t+=1)for(let e=0;e<v;e+=1)x[1*t*v+1*e+0]=d.data[(t+f)*v*4+4*e+3];return[x,{advance:h,offsetX:u,baseline:m,glyph:i,size:En(v,y)}]}})(),t.hR||(this.XD?this.zD.style.display="none":(this.zD.style.position="absolute",this.zD.style.top="0",this.zD.style.left="0",this.zD.style.right="0",this.zD.style.bottom="0",this.zD.style.width="100%",this.zD.style.height="100%",this.zD.style.boxSizing="content-box",this.zD.style.display="block",this.zD.style.pointerEvents="none")),this.zD.classList.add("lcjs-canvas"),t.rR&&this.zD.setAttribute("data-lcjs-id",t.rR),i||jr.document.body.appendChild(this.zD),jr.IntersectionObserver&&(this.nR=new jr.IntersectionObserver((t=>{for(let e=0;e<t.length;e+=1){const i=t[e];this.PD(i)}}),{threshold:Array.from(Array(100)).map(((t,e)=>e/100))})),jr.addEventListener("resize",this.FD,{passive:!0}),!this.JD){if(this.SD=this.eR(Bv["2DCompose"],Bv.Color({dataType:"texture-coord-calc-gpu"}),Bv.VertexLocation({axisWorldTranslation:"matrix4",normalSource:void 0,coordType:"vec4"})),!this.SD.oD)throw new My("Unable to setup composition shader!");const t=this.gl,e=t.getUniformLocation(this.SD.oD,"uColorTexture");if(!e)throw new My("Unable to setup composition shader! Failed to find uColorTexture");const i=t.getUniformLocation(this.SD.oD,"uMatrix");if(!i)throw new My("Unable to setup composition shader! Failed to find uMatrix");this.MD=e,this.wD=i,this._D=t.getAttribLocation(this.SD.oD,"aPos"),this.bD=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.bD),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),this.xD=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.xD),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,0,0,1,1,1]),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null)}}tR(t){return e=>{this.mD=null;const i=this.gl.canvas,n=Array.from(this.vD.values());this.kD=!1,n.forEach((n=>{const r=n.RD();(this.U.x<r.x||this.U.y<r.y)&&(this.U.x=Math.max(this.U.x,r.x),this.U.y=Math.max(this.U.y,r.y),i instanceof HTMLCanvasElement&&(i.width=this.U.x,i.height=this.U.y)),n.ha&&n.oR(e),t(0,0,0,0,[n])})),this.kD&&this.sR()}}iR(t){return e=>{this.mD=null,"style"in this.gl.canvas&&!this.Pa.aR&&(this.gl.canvas.style.transform="translateX(".concat(window.scrollX,"px) translateY(").concat(window.scrollY,"px)"));const i=this.gl.canvas,n=this.zD.clientHeight,r=this.zD.clientWidth;let s=0,o=0;if(i instanceof HTMLCanvasElement){i.width===r*this.ND&&i.height===n*this.ND||(i.width=r*this.ND,i.height=n*this.ND);const t=i.getBoundingClientRect();s=t.x,o=t.y}const a=Array.from(this.vD.values());this.kD=!1,a.sort(((t,e)=>t.lR()-e.lR())).forEach((t=>{t.ha&&t.oR(e)})),t(s,o,r,n,a),this.kD&&this.sR()}}sR(t){return Wv(this.gl)||(!this.kD&&t&&(this.kD=!0),this.mD||this.ci||(this.mD=jr.requestAnimationFrame(this.qD))),this}cR(t){const e=this.TD();return t.En.setAttribute("data-lcjs-engine-id",e),this.gD.set(e,t),t.uR(this.gD.size-1),t.BD(!0),this.vD.set(e,t),this.nR&&this.nR.observe(t.En),this.ID&&clearTimeout(this.ID),this.ID=setTimeout((()=>this.Ko()),0),this}dR(t){const e=t.En.getAttribute("data-lcjs-engine-id");return e?(this.gD.delete(e),this.vD.delete(e),this.nR&&this.nR.unobserve(t.En),t.En.removeAttribute("data-lcjs-engine-id"),this):this}Ko(){if(this.nR){const t=this.nR.takeRecords();for(let e=0;e<t.length;e+=1){const i=t[e];this.PD(i)}}return!this.XD&&this.HD&&Array.from(this.gD.values()).sort(((t,e)=>function(t,e){if(t===e)return 0;const i={a:jv(t),b:jv(e)};let n;for(;i.a[i.a.length-1]===i.b[i.b.length-1];)t=i.a.pop(),e=i.b.pop(),n=t;const r=Gv(Yv(i.a)),s=Gv(Yv(i.b));if(r===s&&n){const t=n.childNodes,e={a:i.a[i.a.length-1],b:i.b[i.b.length-1]};let r=t.length;for(;r--;){const i=t[r];if(i===e.a)return 1;if(i===e.b)return-1}}return Math.sign(r-s)}(t.En,e.En))).forEach(((t,e)=>t.uR(e))),this.sR(!0),this}dB(){return this.sR(),this}fR(){this.ci||this.gD.forEach((t=>t.Cg.layout()))}N(){var t;if(this.ci)return;this.ci=!0,super.N(),this.mD&&(jr.cancelAnimationFrame(this.mD),this.mD=null),this.kD=!1,this.Ea&&(this.Ea.disconnect(),this.Ea=void 0),this.nR&&(this.nR.disconnect(),this.nR=void 0),jr.removeEventListener("resize",this.FD),this.FD=void 0,this.gD.forEach((t=>{t.N()})),this.gD.clear(),Array.from(this.yD.values()).forEach((t=>{t.bu(!0)})),this.yD.clear();const e=this.gl;e.deleteBuffer(this.bD),e.deleteBuffer(this.xD),this.zD&&!this.Pa.zD?(this.zD.width=1,this.zD.height=1,null===(t=this.zD.parentElement)||void 0===t||t.removeChild(this.zD),this.zD=void 0):this.zD=void 0,this.eR=void 0,this.HB=void 0,this.qD=()=>{},this.QD.WEBGL_lose_context&&this.QD.WEBGL_lose_context.loseContext()}}const qv=(t,e,i,n)=>r=>{const s={theme:Im,...i,...r},o=t(s),a=e||n?Iy(o,n,null==i?void 0:i.licenseInformation):void 0,l=new By(o.Pa,r,o,o.N.bind(o),s,a);return o.Za((t=>l.Su(t))).Xa((()=>l.Y())).Rs(),l},Jv=(t,e)=>{t.Za((t=>{e.sh(t)})).Xa((()=>e.Y())).Rs()},Kv=(t,e,i,n)=>r=>{const s={...i,...r,theme:(null==r?void 0:r.theme)||Im},o=t(s),a=e||n?Iy(o,n,null==i?void 0:i.licenseInformation):void 0,l=new kd(o.Pa,ky(o,1).xL(0),ar,o.N.bind(o),a,void 0,null==r?void 0:r.legend);return Jv(o,l),l},Qv=(t,e,i,n)=>r=>{const s={...i,...r,theme:(null==r?void 0:r.theme)||Im},o=t(s),a=e||n?Iy(o,n,null==i?void 0:i.licenseInformation):void 0,l=new ep(o.Pa,ky(o,1).xL(0),ar,o.N.bind(o),a,r);return Jv(o,l),l},$v=(t,e,i,n)=>r=>{const s={...i,...r,theme:(null==r?void 0:r.theme)||Im},o=t(s),a=e||n?Iy(o,n,null==i?void 0:i.licenseInformation):void 0,l=new sm(o.Pa,ky(o,1).xL(0),ar,o.N.bind(o),a,r);return Jv(o,l),l},tx=(t,e,i,n)=>r=>{const s={...i,...r,theme:(null==r?void 0:r.theme)||Im},o=t(s),a=e||n?Iy(o,n,null==i?void 0:i.licenseInformation):void 0,l=new yp(o.Pa,ky(o,1).xL(0),ar,o.N.bind(o),a,r);return Jv(o,l),l},ex=(t,e,i,n)=>r=>{const s={...i,...r,theme:(null==r?void 0:r.theme)||Im},o=t(s),a=e||n?Iy(o,n,null==i?void 0:i.licenseInformation):void 0,l=new(r&&r.type?r.type:Ey)(o.Pa,ky(o,1).xL(0),ar,o.N.bind(o),a,void 0,r);return Jv(o,l),l},ix=(t,e,i,n)=>r=>{const s={...i,...r,theme:(null==r?void 0:r.theme)||Im},o=t(s),a=e||n?Iy(o,n,null==i?void 0:i.licenseInformation):void 0,l=new ny(o.Pa,ky(o,1).xL(0),ar,o.N.bind(o),a,void 0,r);return Jv(o,l),l},nx=(t,e,i,n)=>r=>{const s={...i,...r,theme:(null==r?void 0:r.theme)||Im},o=t(s),a=e||n?Iy(o,n,null==i?void 0:i.licenseInformation):void 0,l=new(r&&r.type?r.type:Bp)(o.Pa,ky(o,1).xL(0),ar,o.N.bind(o),a,void 0,r);return Jv(o,l),l},rx=(t,e,i,n)=>r=>{const s={...i,...r,theme:(null==r?void 0:r.theme)||Im},o=t(s),a=e||n?Iy(o,n,null==i?void 0:i.licenseInformation):void 0,l=new(r&&r.type?r.type:jp)(o.Pa,ky(o,1).xL(0),ar,o.N.bind(o),a,void 0,r);return Jv(o,l),l},sx=(t,e,i,n)=>r=>{const s={...i,...r,theme:(null==r?void 0:r.theme)||Im},o=t(s),a=e||n?Iy(o,n,null==i?void 0:i.licenseInformation):void 0,l=new jf(o.Pa,ky(o,1).xL(0),ar,o.N.bind(o),a,r,void 0);return Jv(o,l),l},ox=(t,e,i,n)=>r=>{const s={...i,...r,theme:(null==r?void 0:r.theme)||Im},o=t(s),a=e||n?Iy(o,n,null==i?void 0:i.licenseInformation):void 0,l=new vf(o.Pa,ky(o,1).xL(0),ar,o.N.bind(o),a,void 0,r);return Jv(o,l),l},ax=(t,e,i,n)=>r=>{const s={...i,...r,theme:(null==r?void 0:r.theme)||Im},o=t(s),a=e||n?Iy(o,n,null==i?void 0:i.licenseInformation):void 0,l=new Dm(o.Pa,ky(o,1).xL(0),ar,o.N.bind(o),a,void 0);return Jv(o,l),l},lx=(t,e,i,n)=>r=>{const s={...i,...r,theme:(null==r?void 0:r.theme)||Im},o=t(s),a=e||n?Iy(o,n,null==i?void 0:i.licenseInformation):void 0,l=new Gm(o.Pa,ky(o,1).xL(0),ar,o.N.bind(o),a,void 0,r);return Jv(o,l),l},hx=(t,e,i,n)=>r=>{const s={...i,...r,theme:(null==r?void 0:r.theme)||Im},o=t(s),a=e||n?Iy(o,n,null==i?void 0:i.licenseInformation):void 0,l=new lp(o.Pa,ky(o,1).xL(0),ar,o.N.bind(o),a,r);return Jv(o,l),l},cx=(t,e,i,n)=>r=>{const s={...i,...r,theme:(null==r?void 0:r.theme)||Im},o=t(s),a=e||n?Iy(o,n,null==i?void 0:i.licenseInformation):void 0,l=new ey(o.Pa,ky(o,1).xL(0),ar,o.N.bind(o),a,r);return Jv(o,l),l},ux=(t,e,i,n)=>r=>{const s={...i,...r,theme:(null==r?void 0:r.theme)||Im},o=t(s),a=e?Iy(o,n):void 0,l=new cy(o.Pa,ky(o,1).xL(0),ar,o.N.bind(o),a,void 0,r);return Jv(o,l),l},dx={translation:(t,e,i)=>[1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1],xRotation(t){const e=Math.cos(t),i=Math.sin(t);return[1,0,0,0,0,e,i,0,0,-i,e,0,0,0,0,1]},yRotation(t){const e=Math.cos(t),i=Math.sin(t);return[e,0,-i,0,0,1,0,0,i,0,e,0,0,0,0,1]},zRotation(t){const e=Math.cos(t),i=Math.sin(t);return[e,i,0,0,-i,e,0,0,0,0,1,0,0,0,0,1]},scaling:(t,e,i)=>[t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1],translate:(t,e,i,n)=>dx.multiply(t,dx.translation(e,i,n)),xRotate:(t,e)=>dx.multiply(t,dx.xRotation(e)),yRotate:(t,e)=>dx.multiply(t,dx.yRotation(e)),zRotate:(t,e)=>dx.multiply(t,dx.zRotation(e)),rotateXYZ(t,e){let i=dx.xRotate(t,e.x);return i=dx.yRotate(i,e.y),i=dx.zRotate(i,e.z),i},scale:(t,e,i,n)=>dx.multiply(t,dx.scaling(e,i,n)),multiply(t,e){const i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],h=e[7],c=e[8],u=e[9],d=e[10],f=e[11],g=e[12],p=e[13],m=e[14],y=e[15],v=t[0],x=t[1],b=t[2],S=t[3],A=t[4],E=t[5],w=t[6],k=t[7],C=t[8],M=t[9],T=t[10],P=t[11],F=t[12],L=t[13],R=t[14],B=t[15],z=[];return z[0]=i*v+n*A+r*C+s*F,z[1]=i*x+n*E+r*M+s*L,z[2]=i*b+n*w+r*T+s*R,z[3]=i*S+n*k+r*P+s*B,z[4]=o*v+a*A+l*C+h*F,z[5]=o*x+a*E+l*M+h*L,z[6]=o*b+a*w+l*T+h*R,z[7]=o*S+a*k+l*P+h*B,z[8]=c*v+u*A+d*C+f*F,z[9]=c*x+u*E+d*M+f*L,z[10]=c*b+u*w+d*T+f*R,z[11]=c*S+u*k+d*P+f*B,z[12]=g*v+p*A+m*C+y*F,z[13]=g*x+p*E+m*M+y*L,z[14]=g*b+p*w+m*T+y*R,z[15]=g*S+p*k+m*P+y*B,z},inverse(t){const e=[],i=t[0],n=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],h=t[7],c=t[8],u=t[9],d=t[10],f=t[11],g=t[12],p=t[13],m=t[14],y=t[15],v=d*y,x=m*f,b=l*y,S=m*h,A=l*f,E=d*h,w=r*y,k=m*s,C=r*f,M=d*s,T=r*h,P=l*s,F=c*p,L=g*u,R=o*p,B=g*a,z=o*u,I=c*a,D=i*p,V=g*n,_=i*u,N=c*n,O=i*a,H=o*n,U=v*a+S*u+A*p-(x*a+b*u+E*p),Y=x*n+w*u+M*p-(v*n+k*u+C*p),G=b*n+k*a+T*p-(S*n+w*a+P*p),j=E*n+C*a+P*u-(A*n+M*a+T*u),X=1/(i*U+o*Y+c*G+g*j);return e[0]=X*U,e[1]=X*Y,e[2]=X*G,e[3]=X*j,e[4]=X*(x*o+b*c+E*g-(v*o+S*c+A*g)),e[5]=X*(v*i+k*c+C*g-(x*i+w*c+M*g)),e[6]=X*(S*i+w*o+P*g-(b*i+k*o+T*g)),e[7]=X*(A*i+M*o+T*c-(E*i+C*o+P*c)),e[8]=X*(F*h+B*f+z*y-(L*h+R*f+I*y)),e[9]=X*(L*s+D*f+N*y-(F*s+V*f+_*y)),e[10]=X*(R*s+V*h+O*y-(B*s+D*h+H*y)),e[11]=X*(I*s+_*h+H*f-(z*s+N*h+O*f)),e[12]=X*(R*d+I*m+L*l-(z*m+F*l+B*d)),e[13]=X*(_*m+F*r+V*d-(D*d+N*m+L*r)),e[14]=X*(D*l+H*m+B*r-(O*m+R*r+V*l)),e[15]=X*(O*d+z*r+N*l-(_*l+H*d+I*r)),e},projectionPerspective(t,e,i,n){const r=1/Math.tan(t*Math.PI/180/2),s=1/(i-n);return[r/e,0,0,0,0,r,0,0,0,0,(i+n)*s,-1,0,0,i*n*s*2,0]},projectionOrthographic:(t,e,i,n,r,s)=>[2/(e-t),0,0,0,0,2/(n-i),0,0,0,0,2/(r-s),0,(t+e)/(t-e),(i+n)/(i-n),(r+s)/(r-s),1],quaternionToRotationMatrix(t){const e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]+t[3]*t[3]),i=[t[0]/e,t[1]/e,t[2]/e,t[3]/e],n=i[0]+i[0],r=i[1]+i[1],s=i[2]+i[2],o=i[0]*n,a=i[0]*r,l=i[0]*s,h=i[1]*r,c=i[1]*s,u=i[2]*s,d=i[3]*n,f=i[3]*r,g=i[3]*s;return[1-(h+u),a-g,l+f,0,a+g,1-(o+u),c-d,0,l-f,c+d,1-(o+h),0,0,0,0,1]}};function fx(t,e,i,n,r,s){let o=e.x.Bt(t.max.x),a=e.x.Bt(t.min.x),l=e.y.Bt(t.max.y),h=e.y.Bt(t.min.y),c=o-a,u=l-h;if(c<1){const t=(a+o)/2;a=t-.5,o=t+.5,c=1}if(u<1){const t=(h+l)/2;h=t-.5,l=t+.5,u=1}const d=c/u,f=c*i.x,g=u*i.y,p=c-f,m=u-g,y=f>p?[p,f]:[f,p],v=g>m?[m,g]:[g,m];let x,b,S=1,A=1;switch(n){default:case Gn.closestSide:if(x=y[0]/c,b=v[0]/u,r===Yn.circle){const t=Math.min(x*d,b);S=t,A=t}else S=x*d,A=b;break;case Gn.farthestSide:if(x=y[1]/c,b=v[1]/u,r===Yn.circle){const t=Math.max(x*d,b);S=t,A=t}else S=x*d,A=b;break;case Gn.closestCorner:if(b=v[0]/u,r===Yn.circle){x=y[0]/c*d;const t=Math.sqrt(x*x+b*b);S=t,A=t}else{x=y[0]/c;const t=Math.sqrt(x*x+b*b);S=t*d,A=t}break;case Gn.farthestCorner:if(b=v[1]/u,r===Yn.circle){x=y[1]/c*d;const t=Math.sqrt(x*x+b*b);S=t,A=t}else{x=y[1]/c;const t=Math.sqrt(x*x+b*b);S=t*d,A=t}}return{bounds:[a*s,h*s,c*s,u*s],center:[i.x*d,i.y],distance:[Math.max(S,1e-4),Math.max(A,1e-4)],aspectRatio:d}}function gx(t,e,i,n){const r=e.x.Bt(t.max.x),s=e.x.Bt(t.min.x),o=e.y.Bt(t.max.y),a=e.y.Bt(t.min.y),l=r-s,h=o-a,c=Math.abs(l*Math.sin(i))+Math.abs(h*Math.cos(i)),u=En(l/2-Math.sin(i)*(c/2),h/2-Math.cos(i)*(c/2)),d=En(l/2+Math.sin(i)*(c/2),h/2+Math.cos(i)*(c/2));return{bounds:[s*n,a*n,l*n,h*n],startPoint:[u.x*n,u.y*n],endPoint:[d.x*n,d.y*n]}}class px{constructor(t){this.PB=t}}class mx{constructor(){this.AR=new Array,this.gR=t=>(this.AR.push(t),t),this.vR=this.gR(new Map),this.yR=this.gR(new Map),this.pR=this.gR(new Map),this.mR=this.gR(new Map),this.SR=this.gR(new Map),this.bR=this.gR(new Map),this.xR=this.gR(new Map),this.MR=this.gR(new Map)}wR(){this.AR.forEach((t=>{t.forEach((t=>t.wR())),t.clear()}))}}const yx=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return()=>{t._R=e,i&&i()}},vx=(t,e,i,n,r)=>{const s=Math.min(i/t,n/e),o=t*s,a=e*s,l=i/o,h=n/a,c=o/i,u=a/n;let d=0,f=1,g=0,p=1;switch(r){case Tr.Fill:h<l?(d=0,f=1,g=.5+-c/2,p=.5+c/2):(g=0,p=1,d=.5+-u/2,f=.5+u/2);break;case Tr.Fit:h<l?(g=0,p=1,d=.5+-l/2,f=.5+l/2):(d=0,f=1,g=.5+-h/2,p=.5+h/2);break;case Tr.Center:{const r=i/t,s=n/e;d=.5+-r/2,f=.5+r/2,g=.5+-s/2,p=.5+s/2}break;case Tr.Tile:d=0,f=i/t,g=0,p=n/e;break;case Tr.Stretch:default:d=0,f=1,g=0,p=1}return new Float32Array([d,p,f,p,f,g,d,g])};class xx{constructor(t,e){if(this.kR=0,this.CR=0,this.TR=!1,this._R=!1,this.FR=!1,this.IR=!1,this.PR=!1,this.LR=new Set,this.BR=new Set,this.Ks=e,this.nD=t,this.DR=null,this.TR=e instanceof jr.HTMLVideoElement,this.Ks instanceof jr.HTMLImageElement)this.Ks.addEventListener("load",(()=>{this.IR=!0,this.RR()})),this.Ks.addEventListener("error",(()=>{this.PR=!0})),this.Ks.complete&&(this.IR=!0,this.RR());else if(this.Ks instanceof jr.HTMLVideoElement){const t=this;this.Ks.addEventListener("canplay",(function(){t.CR=this.videoHeight,t.kR=this.videoWidth,t.IR=!0,t.RR()}),!0),this.Ks.addEventListener("play",yx(this,!0,(()=>this.RR()))),this.Ks.addEventListener("playing",yx(this,!0,(()=>this.RR()))),this.Ks.addEventListener("pause",yx(this,!1)),this.Ks.addEventListener("ended",yx(this,!1)),this.Ks.readyState>=1&&(this.kR=this.Ks.videoWidth,this.CR=this.Ks.videoHeight,this._R=!this.Ks.paused,this.IR=!0,this.RR())}else this.IR=!0,this.RR()}Xu(t){0===this.BR.size&&this.IR&&this.RR(),this.BR.add(t)}UB(t){this.BR.delete(t),0===this.BR.size&&this.unbindResources()}ER(t){this.LR.add(t),this.FR&&(t(),this.OR(t))}OR(t){this.LR.delete(t)}RR(){if(this.PR||this.FR||!this.IR)return;const t=this.nD.gl;if(!this.DR&&this.Ks&&t){this.DR=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.DR),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);const e=0,i=t.RGBA,n=t.RGBA,r=t.UNSIGNED_BYTE,s=this.Ks,o=this.kR>0?this.kR:s.width,a=this.CR>0?this.CR:s.height;t.texImage2D(t.TEXTURE_2D,e,i,n,r,s),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),this.kR=o,this.CR=a,t.bindTexture(t.TEXTURE_2D,null)}this.FR=!0,this.LR&&this.LR.forEach((t=>{t(),this.OR(t)}))}zr(){const t=this.nD.gl;if(!this.PR&&this.FR&&this.DR){const e=0,i=t.RGBA,n=t.RGBA,r=t.UNSIGNED_BYTE,s=this.Ks;s&&(t.bindTexture(t.TEXTURE_2D,this.DR),t.texImage2D(t.TEXTURE_2D,e,i,n,r,s))}}zR(){return this.DR}unbindResources(){return this.FR&&(this.DR&&(this.nD.DB(this.DR),this.DR=null),this.FR=!1),this}}class bx extends br{constructor(t,e,i){super(t.gi,e,i),this.Kg=!0,this.Zg=Fn(_a),this.Zs=t,this.oi=t.oi}VR(){var t;return this.Zg.o&&this.Zg.C().type!==(null===(t=this.NR)||void 0===t?void 0:t.type)}hv(t){return this.Kg=t,this}}class Sx{constructor(t){this.vE=[],this.PB=t}yE(t,e){((t,e,i,n)=>{const r=t.GR(),s=Math.round(Math.min(i.spread,10)*r),o=Math.round(Math.min(i.blur,10)*r),a=Math.round(i.offset.x*r),l=Math.round(i.offset.y*r),h=t.$R(),c=t.UR(),u=t.YR(),d=t.jR(),f=t.HR();t.WR("disabled"),t.hv(!1),t.XR(!1);const g=t.gi.qo.JD,p=e.ZR(),m=s+o/2,y=((t,e,i,n)=>{const r=t.gl,s=t.GR(),o=t.JR();t.QR(r.FRAMEBUFFER,n.frameBuffer),r.bindRenderbuffer(r.RENDERBUFFER,n.depthBuffer),r.bindTexture(r.TEXTURE_2D,n.texture),r.clearDepth(1),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT);const a=n.sizeDpr;t.KR(0,0,a.x,a.y);const l=[],h=t.gi.qo.JD;return e.forEach((e=>{let n;if(e instanceof ic){n=e.us||e.Zs.Hg();let t=!1;if(!n){const i=e.Zs.qR(e);i&&i.max.x-i.min.x>0&&i.max.y-i.min.y>0&&(n={x:i.min.x,y:i.min.y,width:i.max.x-i.min.x,height:i.max.y-i.min.y},t=!0)}n&&(n.width>0&&n.height>0?(t&&(n.x-=i.left/s,n.y-=i.top/s,n.width+=(i.left+i.right)/s,n.height+=(i.top+i.bottom)/s),l.push({x:n.x,y:n.y,width:n.width,height:n.height})):n=void 0)}else e instanceof bx&&(n=e.Zs.vm());if(n){const e=n.x+(h?0:i.left),r=n.y+(h?0:i.bottom),o=Math.max(n.width-(h?0:i.left+i.right),0),a=Math.max(n.height-(h?0:i.bottom+i.top),0);t.tE(e*s,r*s,o*s,a*s)}else t.XR(!1);e.Su(2,0)})),t.QR(r.FRAMEBUFFER,o),r.bindRenderbuffer(r.RENDERBUFFER,null),r.bindTexture(r.TEXTURE_2D,null),t.XR(!1),l})(t,n,{left:m+(a<0?-a:0),top:m+(l>0?l:0),right:m+(a>0?a:0),bottom:m+(l<0?-l:0)},p),v=p,x=s+o+5,b=((t,e,i,n)=>{const r=(t=>{const e=[];for(let i=0;i<t.length;i+=1){let n,r=t[i];do{const t=e.findIndex((t=>ho(r,t)));n=t>=0?e[t]:void 0,n&&(e.splice(t,1),r=Eo(r,n))}while(n);e.push(r)}return e})(e.map((t=>{const e=t instanceof ic||t instanceof bx?t.Zs.qR(t):oo;if(_s(e))return oo;const r={min:{x:Math.max(e.min.x-i.left,0),y:Math.max(e.min.y-i.bottom,0)},max:{x:Math.min(e.max.x+i.right,n.x),y:Math.min(e.max.y+i.top,n.y)}};return r.max.x<=r.min.x||r.max.y<=r.min.y?oo:r})).filter((t=>!_s(t)))),s=6*r.length,o=new Float32Array(4*s);let a=0;return r.forEach((t=>{const e=Io(t.min,n),i=Io(t.max,n),r=e,s=i;o[a+0]=e.x,o[a+1]=e.y,o[a+2]=r.x,o[a+3]=r.y,o[a+4]=i.x,o[a+5]=e.y,o[a+6]=s.x,o[a+7]=r.y,o[a+8]=i.x,o[a+9]=i.y,o[a+10]=s.x,o[a+11]=s.y,o[a+12]=i.x,o[a+13]=i.y,o[a+14]=s.x,o[a+15]=s.y,o[a+16]=e.x,o[a+17]=i.y,o[a+18]=r.x,o[a+19]=s.y,o[a+20]=e.x,o[a+21]=e.y,o[a+22]=r.x,o[a+23]=r.y,a+=24})),{vertexBuffer:t.iE(o),vertexCount:s}})(t,n,{left:x+(a<0?-a:0),top:x+(l>0?l:0),right:x+(a>0?a:0),bottom:x+(l<0?-l:0)},e.sE()),S=e.ZR(v),A=t.eR(Bv["2D"],Bv.Glow1D({spreadPx:s,blurPx:o,firstPass:!0}),Bv.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:"linear",normalSource:void 0}));((t,e,i,n,r,s)=>{const o=t.gl,a=t.JR();t.QR(o.FRAMEBUFFER,i.frameBuffer),o.bindRenderbuffer(o.RENDERBUFFER,i.depthBuffer),o.bindTexture(o.TEXTURE_2D,i.texture),o.clearDepth(1),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),t.KR(0,0,i.sizeDpr.x,i.sizeDpr.y),t.eE(n,((a,l,h,c)=>(t.Xu(n),s&&s(a),t.oE(a("uIsHighlighted"),0).wI(a("uHighlightColorOffset"),On).oE(a("uRenderEffectMask"),0).nE(a("uTexture"),e.texture,0).rE(c("uTextureSize"),[e.sizeDpr.x,e.sizeDpr.y]).rE(a("uScale"),i.uniforms.aE()).rE(a("uDisp"),i.uniforms.lE()).rE(a("uScaling"),[i.size.x,i.size.y]).rE(a("uTranslationAxis"),[0,0]).hE(r.vertexBuffer,void 0,{location:l("aPos"),size:2},{location:l("aTextureCoord"),size:2}).Mk(o.TRIANGLES,r.vertexCount,0),!0))),t.QR(o.FRAMEBUFFER,a),o.bindRenderbuffer(o.RENDERBUFFER,null),o.bindTexture(o.TEXTURE_2D,null)})(t,v,S,A,b,((e,i,n,r)=>(t.rE(e("uOffsetPx"),[a+1,l+1]),!0))),t.XR(c),t.cE(f),g&&(((t,e)=>{if(void 0===e||e.length<1)return;const i=t.gl,n=6*e.length*2,r=[n];let s=0;for(let u=0;u<e.length;u+=1){const t=e[u];r[s+0]=t.x,r[s+1]=t.y,r[s+2]=t.x+t.width,r[s+3]=t.y,r[s+4]=t.x,r[s+5]=t.y+t.height,r[s+6]=t.x+t.width,r[s+7]=t.y,r[s+8]=t.x+t.width,r[s+9]=t.y+t.height,r[s+10]=t.x,r[s+11]=t.y+t.height,s+=12}const o=t.iE(r,!0),a={x:t.gi._t().x,y:t.gi._t().y},l=ar.d2({scaleXYConstructor:sr}).X(a).ti(0,a.x).ii(0,a.y),h=new wx;h.uE(l);const c=t.eR(Bv["2D"],Bv.VertexLocation({scaling:{dataType:"uniform"},translation:void 0,axisWorldTranslation:"linear",normalSource:void 0}),Bv.Color({dataType:"uniform"}));t.dE(!0),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.stencilFunc(i.ALWAYS,1,255),i.stencilOp(i.KEEP,i.KEEP,i.REPLACE),i.stencilMask(255),i.colorMask(!1,!1,!1,!1),t.Xu(c).AE(c.fD("aPos"),o).rE(c.uD("uDisp"),h.lE()).rE(c.uD("uScaling"),[1,1]).rE(c.uD("uScale"),h.aE()).fE(c.uD("uColor"),[1,1,1,1]).Mk(i.TRIANGLES,n/2),t.gE(o),i.colorMask(!0,!0,!0,!0)})(t,y),t.gl.stencilFunc(t.gl.EQUAL,1,255),t.gl.stencilOp(t.gl.KEEP,t.gl.KEEP,t.gl.KEEP),t.dE(!0));const E=t.eR(Bv["2D"],Bv.Glow1D({spreadPx:s,blurPx:o,firstPass:!1}),Bv.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:"linear",normalSource:void 0}));((t,e,i,n,r)=>{const s=t.gl,o={x:t.gi._t().x,y:t.gi._t().y};t.KR(0,0,o.x*t.GR(),o.y*t.GR());const a=ar.d2({scaleXYConstructor:sr}).X(o).ti(0,o.x).ii(0,o.y),l=new wx;l.uE(a),t.eE(i,((a,h,c,u)=>(t.Xu(i),r&&r(a),t.oE(a("uIsHighlighted"),0).wI(a("uHighlightColorOffset"),On).oE(a("uRenderEffectMask"),0).nE(a("uTexture"),e.texture,0).rE(u("uTextureSize"),[e.sizeDpr.x,e.sizeDpr.y]).rE(a("uScale"),l.aE()).rE(a("uDisp"),l.lE()).rE(a("uScaling"),[o.x,o.y]).rE(a("uTranslationAxis"),[0,0]).hE(n.vertexBuffer,void 0,{location:h("aPos"),size:2},{location:h("aTextureCoord"),size:2}).Mk(s.TRIANGLES,n.vertexCount,0),!0)))})(t,p,E,b,((e,n,r,s)=>(t.nE(e("uTextureFirstGlowPass"),S.texture,1).wI(e("uGlowColor"),i.color),!0))),t.KR(h.x,h.y,h.width,h.height),t.WR(u),t.hv(d),t.gE(b.vertexBuffer),g&&t.dE(!1)})(this.PB,this,e,t)}sE(){const t=this.PB.gi._t();return{x:Math.ceil(t.x),y:Math.ceil(t.y)}}ZR(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const n=this.vE,r=this.sE(),s={x:Math.ceil(r.x*this.PB.GR()),y:Math.ceil(r.y*this.PB.GR())},o=this.PB.gl,a=n.find((t=>!e.includes(t)));if(a)return a.sizeDpr.x===s.x&&a.sizeDpr.y===s.y||(a.size=r,a.sizeDpr=s,o.bindTexture(o.TEXTURE_2D,a.texture),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,s.x,s.y,0,o.RGBA,o.UNSIGNED_BYTE,null),o.bindRenderbuffer(o.RENDERBUFFER,a.depthBuffer),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,s.x,s.y),o.bindTexture(o.TEXTURE_2D,null),o.bindRenderbuffer(o.RENDERBUFFER,null),a.scale.X(r).ti(0,r.x).ii(0,r.y),a.uniforms.uE(a.scale)),a;const l=o.createTexture(),h=this.PB.pE(),c=this.PB.mE();o.bindTexture(o.TEXTURE_2D,l),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,s.x,s.y,0,o.RGBA,o.UNSIGNED_BYTE,null),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);const u=this.PB.JR();this.PB.QR(o.FRAMEBUFFER,h),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,l,0),o.bindRenderbuffer(o.RENDERBUFFER,c),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,s.x,s.y),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,c),o.bindTexture(o.TEXTURE_2D,null),this.PB.QR(o.FRAMEBUFFER,u),o.bindRenderbuffer(o.RENDERBUFFER,null);const d=ar.d2({scaleXYConstructor:sr}).X(r).ti(0,r.x).ii(0,r.y),f=new wx;f.uE(d);const g={size:r,sizeDpr:s,texture:l,frameBuffer:h,depthBuffer:c,scale:d,uniforms:f};return n.push(g),g}N(){[this.vE].forEach((t=>{t.forEach((t=>{this.PB.SE(t.depthBuffer),this.PB.bE(t.frameBuffer),this.PB.DB(t.texture)})),t.length=0}))}}class Ax{constructor(t,e,i,n){var r=this;let s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.xE=new mx,this.ME=new Map,this.wE=new Map,this._E=[],this.YD=1,this.IS_MACHINE_LITTLE_ENDIAN=(()=>{const t=new Uint32Array([287454020]),e=new Uint8Array(t.buffer);return 68===e[0]||17!==e[0]&&(jr.console.error("Unidentified machine endianness. Some features might behave unexpectedly."),!0)})(),this.Kg=!1,this.kE=!1,this.rE=(t,e)=>{let[i,n]=e;return void 0===t||this.gl.uniform2f(t,i,n),this},this.CE=(t,e)=>{let[i,n]=e;return void 0===t||this.gl.uniform2i(t,i,n),this},this.fE=(t,e)=>{let[i,n,r,s]=e;return void 0===t||this.gl.uniform4f(t,i,n,r,s),this},this.TE=(t,e)=>{let[i,n,r]=e;return void 0===t||this.gl.uniform3f(t,i,n,r),this},this.FE=(t,e)=>(void 0===t||this.gl.uniformMatrix3fv(t,!1,e),this),this.IE=(t,e)=>(void 0===t||this.gl.uniformMatrix4fv(t,!1,e),this),this.wI=(t,e)=>(void 0===t||this.gl.uniform4f(t,e.r,e.g,e.b,e.a),this),this.oE=(t,e)=>(void 0===t||this.gl.uniform1f(t,e),this),this.PE=(t,e)=>(this.gl.uniform1i(t,e),this),this.nE=(t,e,i)=>{if(void 0===t)return this;if(e){const n=this.gl.TEXTURE0+i;return this.gl.activeTexture(n),this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.uniform1i(t,i),this}throw new My("Could not bind a texture.")},this.LE=t=>(((t,e)=>{e===Tr.Tile?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE))})(this.gl,t),this),this.iE=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Float32Array;const s=t.length,o=r.BE(s,i);if(r.gl.bindBuffer(r.gl.ARRAY_BUFFER,o),r.gl.bufferData(r.gl.ARRAY_BUFFER,t instanceof n?t:new n(t),e?r.gl.DYNAMIC_DRAW:r.gl.STATIC_DRAW),r.gl.bindBuffer(r.gl.ARRAY_BUFFER,null),o)return o;throw new My("Could not create vertex buffer")},this.DE=function(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Float32Array;const s=i||r.gl.createBuffer();if(r.gl.bindBuffer(r.gl.ARRAY_BUFFER,s),e&&e.length===t?r.gl.bufferData(r.gl.ARRAY_BUFFER,e instanceof n?e:new n(e),r.gl.STATIC_DRAW):(r.gl.bufferData(r.gl.ARRAY_BUFFER,t*n.BYTES_PER_ELEMENT,r.gl.STATIC_DRAW),e&&r.gl.bufferSubData(r.gl.ARRAY_BUFFER,0,e instanceof n?e:new n(e))),r.gl.bindBuffer(r.gl.ARRAY_BUFFER,null),s)return s;throw new My("Could not create vertex buffer")},this.RE=function(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Float32Array;r.gl.bindBuffer(r.gl.ARRAY_BUFFER,t),r.gl.bufferSubData(r.gl.ARRAY_BUFFER,e*n.BYTES_PER_ELEMENT,i instanceof n?i:new n(i)),r.gl.bindBuffer(r.gl.ARRAY_BUFFER,null)},this.EE=(t,e,i,n,r)=>{if(n&&t&&(t.usedSize=0),!t){const t=e.length+i,n=new r(t);return n.set(e),{buffer:this.DE(t,n,void 0,r),dataCache:n,preallocSize:t,usedSize:e.length}}if(t.usedSize+e.length>t.preallocSize){const n=t.usedSize+e.length+i,s=new r(n);return s.set(t.dataCache),s.set(e,t.usedSize),{buffer:this.DE(n,s,t.buffer,r),dataCache:s,preallocSize:n,usedSize:t.usedSize+e.length}}return t.dataCache.set(e,t.usedSize),this.RE(t.buffer,t.usedSize,e,r),t.usedSize+=e.length,t},this.OE=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r.gl.bindBuffer(r.gl.ARRAY_BUFFER,t),r.gl.bufferData(r.gl.ARRAY_BUFFER,e,i?r.gl.DYNAMIC_DRAW:r.gl.STATIC_DRAW),r.gl.bindBuffer(r.gl.ARRAY_BUFFER,null)},this.zE=(t,e)=>{const i=t.length,n=this.BE(i,e);if(this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,n),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,t,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),n)return n;throw new My("Could not create index buffer")},this.VE=t=>{const e=this.gl.createBuffer();if(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e),this.gl.bufferData(this.gl.ARRAY_BUFFER,t instanceof Float32Array?t:new Float32Array(t),this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),e)return e;throw new My("Could not create float buffer")},this.AE=(t,e)=>(void 0===t||(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e),this.gl.enableVertexAttribArray(t),this.gl.vertexAttribPointer(t,2,this.gl.FLOAT,!1,0,0)),this),this.NE=(t,e)=>(void 0===t||(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e),this.gl.vertexAttribPointer(t,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(t)),this),this.hE=function(t,e){var i;r.gl.bindBuffer(r.gl.ARRAY_BUFFER,t);for(var n=arguments.length,s=new Array(n>2?n-2:0),o=2;o<n;o++)s[o-2]=arguments[o];const a=s.length;let l=0;for(let r=0;r<a;r+=1)l+=s[r].size;for(let c=0;c<a;c+=1){const t=s[c].location;void 0!==t&&t>-1&&r.gl.enableVertexAttribArray(t)}let h=0;for(let c=0;c<a;c+=1){const t=s[c];void 0!==t.location&&t.location>-1&&r.gl.vertexAttribPointer(t.location,t.size,r.gl.FLOAT,!1,l*Float32Array.BYTES_PER_ELEMENT,h*Float32Array.BYTES_PER_ELEMENT+(null!==(i=t.extraOffset)&&void 0!==i?i:0)),h+=t.size}if(void 0!==e)for(let c=0;c<a;c+=1){const t=s[c].location;void 0!==t&&t>-1&&r.GE(t,e)}return r},this.$E=function(){const t=arguments.length;for(let e=0;e<t;e+=1){const t=e<0||arguments.length<=e?void 0:arguments[e];0!==t&&t>-1&&r.gl.disableVertexAttribArray(t)}return r},this.UE=(t,e)=>(void 0===t||(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e),this.gl.enableVertexAttribArray(t),this.gl.vertexAttribPointer(t,4,this.gl.FLOAT,!1,0,0)),this),this.YE=function(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return void 0===t||(r.gl.bindBuffer(r.gl.ARRAY_BUFFER,e),r.gl.vertexAttribPointer(t,1,r.gl.FLOAT,!1,0,n),r.gl.enableVertexAttribArray(t),void 0!==i&&r.GE(t,i)),r},this.jE=t=>(this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,t),this),this.HE=null,this.Mk=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e>0&&r.gl.drawArrays(t,i,e),r},this.WE=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.gl.TRIANGLES,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.gl.UNSIGNED_SHORT;return t>0&&r.gl.drawElements(e,t,n,i),r},this.XE=(t,e,i,n)=>{if(n>0&&(this.gl2&&this.gl2.ctx.drawArraysInstanced(t,e,i,n),this.gl1)){if(!this.gl1.QD.ANGLE_instanced_arrays)return jr.console.warn("The browser does not support REQUIRED WebGL 1 extension: ANGLE_instanced_arrays.\nThis application will NOT work properly!"),this;this.gl1.QD.ANGLE_instanced_arrays.drawArraysInstancedANGLE(t,e,i,n)}return this},this.ZE=function(t,e,i,n){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.gl.UNSIGNED_SHORT;if(n>0&&(r.gl2&&r.gl2.ctx.drawElementsInstanced(t,e,s,i,n),r.gl1)){if(!r.gl1.QD.ANGLE_instanced_arrays)return jr.console.warn("The browser does not support REQUIRED WebGL 1 extension: ANGLE_instanced_arrays.\nThis application will NOT work properly!"),r;r.gl1.QD.ANGLE_instanced_arrays.drawElementsInstancedANGLE(t,e,s,i,n)}return r},this.GE=(t,e)=>{if(t>-1&&(this.gl2&&this.gl2.ctx.vertexAttribDivisor(t,e),this.gl1)){if(!this.gl1.QD.ANGLE_instanced_arrays)return jr.console.warn("The browser does not support REQUIRED WebGL 1 extension: ANGLE_instanced_arrays.\nThis application will NOT work properly!"),this;this.gl1.QD.ANGLE_instanced_arrays.vertexAttribDivisorANGLE(t,e)}return this},this.JE=function(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const s=r.gl.TEXTURE0+n;r.gl.activeTexture(s);const o=r.JR();r.QR(r.gl.FRAMEBUFFER,e),r.gl.bindTexture(r.gl.TEXTURE_2D,i),r.gl.framebufferTexture2D(r.gl.FRAMEBUFFER,r.gl.COLOR_ATTACHMENT0,r.gl.TEXTURE_2D,i,0);const a=r.UR();a&&r.XR(!1),t(),a&&r.XR(!0),r.gl.bindTexture(r.gl.TEXTURE_2D,null),r.QR(r.gl.FRAMEBUFFER,o)},this.Ni=()=>(this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this),this.QE=t=>(this.gl.clearColor(t.r,t.g,t.b,t.a),this),this.Xu=t=>(this.gl.useProgram(t.oD),this),this.KE=!1,this.qE=[],this.gi=t,this._g=e,this.gi=t,this.gl=i.ctx,this.tO=i.antialias,this.iO=!!this.gi.qo.pD&&i.lineAntialias,this.KD=this.gi.qo.KD,this.sO=new Map,this.gl1=this.gi.qo.gl1,this.gl2=this.gi.qo.gl2,s&&(this.cE(!0),this.eO()),this.QD=this.gi.qo.QD,this.BB=this.gl.getParameter(this.gl.MAX_TEXTURE_SIZE),this.zB=this.hO(),this.eR=this.gi.qo.eR,this.rO=new Cx(this),this.HB=this.gi.qo.HB,this.nO=new Sx(this),this.yD=this.gi.qo.yD,this.oO=this.iE([0,0,1,0,1,1,0,1]),this.aO=this.iE([0,0,1,0,0,1,0,1,1,0,1,1])}WR(t){return t!==this.lO&&(this.lO=t,"disabled"===t?this.gl.disable(this.gl.CULL_FACE):"cull-back"===t?(this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl.BACK)):"cull-front"===t&&(this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl.FRONT))),this}YR(){return this.lO||"disabled"}hv(t){return t!==this.Kg&&(this.Kg=t,t?this.gl.enable(this.gl.DEPTH_TEST):this.gl.disable(this.gl.DEPTH_TEST)),this}dE(t){return t!==this.kE&&(this.kE=t,t?this.gl.enable(this.gl.STENCIL_TEST):this.gl.disable(this.gl.STENCIL_TEST)),this}jR(){return this.Kg}cO(t){return this.YD=t,this}GR(){return this.YD}BE(t,e){let i;if(e){const n=this.sO.get(e);n&&n.size>=t&&n.size-t<1e6?i=e:this.gE(e)}return i||(i=this.gl.createBuffer(),this.sO.set(i,{size:t})),i}uO(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gl.RGBA,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this.gl.UNSIGNED_BYTE,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:e;const l=this.gl.createTexture();if(!l)throw new My("Couldn't reserve Texture.");return this.gl.bindTexture(this.gl.TEXTURE_2D,l),this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s),t&&null===r?this.gl.texImage2D(this.gl.TEXTURE_2D,0,a,e,o,t):r&&this.gl.texImage2D(this.gl.TEXTURE_2D,0,a,r.x,r.y,0,e,o,t),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,n?this.gl.NEAREST:this.gl.LINEAR),i?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_LINEAR),this.gl.generateMipmap(this.gl.TEXTURE_2D)):this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,n?this.gl.NEAREST:this.gl.LINEAR),this.gl.bindTexture(this.gl.TEXTURE_2D,null),l}DB(t){this.gl.deleteTexture(t)}pE(){const t=this.gl.createFramebuffer();if(!t)throw new My("Couldn't reserve Framebuffer.");return t}QR(t,e){this.HE=e,this.gl.bindFramebuffer(t,e)}JR(){return this.HE}bE(t){this.gl.deleteFramebuffer(t)}mE(){const t=this.gl.createRenderbuffer();if(!t)throw new My("Couldn't reserve Render buffer.");return t}SE(t){this.gl.deleteRenderbuffer(t)}dO(){const t=this.gl;switch(t.checkFramebufferStatus(t.FRAMEBUFFER)){default:case t.FRAMEBUFFER_COMPLETE:jr.console.log("FRAMEBUFFER_COMPLETE");break;case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:jr.console.log("FRAMEBUFFER_INCOMPLETE_ATTACHMENT");break;case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:jr.console.log("FRAMEBUFFER_INCOMPLETE_DIMENSIONS");break;case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:jr.console.log("FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT");break;case t.FRAMEBUFFER_UNSUPPORTED:jr.console.log("FRAMEBUFFER_UNSUPPORTED")}}KR(t,e,i,n){return this.gl.viewport(t,e,i,n),this.fO&&t===this.fO.x&&e===this.fO.y&&i===this.fO.width&&n===this.fO.height||(this.fO={x:t,y:e,width:i,height:n}),this}$R(){return this.fO||{x:0,y:0,width:0,height:0}}tE(t,e,i,n){return this.XR(!0),this.gl.scissor(Math.max(t,0),Math.max(e,0),Math.max(i,0),Math.max(n,0)),this}XR(t){return t===this.AO||(t?this.gl.enable(this.gl.SCISSOR_TEST):this.gl.disable(this.gl.SCISSOR_TEST),this.AO=t),this}cE(t){return t!==this.KE&&(this.KE=t,t&&this.gl.enable(this.gl.BLEND),t||this.gl.disable(this.gl.BLEND)),this}HR(){return this.KE}eO(t,e,i,n){return t?(void 0!==t&&void 0!==e&&(void 0!==i&&void 0!==n?this.gl.blendFuncSeparate(t,e,i,n):this.gl.blendFunc(t,e)),this):(this.gl.blendFuncSeparate(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA),this)}UR(){return void 0!==this.AO&&this.AO}eE(t,e){const i=new Mx(this,t),n=e(i.uniform,i.attribute,i,i.uniformOptional);i.finish(n)}gE(t){t&&(this.gl.deleteBuffer(t),this.sO.delete(t))}gO(t,e,i){this.rE(t.uniform("uCenter"),e.center).rE(t.uniform("uDistance"),e.distance).fE(t.uniform("uBounds"),e.bounds).oE(t.uniform("uAspect"),e.aspectRatio);const n=i.getColorStops();if(n.length<2)throw new Error("Minimum two color stops required");for(let r=0;r<n.length;r+=1)this.wI(t.uniform("color_".concat(r)),n[r].color).oE(t.uniform("stop_".concat(r)),n[r].offset);return this}vO(t,e,i){this.rE(t.uniform("uStartPoint"),e.startPoint).rE(t.uniform("uEndPoint"),e.endPoint).fE(t.uniform("uBounds"),e.bounds);const n=i.getColorStops();if(n.length<2)throw new Error("Minimum two color stops required");for(let r=0;r<n.length;r+=1)this.wI(t.uniform("color_".concat(r)),n[r].color).oE(t.uniform("stop_".concat(r)),n[r].offset);return this}wr(t){const e=this.yD.get(t);if(!e){const e=new Xy(this);return this.yD.set(t,e),e}return e}yO(t){const e=this.ME.get(t);if(!e){const e=new xx(this,t);return this.pO(t,e),e}return e}pO(t,e){this.ME.set(t,e)}hO(){const t=this.gl,e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,1,1,0,t.ALPHA,t.UNSIGNED_BYTE,new Uint8ClampedArray([0]));const i=0===t.getError();return i||!1!==this._g.La&&jr.console.info("LightningChart JS - Uint8ClampedArray is not supported as texture data. The above WebGL error/warning is from the feature detection. There is nothing to worry about."),t.deleteTexture(e),i}mO(t,e,i,n){if(i)this.hE(e,n,{location:t.attribute("aPos_highpart"),size:2},{location:t.attribute("aPos_lowpart"),size:2});else{const i=t.attribute("aPos");this.AE(i,e),void 0!==n&&this.GE(i,n)}return this}SO(){this.QD.WEBGL_lose_context&&this.QD.WEBGL_lose_context.loseContext()}bO(t){if(this.xO&&this.xO.bufferIdsCount>=t)return this.xO.buffer;this.xO&&(this.gE(this.xO.buffer),this.xO=void 0);const e=t,i=new Float32Array(e);for(let r=0;r<e;r+=1)i[r]=r;const n=this.iE(i);return this.xO={buffer:n,bufferIdsCount:e},n}MO(){return this.gl2?void 0:"attribute"}wO(t,e){if("attribute"===this.MO()){const i=this.bO(e);this.hE(i,void 0,{location:t.attribute("aVertexID"),size:1})}return this}_O(){return this.gl2?void 0:"attribute"}kO(t,e){if("attribute"===this._O()){const i=this.bO(e);this.hE(i,1,{location:t.attribute("aInstanceID"),size:1})}return this}CO(t,e,i,n,r,s,o,a,l){const h=t.createBuffer();return this.qE.push(h),t.bindFramebuffer(t.FRAMEBUFFER,e),t.bindBuffer(t.PIXEL_PACK_BUFFER,h),t.bufferData(t.PIXEL_PACK_BUFFER,l.byteLength,t.STREAM_READ),t.readPixels(i,n,r,s,o,a,0),t.bindBuffer(t.PIXEL_PACK_BUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),Ex(t,(()=>this.gi.ci),t.PIXEL_PACK_BUFFER,h,0,l).then((()=>l)).catch((t=>{throw t})).finally((()=>{t.deleteBuffer(h),this.qE.splice(this.qE.indexOf(h),1)}))}TO(t,e,i,n,r,s,o,a){const l=this.gl,h=this.JR();this.QR(l.FRAMEBUFFER,t),l.readPixels(e,i,n,r,s,o,a),this.QR(this.gl.FRAMEBUFFER,h)}FO(t){const e=this.wE.get(t);if(!e){const e=this.gl.createTexture();if(!e)throw new My("Couldn't reserve Texture.");this.gl.bindTexture(this.gl.TEXTURE_2D,e);const n=[];let r=255;for(let i=0;i<t.length;i+=1){for(let e=0;e<t[i];e+=1)n.push(r);r=255===r?0:255}const s=n.length;if(!this.gl2&&(i=n.length)&i-1){const t=(t=>{t-=1;for(let e=1;e<32;e<<=1)t|=t>>1;return t+1})(n.length);for(let e=n.length;e<t;e+=1)n[e]=0}this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this.gl.pixelStorei(this.gl.PACK_ALIGNMENT,1),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,n.length,1,0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,new Uint8Array(n)),this.gl.bindTexture(this.gl.TEXTURE_2D,null);const o={IO:e,PO:s,LO:n.length};return this.wE.set(t,o),o}var i;return e}BO(t,e,i){const{uniform:n}=t;this.wI(n("uFallbackColor"),e.getFallbackColor());for(let r=0;r<e.steps.length;r+=1)this.oE(n("uLUTValue".concat(r)),e.steps[r].value),this.wI(n("uLUTColor".concat(r)),e.steps[r].color);if(e.percentageValues){if(!i)return Ds(0,(()=>{})),this;this.oE(n("uMinValue"),i.min),this.oE(n("uMaxValue"),i.max)}return this}DO(t,e,i,n,r,s){const o=i&&i.getSource()||n&&n.Ks,a=i?i.getFitMode():Tr.Stretch,l=t=>{t.texCoordsBuffer=this.iE(s(t.texture.kR,t.texture.CR,a),!1,t.texCoordsBuffer)};if(o){let n=e;if((!e||o!==e.source)&&o){e&&(e.texture.UB(t),this.gE(e.texCoordsBuffer));const r=this.yO(o);r.Xu(t);const s=i?i.getSourceMissingColor():jl.color;n={texture:r,source:o,texCoordsBuffer:this.iE([]),sourceMissingTexture:this.uO(new Uint8Array([s.getR(),s.getG(),s.getB(),s.getA()]),this.gl.RGBA,!1,!0,{x:1,y:1},!1),textureReadyCallback:()=>{n&&o&&(l(n),this.gi.Rs())}},r.ER(n.textureReadyCallback),l(n)}return n&&n.texture.FR&&n.texture.TR&&n.texture._R&&(n.texture.zr(),this.gi.Rs()),r&&n&&n.texture.FR&&l(n),n}e&&this.RO(t,e)}RO(t,e){e&&(e.texture.UB(t),e.texture.OR(e.textureReadyCallback),this.DB(e.sourceMissingTexture),this.gE(e.texCoordsBuffer))}EO(t,e,i,n){var r,s,o,a;const{uniform:l,uniformOptional:h,attribute:c}=t,u=i.oi,d=this.GR();if(this.wI(l("uHighlightColorOffset"),1===e||2===e?Hn:i.Si).oE(l("uRenderEffectMask"),2===e?1:0).rE(h("uRatioPxClip"),[2/this.gi._t().x,2/this.gi._t().y]).oE(h("uDevicePixelRatio"),d),void 0===n.highlightBuffer)this.oE(l("uIsHighlighted"),1===e||2===e?0:i.Ai);else{if(!n.highlightBuffer)throw new Error("Highlight buffer not supplied for attribute highlighting");this.hE(n.highlightBuffer,null!==(r=n.highlightAttribDivisor)&&void 0!==r?r:void 0,{location:c("aIsHighlighted"),size:1})}u instanceof sr||u instanceof ul?this.rE(l("uScale"),n.uniforms.aE()).rE(l("uDisp"),n.uniforms.lE()).rE(h("uScaleStart_highpart"),n.uniforms.OO()).rE(h("uScaleStart_lowpart"),n.uniforms.zO()):u instanceof or&&this.rE(h("uScaleStart"),n.uniforms.MixedScaleXY.uScaleStart).rE(h("uScaleStartLog"),n.uniforms.MixedScaleXY.uScaleStartLog).rE(h("uScaleInterval"),n.uniforms.MixedScaleXY.uScaleInterval).rE(h("uScaleIntervalLog"),n.uniforms.MixedScaleXY.uScaleIntervalLog).rE(l("uViewportStart"),n.uniforms.MixedScaleXY.uViewportStart).rE(l("uViewportSize"),n.uniforms.MixedScaleXY.uViewportSize);const f=!0===n.coordsHighPrecision;if(n.coordsX)if(f){const t=c("aPos_highpartX"),e=c("aPos_lowpartX");this.gl.bindBuffer(this.gl.ARRAY_BUFFER,n.coordsX),this.gl.vertexAttribPointer(t,1,this.gl.FLOAT,!1,2*Float32Array.BYTES_PER_ELEMENT,0*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(t),this.gl.vertexAttribPointer(e,1,this.gl.FLOAT,!1,2*Float32Array.BYTES_PER_ELEMENT,1*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(e)}else this.YE(c("aPosX"),n.coordsX);if(n.coordsY)if(f){const t=c("aPos_highpartY"),e=c("aPos_lowpartY");this.gl.bindBuffer(this.gl.ARRAY_BUFFER,n.coordsY),this.gl.vertexAttribPointer(t,1,this.gl.FLOAT,!1,2*Float32Array.BYTES_PER_ELEMENT,0*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(t),this.gl.vertexAttribPointer(e,1,this.gl.FLOAT,!1,2*Float32Array.BYTES_PER_ELEMENT,1*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(e)}else this.YE(c("aPosY"),n.coordsY);if(1===e){if(this.PE(l("uFirstId"),n.idFirst),void 0!==n.mousePickingOffsetBuffer){if(!n.mousePickingOffsetBuffer)throw new Error("No mouse picking offset buffer for attribute mouse picking");this.YE(c("aPickingIdOffset"),n.mousePickingOffsetBuffer,null!==(s=n.mousePickingOffsetAttribDivisor)&&void 0!==s?s:void 0)}}else{if(n.fillStyleSolid&&this.wI(l("uColor"),n.fillStyleSolid.getColor()),n.fillStylePaletted){if("value"===n.fillStylePaletted.getLookUpProperty()&&null!==n.lookupValueBuffer){if(!n.lookupValueBuffer)return!1;const t=c("aLookupValue");this.YE(t,n.lookupValueBuffer,n.lookupValueAttribDivisor,null!==(o=n.lookupValueBufferByteOffset)&&void 0!==o?o:0)}this.BO(t,n.fillStylePaletted.lut,n.lookupValueRange)}if(n.fillStyleLinearGradient){if(!n.linearGradientInfo)return!1;this.vO(t,n.linearGradientInfo,n.fillStyleLinearGradient)}if(n.fillStyleRadialGradient){if(!n.radialGradientInfo)return!1;this.gO(t,n.radialGradientInfo,n.fillStyleRadialGradient)}if(n.fillStyleIndividual&&null!==n.colorBuffer){if(!n.colorBuffer)return!1;const t=c("aColor");this.gl.bindBuffer(this.gl.ARRAY_BUFFER,n.colorBuffer),this.gl.vertexAttribPointer(t,4,this.gl.UNSIGNED_BYTE,!0,0,null!==(a=n.colorBufferByteOffset)&&void 0!==a?a:0),this.gl.enableVertexAttribArray(t),void 0!==n.colorAttribDivisor&&this.GE(t,n.colorAttribDivisor)}if(n.fillStyleImage){if(!n.texturedFillGLInfo)return!1;const t=n.texturedFillGLInfo&&n.texturedFillGLInfo.texture.zR();this.wI(h("uColor"),n.fillStyleImage.getSurroundingColor()).nE(l(iv),t||n.texturedFillGLInfo.sourceMissingTexture,0).hE(n.texturedFillGLInfo.texCoordsBuffer,n.texCoordAttribDivisor,{location:c("aTextureCoord"),size:2}).LE(n.fillStyleImage.fitMode)}if(n.maskTexture){const t=n.maskTexture&&n.maskTexture.texture.zR();this.nE(l(sv),t||n.maskTexture.sourceMissingTexture,0).hE(n.maskTexture.texCoordsBuffer,n.maskTextureCoordsAttribDivisor,{location:c("aMaskTextureCoord"),size:2})}}return void 0!==n.useInstanceID&&this.kO(t,n.useInstanceID),void 0!==n.useVertexID&&this.wO(t,n.useVertexID),!0}VO(t,e,i){if(t)return gx(i||e.Ti(),e.oi,t.getAngle(!0),this.GR())}NO(t,e,i){if(t)return fx(i||e.Ti(),e.oi,t.getPosition(),t.getExtent(),t.getShape(),this.GR())}}const Ex=async(t,e,i,n,r,s,o,a)=>{const l=t.fenceSync(t.SYNC_GPU_COMMANDS_COMPLETE,0);return t.flush(),((t,e,i,n)=>{const r=void 0!==n.flags?n.flags:0,s=void 0!==n.retryTimeout?n.retryTimeout:10;return new Promise(((n,o)=>{const a=()=>{if(i())return n(void 0);const l=t.clientWaitSync(e,r,0);return l===t.WAIT_FAILED?o(new Error("WebGL Sync WAIT_FAILED ".concat(t.getError()))):l!==t.TIMEOUT_EXPIRED?n(void 0):void jr.setTimeout(a,s)};jr.setTimeout(a,0)}))})(t,l,e,{retryTimeout:10}).then((()=>{if(!e())return t.deleteSync(l),t.bindBuffer(i,n),t.getBufferSubData(i,r,s,o,a),t.bindBuffer(i,null),s})).catch((t=>{throw t}))};class wx{uE(t){if(t instanceof sr||t instanceof ul){const e=t.jt();this.GO=e.x.scaling,this.$O=-e.x.displacement,this.UO=e.y.scaling,this.YO=-e.y.displacement;const i=Math.fround(e.x.highPrecisionOffset),n=Math.fround(e.y.highPrecisionOffset);this.jO=i,this.HO=e.x.highPrecisionOffset-i,this.WO=n,this.XO=e.y.highPrecisionOffset-n}else t instanceof or&&(this.MixedScaleXY=t.jt());return this}lE(){return[this.$O,this.YO]}aE(){return[this.GO,this.UO]}OO(){return[this.jO,this.WO]}zO(){return[this.HO,this.XO]}}class kx{constructor(){this.GO=0,this.UO=0,this.ZO=0,this.$O=0,this.YO=0,this.JO=0}QO(t){return this.GO=t.q(),this.$O=t.getInnerStart()+.5*this.GO*t.tt(),this}KO(t){return this.UO=t.q(),this.YO=t.getInnerStart()+.5*this.UO*t.tt(),this}qO(t){return this.ZO=t.q(),this.JO=t.getInnerStart()+.5*this.ZO*t.tt(),this}aE(){return[this.GO,this.UO,this.ZO]}lE(){return[this.$O,this.YO,this.JO]}tz(t,e,i,n,r){const s=En(2*(t-i.x)/(i.width-i.x)-1,2*(e-i.y)/(i.height-i.y)-1),o=dx.multiply(n,[s.x,s.y,r,1]);return Cn(o[0],o[1],o[2])}}class Cx{constructor(t){this.PB=t}Su(t,e,i,n,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const o=this.PB,a=void 0===n;if(!(n=n||o.pE()))throw new My("Could not bind a framebuffer.");const l=o.$R(),h=o.HR();o.cE(!1),o.JE((()=>{o.KR(0,0,i.x,i.y),t()}),n,e,s),a&&o.bE(n),this.PB.QE(r),this.PB.KR(l.x,l.y,l.width,l.height),o.cE(h)}}class Mx{constructor(t,e){this.iz=[],this.sz=[],this.uniform=t=>{const e=this.shader.uD(t);return this.sz.push({name:t,optional:!1}),e},this.uniformOptional=t=>{const e=this.shader.dD(t);return this.sz.push({name:t,optional:!0}),e},this.attribute=t=>{const e=this.shader.fD(t);return this.iz.push({name:t,location:e}),e},this.glUtils=t,this.shader=e}finish(t){for(const e of this.iz)this.glUtils.$E(e.location),this.glUtils.GE(e.location,0)}}class Tx extends ic{constructor(t,e,i,n,r){super(t,e,i,n),this.ez=new Map,this.hz=t,this.rz=e,this.PB=t.nz(),this.oz=r,this.rz=e}bu(){return this}Su(t,e){if(!this.oz||0!==t||0===this.ez.size)return{};let i=Array.from(this.ez.values()).map((t=>t.az.filter((t=>t.lz)).map((t=>t.ys)).flat().filter((t=>void 0!==t)).filter((t=>t.getVisible())))).flat();if(this.gi.vu&&(i=i.filter((t=>!(t instanceof cc)))),0===i.length)return{};const n=this.oz;return this.PB.nO.yE(i,n),{}}xu(t,e,i,n,r){return{}}zr(){return this}Xi(){return 0}Wi(){return 0}Ji(){return 0}Zi(){return 0}lc(){return 0}cc(){return 0}bs(t,e){const i={az:[]},n=(t,e)=>{const n={ys:t||[],lz:void 0===e||e};i.az.push(n);const r={Ts:t=>(n.ys=t,r),Ds:t=>(n.lz=t,r),Es:()=>n.lz};return r},r={};Object.keys(e).forEach((t=>{const i=e[t],s=i.shapes||[],o=void 0===i.themeEffectEnabled||i.themeEffectEnabled,a=n(s,o);r[t]=a}));const s={eA:n,...r};this.ez.set(t,i);const o=()=>{this.ez.delete(t),t.removeEventListener("dispose",o)};return jr.requestAnimationFrame((()=>{t.addEventListener("dispose",o)})),s}}function Px(t,e,i,n,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Math.floor(Math.sqrt(n>r?25*n:25*r));const o=Array(s+2),a=Math.PI;let l=0,h=0;const c=e*a/180,u=(i*a/180-c)/s;for(o[l]=En(t.x,t.y),l+=1;l<=s+1;)o[l]=En(t.x+n*Math.cos(c+h*u),t.y+r*Math.sin(c+h*u)),l+=1,h+=1;return[o,s]}const Fx=(t,e,i)=>((t,e,i)=>{const n=[];let r=0;const s=Lo(e,i/2);let o,a,l,h,c=t[t.length-1],u=0;for(let d=0;d<t.length;d+=1){o=t[d],a=d===t.length-1?t[0]:t[d+1],d>0&&(c=t[d-1]),Xr(o,c)&&(c=Ro(o,To(Lo(Bo(a,o),-1)))),Xr(o,a)&&(a=Ro(o,To(Lo(Bo(c,o),-1))));const i=Io(c,e),f=Io(o,e),g=Io(a,e),p=To(Bo(f,i)),m=To(Bo(g,f)),y=Ro(p,m),v=En(-y.y,y.x),x=En(-p.y,p.x),b=1/Vo(v,x),S=Fo(v),A=To(Bo(p,m)),E=Math.sign(Vo(v,A))||1,w=zo(v,Lo(s,b)),k=zo(v,Lo(s,-b));if(S<1||b===1/0){let t={x:0,y:0},e={x:0,y:0},i={x:0,y:0},l={x:0,y:0};const h=En(-m.y,m.x),d=Math.sign(Vo(p,v))||E,f=zo(x,Lo(s,d)),g=zo(h,Lo(s,d));1===E?(t=f,e=k,i=g,l=k):(t=w,e=f,i=w,l=g);const y=4*yo(c,o),S=4*yo(o,a);(b>y||b>S)&&(1===E?(t=f,e=g,i=g,l=f):(t=g,e=f,i=f,l=g));const A=Ro(o,t),C=Ro(o,e),M=Ro(o,i),T=Ro(o,l);n[r]=A,r+=1,n[r]=C,r+=1,n[r]=M,r+=1,n[r]=T,r+=1,u=4}else{const t=Ro(o,w),e=Ro(o,k);n[r]=t,r+=1,n[r]=e,r+=1,u=2}h=l,l=t[d]}return n[r]=n[0],r+=1,n[r]=n[1],r+=1,[n,u,[h,l]]})(t,e,i)[0];class Lx extends gc{constructor(t,e,i,n,r){super(t,e,i,n,r),this.hD=new wx,this.cz=oo,this.uz=oo,this.dz=gl({arcStyleSolid:()=>la(this.Je)&&this.Je,arcStyleRadialGradient:()=>Zn(this.Je)&&this.Je,arcStyleLinearGradient:()=>Kn(this.Je)&&this.Je}),this.hz=t,this.rz=e,this.PB=t.nz()}fz(t,e){let i=0,n=Array(0),r=0;if(void 0!==e){const r=t.length,s=Array(r+e.length);let o=0,a=0;for(;o<r;)s[a]=t[o],s[a+1]=e[o],a+=2,o+=1;n=s,i=this.PB.gl.TRIANGLE_STRIP}else n=t,i=this.PB.gl.TRIANGLE_FAN;const s=xs(n,this.oi.Ot());return r=n.length,[n,this.PB.iE(s),r,i]}Az(t,e,i,n){let r=Array(0);if(void 0===e)r=t;else{let i=0,n=0;const s=t.length;for(i=0,n=s,r=Array(s+e.length-2),e.reverse();i<s;)r[i]=t[i],r[n]=e[i],n+=1,i+=1}if(1===i||-1===i)return[xs(r,this.oi.Ot()),r.length];const s=Fx(r,n,i);return[xs(s,this.oi.Ot()),s.length]}zr(){const t=this.al(),e=this.li.C();if(this.ll()){const i=Math.abs(this.$t.C()-this.Rc.C());this.hD.uE(this.oi);const n=this.oi.si()||t,r=this.oi.ri(),s=this.Ec.C(),o=this.Oc.C(),[a,l]=Px(this.Fn.C(),this.Rc.C(),this.$t.C(),this.Ec.C(),this.Oc.C(),this.Vc.C()),h=this.zc.C(),c=h>0?Px(this.Fn.C(),this.Rc.C(),this.$t.C(),this.Ec.C()*h/100,this.Oc.C()*h/100,l)[0]:[this.Fn.C()],u=a.length-1;if(2===u){const t=(a[u-1].x+a[1].x)/2,e=(a[u-1].y+a[1].y)/2;this.Nc=En(t,e)}else{const t=Math.floor(u/2);this.Nc=En(a[t].x,a[t].y)}this.Gc=a[1];const d=a.length-1;this.$c=a[d],this.zc.C()&&(a.shift(),c.shift());let f=!1;(this.Fn.o||this.Rc.o||this.$t.o||this.Ec.o||this.Oc.o||this.zc.o||this.Vc.o||n)&&(this.uz=Tn(En(this.El().x-s,this.El().y-o),En(this.El().x+s,this.El().y+o)),f=!0,this.Fn.o=!1,this.Rc.o=!1,this.$t.o=!1,this.Ec.o=!1,this.Oc.o=!1,this.zc.o=!1,this.Vc.o=!1);const g=this.nl();(f||g)&&this.Je!==na&&(this.zc.C()?(this.gz&&this.PB.gE(this.gz),[this.vz,this.gz,this.yz,this.pz]=this.fz(a,c)):(this.gz&&this.PB.gE(this.gz),[this.vz,this.gz,this.yz,this.pz]=this.fz(a,void 0)),Zn(this.Je)?this.mz=fx(this.uz,this.oi,this.Je.getPosition(),this.Je.getExtent(),this.Je.getShape(),this.PB.GR()):Kn(this.Je)?this.Sz=gx(this.uz,this.oi,this.Je.getAngle(!0),this.PB.GR()):(this.mz=void 0,this.Sz=void 0));const p=this.dz.arcStyleSolid(g),m=this.dz.arcStyleLinearGradient(g),y=this.dz.arcStyleRadialGradient(g),v=p||m||y;g&&(this.bz=v?this.PB.eR(Bv["2D"],Bv.Color({dataType:Zn(this.Je)||Kn(this.Je)?["gradient",this.Je]:"uniform"}),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0})):void 0,this.cl(this.Je));const x=this.Qe;if(el(x)&&(f||this.fl(x.getThickness())||n)){this.zc.C()?360===i?(a.pop(),c.pop(),[this.xz,this.Mz]=this.Az(a,void 0,x.getThickness(),r),this.wz&&this.xz?this.PB.OE(this.wz,this.xz,!0):!this.wz&&this.xz?this.wz=this.PB.iE(this.xz,!0):this.wz&&!this.xz&&(this.PB.gE(this.wz),this.wz=void 0),[this._z,this.kz]=this.Az(c,void 0,x.getThickness(),r),this.Cz&&this._z?this.PB.OE(this.Cz,this._z,!0):!this.Cz&&this._z?this.Cz=this.PB.iE(this._z,!0):this.Cz&&!this._z&&(this.PB.gE(this.Cz),this.Cz=void 0)):([this.xz,this.Mz]=this.Az(a,c,x.getThickness(),r),this.wz&&this.xz?this.PB.OE(this.wz,this.xz,!0):!this.wz&&this.xz?this.wz=this.PB.iE(this.xz,!0):this.wz&&!this.xz&&(this.PB.gE(this.wz),this.wz=void 0),this._z&&(this.Cz&&this.PB.gE(this.Cz),this.Cz=void 0,this.kz=0)):(360===i&&(a.shift(),a.pop()),[this.xz,this.Mz]=this.Az(a,void 0,x.getThickness(),r),this.wz&&this.xz?this.PB.OE(this.wz,this.xz,!0):!this.wz&&this.xz?this.wz=this.PB.iE(this.xz,!0):this.wz&&!this.xz&&(this.PB.gE(this.wz),this.wz=void 0));const t=x.getFillStyle();Zn(t)?this.Tz=fx(this.uz,this.oi,t.getPosition(),t.getExtent(),t.getShape(),this.PB.GR()):Kn(t)?this.Fz=gx(this.uz,this.oi,t.getAngle(!0),this.PB.GR()):(this.Tz=void 0,this.Fz=void 0),this.Iz=t===na?void 0:this.PB.eR(Bv["2D"],Bv.Color({dataType:Zn(t)||Kn(t)?["gradient",t]:"uniform"}),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0})),this.Al(x)}if(f){let t=1,e=1;el(x)&&(t=x.getThickness()*r.x,e=x.getThickness()*r.y),this.cz=Tn(En(this.uz.min.x-t,this.uz.min.y-e),En(this.uz.max.x+t,this.uz.max.y+e))}this.Pz=e&&v?this.Pz||this.PB.eR(Bv["2D"],Bv.MousePicking(),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0})):void 0,this.Lz=e&&this.Qe!==Br?this.Lz||this.PB.eR(Bv["2D"],Bv.MousePicking(),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0})):void 0}return this}Su(t,e){if(this.ll()){const i=1===t?this.Pz:this.bz,n=this.Je,r=this.gz;i&&r&&this.PB.Xu(i).eE(i,((i,s,o,a)=>{if(this.PB.rE(i("uScale"),this.hD.aE()).rE(i("uDisp"),this.hD.lE()).rE(a("uScaleStart_highpart"),this.hD.OO()).rE(a("uScaleStart_lowpart"),this.hD.zO()).mO(o,r,this.oi.Ot(),void 0).oE(i("uIsHighlighted"),1===t||2===t?0:this.Ai).wI(i("uHighlightColorOffset"),1===t||2===t?Hn:this.Si).oE(i("uRenderEffectMask"),2===t?1:0),1===t)this.PB.PE(i("uFirstId"),e).kO(o,1);else if(la(n))this.PB.wI(i("uColor"),n.getColor());else if(Zn(n)){if(!this.mz)return!1;this.PB.gO(o,this.mz,n)}else if(Kn(n)){if(!this.Sz)return!1;this.PB.vO(o,this.Sz,n)}return this.PB.Mk(this.pz,this.yz),!0}));const s=this.Qe;el(s)&&(void 0!==this.wz&&this.Bz(t,this.wz,this.Mz,s,e),void 0!==this.Cz&&this.Bz(t,this.Cz,this.kz,s,e))}return{idCount:1}}xu(t,e,i,n,r){return{}}Bz(t,e,i,n,r){const s=1===t?this.Lz:this.Iz,o=n.getFillStyle();s&&this.PB.Xu(s).eE(s,((s,a,l,h)=>{if(this.PB.rE(s("uScale"),this.hD.aE()).rE(s("uDisp"),this.hD.lE()).mO(l,e,this.oi.Ot(),void 0).oE(s("uIsHighlighted"),1===t||2===t?0:this.Ai).wI(s("uHighlightColorOffset"),1===t||2===t?Hn:this.Si).oE(s("uRenderEffectMask"),2===t?1:0),1===t)this.PB.PE(s("uFirstId"),r).kO(l,1);else if(la(o))this.PB.wI(s("uColor"),o.getColor());else if(Zn(o)){if(!this.Tz)return!1;this.PB.gO(l,this.Tz,o)}else if(Kn(o)){if(!this.Fz)return!1;this.PB.vO(l,this.Fz,o)}const c=n.getThickness(),u=-1===c||1===c;return this.PB.Mk(u?this.PB.gl.LINE_LOOP:this.PB.gl.TRIANGLE_STRIP,i),!0}))}bu(){return this.Dz&&(this.PB.gE(this.Dz),this.Dz=void 0),this.Rz&&(this.PB.gE(this.Rz),this.Rz=void 0),this.gz&&(this.PB.gE(this.gz),this.gz=void 0),this.wz&&(this.PB.gE(this.wz),this.wz=void 0),this.Cz&&(this.PB.gE(this.Cz),this.Cz=void 0),this.bz=void 0,this.Iz=void 0,this.Pz=void 0,this.Lz=void 0,this}Xi(){return this.uz.max.x}Wi(){return this.uz.min.x}Ji(){return this.uz.max.y}Zi(){return this.uz.min.y}lc(){return Gs(this.Qe)}cc(){return Gs(this.Qe)}}class Rx{constructor(){this.first=0,this.second=1,this.third=2,this.fourth=3,this.fifth=4,this.sixth=5}Ez(t){return this.first=t,this.second=t+1,this.third=t+2,this.fourth=t+3,this.fifth=t+4,this.sixth=t+5,t+=6,this}Oz(){return this.first=this.second,this.second=this.third,this.third=this.fourth,this.fourth=this.fifth,this.fifth=this.sixth,this.sixth+=1,this}zz(){return this.first=this.third,this.second=this.fourth,this.third=this.fifth,this.fourth=this.sixth,this.fifth=this.fourth+1,this.sixth=this.fifth+1,this}Vz(t){const e=t.buffer;let{position:i}=t;return e[i]=this.first,e[i+1]=this.second,e[i+2]=this.third,i+=3,t.position=i,t.next&&this.Oz(),this}Nz(t){const e=t.buffer;let{position:i}=t;return e[i]=this.first,e[i+1]=this.third,e[i+2]=this.second,e[i+3]=this.third,e[i+4]=this.fourth,e[i+5]=this.second,i+=6,t.position=i,t.next&&this.zz(),this}Gz(t,e){e.next=!0,6*t>=e.buffer.length&&(e.buffer=Array(6*t));for(let i=0;i<t;i+=1)this.Nz(e);return this}$z(){return[this.first,this.second,this.third,this.fourth,this.fifth,this.sixth]}}const Bx=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(new Rx).Ez(t)}(),zx=(t,e,i,n,r,s,o,a,l,h)=>(void 0===a&&void 0===o||Bx.Oz(),s.push(t,e),r.push(Bx.first,Bx.second,Bx.third),a=void 0,o=void 0,r.push(Bx.third,Bx.fourth,Bx.second),l=Bx.third,Bx.zz(),h&&s.push(i,n),[o,a,l]),Ix=(t,e,i,n,r,s,o,a,l,h,c)=>{void 0===l&&void 0===a||Bx.Oz(),o.push(t,e),r.push(Bx.first,Bx.second,Bx.third);const u=((t,e,i,n)=>{let r,s,o,a;if(e.x-t.x!=0||n.x-i.x!=0)return e.x-t.x==0?(o=e.x,s=(n.y-i.y)/(n.x-i.x),a=s*(o-i.x)+i.y):n.x-i.x==0?(o=n.x,r=(e.y-t.y)/(e.x-t.x),a=r*(o-t.x)+t.y):(r=(e.y-t.y)/(e.x-t.x),s=(n.y-i.y)/(n.x-i.x),o=(i.y-s*i.x+r*t.x-t.y)/(r-s),a=r*(o-t.x)+t.y),En(o,a)})(t,i,e,n);return l=void 0,void 0!==u&&(void 0===l&&(l=u),o.push(l),s.push(Bx.third,Bx.fourth,Bx.fifth),h=Bx.fourth),Bx.zz(),c&&o.push(i,n),[a,l,h]},Dx=(t,e,i,n,r,s,o,a,l,h)=>(void 0===o&&void 0===s||Bx.Oz(),r.push(t,e),n.push(Bx.first,Bx.second,Bx.third),s=i,o=void 0,a=Bx.third,h?r.push(i):l=!0,[s,o,a,l]),Vx=(t,e,i,n,r,s,o,a,l,h,c)=>(0!==s.length?(void 0===a&&void 0===o||Bx.Oz(),Bx.Oz()):l>0&&(Bx.Oz(),c>0&&(c-=1)),s.push(t),r.push(Bx.first,Bx.second,Bx.third),l=Bx.second,o=t,a=void 0,h&&s.push(i,n),[o,a,l,c]),_x=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Bx.Ez(e);const[i,n]=t,r=i.length,s=[],o=[],a=[];let l,h,c=e,u=0,d=i[u],f=n[u],g=i[u],p=n[u],m=!1,y=c>0?g.y!==p.y?2:1:0;if(r>1)for(;u<r-1;){g=d,p=f,u+=1,d=i[u],f=n[u];const t=u===r-1;g.y>p.y?d.y>f.y?[l,h,c]=zx(g,p,d,f,s,a,l,h,c,t):d.y<f.y?[l,h,c]=Ix(g,p,d,f,s,o,a,l,h,c,t):[l,h,c,m]=Dx(g,p,d,s,a,l,h,c,m,t):g.y<p.y?d.y<f.y?[l,h,c]=zx(g,p,d,f,o,a,l,h,c,t):d.y>f.y?[l,h,c]=Ix(g,p,d,f,o,s,a,l,h,c,t):[l,h,c,m]=Dx(g,p,d,o,a,l,h,c,m,t):d.y===f.y?(l=g,m&&(a.push(g),m=!1,Bx.Oz()),0===a.length&&c>0&&y>0&&(y-=1)):d.y>f.y?[l,h,c,y]=Vx(g,0,d,f,s,a,l,h,c,t,y):[l,h,c,y]=Vx(g,0,d,f,o,a,l,h,c,t,y)}return[a,new Uint16Array(s),new Uint16Array(o),c,y]};class Nx extends fc{constructor(t,e,i,n,r){super(t,e,i,n,r),this.hD=new wx,this.Uz=0,this.hc=Array(),this.Yz=0,this.jz=new Uint16Array(0),this.Wz=new Uint16Array(0),this.dz=gl({hightFillSolid:()=>la(this.Je)&&this.Je,hightFillRadialGradient:()=>Zn(this.Je)&&this.Je,hightFillLinearGradient:()=>Kn(this.Je)&&this.Je,hightFillPaletted:()=>fa(this.Je)&&this.Je,lowFillSolid:()=>la(this.yc)&&this.yc,lowFillRadialGradient:()=>Zn(this.yc)&&this.yc,lowFillLinearGradient:()=>Kn(this.yc)&&this.yc,lowFillPaletted:()=>fa(this.yc)&&this.yc}),this.hz=t,this.rz=e,this.PB=t.nz()}zr(){const t=this.al(),e=this.li.C(),i=this.mc;if(this.ll()){this.hD.uE(this.oi);const n=i;if(n&&(this.Uz=0,this.jz=new Uint16Array(0),this.Wz=new Uint16Array(0),this.hc.length=0,this.Yz=0,this.fc>1)){const[t,e,i,n]=_x([this.uc,this.dc]);this.Uz=n,this.jz=e,this.Wz=i,this.hc=t,this.Yz=t.length}if(this.vc&&this.gc[0].length>1){const[t,e]=this.gc,i=t.length,[n,r,s,o,a]=_x([t,e],this.Uz);this.Uz=o;const l=n.length;for(let h=a;h<l;h+=1)this.hc[this.Yz]=n[h],this.Yz+=1;this.jz=Uo(this.jz,r),this.Wz=Uo(this.Wz,s);for(let h=a>0||this.fc>0?1:a;h<i;h+=1)this.uc[this.fc]=t[h],this.dc[this.fc]=e[h],this.fc+=1;this.Ac=!0,this.vc=!1,this.gc=[]}const r=this.Je,s=this.ol!==r,o=this.dz.hightFillSolid(s),a=this.dz.hightFillRadialGradient(s),l=this.dz.hightFillLinearGradient(s),h=this.dz.hightFillPaletted(s),c=o||a||l||h&&["x","y"].includes(h.getLookUpProperty())&&h,u=this.yc,d=this.Bc!==u,f=this.dz.lowFillSolid(d),g=this.dz.lowFillRadialGradient(d),p=this.dz.lowFillLinearGradient(d),m=this.dz.lowFillPaletted(d),y=f||g||p||m&&["x","y"].includes(m.getLookUpProperty())&&m;if((s||t)&&(this.Xz=c?this.PB.eR(Bv["2D"],Bv.Color({dataType:l?["gradient",l]:a?["gradient",a]:h?["lookup",h.getLookUpProperty(),h.lut]:"uniform"}),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0})):void 0),a?this.mz=fx(this.fi||this.rc,this.oi,a.getPosition(),a.getExtent(),a.getShape(),this.PB.GR()):l?this.Sz=gx(this.fi||this.rc,this.oi,l.getAngle(!0),this.PB.GR()):(this.mz=void 0,this.Sz=void 0),(d||t)&&(this.Zz=y?this.PB.eR(Bv["2D"],Bv.Color({dataType:p?["gradient",p]:g?["gradient",g]:m?["lookup",m.getLookUpProperty(),m.lut]:"uniform"}),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0})):void 0),g?this.Jz=fx(this.fi||this.rc,this.oi,g.getPosition(),g.getExtent(),g.getShape(),this.PB.GR()):p?this.Qz=gx(this.fi||this.rc,this.oi,p.getAngle(!0),this.PB.GR()):(this.Jz=void 0,this.Qz=void 0),(t||this.Ac||n)&&this.Ac||n){const t=this.hc,e=xs(t,this.oi.Ot());this.Kz=this.PB.iE(e,!1,this.Kz),c&&(this.qz=this.PB.zE(this.jz,this.qz),this.tV=this.jz.length),y&&(this.iV=this.PB.zE(this.Wz,this.iV),this.sV=this.Wz.length),this.Ac=!1}this.Pz=e&&(y||c)?this.Pz||this.PB.eR(Bv["2D"],Bv.MousePicking(),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0})):void 0,this.cl(this.Je),this.Dc(this.yc),this.mc=!1}return this}Su(t,e){const i=this.Je,n=this.yc,r=1===t?this.Pz:this.Zz;if(r&&this.Kz&&this.iV){const i=this.Kz,s=this.iV;this.PB.Xu(r).eE(r,((r,o,a,l)=>{if(this.PB.mO(a,i,this.oi.Ot(),void 0).jE(s).oE(r("uIsHighlighted"),1===t||2===t?0:this.Ai).wI(r("uHighlightColorOffset"),1===t||2===t?Hn:this.Si).oE(r("uRenderEffectMask"),2===t?1:0),this.oi instanceof sr||this.oi instanceof ul?this.PB.rE(r("uScale"),this.hD.aE()).rE(r("uDisp"),this.hD.lE()).rE(l("uScaleStart_highpart"),this.hD.OO()).rE(l("uScaleStart_lowpart"),this.hD.zO()):this.oi instanceof or&&this.PB.rE(l("uScaleStart"),this.hD.MixedScaleXY.uScaleStart).rE(l("uScaleStartLog"),this.hD.MixedScaleXY.uScaleStartLog).rE(l("uScaleInterval"),this.hD.MixedScaleXY.uScaleInterval).rE(l("uScaleIntervalLog"),this.hD.MixedScaleXY.uScaleIntervalLog).rE(r("uViewportStart"),this.hD.MixedScaleXY.uViewportStart).rE(r("uViewportSize"),this.hD.MixedScaleXY.uViewportSize),1===t)this.PB.PE(r("uFirstId"),e).kO(a,1);else if(la(n))this.PB.wI(r("uColor"),n.getColor());else if(Zn(n)){if(!this.Jz)return!1;this.PB.gO(a,this.Jz,n)}else if(Kn(n)){if(!this.Qz)return!1;this.PB.vO(a,this.Qz,n)}else if(fa(n)){const t=pl(n,this,void 0);if(!t&&n.lut.percentageValues)return!1;this.PB.BO(a,n.lut,t)}return this.PB.WE(this.sV),!0}))}const s=1===t?this.Pz:this.Xz;if(s&&this.Kz&&this.qz){const n=this.Kz,r=this.qz;this.PB.Xu(s).eE(s,((s,o,a,l)=>{if(this.PB.mO(a,n,this.oi.Ot(),void 0).jE(r).oE(s("uIsHighlighted"),1===t||2===t?0:this.Ai).wI(s("uHighlightColorOffset"),1===t||2===t?Hn:this.Si).oE(s("uRenderEffectMask"),2===t?1:0),this.oi instanceof sr||this.oi instanceof ul?this.PB.rE(s("uScale"),this.hD.aE()).rE(s("uDisp"),this.hD.lE()).rE(l("uScaleStart_highpart"),this.hD.OO()).rE(l("uScaleStart_lowpart"),this.hD.zO()):this.oi instanceof or&&this.PB.rE(l("uScaleStart"),this.hD.MixedScaleXY.uScaleStart).rE(l("uScaleStartLog"),this.hD.MixedScaleXY.uScaleStartLog).rE(l("uScaleInterval"),this.hD.MixedScaleXY.uScaleInterval).rE(l("uScaleIntervalLog"),this.hD.MixedScaleXY.uScaleIntervalLog).rE(s("uViewportStart"),this.hD.MixedScaleXY.uViewportStart).rE(s("uViewportSize"),this.hD.MixedScaleXY.uViewportSize),1===t)this.PB.PE(s("uFirstId"),e).kO(a,1);else if(la(i))this.PB.wI(s("uColor"),i.getColor());else if(Zn(i)){if(!this.mz)return!1;this.PB.gO(a,this.mz,i)}else if(Kn(i)){if(!this.Sz)return!1;this.PB.vO(a,this.Sz,i)}else if(fa(i)){const t=pl(i,this,void 0);if(!t&&i.lut.percentageValues)return!1;this.PB.BO(a,i.lut,t)}return this.PB.WE(this.tV),!0}))}return{idCount:1}}xu(t,e,i,n,r){return{}}Xi(){return this.rc.max.x}Wi(){return this.rc.min.x}Ji(){return this.rc.max.y}Zi(){return this.rc.min.y}lc(){return 0}cc(){return 0}KS(t){this.Tc()>0&&this.zr();const[e,i]=this.Mc(),n=e.length>2&&e[1].x<e[0].x,r=fr(e,t,dr.NearestX,this.Sc,this.bc,this.oi,this.gi.oi,this.rc,"x",n);if(void 0===r)return;const s=[e[r],i[r]];return Number.isNaN(s[0].y)||Number.isNaN(s[1].y)?void 0:s}yx(t){this.Tc()>0&&this.zr();const[e,i]=this.Mc(),n=e.length;if(0===n)return;const r=this.Sc?1:0,s=n-(this.bc?2:1),o=e.length>2&&e[1].x<e[0].x,a=vr(e,hr(t,this.gi.oi,this.oi),"x",o,r,s);if(!a)return;const l=[xo(e[a.a],e[a.b],a.lerpAmount),xo(i[a.a],i[a.b],a.lerpAmount)];return Number.isNaN(l[0].y)||Number.isNaN(l[1].y)?void 0:l}dispose(){return super.dispose(),this.iV&&(this.PB.gE(this.iV),this.iV=void 0),this.qz&&(this.PB.gE(this.qz),this.qz=void 0),this.Kz&&(this.PB.gE(this.Kz),this.Kz=void 0),this}bu(){return this.dispose(),this}}class Ox extends px{constructor(t,e){super(t),this.eV=e;const{vertices:i,indices:n,indicesCount:r,drawMode:s}=this.hV();this.rV=t.iE(i),this.nV=t.zE(n),this.oV=r,this.aV=s}Xu(t,e){return this.PB.hE(this.rV,0,{location:t.attribute("aSegmentPosition"),size:2},{location:t.attribute("aSegmentSide"),size:1},{location:e?t.attribute("aSegmentInside"):void 0,size:1}),this.PB.jE(this.nV),this}Mk(t,e){return this.PB.ZE(void 0!==e?e:this.aV,this.oV,0,t,this.PB.gl.UNSIGNED_BYTE),this}hV(){const t=[];[1,0].forEach((e=>{const i=1===e?.5*Math.PI:1.5*Math.PI;for(let n=0;n<=this.eV;n+=1){const r=i-n*Math.PI/this.eV;t.push(.5*Math.cos(r),.5*Math.sin(r),e,0)}})),t.push(0,0,1,1),t.push(0,0,0,1);const e=t.length/4,i=[];for(let n=0;n<this.eV;n+=1)i.push(n,n+1,e-2),i.push(n+e/2-1,n+e/2,e-1);return i.push(0,e-2,e-1),i.push(e-1,e-2,e/2-1),i.push(0,e-3,e-1),i.push(e/2-2,e-2,e/2-1),{vertices:new Float32Array(t),indices:new Uint8Array(i),indicesCount:i.length,verticesCount:e,drawMode:this.PB.gl.TRIANGLES}}wR(){this.PB.gE(this.rV),this.PB.gE(this.nV)}}const Hx=function(t,e){return((t,e)=>{let i=t.xE.mR.get(e);return i||(i=new Ox(t,e),t.xE.mR.set(e,i),i)})(t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?e>=50?8:e>=20?6:e>=7?4:e>=4?3:1===e?1:2:1)},Ux={lV:function(t,e,i,n,r,s){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;const{attribute:a}=n,l=e.gl;if(l.bindBuffer(l.ARRAY_BUFFER,i),t){const t=a("aLocationA_highpart"),i=a("aLocationA_lowpart"),n=a("aLocationB_highpart"),h=a("aLocationB_lowpart");l.vertexAttribPointer(t,2,l.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,s*Float32Array.BYTES_PER_ELEMENT),e.GE(t,o),l.enableVertexAttribArray(t),l.vertexAttribPointer(i,2,l.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,(s+2)*Float32Array.BYTES_PER_ELEMENT),e.GE(i,o),l.enableVertexAttribArray(i),l.vertexAttribPointer(n,2,l.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,(s+r)*Float32Array.BYTES_PER_ELEMENT),e.GE(n,o),l.enableVertexAttribArray(n),l.vertexAttribPointer(h,2,l.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,(s+r+2)*Float32Array.BYTES_PER_ELEMENT),e.GE(h,o),l.enableVertexAttribArray(h)}else{const t=a("aLocationA"),i=a("aLocationB");l.vertexAttribPointer(t,2,l.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,s*Float32Array.BYTES_PER_ELEMENT),e.GE(t,o),l.enableVertexAttribArray(t),l.vertexAttribPointer(i,2,l.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,(s+r)*Float32Array.BYTES_PER_ELEMENT),e.GE(i,o),l.enableVertexAttribArray(i)}},cV:(t,e,i,n,r,s,o,a)=>{const l=t.gl;l.bindBuffer(l.ARRAY_BUFFER,i),l.vertexAttribPointer(n,s,l.FLOAT,!1,o*Float32Array.BYTES_PER_ELEMENT,a*Float32Array.BYTES_PER_ELEMENT),t.GE(n,1),l.enableVertexAttribArray(n),l.vertexAttribPointer(r,s,l.FLOAT,!1,o*Float32Array.BYTES_PER_ELEMENT,(a+o)*Float32Array.BYTES_PER_ELEMENT),t.GE(r,1),l.enableVertexAttribArray(r)},uV:(t,e,i,n,r,s)=>{const{attribute:o}=n,a=e.gl;if(a.bindBuffer(a.ARRAY_BUFFER,i),t){const t=o("aLocationA_highpart"),i=o("aLocationA_lowpart"),n=o("aLocationB_highpart"),l=o("aLocationB_lowpart");a.vertexAttribPointer(t,2,a.FLOAT,!1,2*r*Float32Array.BYTES_PER_ELEMENT,s*Float32Array.BYTES_PER_ELEMENT),e.GE(t,1),a.enableVertexAttribArray(t),a.vertexAttribPointer(i,2,a.FLOAT,!1,2*r*Float32Array.BYTES_PER_ELEMENT,(s+2)*Float32Array.BYTES_PER_ELEMENT),e.GE(i,1),a.enableVertexAttribArray(i),a.vertexAttribPointer(n,2,a.FLOAT,!1,2*r*Float32Array.BYTES_PER_ELEMENT,(s+r)*Float32Array.BYTES_PER_ELEMENT),e.GE(n,1),a.enableVertexAttribArray(n),a.vertexAttribPointer(l,2,a.FLOAT,!1,2*r*Float32Array.BYTES_PER_ELEMENT,(s+r+2)*Float32Array.BYTES_PER_ELEMENT),e.GE(l,1),a.enableVertexAttribArray(l)}else{const t=o("aLocationA"),i=o("aLocationB");a.vertexAttribPointer(t,2,a.FLOAT,!1,2*r*Float32Array.BYTES_PER_ELEMENT,s*Float32Array.BYTES_PER_ELEMENT),e.GE(t,1),a.enableVertexAttribArray(t),a.vertexAttribPointer(i,2,a.FLOAT,!1,2*r*Float32Array.BYTES_PER_ELEMENT,(s+r)*Float32Array.BYTES_PER_ELEMENT),e.GE(i,1),a.enableVertexAttribArray(i)}},dV:(t,e,i,n,r,s,o,a,l,h)=>{const c=t.gl;c.bindBuffer(c.ARRAY_BUFFER,i),c.vertexAttribPointer(n,s,l,a,2*s*h,o*h),t.GE(n,1),c.enableVertexAttribArray(n),c.vertexAttribPointer(r,s,l,a,2*s*h,(o+s)*h),t.GE(r,1),c.enableVertexAttribArray(r)},Su:(t,e,i,n,r,s,o)=>{const a=t.nz(),{uniform:l,uniformOptional:h}=i,c=1/t.Pa.Ba,u=(r?Math.max(s,c):Math.max(s,0))+1;a.oE(l("uThicknessPixels"),u).oE(h("uAALimit"),1-(u-1)/u).rE(l("uRatioPxClip"),[2/t._t().x,2/t._t().y]),e.Xu(i,n).Mk(o)}},Yx={lV:(t,e,i,n,r,s)=>{const{attribute:o}=n,a=e.gl;if(a.bindBuffer(a.ARRAY_BUFFER,i),t){const t=o("aPos_highpart");a.vertexAttribPointer(t,2,a.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,s*Float32Array.BYTES_PER_ELEMENT),a.enableVertexAttribArray(t);const e=o("aPos_lowpart");a.vertexAttribPointer(e,2,a.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,(s+2)*Float32Array.BYTES_PER_ELEMENT),a.enableVertexAttribArray(e)}else{const t=o("aPos");a.vertexAttribPointer(t,2,a.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,s*Float32Array.BYTES_PER_ELEMENT),a.enableVertexAttribArray(t)}},cV:(t,e,i,n,r,s)=>{const o=t.gl;o.bindBuffer(o.ARRAY_BUFFER,i),o.vertexAttribPointer(n,r,o.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,s*Float32Array.BYTES_PER_ELEMENT),o.enableVertexAttribArray(n)},uV:(t,e,i,n,r,s)=>{const{attribute:o}=n,a=e.gl;if(a.bindBuffer(a.ARRAY_BUFFER,i),t){const t=o("aPos_highpart"),e=o("aPos_lowpart");a.vertexAttribPointer(t,2,a.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,s*Float32Array.BYTES_PER_ELEMENT),a.enableVertexAttribArray(t),a.vertexAttribPointer(e,2,a.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,(s+2)*Float32Array.BYTES_PER_ELEMENT),a.enableVertexAttribArray(e)}else{const t=o("aPos");a.vertexAttribPointer(t,2,a.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,s*Float32Array.BYTES_PER_ELEMENT),a.enableVertexAttribArray(t)}},fV:(t,e)=>{const i=t.nz();i.Mk(i.gl.LINE_STRIP,e,0)},AV:(t,e)=>{const i=t.nz();i.Mk(i.gl.LINES,2*e,0)}},Gx=function(t,e,i,n,r,s,o,a,l,h){let c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:o,u=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0;const d=t.gl;if(i){const i=e.attribute("".concat(r,"A_highpart").concat(s)),f=e.attribute("".concat(r,"A_lowpart").concat(s)),g=e.attribute("".concat(r,"B_highpart").concat(s)),p=e.attribute("".concat(r,"B_lowpart").concat(s));d.bindBuffer(d.ARRAY_BUFFER,n),d.vertexAttribPointer(i,o,l,a,2*c*h,2*u*h),d.vertexAttribPointer(f,o,l,a,2*c*h,(c+2*u)*h),t.GE(i,1),t.GE(f,1),d.enableVertexAttribArray(i),d.enableVertexAttribArray(f),d.vertexAttribPointer(g,o,l,a,2*c*h,(2*c+2*u)*h),d.vertexAttribPointer(p,o,l,a,2*c*h,(3*c+2*u)*h),t.GE(g,1),t.GE(p,1),d.enableVertexAttribArray(g),d.enableVertexAttribArray(p),d.bindBuffer(d.ARRAY_BUFFER,null)}else{const i=e.attribute("".concat(r,"A").concat(s)),f=e.attribute("".concat(r,"B").concat(s));d.bindBuffer(d.ARRAY_BUFFER,n),d.vertexAttribPointer(i,o,l,a,c*h,(0+u)*h),d.vertexAttribPointer(f,o,l,a,c*h,(c+u)*h),t.GE(i,1),t.GE(f,1),d.enableVertexAttribArray(i),d.enableVertexAttribArray(f),d.bindBuffer(d.ARRAY_BUFFER,null)}};class jx extends yc{constructor(t,e,i,n,r){super(t,e,i,n,r),this.hD=new wx,this.rc=oo,this.dz=gl({lineStyleSolid:()=>el(this.eu)&&this.eu,lineStyleDashed:()=>sl(this.eu)&&this.eu,strokeFillSolid:()=>{const t=this.eu.getFillStyle();return la(t)&&t},strokeFillLinearGradient:()=>{const t=this.eu.getFillStyle();return Kn(t)&&t},strokeFillRadialGradient:()=>{const t=this.eu.getFillStyle();return Zn(t)&&t},strokeFillPaletted:()=>{const t=this.eu.getFillStyle();return fa(t)&&t}}),this.hz=t,this.rz=e,this.PB=t.nz(),this.gV=this.PB.iO}zr(){const t=this.ul(),e=this.eu,i=this.dz.lineStyleSolid(t),n=this.dz.lineStyleDashed(t),r=i||n,s=this.dz.strokeFillSolid(t),o=this.dz.strokeFillLinearGradient(t),a=this.dz.strokeFillRadialGradient(t),l=this.dz.strokeFillPaletted(t),h=s||o||a||l&&["x","y"].includes(l.getLookUpProperty())&&l,c=this.Ut(),u=this.Gt(),d=this.li.C(),f=this.li.o,g=e.Hi();if(n&&this.oi instanceof or)return jr.console.error("LightningChart JS DashedLine is not supported on logarithmic axis"),this;if(this.hD.uE(this.oi),this.ou&&(this.vV=this.PB.iE(xs([c,u],this.oi.Ot()),!1,this.vV),this.rc=Tn(En(c.x,c.y),En(u.x,u.y))),t||f){const t=this.ll()&&r&&h&&g>0,e=o?["gradient",o]:a?["gradient",a]:l?["lookup",l.getLookUpProperty(),l.lut]:"uniform";this.yV=t?{type:"triangulated",shader:this.PB.eR(Bv["2D"],Bv.Color({dataType:e}),Bv.LineInstanced2D({axisWorldTranslation:dl(this.oi),normalSource:void 0}),this.gV?Bv.AliasedEdge:void 0,n&&Bv.StippleTextureInstanced),mousePickingShader:d?this.PB.eR(Bv["2D"],Bv.MousePicking(),Bv.LineInstanced2D({axisWorldTranslation:dl(this.oi),normalSource:void 0}),n&&Bv.StippleTextureInstanced):void 0,geometry:Hx(this.PB,g),thickness:g,lineStyleSolid:i,lineStyleDashed:n,fillStyleSolid:s,fillStyleLinearGradient:o,fillStyleRadialGradient:a,fillStylePaletted:l}:void 0}if(a?this.Tz=fx(rc(this.rc,{x:this.lc(),y:this.cc()},this.oi),this.oi,a.getPosition(),a.getExtent(),a.getShape(),this.PB.GR()):o?this.Fz=gx(rc(this.rc,{x:this.lc(),y:this.cc()},this.oi),this.oi,o.getAngle(!0),this.PB.GR()):(this.Tz=void 0,this.Fz=void 0),n){if(t||this.ou){const t=[0,0,Math.abs(u.x-c.x),Math.abs(u.y-c.y)];this.pV=this.PB.iE(t,!1,this.pV)}this.mV=this.PB.FO(n.getPattern())}else this.pV&&(this.PB.gE(this.pV),this.pV=void 0),this.mV=void 0;return this.nu(e),this.ou=!1,this.li.o=!1,this}Su(t,e){var i,n;const r=this.vV;if(!r)return{};const s=this.yV;if(!s)return{};const{fillStyleSolid:o,fillStyleLinearGradient:a,fillStyleRadialGradient:l,fillStylePaletted:h,lineStyleDashed:c,thickness:u}=s,d=1===t?null===(i=this.yV)||void 0===i?void 0:i.mousePickingShader:null===(n=this.yV)||void 0===n?void 0:n.shader;return d?(this.PB.Xu(d).eE(d,((i,n,d,f)=>{if(this.PB.oE(i("uIsHighlighted"),1===t||2===t?0:this.Ai).wI(i("uHighlightColorOffset"),1===t||2===t?Hn:this.Si).oE(i("uRenderEffectMask"),2===t?1:0),this.oi instanceof sr||this.oi instanceof ul?this.PB.rE(i("uScale"),this.hD.aE()).rE(i("uDisp"),this.hD.lE()).rE(f("uScaleStart_highpart"),this.hD.OO()).rE(f("uScaleStart_lowpart"),this.hD.zO()):this.oi instanceof or&&this.PB.rE(f("uScaleStart"),this.hD.MixedScaleXY.uScaleStart).rE(f("uScaleStartLog"),this.hD.MixedScaleXY.uScaleStartLog).rE(f("uScaleInterval"),this.hD.MixedScaleXY.uScaleInterval).rE(f("uScaleIntervalLog"),this.hD.MixedScaleXY.uScaleIntervalLog).rE(i("uViewportStart"),this.hD.MixedScaleXY.uViewportStart).rE(i("uViewportSize"),this.hD.MixedScaleXY.uViewportSize),1===t)this.PB.PE(i("uFirstId"),e).kO(d,1);else if(o)this.PB.wI(i("uColor"),o.getColor());else if(l){if(!this.Tz)return!1;this.PB.gO(d,this.Tz,l)}else if(a){if(!this.Fz)return!1;this.PB.vO(d,this.Fz,a)}else if(h){const t=pl(h,this,void 0);if(!t&&h.lut.percentageValues)return!1;this.PB.BO(d,h.lut,t)}if(c){if(!this.pV||!this.mV)return!1;Ux.cV(this.PB,d,this.pV,n("aLengthSoFarA"),n("aLengthSoFarB"),2,2,0),this.PB.rE(i("uStippleCount"),[this.gi._t().x/this.mV.LO,this.gi._t().y/this.mV.LO]).oE(f("uStippleTextureWidthLimiter"),this.mV.PO/this.mV.LO).oE(i("uStippleScale"),c.getPatternScale()).nE(i("uStippleTexture"),this.mV.IO,1)}return Ux.lV(this.oi.Ot(),this.PB,r,d,this.oi.Ot()?4:2,0),Ux.Su(this.hz,s.geometry,d,this.gV&&1!==t,1===t,u,1),!0})),{idCount:1}):{}}xu(t,e,i,n,r){return{}}dispose(){return super.dispose(),this.yV=void 0,this.vV&&(this.PB.gE(this.vV),this.vV=void 0),this.pV&&(this.PB.gE(this.pV),this.pV=void 0),this.mV=void 0,this}bu(){return this}Xi(){return this.rc.max.x}Wi(){return this.rc.min.x}Ji(){return this.rc.max.y}Zi(){return this.rc.min.y}lc(){return Gs(this.eu)}cc(){return Gs(this.eu)}}class Xx extends vc{constructor(t,e,i,n,r){super(t,e,i,n,r),this.SV=[],this.bV=!1,this.xV=!1,this.MV=!1,this.wV=!1,this._V=!1,this.hD=new wx,this.rc=oo,this.dz=gl({lineStyleSolid:()=>el(this.eu)&&this.eu,lineStyleDashed:()=>sl(this.eu)&&this.eu,lineFillSolid:()=>{const t=this.eu.getFillStyle();return la(t)&&t},lineFillRadialGradient:()=>{const t=this.eu.getFillStyle();return Zn(t)&&t},lineFillLinearGradient:()=>{const t=this.eu.getFillStyle();return Kn(t)&&t},lineIndividualPointFill:()=>{const t=this.eu.getFillStyle();return ca(t)&&t}}),this.hz=t,this.rz=e,this.PB=t.nz(),this.gV=this.PB.iO,this.kV=t.Pa.Ra}Uo(){const t={Ps:e=>this.CV(t,e),Fi:e=>this.TV(t,e),mA:(e,i)=>this.FV(t,e,i),wI:e=>this.IV(t,e),Yt:{x:0,y:0},$t:{x:0,y:0},Ai:0,OP:void 0,PV:this.SV.length,GA:!0,LV:!0};return this.xV=!0,this.SV.push(t),t}Ni(){return this.SV.length=0,this.bV=!0,this.gi.ki(this),this}BV(){return this.SV.length}C(t){const e=this.SV[t];return[e.Yt,e.$t]}Cv(){return this.SV}jd(t){const e=this.SV.indexOf(t);e>=0&&(this.SV.splice(e,1),t.LV||(this.bV=!0),this.gi.ki(this))}CV(t,e){if(e&&!t.GA)t.PV=this.SV.length,this.SV.push(t);else if(!e){const e=this.SV.indexOf(t);this.SV.splice(e,1)}return t.GA=e,t.LV||(this.wV=!0),t}TV(t,e){return t.Ai=e,t.LV||(this.MV=!0),t}FV(t,e,i){return t.Yt=e,t.$t=i,t.LV||(this.bV=!0),t}IV(t,e){return t.OP=e,t.LV||(this._V=!0),t}zr(){const t=this.li.C(),e=this.li.o,i=this.ul(),n=this.eu,r=this.SV,s=this.MV,o=this.bV,a=this.wV,l=this._V,h=this.xV,c=this.dz.lineStyleSolid(i),u=this.dz.lineStyleDashed(i),d=c||u,f=this.dz.lineFillSolid(i),g=this.dz.lineIndividualPointFill(i),p=this.dz.lineFillRadialGradient(i),m=this.dz.lineFillLinearGradient(i),y=f||g||m||p,v=n.Hi(),x=u?"triangulated":n.getThickness()<0?"primitive":"triangulated";if(u&&this.oi instanceof or)return jr.console.error("LightningChart JS DashedLine is not supported on logarithmic axis"),this;this.hD.uE(this.oi);const b=this.lu,S=o||a,A=!S&&h;if(S||A){const t=S?r:r.filter((t=>t.LV)),e=[],i=t.length;let n=ro,s=ro,o=so,a=so;for(let r=0;r<i;r+=1){const i=t[r];e.push(i.Yt),e.push(i.$t),n=Math.min(n,i.Yt.x,i.$t.x),s=Math.min(s,i.Yt.y,i.$t.y),o=Math.max(o,i.Yt.x,i.$t.x),a=Math.max(a,i.Yt.y,i.$t.y)}this.vV=this.PB.EE(this.vV,xs(e,this.oi.Ot()),b*(this.oi.Ot()?8:4),S,Float32Array),this.rc=A?Eo(this.rc,{min:{x:n,y:s},max:{x:o,y:a}}):{min:{x:n,y:s},max:{x:o,y:a}}}if(i||e){const e=f?"uniform":g?"attribute":m?["gradient",m]:p?["gradient",p]:void 0,i=d&&y&&v>0&&e;this.yV=i?"triangulated"===x?{type:"triangulated",shader:this.PB.eR(Bv["2D"],Bv.Color({dataType:e}),Bv.LineInstanced2D({axisWorldTranslation:dl(this.oi),normalSource:void 0,snapToNearestPixel:this.kV,ensureMinimumSegmentLength:void 0!==this.au}),this.gV?Bv.AliasedEdge:void 0,u&&Bv.StippleTextureInstanced,Bv.AttributeHighlight),mousePicking:t?{shader:this.PB.eR(Bv["2D"],Bv.MousePicking({useAttribute:!0}),Bv.LineInstanced2D({axisWorldTranslation:dl(this.oi),normalSource:void 0,snapToNearestPixel:this.kV,ensureMinimumSegmentLength:void 0!==this.au}),u&&Bv.StippleTextureInstanced,Bv.AttributeHighlight)}:void 0,geometry:Hx(this.PB,v,!1),thickness:v,lineStyleSolid:c,lineStyleDashed:u,fillStyleSolid:f,fillStyleIndividual:g,fillStyleLinearGradient:m,fillStyleRadialGradient:p}:{type:"primitive",shader:this.PB.eR(Bv["2D"],Bv.Color({dataType:e}),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0,snapToNearestPixel:this.kV}),Bv.AttributeHighlight),mousePicking:t?{shader:this.PB.eR(Bv["2D"],Bv.MousePicking({useAttribute:!0}),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0,snapToNearestPixel:this.kV}),Bv.AttributeHighlight)}:void 0,lineStyleSolid:c,lineStyleDashed:u,fillStyleSolid:f,fillStyleIndividual:g,fillStyleLinearGradient:m,fillStyleRadialGradient:p}:void 0}if(u){if(i||S||A){const t=S||i?r:r.filter((t=>t.LV)),e=new Float32Array(4*t.length);let n=0;for(let i=0;i<t.length;i+=1){const r=t[i].Yt,s=t[i].$t;e[n]=0,e[n+1]=0,e[n+2]=Math.abs(s.x-r.x),e[n+3]=Math.abs(s.y-r.y),n+=4}this.pV=this.PB.EE(this.pV,e,4*b,S||i,Float32Array)}this.mV=this.PB.FO(u.getPattern())}else this.pV&&(this.PB.gE(this.pV.buffer),this.pV=void 0),this.mV=void 0;if(s||S||A){const t="triangulated"===x?1:2,e=S||s?r:r.filter((t=>t.LV)),i=new Float32Array(e.length*t);let n=0;e.forEach((e=>{for(let r=0;r<t;r+=1)i[n+r]=e.Ai;n+=t})),this.DV=this.PB.EE(this.DV,i,b*t,S||s,Float32Array)}if((l||S||A||i)&&g){const t=S||l||i?r:r.filter((t=>t.LV)),e=new Uint32Array(2*t.length);let n=0;t.forEach((t=>{const i=(t.OP||g.color).toUint32();for(let r=n;r<n+2;r+=1)e[r]=i;n+=2})),this.RV=this.PB.EE(this.RV,e,2*b,S||l,Uint32Array)}if(t){if(S||A||e){const t="triangulated"===x?1:2,i=S||e?r:r.filter((t=>t.LV)),n=new Float32Array(i.length*t);let s=0;i.forEach((e=>{for(let i=0;i<t;i+=1)n[s+i]=e.PV||0;s+=t})),this.EV=this.PB.EE(this.EV,n,b*t,S,Float32Array)}}else this.EV&&(this.PB.gE(this.EV.buffer),this.EV=void 0);p?this.mz=fx(this.fi||this.rc,this.oi,p.getPosition(),p.getExtent(),p.getShape(),this.PB.GR()):m?this.Sz=gx(this.fi||this.rc,this.oi,m.getAngle(!0),this.PB.GR()):(this.mz=void 0,this.Sz=void 0),this.nu(n),this.MV=!1,this.wV=!1,this.bV=!1,this._V=!1,this.li.o=!1,this.xV=!1;for(const E of r)E.LV=!1;return this}Su(t,e){var i;const n=this.vV,r=this.DV,s=this.EV;if(!n||!r)return{};const o=this.yV;if(!o)return{};const{type:a,fillStyleSolid:l,fillStyleIndividual:h,fillStyleLinearGradient:c,fillStyleRadialGradient:u,lineStyleDashed:d}=o,f=1===t?null===(i=o.mousePicking)||void 0===i?void 0:i.shader:o.shader;return f?(this.PB.Xu(f).eE(f,((i,f,g,p)=>{if(this.oi instanceof sr||this.oi instanceof ul?this.PB.rE(i("uScale"),this.hD.aE()).rE(i("uDisp"),this.hD.lE()).rE(p("uScaleStart_highpart"),this.hD.OO()).rE(p("uScaleStart_lowpart"),this.hD.zO()):this.oi instanceof or&&this.PB.rE(p("uScaleStart"),this.hD.MixedScaleXY.uScaleStart).rE(p("uScaleStartLog"),this.hD.MixedScaleXY.uScaleStartLog).rE(p("uScaleInterval"),this.hD.MixedScaleXY.uScaleInterval).rE(p("uScaleIntervalLog"),this.hD.MixedScaleXY.uScaleIntervalLog).rE(i("uViewportStart"),this.hD.MixedScaleXY.uViewportStart).rE(i("uViewportSize"),this.hD.MixedScaleXY.uViewportSize),this.kV&&this.PB.rE(p("uViewportSizePx"),[this.gi._t().x*this.PB.GR(),this.gi._t().y*this.PB.GR()]),void 0!==this.au&&this.PB.rE(i("uMinSegmentPixelVector"),[this.au.x,this.au.y]),this.PB.wI(i("uHighlightColorOffset"),1===t||2===t?Hn:this.Si).oE(i("uRenderEffectMask"),2===t?1:0),1===t){if(this.PB.PE(i("uFirstId"),e),!s)return!1;"triangulated"===a?this.PB.hE(s.buffer,1,{location:f("aPickingIdOffset"),size:1}):this.PB.YE(f("aPickingIdOffset"),s.buffer)}else if(l)this.PB.wI(i("uColor"),l.getColor());else if(h){if(!this.RV)return!1;if("triangulated"===a)Ux.dV(this.PB,g,this.RV.buffer,f("aColorA"),f("aColorB"),4,0,!0,this.PB.gl.UNSIGNED_BYTE,1);else{const t=f("aColor");this.PB.gl.bindBuffer(this.PB.gl.ARRAY_BUFFER,this.RV.buffer),this.PB.gl.vertexAttribPointer(t,4,this.PB.gl.UNSIGNED_BYTE,!0,0,0),this.PB.gl.enableVertexAttribArray(t)}}else if(u){if(!this.mz)return!1;this.PB.gO(g,this.mz,u)}else if(c){if(!this.Sz)return!1;this.PB.vO(g,this.Sz,c)}if(d){if(!this.pV||!this.mV)return!1;Ux.dV(this.PB,g,this.pV.buffer,f("aLengthSoFarA"),f("aLengthSoFarB"),2,0,!1,this.PB.gl.FLOAT,Float32Array.BYTES_PER_ELEMENT),this.PB.rE(i("uStippleCount"),[this.gi._t().x/this.mV.LO,this.gi._t().y/this.mV.LO]).oE(p("uStippleTextureWidthLimiter"),this.mV.PO/this.mV.LO).oE(i("uStippleScale"),d.getPatternScale()).nE(i("uStippleTexture"),this.mV.IO,0)}if("triangulated"===a){const{geometry:e,thickness:i}=o;Ux.uV(this.oi.Ot(),this.PB,n.buffer,g,this.oi.Ot()?4:2,0),this.PB.hE(r.buffer,1,{location:f("aIsHighlighted"),size:1}),Ux.Su(this.hz,e,g,this.gV&&1!==t,1===t,i,this.SV.length)}else Yx.uV(this.oi.Ot(),this.PB,n.buffer,g,this.oi.Ot()?4:2,0),this.PB.YE(f("aIsHighlighted"),r.buffer),Yx.AV(this.hz,this.SV.length);return!0})),{idCount:this.SV.length}):{}}dispose(){return super.dispose(),this.yV=void 0,this.vV&&(this.PB.gE(this.vV.buffer),this.vV=void 0),this.pV&&(this.PB.gE(this.pV.buffer),this.pV=void 0),this.DV&&(this.PB.gE(this.DV.buffer),this.DV=void 0),this.EV&&(this.PB.gE(this.EV.buffer),this.EV=void 0),this.RV&&(this.PB.gE(this.RV.buffer),this.RV=void 0),this.mV=void 0,this}xu(t,e,i,n,r){return{collectionMember:this.SV.find((i=>e+i.PV===t))}}bu(){return this}Fi(t){super.Fi(t);for(const e of this.SV)e.Fi(t);return this}Xi(){return this.rc.max.x}Wi(){return this.rc.min.x}Ji(){return this.rc.max.y}Zi(){return this.rc.min.y}lc(){return Gs(this.eu)}cc(){return Gs(this.eu)}}class Wx{constructor(t,e){this.OV=!1,this.zV=!1,this.oi=t,this.VV=e,this.VV.Mi("DataPattern",(t=>{"ProgressiveX"!==t.pattern&&"RegressiveX"!==t.pattern||(this.OV="x"),"ProgressiveY"!==t.pattern&&"RegressiveY"!==t.pattern||(this.OV="y"),"RegressiveX"!==t.pattern&&"RegressiveY"!==t.pattern||(this.zV=!0)}))}calculateUserDataPointsProgressiveRange(t){if(0===t.length)throw new Error("calculateUserDataPointsProgressiveRange called with 0 data points");return{start:"x"===this.OV?t[0].x:t[0].y,end:"x"===this.OV?t[t.length-1].x:t[t.length-1].y}}calculateUserDataPointsBoundaries(t){return this.OV?"x"===this.OV?function(t){const e=t.length;if(e>0){const i=Math.max(t[e-1].x,t[0].x),n=Math.min(t[e-1].x,t[0].x);let r=t[0].y,s=t[0].y;for(let o=0;o<e;o+=1){const e=t[o];e.y>r&&(r=e.y),e.y<s&&(s=e.y)}return Tn(En(n,s),En(i,r))}return oo}(t):function(t){const e=t.length;if(e>0){const i=Math.max(t[e-1].y,t[0].y),n=Math.min(t[e-1].y,t[0].y);let r=t[0].x,s=t[0].x;for(let o=0;o<e;o+=1){const e=t[o];e.x>r&&(r=e.x),e.x<s&&(s=e.x)}return Tn(En(s,n),En(r,i))}return oo}(t):So(t)}calculateAvgStepBetweenDataPoints(t,e,i){return Math.abs(t-e)/(i-1)}}const Zx=Math.min(1,1.5);class qx extends Wx{constructor(t,e,i){super(t,e),this.NV=!1,this.GV={enabled:!1,totalDataPointsAtTime:0},this.$V=[],this.Rs=i,this.UV=t instanceof sr?{type:"linear",scale:t}:t instanceof or?{type:"mixed",scale:t}:{type:"unknown"},this.VV.Mi("DataPattern",(t=>{!1===t.allowDataGrouping&&(this.NV=!0)}))}YV(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.NV||!this.OV||"linear"!==this.UV.type)return!1;!1===e&&this.jV&&(clearTimeout(this.jV),this.jV=void 0);const i="x"===this.OV?this.UV.scale.x.jf:this.UV.scale.y.jf;if(!i)throw new Error("CP helper has no information about Axis state.");const n=t.length;if(n<2)return!1;const r=t[0],s=t[n-1],o=this.calculateAvgStepBetweenDataPoints("x"===this.OV?r.x:r.y,"x"===this.OV?s.x:s.y,n),a=this.UV.scale,l=Math.abs("x"===this.OV?a.ri().x:a.ri().y),h=l/o,c=Math.floor(h*Zx),u=c*o,d=jr.performance.now(),f=!(d-i.Yh<500)&&(i.zh?d-i.Uh<1e3:d-i.Vh<2e3||i.Gh),g=n>2*this.GV.totalDataPointsAtTime;if(f&&!g)return this.jV=setTimeout((()=>this.HV(t)),1e3),!1;const p=c>=10,m=this.GV.enabled?this.GV.columnWidthAxis/l<1.5:void 0,y=this.GV.enabled&&c>this.GV.dataPointsPerColumn?c/this.GV.dataPointsPerColumn>=2:void 0;let v;!0===this.GV.enabled?m?y&&(v={enabled:!0,columnWidthAxis:u,dataPointsPerColumn:c,totalDataPointsAtTime:n}):v=p?{enabled:!0,columnWidthAxis:u,dataPointsPerColumn:c,totalDataPointsAtTime:n}:{enabled:!1,totalDataPointsAtTime:n}:p&&(v={enabled:!0,columnWidthAxis:u,dataPointsPerColumn:c,totalDataPointsAtTime:n});const x=!1===e;return v?(x&&(this.GV=v),!0):(x&&(this.GV={...this.GV,totalDataPointsAtTime:n}),!1)}WV(){this.XV=void 0,this.$V.length=0,this.jV&&(clearTimeout(this.jV),this.jV=void 0)}ZV(t){if(0===t.length)return t;if(this.NV||!this.OV||"linear"!==this.UV.type||!this.GV.enabled)return t;let e;e=this.$V.length>0?Ts(this.$V,t,{canReturnB:!0}):t;const i=e.length,n=[];let r,s,o=void 0===this.XV,a=-1,l=-1,h=0,c=0;if("x"!==this.OV||this.zV)if("x"===this.OV&&this.zV){const t=this.GV.columnWidthAxis;let u=this.XV?this.XV.x:e[0].x,d=u-t;for(let f=0;f<i;f+=1){const i=e[f];i.x>=d?((!r||i.y>r.y)&&(r=i,a=f),(!s||i.y<s.y)&&(s=i,l=f),c=f):(r&&s&&(o&&n.push(e[0]),a<l?n.push(r,s):n.push(s,r)),o=!1,u=i.x,d=u-t,r=i,a=f,s=i,l=f,h=f,c=f)}}else if("y"!==this.OV||this.zV){if("y"===this.OV&&this.zV){const t=this.GV.columnWidthAxis;let u=this.XV?this.XV.y:e[0].y,d=u-t;for(let f=0;f<i;f+=1){const i=e[f];i.y>=d?((!r||i.x>r.x)&&(r=i,a=f),(!s||i.x<s.x)&&(s=i,l=f),c=f):(s&&r&&(o&&n.push(e[0]),a<l?n.push(r,s):n.push(s,r)),o=!1,u=i.y,d=u-t,r=i,a=f,s=i,l=f,h=f,c=f)}}}else{const t=this.GV.columnWidthAxis;let u=this.XV?this.XV.y:e[0].y,d=u+t;for(let f=0;f<i;f+=1){const i=e[f];i.y<=d?((!r||i.x>r.x)&&(r=i,a=f),(!s||i.x<s.x)&&(s=i,l=f),c=f):(s&&r&&(o&&n.push(e[0]),a<l?n.push(r,s):n.push(s,r)),o=!1,u=i.y,d=u+t,r=i,a=f,s=i,l=f,h=f,c=f)}}else{const t=this.GV.columnWidthAxis;let u=this.XV?this.XV.x:e[0].x,d=u+t;for(let f=0;f<i;f+=1){const i=e[f];i.x<=d?((!r||i.y>r.y)&&(r=i,a=f),(!s||i.y<s.y)&&(s=i,l=f),c=f):(r&&s&&(o&&n.push(e[0]),a<l?n.push(r,s):n.push(s,r)),o=!1,u=i.x,d=u+t,r=i,a=f,s=i,l=f,h=f,c=f)}}if(r||s){const t=e.slice(h,c+1);this.$V=t}else this.$V.length=0;const u=n.length;return u>0&&(this.XV=n[u-1]),n}JV(t){var e,i;if(this.OV&&"linear"===this.UV.type){const n="x"===this.OV?this.UV.scale.x.jf:this.UV.scale.y.jf;if(!n)throw new Error("CP helper has no information about Axis state.");if((null===(e=n.Dr)||void 0===e?void 0:e.id)===nh||(null===(i=n.Dr)||void 0===i?void 0:i.id)===rh){const e=Math.abs("x"===this.OV?this.UV.scale.x.getInnerInterval():this.UV.scale.y.getInnerInterval());if(this.GV.enabled)return 2*e/this.GV.columnWidthAxis;const i=t.length,n=t[0],r=t[i-1];return e/this.calculateAvgStepBetweenDataPoints("x"===this.OV?n.x:n.y,"x"===this.OV?r.x:r.y,i)}}}QV(t,e,i){if(!this.OV)return e;const n=i.length;let r=yr(i,t.min,this.OV,this.zV,0,n-1);void 0===r&&(r=this.zV?n-1:0);let s=yr(i,t.max,this.OV,this.zV,0,n-1);return void 0===s&&(s=this.zV?0:n-1),1+Math.abs(s-r)}KV(){this.jV&&(clearTimeout(this.jV),this.jV=void 0)}HV(t){this.YV(t,!0)&&this.Rs()}}class Jx extends Wx{renderVisibleOnly(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=this.oi.x.getInnerStart(),r=this.oi.x.getInnerEnd(),s=Math.min(n,r),o=Math.max(n,r),a=this.oi.y.getInnerStart(),l=this.oi.y.getInnerEnd(),h=Math.min(a,l),c=Math.max(a,l);t.forEach(((t,n)=>{t.existingCoordinatesCount<=1||!1===i&&(t.boundaries.max.x<s||t.boundaries.min.x>o||t.boundaries.max.y<h||t.boundaries.min.y>c)||e(t)}))}}class Kx{constructor(t,e,i){this.qV=e,this.tN=i,this.iN=t,this.sN=[]}eN(t,e,i,n){const r=t.length;if(0===r)return;let s=t,o=r,a=this.iN[this.iN.length-1];do{const t=this.iN.length;let r;a||(a=this.hN(e,o)),a&&0==a.allocatedCoordinatesCount-a.existingCoordinatesCount&&(a=void 0);let l=0;if(this.tN&&t>0&&(void 0===a||0===a.existingCoordinatesCount)){const e=this.iN[t-1].lastDataPoint;e?(s.splice(0,0,e),l=1,o+=1):console.error("SegmentationHelper _connectSegments = true, but segment has no lastDataPoint information!")}if(a)r=Math.min(o,a.allocatedCoordinatesCount-a.existingCoordinatesCount),n(a,s.slice(0,r),r,l);else{const t=Math.ceil(e)+l;r=Math.min(t,o);const n={...i(t,s.slice(0,r),r,l),isDropped:!1};this.iN.push(n)}r>0&&(o>r?(s=s.slice(r),o=s.length):(s=[],o=0))}while(o>0);this.rN()}nN(t){const e=t,i=this.iN.indexOf(e);i>=0&&this.iN.splice(i,1),e.droppedTimestamp=jr.performance.now(),this.sN.push(e)}oN(){this.iN.slice().forEach((t=>this.nN(t)))}aN(){this.iN.forEach((t=>this.qV(t))),this.sN.forEach((t=>this.qV(t))),this.iN.length=0,this.sN.length=0}hN(t,e){const i=2*t/3,n=4*t/3,r=this.sN.findIndex((t=>t.allocatedCoordinatesCount>=i&&t.allocatedCoordinatesCount<=n));if(r>=0){const t=this.sN[r];return this.sN.splice(r,1),this.iN.push(t),t}}rN(){if(this.sN.length>5){const t=jr.performance.now();for(let e=0;e<this.sN.length-5;e+=1){const i=this.sN[e];(void 0===i.droppedTimestamp||t-i.droppedTimestamp>=1e4)&&(this.qV(i),this.sN.splice(e,1),e-=1)}}}}class Qx extends Wx{lN(t,e){if(!e||"object"!=typeof e)return 0;const i=this.oi.x.getInnerStart(),n=this.oi.x.getInnerEnd(),r=Math.min(i,n),s=Math.max(i,n),o=this.oi.y.getInnerStart(),a=this.oi.y.getInnerEnd(),l=Math.min(o,a),h=Math.max(o,a);if("maxDataPointCount"in e)return this.cN(t,e.maxDataPointCount,r,s,l,h);if("minDataPointCount"in e)return this.uN(t,e.minDataPointCount,r,s,l,h);if("progressiveDataCleaningThreshold"in e)return this.dN(t,e.progressiveDataCleaningThreshold,r,s,l,h);throw new Error("Unimplemented data cleaning configuration: ".concat(JSON.stringify(e)))}cN(t,e,i,n,r,s){if(void 0===e||e<=0)return 0;const o=t.reduce(((t,e)=>t+e.existingDataPointsCount),0);if(o<=e)return 0;let a=0,l=o;for(let h=0;h<t.length;h+=1){const i=t[h];l>e&&(a+=1,l-=i.existingDataPointsCount)}return a}dN(t,e,i,n,r,s){if(void 0===e||!this.OV)return 0;let o=0;for(let a=0;a<t.length;a+=1){const l=t[a],h=this.zV?"x"===this.OV?l.boundaries.min.x>n:l.boundaries.min.y>s:"x"===this.OV?l.boundaries.max.x<i:l.boundaries.max.y<r;if(!((this.zV?"x"===this.OV?l.boundaries.min.x>e:l.boundaries.min.y>e:"x"===this.OV?l.boundaries.max.x<e:l.boundaries.max.y<e)&&h&&l.existingCoordinatesCount>2))break;o+=1}return o}uN(t,e,i,n,r,s){if(void 0===e||0===e)return 0;let o=0,a=0;for(let l=t.length-1;l>=0;l-=1){const h=t[l];if(a>e)if(this.OV){if(this.zV?"x"===this.OV?h.boundaries.min.x>n:h.boundaries.min.y>s:"x"===this.OV?h.boundaries.max.x<i:h.boundaries.max.y<r){o=1+l;break}}else h.boundaries.max.x<i||h.boundaries.min.x>n||h.boundaries.max.y<r||h.boundaries.min.y>s?o+=1:o=0;a+=h.existingDataPointsCount}return o}fN(t,e){const i=t.reduce(((t,e)=>Eo(t,e.boundaries)),oo);if(e&&"progressiveDataCleaningThreshold"in e&&e.progressiveDataCleaningThreshold){const t=e.progressiveDataCleaningThreshold;"x"!==this.OV||this.zV?"x"===this.OV&&this.zV?i.max.x=Math.min(i.max.x,t):"y"!==this.OV||this.zV?"y"===this.OV&&this.zV&&(i.max.y=Math.min(i.max.y,t)):i.min.y=Math.max(i.min.y,t):i.min.x=Math.max(i.min.x,t)}return i}}class $x extends xc{constructor(t,e,i,n,r,s){super(t,e,i,n,r),this.hD=new wx,this.ix=[],this.AN=new Jx(this.oi,this),this.gN=new qx(this.oi,this,(()=>this.gi.Rs())),this.vN=new Kx(this.ix,(t=>{t.coordsBuffer&&this.PB.gE(t.coordsBuffer),t.pV&&this.PB.gE(t.pV)}),!0),this.yN=new Qx(this.oi,this),this.pN=0,this.mN=0,this.SN=!1,this.dz=gl({lineStyleSolid:()=>el(this.eu)&&this.eu,lineStyleDashed:()=>sl(this.eu)&&this.eu,strokeFillSolid:()=>{const t=this.eu.getFillStyle();return la(t)&&t},strokeFillLinearGradient:()=>{const t=this.eu.getFillStyle();return Kn(t)&&t},strokeFillRadialGradient:()=>{const t=this.eu.getFillStyle();return Zn(t)&&t},strokeFillPaletted:()=>{const t=this.eu.getFillStyle();return fa(t)&&t}}),this.rz=e,this.Pa=s,this.yV={type:"none"},this.PB=t.nz(),this.hz=t,this.gV=this.PB.iO;const o=this.oi.Ot(),a=!0===(null==s?void 0:s.individualLookupValuesEnabled);let l,h,c,u=0;o||(l=u,u+=2),o&&(h=u,u+=4),a&&(c=u,u+=1);const d=((t,e)=>e?(e,i)=>((t,e)=>{if(!e){const e=t.length,i=new Float32Array(3*e);for(let n=0,r=0;n<e;n+=1){const e=t[n];i[r+0]=e.x,i[r+1]=e.y,i[r+2]=void 0!==e.value?e.value:0,r+=3}return i}const i=t.length,n=new Float32Array(5*i);let r=0;for(let s=0;s<i;s+=1){const e=t[s],i=Math.fround(e.x),o=Math.fround(e.y);n[r+0]=i,n[r+1]=o,n[r+2]=e.x-i,n[r+3]=e.y-o,n[r+4]=void 0!==e.value?e.value:0,r+=5}return n})(e,t):(e,i)=>xs(e,t,Float32Array))(o,a);this.bN={individualLookupValuesEnabled:a,attributesPerVertex:u,attributeOffsetCoordinateLowPrecision:l,attributeOffsetCoordinateHighPrecision:h,attributeOffsetLookUpValue:c,prepareRenderData:(t,e)=>d(t,this.eu.getFillStyle())}}xN(t,e,i){const n=new Float32Array(2*e);let r=0,s=i||t[0];for(let o=0;o<e;o+=1){const e=t[o];this.pN+=Math.abs(s.x-e.x),this.mN+=Math.abs(s.y-e.y),n[r]=this.pN,n[r+1]=this.mN,r+=2,s=e}return n}zr(){const t=this.mc,e=this.eu,i=this.ul(),n=this.gc,r=n.length,s=r>0,o=this.li.C(),a=this.li.o,l=this.dz.lineStyleSolid(i),h=this.dz.lineStyleDashed(i),c=l||h,u=c&&c.getThickness(),d=this.dz.strokeFillSolid(i),f=this.dz.strokeFillLinearGradient(i),g=this.dz.strokeFillRadialGradient(i),p=this.dz.strokeFillPaletted(i),m=d||f||g||p,y=this.bN.individualLookupValuesEnabled;if(h&&this.oi instanceof or)return jr.console.error("LightningChart JS DashedLine is not supported on logarithmic axis"),this;s&&(this.cu=Ts(this.cu,n,{canReturnB:!0}),this.uu+=r);let v=this.du.o;const x=this.yN.lN(this.ix,this.du.C());if(x>0){let t=0;for(let e=0;e<x;e+=1){const e=this.ix[0];t+=e.existingDataPointsCount,e.existingDataPointsCount=0,e.existingCoordinatesCount=0,e.jointPointsCount=0,e.boundaries=oo,e.lastDataPoint=void 0,this.vN.nN(e)}this.cu=this.cu.slice(t),this.uu=this.cu.length,v=!0}let b=n,S=!1;(this.gN.YV(this.cu)||t)&&(S=!0),h&&!this.SN?(S=!0,this.SN=!0,this.vN.aN()):!h&&this.SN&&(this.ix.forEach((t=>{t.pV&&(this.PB.gE(t.pV),t.pV=void 0)})),this.SN=!1),S&&(this.gN.WV(),this.ix.forEach((t=>{t.existingDataPointsCount=0,t.existingCoordinatesCount=0,t.jointPointsCount=0,t.boundaries=oo,t.lastDataPoint=void 0})),this.vN.oN(),b=this.cu,this.pN=0,this.mN=0);const A=this.gN.ZV(b),E=A.length;if(E>0){let t=this.gN.JV(this.cu)||(this.Mi("ApplicationType",(t=>"InternalUI"===t.type))?this.uu:1e5);E/t>10&&(t=E/10),this.vN.eN(A,t,((t,e,i,n)=>{const r=this.AN.calculateUserDataPointsBoundaries(e),s=this.gN.QV(r,i,this.cu)-n;return this.MN=e[i-1],{allocatedCoordinatesCount:t,existingDataPointsCount:s,existingCoordinatesCount:i,jointPointsCount:n,boundaries:r,coordsBuffer:this.PB.DE(t*this.bN.attributesPerVertex,this.bN.prepareRenderData(e,i)),lastDataPoint:e[i-1],pV:this.SN?this.PB.DE(2*t,this.xN(e,i,this.MN)):void 0}}),((t,e,i,n)=>{const r=Eo(t.boundaries,this.AN.calculateUserDataPointsBoundaries(e)),s=this.gN.QV(r,t.existingCoordinatesCount+i,this.cu)-(t.jointPointsCount+n);this.PB.RE(t.coordsBuffer,t.existingCoordinatesCount*this.bN.attributesPerVertex,this.bN.prepareRenderData(e,i)),this.SN&&t.pV&&this.PB.RE(t.pV,2*t.existingCoordinatesCount,this.xN(e,i,this.MN)),this.MN=e[i-1],t.jointPointsCount+=n,t.lastDataPoint=e[i-1],t.existingDataPointsCount=s,t.existingCoordinatesCount+=i,t.boundaries=r}))}if(v&&(this.rc=this.yN.fN(this.ix,this.du.C())),this.hD.uE(this.oi),g?this.Tz=fx(this.fi||this.rc,this.oi,g.getPosition(),g.getExtent(),g.getShape(),this.PB.GR()):f?this.Fz=gx(this.fi||this.rc,this.oi,f.getAngle(!0),this.PB.GR()):(this.Tz=void 0,this.Fz=void 0),i||a){if(p&&"value"===p.getLookUpProperty()&&!y){const t='LCJS misusage error: Series individualLookupValuesEnabled flag must be set if using PalettedFill with lookUpProperty="value" !';throw jr.alert(t),new Error(t)}if(m&&c&&!1!==u){const t=-1===u?"primitive":"triangulated",e=f?["gradient",f]:g?["gradient",g]:p?["lookup",p.getLookUpProperty(),p.lut]:"uniform";this.yV="primitive"===t?{type:t,shader:this.PB.eR(Bv["2D"],Bv.Color({dataType:e}),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0}),h&&Bv.StippleTexture),mousePickingShader:o?this.PB.eR(Bv["2D"],Bv.MousePicking({useVertexId:!0}),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0}),h&&Bv.StippleTexture):void 0,lineStyleSolid:l,lineStyleDashed:h,fillStyleSolid:d,fillStyleLinearGradient:f,fillStyleRadialGradient:g,fillStylePaletted:p}:"triangulated"===t?{type:t,shader:this.PB.eR(Bv["2D"],Bv.Color({dataType:e}),Bv.LineInstanced2D({axisWorldTranslation:dl(this.oi),normalSource:void 0}),this.gV?Bv.AliasedEdge:void 0,h&&Bv.StippleTextureInstanced),mousePickingShader:o?this.PB.eR(Bv["2D"],Bv.MousePicking(),Bv.LineInstanced2D({axisWorldTranslation:dl(this.oi),normalSource:void 0}),h&&Bv.StippleTextureInstanced):void 0,geometry:Hx(this.PB,u),thickness:u,lineStyleSolid:l,lineStyleDashed:h,fillStyleSolid:d,fillStyleLinearGradient:f,fillStyleRadialGradient:g,fillStylePaletted:p}:{type:"none"}}else this.yV={type:"none"}}return this.mV=h?this.PB.FO(h.getPattern()):void 0,this.nu(e),this.mc=!1,this.gc=[],this.li.o=!1,this}Su(t,e){const i=this.PB.gl,n=this.yV;if(!n||"none"===n.type)return{};const r=1===t?n.mousePickingShader:n.shader;if(!r)return{};const{lineStyleDashed:s,fillStyleSolid:o,fillStyleLinearGradient:a,fillStyleRadialGradient:l,fillStylePaletted:h}=n;return this.PB.Xu(r).eE(r,((r,c,u,d)=>{let f=!1;if(this.PB.oE(r("uIsHighlighted"),1===t||2===t?0:this.Ai).wI(r("uHighlightColorOffset"),1===t||2===t?Hn:this.Si).oE(r("uRenderEffectMask"),2===t?1:0),this.oi instanceof sr||this.oi instanceof ul?this.PB.rE(r("uScale"),this.hD.aE()).rE(r("uDisp"),this.hD.lE()).rE(d("uScaleStart_highpart"),this.hD.OO()).rE(d("uScaleStart_lowpart"),this.hD.zO()):this.oi instanceof or&&this.PB.rE(d("uScaleStart"),this.hD.MixedScaleXY.uScaleStart).rE(d("uScaleStartLog"),this.hD.MixedScaleXY.uScaleStartLog).rE(d("uScaleInterval"),this.hD.MixedScaleXY.uScaleInterval).rE(d("uScaleIntervalLog"),this.hD.MixedScaleXY.uScaleIntervalLog).rE(r("uViewportStart"),this.hD.MixedScaleXY.uViewportStart).rE(r("uViewportSize"),this.hD.MixedScaleXY.uViewportSize),1===t);else if(o)this.PB.wI(r("uColor"),o.getColor());else if(l){if(!this.Tz)return!1;this.PB.gO(u,this.Tz,l)}else if(a){if(!this.Fz)return!1;this.PB.vO(u,this.Fz,a)}else if(h){const t=pl(h,this,void 0);if(!t&&h.lut.percentageValues)return!1;this.PB.BO(u,h.lut,t)}const g=$s(e);return this.AN.renderVisibleOnly(this.ix,(e=>{const{coordsBuffer:o}=e;if(!o)return;if(1===t){const[t,i]=g.es(e.existingDataPointsCount);this.PB.PE(r("uFirstId"),t),"triangulated"===n.type?this.PB.kO(u,i):this.PB.wO(u,i)}i.bindBuffer(i.ARRAY_BUFFER,o);const a="triangulated"===n.type?Ux.lV:Yx.lV;if(this.oi.Ot()||void 0===this.bN.attributeOffsetCoordinateLowPrecision?this.oi.Ot()&&void 0!==this.bN.attributeOffsetCoordinateHighPrecision&&a(!0,this.PB,o,u,this.bN.attributesPerVertex,this.bN.attributeOffsetCoordinateHighPrecision):a(!1,this.PB,o,u,this.bN.attributesPerVertex,this.bN.attributeOffsetCoordinateLowPrecision),s){if(!e.pV||!this.mV)return;"triangulated"===n.type?Ux.cV(this.PB,u,e.pV,c("aLengthSoFarA"),c("aLengthSoFarB"),2,2,0):Yx.cV(this.PB,u,e.pV,c("aLengthSoFar"),2,0),this.PB.rE(r("uStippleCount"),[this.gi._t().x/this.mV.LO,this.gi._t().y/this.mV.LO]).oE(d("uStippleTextureWidthLimiter"),this.mV.PO/this.mV.LO).oE(r("uStippleScale"),s.getPatternScale()).nE(r("uStippleTexture"),this.mV.IO,1)}if(h&&"value"===h.lookUpProperty&&void 0!==this.bN.attributeOffsetLookUpValue&&1!==t)if("triangulated"===n.type){const t=c("aLookupValueA");i.vertexAttribPointer(t,1,i.FLOAT,!1,this.bN.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,this.bN.attributeOffsetLookUpValue*Float32Array.BYTES_PER_ELEMENT),this.PB.GE(t,1),i.enableVertexAttribArray(t);const e=c("aLookupValueB");i.vertexAttribPointer(e,1,i.FLOAT,!1,this.bN.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,(this.bN.attributeOffsetLookUpValue+this.bN.attributesPerVertex)*Float32Array.BYTES_PER_ELEMENT),this.PB.GE(e,1),i.enableVertexAttribArray(e)}else{const t=c("aLookupValue");i.vertexAttribPointer(t,1,i.FLOAT,!1,this.bN.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,this.bN.attributeOffsetLookUpValue*Float32Array.BYTES_PER_ELEMENT),i.enableVertexAttribArray(t)}if("triangulated"===n.type){const{thickness:i}=n;Ux.Su(this.hz,n.geometry,u,this.gV&&1!==t,1===t,i,e.existingCoordinatesCount-1)}else Yx.fV(this.hz,e.existingCoordinatesCount);f=!0}),void 0===this.us),i.bindBuffer(i.ARRAY_BUFFER,null),f})),{idCount:this.uu}}xu(t,e,i,n,r){return{}}xc(t,e){return Array.isArray(t)||(t=[t]),this.gc=Ts(this.gc,t,{canReturnB:!0}),this.rc=Eo(this.rc,e||e||this.AN.calculateUserDataPointsBoundaries(t)),this}Ni(){return super.Ni(),this.pN=0,this.mN=0,this.MN=void 0,this}dispose(){return super.dispose(),this.vN.aN(),this.gN.KV(),this.yV={type:"none"},this.mV=void 0,this}bu(){return this}KS(t){this.Tc()>0&&this.zr();const e=this.Mc(),i=fr(e,t,this.xi(),this.Sc,this.bc,this.oi,this.engine.oi,this.rc,this.AN.OV,this.AN.zV);return void 0!==i?e[i]:void 0}yx(t){this.Tc()>0&&this.zr();const e=this.Mc(),i=e.length;if(0===i)return;const n=this.Sc?1:0,r=i-(this.bc?2:1),s=this.xi();if(s===dr.Nearest){let n,r,s=ro;for(let o=0;o<i;o+=1){const i=hr(e[o],this.oi,this.gi.oi);if(void 0!==r){const e=po(r,i,t),o=(e.x-t.x)**2+(e.y-t.y)**2;o<s&&(s=o,n=e)}r=i}return void 0!==n?hr(n,this.gi.oi,this.oi):void 0}if("x"===this.AN.OV&&s===dr.NearestX||"y"===this.AN.OV&&s===dr.NearestY){const i=vr(e,hr(t,this.gi.oi,this.oi),this.AN.OV,this.AN.zV,n,r);return i?xo(e[i.a],e[i.b],i.lerpAmount):void 0}return this.KS(t)}Xi(){return this.rc.max.x}Wi(){return this.rc.min.x}Ji(){return this.rc.max.y}Zi(){return this.rc.min.y}lc(){return Gs(this.eu)}cc(){return Gs(this.eu)}}class tb extends hc{constructor(t,e,i,n,r){super(t,e,i,n,r),this.yV={fill:void 0,border:void 0},this.hD=new wx,this.rc=oo,this.wN=!1,this._N=!1,this.kN=!1,this.CN=!1,this.TN=!1,this.Ud=[],this.dz=gl({polygonStyleSolid:()=>la(this.Je)&&this.Je,polygonStyleImage:()=>Lr(this.Je)&&this.Je,polygonStyleRadialGradient:()=>Zn(this.Je)&&this.Je,polygonStyleLinearGradient:()=>Kn(this.Je)&&this.Je,polygonStylePaletted:()=>fa(this.Je)&&this.Je,polygonStyleIndividual:()=>ca(this.Je)&&this.Je,lineStyleSolid:()=>el(this.Qe)&&this.Qe,lineStyleDashed:()=>sl(this.Qe)&&this.Qe,lineStyleFilled:()=>{const t=this.Qe&&this.Qe.getFillStyle();return la(t)&&t}}),this.hz=t,this.rz=e,this.PB=t.nz(),this.gV=this.PB.iO}Uo(){const t={Ps:e=>this.CV(t,e),Fi:e=>this.TV(t,e),oc:e=>this.FN(t,e),vS:e=>this.IN(t,e),wI:e=>this.IV(t,e),hc:[],S:void 0,PN:void 0,Ai:0,GA:!0,LN:this.Ud.length};return this.Ud.push(t),t}Ni(){return this.Ud.length=0,this.wN=!0,this.gi.ki(this),this}Cv(){return this.Ud}jd(t){const e=this.Ud.indexOf(t);e>=0&&(this.Ud.splice(e,1),this.TN=!0,this.gi.ki(this,t))}CV(t,e){return t.GA=e,this.TN=!0,t.GA||this.gi.ki(this,t),t}TV(t,e){return t.Ai=e,this.CN=!0,t}FN(t,e){return t.hc=e,this.wN=!0,t}IN(t,e){return t.S=e,this._N=!0,t}IV(t,e){return t.PN=null==e?void 0:e.toUint32(),this.kN=!0,t}zr(){const t=this.li.C(),e=this.li.o,i=this.nl(),n=this.CN,r=this.wN,s=this._N,o=this.kN,a=this.TN,l=this.Qe,h=this.ul(),c=this.Ud.filter((t=>t.GA&&t.hc.length>0));if(this.hD.uE(this.oi),(r||a)&&(this.rc=Eo(...c.map((t=>So(t.hc))))),r||a){const t=c.map((t=>[...t.hc,t.hc[0],{x:Number.NaN,y:Number.NaN}])).flat(),e=xs(t,!1,Float64Array),i=this.oi.Ot()?xs(t,!0):e;this.vV=this.PB.iE(i,!1,this.vV);let n=[];c.reduce(((t,i)=>{const r=t,s=2*(i.hc.length+1),o=new Float64Array(e.buffer,r,s),a=bn(o,void 0,2),l=t/(2*Float64Array.BYTES_PER_ELEMENT);for(let e=0;e<a.length;e+=1)a[e]+=l;return n=Ts(n,a,{canReturnB:!0}),r+(s+2)*Float64Array.BYTES_PER_ELEMENT}),0);const r=new Uint32Array(n);this.DN=this.PB.zE(r,this.DN),this.RN=r.length,this.EN=e.length/2-1}const u=this.dz.polygonStyleSolid(i),d=this.dz.polygonStylePaletted(i),f=this.dz.polygonStyleIndividual(i),g=this.dz.polygonStyleRadialGradient(i),p=this.dz.polygonStyleLinearGradient(i),m=this.dz.polygonStyleImage(i),y=u||d||p||g||m||f,v=this.dz.lineStyleSolid(h),x=this.dz.lineStyleDashed(i),b=v||x,S=this.dz.lineStyleFilled(h),A=S,E=b&&Math.max(b.getThickness(),0);if((i||h||e)&&(this.yV.fill=y?{shader:this.PB.eR(Bv["2D"],u&&Bv.Color({dataType:"uniform"}),p&&Bv.Color({dataType:["gradient",p]}),g&&Bv.Color({dataType:["gradient",g]}),d&&Bv.Color({dataType:["lookup",d.getLookUpProperty(),d.lut]}),f&&Bv.Color({dataType:"attribute"}),m&&Bv.Color({dataType:["image",m]}),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0}),Bv.AttributeHighlight),mousePicking:t?{shader:this.PB.eR(Bv["2D"],Bv.MousePicking({useAttribute:!0}),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0}),Bv.AttributeHighlight)}:void 0,fillStyleSolid:u,fillStyleLinearGradient:p,fillStyleRadialGradient:g,fillStylePaletted:d,fillStyleImage:m,fillStyleIndividual:f}:void 0,this.yV.border=b&&A&&"number"==typeof E&&0!==E?{shader:this.PB.eR(Bv["2D"],Bv.Color({dataType:"uniform"}),Bv.LineInstanced2D({axisWorldTranslation:dl(this.oi),normalSource:void 0}),this.gV?Bv.AliasedEdge:void 0,x&&Bv.StippleTextureInstanced,Bv.AttributeHighlight),geometry:Hx(this.PB,E),mousePicking:t?{shader:this.PB.eR(Bv["2D"],Bv.MousePicking({useAttribute:!0}),Bv.LineInstanced2D({axisWorldTranslation:dl(this.oi),normalSource:void 0}),x&&Bv.StippleTextureInstanced,Bv.AttributeHighlight)}:void 0,fillStyleSolid:S,lineStyleDashed:x,thickness:E}:void 0),n||r){const t=c.reduce(((t,e)=>t+e.hc.length+2),0),e=new Float32Array(t);let i=0;c.forEach((t=>{const n=t.hc.length+2;for(let r=i;r<i+n;r+=1)e[r]=t.Ai;i+=n})),this.ON=this.PB.iE(e,!0,this.ON)}if(t){if(r){const t=c.reduce(((t,e)=>t+e.hc.length+2),0),e=new Float32Array(t);let i=0;c.forEach((t=>{const n=t.hc.length+2;for(let r=i;r<i+n;r+=1)e[r]=t.LN;i+=n})),this.zN=this.PB.iE(e,!1,this.zN)}}else this.zN&&(this.PB.gE(this.zN),this.zN=void 0);if(s||r&&d&&"value"===d.getLookUpProperty()){const t=c.reduce(((t,e)=>t+e.hc.length+2),0),e=new Float32Array(t);let i=0;const n={min:ro,max:so};c.forEach((t=>{const r=void 0!==t.S?t.S:Ir,s=t.hc.length+2;for(let n=i;n<i+s;n+=1)e[n]=r;i+=s,void 0!==t.S&&(n.min=Math.min(n.min,r),n.max=Math.max(n.max,r))})),this.VN=n,this.NN=this.PB.iE(e,!1,this.NN)}if(o||r&&f){const t=c.reduce(((t,e)=>t+e.hc.length+2),0),e=new Uint32Array(t);let i=0;const n=f?f.getFallbackColor().toUint32():On.toUint32();c.forEach((t=>{const r=void 0!==t.PN?t.PN:n,s=t.hc.length+2;for(let n=i;n<i+s;n+=1)e[n]=r;i+=s})),this.GN=this.PB.iE(e,!1,this.GN,Uint32Array)}if(g?this.mz=fx(this.fi||this.rc,this.oi,g.getPosition(),g.getExtent(),g.getShape(),this.PB.GR()):p?this.Sz=gx(this.fi||this.rc,this.oi,p.getAngle(!0),this.PB.GR()):(this.mz=void 0,this.Sz=void 0),x){if(r){const t=c.reduce(((t,e)=>t+e.hc.length),2*c.length),e=new Float32Array(2*t);let i=0;c.forEach((t=>{let n=t.hc[0],r=0,s=0;for(const o of t.hc)r+=Math.abs(o.x-n.x),s+=Math.abs(o.y-n.y),e[i]=r,e[i+1]=s,i+=2,n=o;e[i+0]=r+Math.abs(t.hc[0].x-n.x),e[i+1]=s+Math.abs(t.hc[0].y-n.y),e[i+2]=Number.NaN,e[i+3]=Number.NaN,i+=4})),this.pV=this.PB.iE(e,!1,this.pV)}this.mV=this.PB.FO(x.getPattern())}else this.pV&&(this.PB.gE(this.pV),this.pV=void 0),this.mV=void 0;return this.$N=this.PB.DO(this,this.$N,m,void 0,r||a||this.oi.si(),((t,e,i)=>this.UN(t,e,i,c))),this.CN=!1,this.TN=!1,this.wN=!1,this._N=!1,this.kN=!1,this.li.o=!1,this.cl(this.Je),this.Al(l),this}wi(){return this.VN}Su(t,e){var i,n;const{fill:r,border:s}=this.yV,o=this.vV,a=this.ON,l=this.zN;if(!o||!a)return{};if(r){const{fillStyleSolid:n,fillStyleLinearGradient:s,fillStyleRadialGradient:h,fillStylePaletted:c,fillStyleImage:u,fillStyleIndividual:d}=r,f=this.DN,g=this.RN,p=1===t?null===(i=r.mousePicking)||void 0===i?void 0:i.shader:r.shader;p&&o&&f&&void 0!==g&&this.PB.Xu(p).eE(p,((i,r,p,m)=>{if(this.oi instanceof sr||this.oi instanceof ul?this.PB.rE(i("uScale"),this.hD.aE()).rE(i("uDisp"),this.hD.lE()).rE(m("uScaleStart_highpart"),this.hD.OO()).rE(m("uScaleStart_lowpart"),this.hD.zO()):this.oi instanceof or&&this.PB.rE(m("uScaleStart"),this.hD.MixedScaleXY.uScaleStart).rE(m("uScaleStartLog"),this.hD.MixedScaleXY.uScaleStartLog).rE(m("uScaleInterval"),this.hD.MixedScaleXY.uScaleInterval).rE(m("uScaleIntervalLog"),this.hD.MixedScaleXY.uScaleIntervalLog).rE(i("uViewportStart"),this.hD.MixedScaleXY.uViewportStart).rE(i("uViewportSize"),this.hD.MixedScaleXY.uViewportSize),this.PB.mO(p,o,this.oi.Ot(),void 0).jE(f).YE(r("aIsHighlighted"),a).wI(i("uHighlightColorOffset"),1===t||2===t?Hn:this.Si).oE(i("uRenderEffectMask"),2===t?1:0),1===t){if(this.PB.PE(i("uFirstId"),e),!l)return!1;this.PB.YE(r("aPickingIdOffset"),l)}else if(n)this.PB.wI(i("uColor"),n.getColor());else if(h){if(!this.mz)return!1;this.PB.gO(p,this.mz,h)}else if(s){if(!this.Sz)return!1;this.PB.vO(p,this.Sz,s)}else if(c){const t=pl(c,this,this.VN);if(!t&&c.lut.percentageValues)return!1;if(this.PB.BO(p,c.lut,t),"value"===c.getLookUpProperty()){if(!this.NN)return!1;this.PB.YE(r("aLookupValue"),this.NN)}}else if(u){if(!this.$N)return!1;this.PB.wI(m("uColor"),u.getSurroundingColor()).nE(i(iv),this.$N.texture.zR()||this.$N.sourceMissingTexture,0).hE(this.$N.texCoordsBuffer,void 0,{location:r("aTextureCoord"),size:2}).LE(u.fitMode)}else if(d){if(!this.GN)return!1;const t=r("aColor");this.PB.gl.bindBuffer(this.PB.gl.ARRAY_BUFFER,this.GN),this.PB.gl.vertexAttribPointer(t,4,this.PB.gl.UNSIGNED_BYTE,!0,0,0),this.PB.gl.enableVertexAttribArray(t)}return this.PB.WE(g,void 0,void 0,this.PB.gl.UNSIGNED_INT),!0}))}if(s){const{geometry:i,fillStyleSolid:r,thickness:h,lineStyleDashed:c}=s,u=this.EN,d=1===t?null===(n=s.mousePicking)||void 0===n?void 0:n.shader:s.shader;d&&o&&u&&this.PB.Xu(d).eE(d,((n,s,d,f)=>{if(this.oi instanceof sr||this.oi instanceof ul?this.PB.rE(n("uScale"),this.hD.aE()).rE(n("uDisp"),this.hD.lE()).rE(f("uScaleStart_highpart"),this.hD.OO()).rE(f("uScaleStart_lowpart"),this.hD.zO()):this.oi instanceof or&&this.PB.rE(f("uScaleStart"),this.hD.MixedScaleXY.uScaleStart).rE(f("uScaleStartLog"),this.hD.MixedScaleXY.uScaleStartLog).rE(f("uScaleInterval"),this.hD.MixedScaleXY.uScaleInterval).rE(f("uScaleIntervalLog"),this.hD.MixedScaleXY.uScaleIntervalLog).rE(n("uViewportStart"),this.hD.MixedScaleXY.uViewportStart).rE(n("uViewportSize"),this.hD.MixedScaleXY.uViewportSize),this.PB.hE(a,1,{location:s("aIsHighlighted"),size:1}).wI(n("uHighlightColorOffset"),1===t||2===t?Hn:this.Si).oE(n("uRenderEffectMask"),2===t?1:0),1===t){if(this.PB.PE(n("uFirstId"),e),!l)return!1;this.PB.YE(s("aPickingIdOffset"),l,1)}else r&&this.PB.wI(n("uColor"),r.getColor());if(c){if(!this.mV||!this.pV)return!1;Ux.cV(this.PB,d,this.pV,s("aLengthSoFarA"),s("aLengthSoFarB"),2,2,0),this.PB.rE(n("uStippleCount"),[this.gi._t().x/this.mV.LO,this.gi._t().y/this.mV.LO]).oE(f("uStippleTextureWidthLimiter"),this.mV.PO/this.mV.LO).oE(n("uStippleScale"),c.getPatternScale()).nE(n("uStippleTexture"),this.mV.IO,1)}return Ux.lV(this.oi.Ot(),this.PB,o,d,this.oi.Ot()?4:2,0),Ux.Su(this.hz,i,d,this.gV&&1!==t,1===t,h,u),!0}))}return{idCount:this.Ud.length}}UN(t,e,i,n){const r=hr({x:this.rc.min.x,y:this.rc.min.y},this.oi,this.gi.oi),s=hr({x:this.rc.max.x,y:this.rc.max.y},this.oi,this.gi.oi),o={x:Math.abs(r.x-s.x),y:Math.abs(r.y-s.y)},a=vx(t,e,o.x,o.y,i),l=a[1],h=a[4],c=a[6],u=a[7],d=n.reduce(((t,e)=>t+e.hc.length+2),0),f=new Float32Array(2*d),g=this.rc.max.x-this.rc.min.x,p=this.rc.max.y-this.rc.min.y,m=h-c,y=u-l;let v=0;for(const x of n){for(const i of x.hc){const t=c+m*((i.x-this.rc.min.x)/g),e=l+y*((i.y-this.rc.min.y)/p);f[v]=t,f[v+1]=e,v+=2}const t=c+m*((x.hc[0].x-this.rc.min.x)/g),e=l+y*((x.hc[0].y-this.rc.min.y)/p);f[v]=t,f[v+1]=e,v+=2,f[v]=Number.NaN,f[v+1]=Number.NaN,v+=2}return f}xu(t,e,i,n,r){return{collectionMember:this.Ud.find((i=>e+i.LN===t))}}bu(){return this.DN&&(this.PB.gE(this.DN),this.DN=void 0),this.vV&&(this.PB.gE(this.vV),this.vV=void 0),this.ON&&(this.PB.gE(this.ON),this.ON=void 0),this.zN&&(this.PB.gE(this.zN),this.zN=void 0),this.NN&&(this.PB.gE(this.NN),this.NN=void 0),this.GN&&(this.PB.gE(this.GN),this.GN=void 0),this.pV&&(this.PB.gE(this.pV),this.pV=void 0),this.yV={fill:void 0,border:void 0},this.$N=this.PB.RO(this,this.$N),this}Xi(){return this.rc.max.x}Wi(){return this.rc.min.x}Ji(){return this.rc.max.y}Zi(){return this.rc.min.y}lc(){return Gs(this.Qe)}cc(){return Gs(this.Qe)}}class eb extends uc{constructor(t,e,i,n,r){super(t,e,i,n,r),this.hD=new wx,this.YN=oo,this.dz=gl({fillStyleSolid:()=>la(this.Je)&&this.Je,fillStyleRadialGradient:()=>Zn(this.Je)&&this.Je,fillStyleLinearGradient:()=>Kn(this.Je)&&this.Je,fillStyleImage:()=>Lr(this.Je)&&this.Je,strokeStyleSolid:()=>el(this.Qe)&&this.Qe,strokeFillSolid:()=>{const t=this.Qe.getFillStyle();return la(t)&&t},strokeFillLinearGradient:()=>{const t=this.Qe.getFillStyle();return Kn(t)&&t},strokeFillRadialGradient:()=>{const t=this.Qe.getFillStyle();return Zn(t)&&t}}),this.UN=(t,e,i)=>{const n=hr(this.El(),this.oi,this.gi.oi),r=Bo(hr(Ro(this.El(),this._t()),this.oi,this.gi.oi),n);return vx(t,e,r.x,r.y,i)},this.hz=t,this.rz=e,this.PB=t.nz(),this.rz=e}zr(){super.zr();const t=this.li.C(),e=this.nl(),i=this.Fn.o||this.U.o||this.xl.o||this.wl.o,n=this.Qe,r=this.ul(),s=n.getThickness(),o=this.xl.C();this.hD.uE(this.oi);const a=this.oi.si();if(i){const t=this.U.C();this.hc=function(t,e,i,n,r){const s=((t,e,i)=>[t,En(t.x+e,t.y),En(t.x+e,t.y+i),En(t.x,t.y+i)])(t,e,i);if(0!==n||n%360!=0){const t=n*Math.PI/180;s[0]=Co(s[0],r,t),s[1]=Co(s[1],r,t),s[2]=Co(s[2],r,t),s[3]=Co(s[3],r,t)}return s}(this.Fn.C(),t.x,t.y,o,this.wl.C());const e=xs(this.hc,this.oi.Ot());this.gz=this.PB.iE(e,!1,this.gz),this.yz=this.hc.length,this.YN=So(this.hc)}const l=this.dz.fillStyleSolid(e),h=this.dz.fillStyleRadialGradient(e),c=this.dz.fillStyleLinearGradient(e),u=this.dz.fillStyleImage(e),d=l||h||c||u;e&&(this.bz=d?this.PB.eR(Bv["2D"],l&&Bv.Color({dataType:"uniform"}),c&&Bv.Color({dataType:["gradient",c]}),h&&Bv.Color({dataType:["gradient",h]}),u&&Bv.Color({dataType:["image",u]}),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0})):void 0),h?this.mz=fx(this.fi||this.YN,this.oi,h.getPosition(),h.getExtent(),h.getShape(),this.PB.GR()):c?this.Sz=gx(this.fi||this.YN,this.oi,c.getAngle(!0),this.PB.GR()):(this.mz=void 0,this.Sz=void 0),this.$N=this.PB.DO(this,this.$N,u,void 0,a||i,this.UN);const f=this.dz.strokeStyleSolid(r),g=this.dz.strokeFillSolid(r),p=this.dz.strokeFillLinearGradient(r),m=this.dz.strokeFillRadialGradient(r),y=f,v=g||p||m;if(y&&(i||r||a&&1!==s)){if(1===s||-1===s)[this.xz,this.jN]=[this.hc,void 0];else{const t=this.oi;[this.xz,this.jN]=t instanceof or?((t,e,i)=>{const n=t[0],r=t[1],s=t[2],o=t[3],a=e/2;return[[i.ni(n,r,a,-a),i.ni(r,n,-a,-a),i.ni(o,s,-a,-a),i.ni(s,o,a,-a),i.ni(n,r,-a,a),i.ni(r,n,a,a),i.ni(o,s,a,a),i.ni(s,o,-a,a)],[0,4,5,0,5,1,1,5,7,1,3,7,3,7,6,3,2,6,2,4,0,2,6,4]]})(this.hc,s,t):((t,e,i)=>{const n=t[0],r=t[1],s=t[2],o=t[3],a=En(e.x*i*.5,e.y*i*.5),l=To(Mo(r,n)),h=To(Mo(o,n)),c=Do(l),u=Do(h);return[[Ro(n,Ro(Lo(c,a.x),Lo(u,a.y))),Ro(r,Ro(Lo(l,a.x),Lo(u,a.y))),Ro(o,Ro(Lo(c,a.x),Lo(h,a.y))),Ro(s,Ro(Lo(l,a.x),Lo(h,a.y))),Ro(n,Ro(Lo(l,a.x),Lo(h,a.y))),Ro(r,Ro(Lo(c,a.x),Lo(h,a.y))),Ro(o,Ro(Lo(l,a.x),Lo(u,a.y))),Ro(s,Ro(Lo(c,a.x),Lo(u,a.y)))],[0,4,5,0,5,1,1,5,7,1,3,7,3,7,6,3,2,6,2,4,0,2,6,4]]})(this.hc,t.ri(),s)}this.wz=this.PB.iE(xs(this.xz,this.oi.Ot()),!1,this.wz),this.jN?(this.nV=this.PB.zE(new Uint16Array(this.jN),this.nV),this.Mz=this.jN.length):(this.nV&&this.PB.gE(this.nV),this.nV=void 0,this.Mz=this.xz.length)}return r&&(this.Iz=y&&v?this.PB.eR(Bv["2D"],Bv.Color({dataType:m?["gradient",m]:p?["gradient",p]:"uniform"}),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0})):void 0),m?this.Tz=fx(this.YN,this.oi,m.getPosition(),m.getExtent(),m.getShape(),this.PB.GR()):p?this.Fz=gx(this.YN,this.oi,p.getAngle(!0),this.PB.GR()):(this.Tz=void 0,this.Fz=void 0),this.Pz=t&&d?this.Pz||this.PB.eR(Bv["2D"],Bv.MousePicking(),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0})):void 0,this.Lz=t&&this.Qe!==Br?this.Lz||this.PB.eR(Bv["2D"],Bv.MousePicking(),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0})):void 0,this.cl(this.Je),this.Al(n),this.Fn.o=!1,this.xl.o=!1,this.U.o=!1,this.wl.o=!1,this}Su(t,e){const i=1===t?this.Pz:this.bz,n=this.gz,r=this.yz,s=this.dz.fillStyleSolid(!1),o=this.dz.fillStyleRadialGradient(!1),a=this.dz.fillStyleLinearGradient(!1),l=this.dz.fillStyleImage(!1);i&&n&&r&&this.Je!==na&&(this.PB.Xu(i),this.PB.eE(i,((i,h,c,u)=>{if(this.oi instanceof sr||this.oi instanceof ul?this.PB.rE(i("uScale"),this.hD.aE()).rE(i("uDisp"),this.hD.lE()).rE(u("uScaleStart_highpart"),this.hD.OO()).rE(u("uScaleStart_lowpart"),this.hD.zO()):this.oi instanceof or&&this.PB.rE(u("uScaleStart"),this.hD.MixedScaleXY.uScaleStart).rE(u("uScaleStartLog"),this.hD.MixedScaleXY.uScaleStartLog).rE(u("uScaleInterval"),this.hD.MixedScaleXY.uScaleInterval).rE(u("uScaleIntervalLog"),this.hD.MixedScaleXY.uScaleIntervalLog).rE(i("uViewportStart"),this.hD.MixedScaleXY.uViewportStart).rE(i("uViewportSize"),this.hD.MixedScaleXY.uViewportSize),1===t)this.PB.PE(i("uFirstId"),e).kO(c,1);else if(s)this.PB.wI(i("uColor"),s.getColor());else if(o){if(!this.mz)return!1;this.PB.gO(c,this.mz,o)}else if(a){if(!this.Sz)return!1;this.PB.vO(c,this.Sz,a)}else if(l){if(!this.$N)return!1;const t=this.$N&&this.$N.texture.zR();this.PB.wI(u("uColor"),l.getSurroundingColor()).nE(i(iv),t||this.$N.sourceMissingTexture,0).hE(this.$N.texCoordsBuffer,void 0,{location:h("aTextureCoord"),size:2}).LE(l.fitMode)}return this.PB.oE(i("uIsHighlighted"),1===t||2===t?0:this.Ai).wI(i("uHighlightColorOffset"),1===t||2===t?Hn:this.Si).oE(i("uRenderEffectMask"),2===t?1:0).mO(c,n,this.oi.Ot(),void 0).Mk(this.PB.gl.TRIANGLE_FAN,r),!0})));const h=1===t?this.Lz:this.Iz,c=this.dz.strokeStyleSolid(!1),u=this.dz.strokeFillSolid(!1),d=this.dz.strokeFillLinearGradient(!1),f=this.dz.strokeFillRadialGradient(!1),g=this.wz;return h&&g&&c&&(this.PB.Xu(h),this.PB.eE(h,((i,n,r,s)=>{if(this.oi instanceof sr||this.oi instanceof ul?this.PB.rE(i("uScale"),this.hD.aE()).rE(i("uDisp"),this.hD.lE()).rE(s("uScaleStart_highpart"),this.hD.OO()).rE(s("uScaleStart_lowpart"),this.hD.zO()):this.oi instanceof or&&this.PB.rE(s("uScaleStart"),this.hD.MixedScaleXY.uScaleStart).rE(s("uScaleStartLog"),this.hD.MixedScaleXY.uScaleStartLog).rE(s("uScaleInterval"),this.hD.MixedScaleXY.uScaleInterval).rE(s("uScaleIntervalLog"),this.hD.MixedScaleXY.uScaleIntervalLog).rE(i("uViewportStart"),this.hD.MixedScaleXY.uViewportStart).rE(i("uViewportSize"),this.hD.MixedScaleXY.uViewportSize),1===t)this.PB.PE(i("uFirstId"),e).kO(r,1);else if(u)this.PB.wI(i("uColor"),u.getColor());else if(f){if(!this.Tz)return!1;this.PB.gO(r,this.Tz,f)}else if(d){if(!this.Fz)return!1;this.PB.vO(r,this.Fz,d)}return this.PB.oE(i("uIsHighlighted"),1===t||2===t?0:this.Ai).wI(i("uHighlightColorOffset"),1===t||2===t?Hn:this.Si).oE(i("uRenderEffectMask"),2===t?1:0).mO(r,g,this.oi.Ot(),void 0),this.nV?this.PB.jE(this.nV).WE(this.Mz):this.PB.Mk(this.PB.gl.LINE_LOOP,this.Mz),!0}))),{idCount:1}}xu(t,e,i,n,r){return{}}bu(){return this.nV&&(this.PB.gE(this.nV),this.nV=void 0),this.gz&&(this.PB.gE(this.gz),this.gz=void 0),this.wz&&(this.PB.gE(this.wz),this.wz=void 0),this.$N=this.PB.RO(this,this.$N),this.bz=void 0,this.Iz=void 0,this.Pz=void 0,this.Lz=void 0,this}Xi(){return Math.max(this.Fn.C().x,this.Fn.C().x+this.U.C().x)}Wi(){return Math.min(this.Fn.C().x,this.Fn.C().x+this.U.C().x)}Ji(){return Math.max(this.Fn.C().y,this.Fn.C().y+this.U.C().y)}Zi(){return Math.min(this.Fn.C().y,this.Fn.C().y+this.U.C().y)}lc(){return Gs(this.Qe)}cc(){return Gs(this.Qe)}}class ib extends dc{constructor(t,e,i,n,r){super(t,e,i,n,r),this.hD=new wx,this.dz=gl({fillStyleSolid:()=>la(this.Je)&&this.Je,fillStylePaletted:()=>fa(this.Je)&&this.Je,fillStyleRadialGradient:()=>Zn(this.Je)&&this.Je,fillStyleLinearGradient:()=>Kn(this.Je)&&this.Je,fillStyleImage:()=>Lr(this.Je)&&this.Je,strokeLineStyleSolid:()=>el(this.Qe)&&this.Qe,strokeLineSolidFill:()=>{const t=this.Qe.getFillStyle();return la(t)&&t},strokeLinearGradientFill:()=>{const t=this.Qe.getFillStyle();return Kn(t)&&t},strokeRadialGradientFill:()=>{const t=this.Qe.getFillStyle();return Zn(t)&&t}}),this.UN=(t,e,i)=>{const n=hr({x:this.rc.min.x,y:this.rc.min.y},this.oi,this.gi.oi),r=hr({x:this.rc.max.x,y:this.rc.max.y},this.oi,this.gi.oi),s={x:Math.abs(n.x-r.x),y:Math.abs(n.y-r.y)},o=vx(t,e,s.x,s.y,i),a=o[1],l=o[4],h=o[6],c=o[7],u=new Float32Array(2*this.hc.length),d=this.rc.max.x-this.rc.min.x,f=this.rc.max.y-this.rc.min.y,g=l-h,p=c-a;let m=0;for(const y of this.hc){const t=h+g*((y.x-this.rc.min.x)/d),e=a+p*((y.y-this.rc.min.y)/f);u[m]=t,u[m+1]=e,m+=2}return u},this.hz=t,this.rz=e,this.PB=t.nz(),this.rz=e}Ad(t){let e,i=Number.MAX_VALUE;for(const n of this.hc){const r=yo(hr(n,this.oi,this.gi.oi),t);r<i&&(i=r,e=n)}return e}zr(){const t=this.li.C(),e=this.nl(),i=this.nc,n=this.hc.length>=3,r=this.Qe,s=this.ul(),o=r.getThickness(),a=this.fl(o);this.hD.uE(this.oi),this.ae=this.oi.ri();const l=this.oi.si();if(i&&(this.rc=So(this.hc)),i&&n){const t=xs(this.hc,this.oi.Ot());this.gz=this.PB.iE(t,!1,this.gz),this.HN=new Uint16Array(bn(t)),this.WN=this.PB.zE(this.HN,this.WN),this.yz=this.HN.length}const h=this.dz.fillStyleSolid(e),c=this.dz.fillStylePaletted(e),u=this.dz.fillStyleRadialGradient(e),d=this.dz.fillStyleLinearGradient(e),f=this.dz.fillStyleImage(e),g=h||c&&"value"!==c.getLookUpProperty()&&c||d||u||f;if(e&&(this.bz=g?this.PB.eR(Bv["2D"],h&&Bv.Color({dataType:"uniform"}),d&&Bv.Color({dataType:["gradient",d]}),u&&Bv.Color({dataType:["gradient",u]}),c&&Bv.Color({dataType:["lookup",c.getLookUpProperty(),c.lut]}),f&&Bv.Color({dataType:["image",f]}),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0})):void 0),u?this.mz=fx(this.fi||this.rc,this.oi,u.getPosition(),u.getExtent(),u.getShape(),this.PB.GR()):d?this.Sz=gx(this.fi||this.rc,this.oi,d.getAngle(!0),this.PB.GR()):(this.mz=void 0,this.Sz=void 0),this.$N=this.PB.DO(this,this.$N,f,void 0,l||i,this.UN),(i||a||l&&1!==o)&&n){const t=1===o||-1===o?this.hc:Fx(this.hc,this.ae,o);this.xz=xs(t,this.oi.Ot()),this.wz=this.PB.iE(this.xz,!0,this.wz),this.Mz=t.length}const p=this.dz.strokeLineStyleSolid(s),m=this.dz.strokeLineSolidFill(s),y=this.dz.strokeLinearGradientFill(s),v=this.dz.strokeRadialGradientFill(s),x=p,b=m||y||v;return s&&(this.Iz=x&&b?this.PB.eR(Bv["2D"],Bv.Color({dataType:v?["gradient",v]:y?["gradient",y]:"uniform"}),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0})):void 0),v?this.Tz=fx(this.fi||this.rc,this.oi,v.getPosition(),v.getExtent(),v.getShape(),this.PB.GR()):y?this.Fz=gx(this.fi||this.rc,this.oi,y.getAngle(!0),this.PB.GR()):(this.Tz=void 0,this.Fz=void 0),this.Pz=t&&g?this.Pz||this.PB.eR(Bv["2D"],Bv.MousePicking(),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0})):void 0,this.Lz=t&&this.Qe!==Br?this.Pz||this.PB.eR(Bv["2D"],Bv.MousePicking(),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0})):void 0,this.nc=!1,this.cl(this.Je),this.Al(r),this}Su(t,e){const i=1===t?this.Pz:this.bz,n=this.gz,r=this.yz,s=this.dz.fillStyleSolid(!1),o=this.dz.fillStyleRadialGradient(!1),a=this.dz.fillStyleLinearGradient(!1),l=this.dz.fillStylePaletted(!1),h=this.dz.fillStyleImage(!1);i&&n&&r&&this.PB.Xu(i).eE(i,((i,r,c,u)=>{if(this.PB.rE(i("uScale"),this.hD.aE()).rE(i("uDisp"),this.hD.lE()).rE(u("uScaleStart_highpart"),this.hD.OO()).rE(u("uScaleStart_lowpart"),this.hD.zO()).mO(c,n,this.oi.Ot(),void 0).jE(this.WN).oE(i("uIsHighlighted"),1===t||2===t?0:this.Ai).wI(i("uHighlightColorOffset"),1===t||2===t?Hn:this.Si).oE(i("uRenderEffectMask"),2===t?1:0),1===t)this.PB.PE(i("uFirstId"),e).kO(c,1);else if(s)this.PB.wI(i("uColor"),s.getColor());else if(o){if(!this.mz)return!1;this.PB.gO(c,this.mz,o)}else if(a){if(!this.Sz)return!1;this.PB.vO(c,this.Sz,a)}else if(l){const t=pl(l,this,void 0);if(!t&&l.lut.percentageValues)return!1;this.PB.BO(c,l.lut,t)}else if(h){if(!this.$N)return!1;this.PB.wI(u("uColor"),h.getSurroundingColor()).nE(i(iv),this.$N.texture.zR()||this.$N.sourceMissingTexture,0).hE(this.$N.texCoordsBuffer,void 0,{location:r("aTextureCoord"),size:2}).LE(h.fitMode)}return this.PB.WE(this.yz),!0}));const c=1===t?this.Lz:this.Iz,u=this.Qe,d=this.wz,f=this.Mz;return c&&d&&f&&this.PB.Xu(c).eE(c,((i,n,r,s)=>{this.PB.oE(i("uIsHighlighted"),1===t||2===t?0:this.Ai).wI(i("uHighlightColorOffset"),1===t||2===t?Hn:this.Si).oE(i("uRenderEffectMask"),2===t?1:0).rE(i("uScale"),this.hD.aE()).rE(i("uDisp"),this.hD.lE()).mO(r,d,this.oi.Ot(),void 0);const o=u.getFillStyle();if(1===t)this.PB.PE(i("uFirstId"),e).kO(r,1);else if(la(o))this.PB.wI(i("uColor"),o.getColor());else if(Zn(o)){if(!this.Tz)return!1;this.PB.gO(r,this.Tz,o)}else if(Kn(o)){if(!this.Fz)return!1;this.PB.vO(r,this.Fz,o)}const a=u.getThickness(),l=-1===a||1===a;return this.PB.Mk(l?this.PB.gl.LINE_LOOP:this.PB.gl.TRIANGLE_STRIP,this.Mz),!0})),{idCount:1}}xu(t,e,i,n,r){return{}}bu(){return this.WN&&(this.PB.gE(this.WN),this.WN=void 0),this.gz&&(this.PB.gE(this.gz),this.gz=void 0),this.wz&&(this.PB.gE(this.wz),this.wz=void 0),this.bz=void 0,this.Iz=void 0,this.Pz=void 0,this.Lz=void 0,this.$N=this.PB.RO(this,this.$N),this}}const nb=(t,e)=>{let i=0;const n=[];for(;i<t;){const r=i;let s=e;const o=i>0;s-=o?1:0,s-=i+s<t?1:0;const a=Math.min(s,t-r),l=i-(o?1:0),h={start:l,startUnique:r,sizeData:Math.min(e,t-l),sizeUniqueData:a};n.push(h),i+=a}return n},rb=(t,e)=>{let i=0;const n=[];for(;i<t;){const r=i;let s=e;const o=i>0;s-=o?1:0,s-=0;const a=Math.min(s,t-r),l=i-(o?1:0),h={start:l,startUnique:r,sizeData:Math.min(e,t-l),sizeUniqueData:a};n.push(h),i+=a}return n},sb=(t,e,i,n)=>{if(i){const t=new Map;return e.gridTiles.forEach((e=>{t.set(e,{type:i,dataInvalidationRanges:[{tileInvalidationOffset:{primary:0,secondary:0},tileInvalidationLength:e.sizeHeatmapDataVectors}]})})),t}const r=new Map;for(let s=0;s<t.length;s+=1){const i=t[s],o={x:i.startPrimary,y:i.startSecondary},a={x:o.x+i.lengthPrimary-1,y:o.y+i.lengthSecondary-1},l=[o,{x:a.x,y:o.y},a,{x:o.x,y:a.y}];e.gridTiles.forEach((t=>{const e=t.iFirstVector,s=n(t),o={x:e.primary+s.primary-1,y:e.secondary+s.secondary-1},a=[{x:e.primary,y:e.secondary},{x:o.x,y:e.secondary},o,{x:e.primary,y:o.y}];if(!co(l,a))return;let h=r.get(t);h||(h={type:i.type,dataInvalidationRanges:[]},r.set(t,h));const c=(u=l,d=a,Tn(En(Math.max(Math.min(u[0].x,u[2].x),Math.min(d[0].x,d[2].x)),Math.max(Math.min(u[0].y,u[2].y),Math.min(d[0].y,d[2].y))),En(Math.min(Math.max(u[0].x,u[2].x),Math.max(d[0].x,d[2].x)),Math.min(Math.max(u[0].y,u[2].y),Math.max(d[0].y,d[2].y)))));var u,d;const f={primary:c.min.x-e.primary,secondary:c.min.y-e.secondary},g={primary:1+c.max.x-c.min.x,secondary:1+c.max.y-c.min.y};let p=!1;const m=[{x:f.primary,y:f.secondary},{x:f.primary+g.primary,y:f.secondary},{x:f.primary+g.primary,y:f.secondary+g.secondary},{x:f.primary,y:f.secondary+g.secondary}];for(let i=0;i<h.dataInvalidationRanges.length;i+=1)if(!p){const t=h.dataInvalidationRanges[i],e=[{x:t.tileInvalidationOffset.primary,y:t.tileInvalidationOffset.secondary},{x:t.tileInvalidationOffset.primary+t.tileInvalidationLength.primary,y:t.tileInvalidationOffset.secondary},{x:t.tileInvalidationOffset.primary+t.tileInvalidationLength.primary,y:t.tileInvalidationOffset.secondary+t.tileInvalidationLength.secondary},{x:t.tileInvalidationOffset.primary,y:t.tileInvalidationOffset.secondary+t.tileInvalidationLength.secondary}];if(co(m,e)){const i=uo(m,e);t.tileInvalidationOffset.primary=i.min.x,t.tileInvalidationOffset.secondary=i.min.y,t.tileInvalidationLength.primary=i.max.x-i.min.x,t.tileInvalidationLength.secondary=i.max.y-i.min.y,p=!0}}p||h.dataInvalidationRanges.push({tileInvalidationLength:g,tileInvalidationOffset:f})}))}return r},ob=(t,e,i)=>{if(1!==t.length||0!==e.startPrimary||0!==e.startSecondary||e.lengthPrimary!==t[0].sizeHeatmapDataVectors.primary||e.lengthSecondary!==t[0].sizeHeatmapDataVectors.secondary)t.forEach((t=>{const n=i(t),r=Math.max(e.startPrimary,t.iFirstVector.primary),s=Math.min(e.startPrimary+e.lengthPrimary-1,t.iFirstVector.primary+t.sizeHeatmapDataVectors.primary-1),o=Math.max(e.startSecondary,t.iFirstVector.secondary),a=Math.min(e.startSecondary+e.lengthSecondary-1,t.iFirstVector.secondary+t.sizeHeatmapDataVectors.secondary-1);for(let i=r;i<=s;i+=1){const r=i-e.startPrimary,s=e.values[r],l=(i-t.iFirstVector.primary)*t.sizeHeatmapDataVectors.secondary;for(let i=o;i<=a;i+=1){const r=i-e.startSecondary,o=i-t.iFirstVector.secondary,a=s[r];n[l+o]=a}}}));else{const n=t[0],r=i(n);for(let t=0;t<e.lengthPrimary;t+=1){const i=t*n.sizeHeatmapDataVectors.secondary;r.set(e.values[t],i)}}},ab=(t,e,i)=>{var n,r;const s=null===(n=t.gl2)||void 0===n?void 0:n.ctx;if(s)return t.uO(null,s.RED,!1,!0,{x:e,y:i},!1,s.FLOAT,s.R32F);const o=t.gl;return(null===(r=t.gl1)||void 0===r?void 0:r.optional.OES_texture_float)?t.uO(null,o.LUMINANCE,!1,!0,{x:e,y:i},!1,o.FLOAT):t.uO(null,o.RGBA,!1,!0,{x:e,y:i},!1,o.UNSIGNED_BYTE)},lb=(t,e,i,n)=>{e.forEach(((e,r)=>{var s,o;const a=i(r),l=n(r),h=t.gl;h.bindTexture(h.TEXTURE_2D,l),h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);const c=null===(s=t.gl2)||void 0===s?void 0:s.ctx,u=e.dataInvalidationRanges.length,d=e.dataInvalidationRanges.reduce(((t,e)=>t+e.tileInvalidationLength.primary),0)/r.sizeHeatmapDataVectors.primary;1===u&&d<1||d<.5&&u<10?e.dataInvalidationRanges.forEach((e=>{var i;const n=e.tileInvalidationOffset.primary*r.sizeHeatmapDataVectors.secondary,s=n+e.tileInvalidationLength.primary*r.sizeHeatmapDataVectors.secondary;if(c)c.texSubImage2D(h.TEXTURE_2D,0,0,e.tileInvalidationOffset.primary,r.sizeHeatmapDataVectors.secondary,e.tileInvalidationLength.primary,c.RED,c.FLOAT,a.subarray(n,s));else if(null===(i=t.gl1)||void 0===i?void 0:i.optional.OES_texture_float)h.texSubImage2D(h.TEXTURE_2D,0,0,e.tileInvalidationOffset.primary,r.sizeHeatmapDataVectors.secondary,e.tileInvalidationLength.primary,h.LUMINANCE,h.FLOAT,a.subarray(n,s));else{const t=new Uint8Array(a.buffer).subarray(4*n,4*s);h.texSubImage2D(h.TEXTURE_2D,0,0,e.tileInvalidationOffset.primary,r.sizeHeatmapDataVectors.secondary,e.tileInvalidationLength.primary,h.RGBA,h.UNSIGNED_BYTE,t)}})):c?c.texImage2D(h.TEXTURE_2D,0,c.R32F,r.sizeHeatmapDataVectors.secondary,r.sizeHeatmapDataVectors.primary,0,c.RED,c.FLOAT,a):(null===(o=t.gl1)||void 0===o?void 0:o.optional.OES_texture_float)?h.texImage2D(h.TEXTURE_2D,0,h.LUMINANCE,r.sizeHeatmapDataVectors.secondary,r.sizeHeatmapDataVectors.primary,0,h.LUMINANCE,h.FLOAT,a):h.texImage2D(h.TEXTURE_2D,0,h.RGBA,r.sizeHeatmapDataVectors.secondary,r.sizeHeatmapDataVectors.primary,0,h.RGBA,h.UNSIGNED_BYTE,new Uint8Array(a.buffer)),h.bindTexture(h.TEXTURE_2D,null)}))};class hb extends lc{constructor(t,e,i,n,r,s){super(t,e,i,n,r),this.XN=Fn("bilinear"),this.Yt={x:0,y:0},this.ZN={x:1,y:1},this.Zy=tc.lineStyle,this.engine=t;const o="columns"===s.dataOrder?s.columns:s.rows,a="columns"===s.dataOrder?s.rows:s.columns;this.Pa={...s,primaryDimensionVectorsCount:o,secondaryDimensionVectorsCount:a}}sp(t){return this.XN._(t),this}ep(){return this.XN.C()}qy(t,e){return this.Yt=t,this.ZN=e,this}tp(){return{start:this.Yt,step:this.ZN,end:{x:this.Yt.x+this.ZN.x*this.Pa.columns,y:this.Yt.y+this.ZN.y*this.Pa.rows}}}Jy(t){return this.Zy="function"==typeof t?t(this.Zy):t,this}ip(){return this.Zy}}class cb extends hb{constructor(t,e,i,n,r,s){super(t,e,i,n,r,s),this.hD=new wx,this.yV={},this.JN=[],this.QN=!1,this.mc=!1,this.dz=gl({fillStyleSolid:()=>la(this.Je)&&this.Je,fillStylePaletted:()=>fa(this.Je)&&this.Je,wireframeStyleLine:()=>el(this.Zy)&&this.Zy,wireframeStyleFill:()=>{const t=this.Zy&&this.Zy.getFillStyle();return la(t)&&t}}),this.KN=nb,this.hz=t,this.rz=e,this.PB=t.nz(),this.rz=e;const o=Math.min(this.PB.BB,void 0!==s.qN?s.qN:2048),a={x:Math.min(o,this.Pa.primaryDimensionVectorsCount),y:Math.min(o,this.Pa.secondaryDimensionVectorsCount)},l=((t,e,i)=>{const n=[],r=i(t.primaryDimensionVectorsCount,e.x),s=i(t.secondaryDimensionVectorsCount,e.y);let o;return r.forEach((t=>s.forEach((e=>{const i={iFirstVector:{primary:t.start,secondary:e.start},iFirstUniqueVector:{primary:t.startUnique,secondary:e.startUnique},sizeHeatmapDataVectors:{primary:t.sizeData,secondary:e.sizeData},sizeUniqueHeatmapDataVectors:{primary:t.sizeUniqueData,secondary:e.sizeUniqueData}};n.push(i)})))),o=[],n.forEach((t=>{let e=o.find((e=>e.sizeHeatmapData.primary===t.sizeHeatmapDataVectors.primary&&e.sizeHeatmapData.secondary===t.sizeHeatmapDataVectors.secondary));e||(e={sizeHeatmapData:t.sizeHeatmapDataVectors,tiles:[]},o.push(e)),e.tiles.push(t)})),{gridTiles:n,gridTileSizes:o}})(this.Pa,a,this.KN),h=l.gridTiles.map((t=>{const e=new Float32Array(t.sizeHeatmapDataVectors.primary*t.sizeHeatmapDataVectors.secondary);return{...t,intensityData:e,hasIntensityData:!1}})),c=l.gridTileSizes.map((t=>({...t,tiles:h.filter((e=>e.sizeHeatmapDataVectors.primary===t.sizeHeatmapData.primary&&e.sizeHeatmapDataVectors.secondary===t.sizeHeatmapData.secondary))})));this.tG={gridTiles:h,gridTileSizes:c},this.qy(this.Yt,this.ZN)}wi(){return this.iG}zr(){const t=this.JN,e=this.Je,i=this.nl(),n=this.Zy,r=n!==this.sG,s=this.dz.wireframeStyleLine(r),o=this.dz.wireframeStyleFill(r),a=s&&o&&!this.oi.Ot(),l=this.dz.fillStylePaletted(i),h=this.dz.fillStyleSolid(i),c=this.XN.o,u=this.XN.C(),d=this.mc,f=this.li.C();this.eG=this.eG||this.hG();const g=this.eG,p=sb(t,g,d?"intensity":void 0,(t=>t.sizeHeatmapDataVectors));p.size>0&&(lb(this.PB,p,(t=>t.intensityData),(t=>t.intensityDataTexture)),this.QN=!0),this.hD.uE(this.oi);const m=this.yV;if((i||c)&&(m.tile=l?{renderMode:"paletted",fillStylePaletted:l,shader:this.PB.eR(Bv["2D"],Bv.ColorGrid2D({heatmapType:"intensity",interpolation:"bilinear"===u&&"bilinear",flipXY:"rows"===this.Pa.dataOrder,intensityTextureType:this.PB.KD?"float":"ubyte",littleEndian:this.PB.IS_MACHINE_LITTLE_ENDIAN,lut:l.lut}),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0}))}:h?{renderMode:"solid",fillStyleSolid:h,shader:this.PB.eR(Bv["2D"],Bv.Color({dataType:"uniform"}),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0}))}:void 0),r&&(m.wireframe=a&&s&&o?-1===s.getThickness()?{renderMode:"primitive",shader:this.PB.eR(Bv["2D"],Bv.Color({dataType:"uniform"}),Bv.VertexLocation({translation:{dataType:"uniform",sizeUnit:"axis"},scaling:{dataType:"uniform"},flipXY:"rows"===this.Pa.dataOrder,axisWorldTranslation:dl(this.oi),normalSource:void 0})),fillStyleSolid:o}:{renderMode:"triangulated",shader:this.PB.eR(Bv["2D"],Bv.Color({dataType:"uniform"}),Bv.LineInstanced2D({translation:{dataType:"uniform",sizeUnit:"axis"},scaling:{dataType:"uniform"},flipXY:"rows"===this.Pa.dataOrder,axisWorldTranslation:dl(this.oi),normalSource:void 0})),geometry:Hx(this.PB,1),solidLine:s,fillStyleSolid:o}:void 0,m.wireframe?this.rG=this.rG||this.nG():this.rG&&(this.PB.gE(this.rG.wireframeCoordinatesBuffer),this.rG=void 0)),m.mousePicking=f?this.yV.mousePicking||{shader:this.PB.eR(Bv["2D"],Bv.MousePicking(),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0}))}:void 0,this.yV=m,void 0===this.iG&&l&&"value"===l.lookUpProperty&&l.lut.percentageValues){let t=ro,e=so;this.eG.gridTiles.forEach((i=>{for(let n=0;n<i.intensityData.length;n+=1){const r=i.intensityData[n];r<t&&(t=r),r>e&&(e=r)}})),this.iG={min:t,max:e}}return this.mc=!1,this.JN.length=0,this.cl(e),this.sG=n,this.XN.o=!1,this}hG(){const t=this.tG.gridTiles.map((t=>{const e=ab(this.PB,t.sizeHeatmapDataVectors.secondary,t.sizeHeatmapDataVectors.primary);return{...t,intensityDataTexture:e,tileData:t}})),e=this.tG.gridTileSizes.map((e=>({...e,tiles:t.filter((t=>t.sizeHeatmapDataVectors.primary===e.sizeHeatmapData.primary&&t.sizeHeatmapDataVectors.secondary===e.sizeHeatmapData.secondary))}))),i=this.PB.iE(new Float32Array(16)),n=this.PB.gl.TRIANGLE_STRIP;return{gridTiles:t,gridTileSizes:e,rectangleLocationsBuffer:i,rectangleLocationsDrawMode:n,rectangleLocationsDrawLength:4}}nG(){const t=this.Pa.primaryDimensionVectorsCount+1+this.Pa.secondaryDimensionVectorsCount+1,e=new Float32Array(4*t);let i=0;for(let n=0;n<this.Pa.primaryDimensionVectorsCount+1;n+=1)e[i+0]=n,e[i+1]=0,e[i+2]=n,e[i+3]=this.Pa.secondaryDimensionVectorsCount,i+=4;for(let n=0;n<this.Pa.secondaryDimensionVectorsCount+1;n+=1)e[i+0]=0,e[i+1]=n,e[i+2]=this.Pa.primaryDimensionVectorsCount,e[i+3]=n,i+=4;return{wireframeCoordinatesBuffer:this.PB.iE(e),wireframeSegmentsLength:t}}qy(t,e){super.qy(t,e);const i=this.Pa,n=Tn({x:Math.min(this.Yt.x,this.Yt.x+i.columns*this.ZN.x),y:Math.min(this.Yt.y,this.Yt.y+i.rows*this.ZN.y)},{x:Math.max(this.Yt.x,this.Yt.x+i.columns*this.ZN.x),y:Math.max(this.Yt.y,this.Yt.y+i.rows*this.ZN.y)}),r=new Map;return this.tG.gridTiles.forEach((t=>{const e="columns"===this.Pa.dataOrder?{x:this.Yt.x+this.ZN.x*t.iFirstVector.primary,y:this.Yt.y+this.ZN.y*t.iFirstVector.secondary}:{x:this.Yt.x+this.ZN.x*t.iFirstVector.secondary,y:this.Yt.y+this.ZN.y*t.iFirstVector.primary},i="columns"===this.Pa.dataOrder?{x:this.ZN.x*t.sizeHeatmapDataVectors.primary,y:this.ZN.y*t.sizeHeatmapDataVectors.secondary}:{x:this.ZN.x*t.sizeHeatmapDataVectors.secondary,y:this.ZN.y*t.sizeHeatmapDataVectors.primary},n="columns"===this.Pa.dataOrder?{x:this.Yt.x+this.ZN.x*t.iFirstUniqueVector.primary,y:this.Yt.y+this.ZN.y*t.iFirstUniqueVector.secondary}:{x:this.Yt.x+this.ZN.x*t.iFirstUniqueVector.secondary,y:this.Yt.y+this.ZN.y*t.iFirstUniqueVector.primary},s="columns"===this.Pa.dataOrder?{x:this.ZN.x*t.sizeUniqueHeatmapDataVectors.primary,y:this.ZN.y*t.sizeUniqueHeatmapDataVectors.secondary}:{x:this.ZN.x*t.sizeUniqueHeatmapDataVectors.secondary,y:this.ZN.y*t.sizeUniqueHeatmapDataVectors.primary};r.set(t,{startLocationAxis:e,sizeAxis:i,startRenderLocationAxis:n,renderSizeAxis:s})})),this.oG={boundaries:n,tilesInfo:r},this}Su(t,e){var i,n;const r=this.eG,s=this.oG,o=1===t?null===(i=this.yV.mousePicking)||void 0===i?void 0:i.shader:null===(n=this.yV.tile)||void 0===n?void 0:n.shader;if(this.yV.tile&&o&&r&&s){const i=o,n=this.yV.tile,a={x:(s.boundaries.max.x-s.boundaries.min.x)*Math.sign(this.ZN.x),y:(s.boundaries.max.y-s.boundaries.min.y)*Math.sign(this.ZN.y)},l={x:a.x/this.Pa.columns,y:a.y/this.Pa.rows},h=this.oi.ri(),c={x:l.x/h.x,y:l.y/h.y};this.PB.Xu(i).eE(i,((i,o,a)=>{let l=!1;if(!this.PB.EO(a,t,this,{uniforms:this.hD,idFirst:e,fillStyleSolid:"solid"===n.renderMode&&n.fillStyleSolid}))return!1;if("solid"===n.renderMode||1===t){const t=xs([{x:this.Yt.x,y:this.Yt.y},{x:this.Yt.x+this.ZN.x*this.Pa.columns,y:this.Yt.y},{x:this.Yt.x,y:this.Yt.y+this.ZN.y*this.Pa.rows},{x:this.Yt.x+this.ZN.x*this.Pa.columns,y:this.Yt.y+this.ZN.y*this.Pa.rows}],this.oi.Ot());this.PB.RE(r.rectangleLocationsBuffer,0,t),this.PB.mO(a,r.rectangleLocationsBuffer,this.oi.Ot(),void 0).Mk(this.PB.gl.TRIANGLE_STRIP,4),l=!0}else"paletted"===n.renderMode&&(this.PB.BO(a,n.fillStylePaletted.lut,this.iG),h=t=>{this.PB.rE(i("uTileDimensions"),["columns"===this.Pa.dataOrder?t.sizeHeatmapData.primary:t.sizeHeatmapData.secondary,"columns"===this.Pa.dataOrder?t.sizeHeatmapData.secondary:t.sizeHeatmapData.primary])},u=(t,e)=>{const n=s.tilesInfo.get(t.tileData);if(!n)return;let o;const h=this.PB.GR();if("bilinear"===this.XN.C()){const t=(this.oi.x.Bt(n.startLocationAxis.x)+c.x/2)*h,e=(this.oi.y.Bt(n.startLocationAxis.y)+c.y/2)*h;o=[t,e,(this.oi.x.Bt(n.startLocationAxis.x+n.sizeAxis.x)-c.x/2)*h-t,(this.oi.y.Bt(n.startLocationAxis.y+n.sizeAxis.y)-c.y/2)*h-e]}else{const t=this.oi.x.Bt(n.startLocationAxis.x)*h,e=this.oi.y.Bt(n.startLocationAxis.y)*h;o=[t,e,this.oi.x.Bt(n.startLocationAxis.x+n.sizeAxis.x)*h-t,this.oi.y.Bt(n.startLocationAxis.y+n.sizeAxis.y)*h-e]}const u=xs([{x:n.startRenderLocationAxis.x,y:n.startRenderLocationAxis.y},{x:n.startRenderLocationAxis.x+n.renderSizeAxis.x,y:n.startRenderLocationAxis.y},{x:n.startRenderLocationAxis.x,y:n.startRenderLocationAxis.y+n.renderSizeAxis.y},{x:n.startRenderLocationAxis.x+n.renderSizeAxis.x,y:n.startRenderLocationAxis.y+n.renderSizeAxis.y}],this.oi.Ot());this.PB.RE(r.rectangleLocationsBuffer,0,u),this.PB.fE(i("uTileBounds"),o).nE(i("uTileIntensityValues"),t.intensityDataTexture,1).mO(a,r.rectangleLocationsBuffer,this.oi.Ot(),void 0).Mk(this.PB.gl.TRIANGLE_STRIP,4),l=!0},r.gridTileSizes.forEach((t=>{h(t),t.tiles.forEach((t=>{u(t)}))})));var h,u;return l}))}const a=this.rG,l=this.yV.wireframe,h=1===t||null==l?void 0:l.shader;if(a&&l&&h&&"primitive"===l.renderMode){const{fillStyleSolid:e}=l;this.PB.Xu(h).eE(h,((i,n,r)=>((this.oi instanceof sr||this.oi instanceof ul)&&this.PB.rE(i("uScale"),this.hD.aE()).rE(i("uDisp"),this.hD.lE()),this.PB.oE(i("uIsHighlighted"),1===t||2===t?0:this.Ai).wI(i("uHighlightColorOffset"),1===t||2===t?Hn:this.Si).oE(i("uRenderEffectMask"),2===t?1:0).wI(i("uColor"),e.getColor()).hE(a.wireframeCoordinatesBuffer,void 0,{location:n("aPos"),size:2}).rE(i("uScaling"),[this.ZN.x,this.ZN.y]).rE(i("uTranslationAxis"),[this.Yt.x,this.Yt.y]).Mk(this.PB.gl.LINES,2*a.wireframeSegmentsLength),!0)))}else if(a&&l&&h&&"triangulated"===l.renderMode){const{geometry:e,solidLine:i,fillStyleSolid:n}=l;this.PB.Xu(h).eE(h,((r,s,o)=>((this.oi instanceof sr||this.oi instanceof ul)&&this.PB.rE(r("uScale"),this.hD.aE()).rE(r("uDisp"),this.hD.lE()),this.PB.oE(r("uIsHighlighted"),1===t||2===t?0:this.Ai).wI(r("uHighlightColorOffset"),1===t||2===t?Hn:this.Si).oE(r("uRenderEffectMask"),2===t?1:0).wI(r("uColor"),n.getColor()).oE(r("uThicknessPixels"),i.getThickness()).rE(r("uRatioPxClip"),[2/this.gi._t().x,2/this.gi._t().y]).hE(a.wireframeCoordinatesBuffer,1,{location:s("aLocationA"),size:2},{location:s("aLocationB"),size:2}).rE(r("uScaling"),[this.ZN.x,this.ZN.y]).rE(r("uTranslationAxis"),[this.Yt.x,this.Yt.y]),e.Xu(o,!1).Mk(a.wireframeSegmentsLength),!0)))}return{idCount:1}}xu(t,e,i,n,r){return{}}hp(t){return 0===t.lengthPrimary||0===t.lengthSecondary||(this.JN.push(t),ob(this.tG.gridTiles,t,(t=>(t.hasIntensityData=!0,t.intensityData))),this.iG=void 0),this}Ni(){return this.QN&&(this.tG.gridTiles.forEach((t=>{t.intensityData.fill(0),t.hasIntensityData=!1})),this.mc=!0,this.QN=!1,this.iG=void 0),this}dispose(){super.dispose();const t=this.eG;t&&(t.gridTiles.forEach((t=>{this.PB.DB(t.intensityDataTexture)})),t.gridTiles.length=0,t.gridTileSizes.forEach((t=>{})),t.gridTileSizes.length=0,this.PB.gE(t.rectangleLocationsBuffer)),this.eG=void 0;const e=this.rG;return e&&this.PB.gE(e.wireframeCoordinatesBuffer),this.rG=void 0,this.yV={},this}bu(){return this.dispose(),this}Ad(t){const e=t,i="columns"===this.Pa.dataOrder?e.x:e.y,n="columns"===this.Pa.dataOrder?e.y:e.x,r="columns"===this.Pa.dataOrder?this.Yt.x:this.Yt.y,s="columns"===this.Pa.dataOrder?this.Yt.y:this.Yt.x;let o=(i-r)/("columns"===this.Pa.dataOrder?this.ZN.x:this.ZN.y),a=(n-s)/("columns"===this.Pa.dataOrder?this.ZN.y:this.ZN.x);o=Math.floor(Qr(o,0,this.Pa.primaryDimensionVectorsCount-1)),a=Math.floor(Qr(a,0,this.Pa.secondaryDimensionVectorsCount-1));const l=this.aG(o,a),h="columns"===this.Pa.dataOrder?{x:this.Yt.x+(o+.5)*this.ZN.x,y:this.Yt.y+(a+.5)*this.ZN.y}:{x:this.Yt.x+(a+.5)*this.ZN.x,y:this.Yt.y+(o+.5)*this.ZN.y},c="columns"===this.Pa.dataOrder?o:a,u="columns"===this.Pa.dataOrder?a:o;return{x:h.x,y:h.y,column:c,row:u,cellValue:l}}Jb(t){const e=this.oG;if(!e||t.x<e.boundaries.min.x||t.x>e.boundaries.max.x||t.y<e.boundaries.min.y||t.y>e.boundaries.max.y)return;const i=t,n="columns"===this.Pa.dataOrder?i.x:i.y,r="columns"===this.Pa.dataOrder?i.y:i.x,s="columns"===this.Pa.dataOrder?this.Yt.x:this.Yt.y,o="columns"===this.Pa.dataOrder?this.Yt.y:this.Yt.x,a="columns"===this.Pa.dataOrder?this.ZN.x:this.ZN.y,l="columns"===this.Pa.dataOrder?this.ZN.y:this.ZN.x,h=Qr((n-s)/a-.5,0,this.Pa.primaryDimensionVectorsCount-1),c=Qr((r-o)/l-.5,0,this.Pa.secondaryDimensionVectorsCount-1),u=Qr(Math.ceil(h)-1,0,this.Pa.primaryDimensionVectorsCount-1),d=Qr(Math.ceil(c)-1,0,this.Pa.secondaryDimensionVectorsCount-1),f={point:{x:u,y:d},value:this.aG(u,d)},g={point:{x:u,y:d+1},value:this.aG(u,d+1)},p={point:{x:u+1,y:d},value:this.aG(u+1,d)},m={point:{x:u+1,y:d+1},value:this.aG(u+1,d+1)},y=Da({x:h,y:c},f,g,p,m);if(void 0===y)return;const v=Qr(Math.floor(h+.5),0,this.Pa.primaryDimensionVectorsCount-1),x=Qr(Math.floor(c+.5),0,this.Pa.secondaryDimensionVectorsCount-1),b="columns"===this.Pa.dataOrder?v:x,S="columns"===this.Pa.dataOrder?x:v,A=t;return{x:A.x,y:A.y,column:b,row:S,cellValue:y}}aG(t,e){for(let i=0;i<this.tG.gridTiles.length;i+=1){const n=this.tG.gridTiles[i];if(t>=n.iFirstVector.primary&&t<=n.iFirstVector.primary+n.sizeHeatmapDataVectors.primary-1&&e>=n.iFirstVector.secondary&&e<=n.iFirstVector.secondary+n.sizeHeatmapDataVectors.secondary-1){const i=t-n.iFirstVector.primary,r=e-n.iFirstVector.secondary,s=i*n.sizeHeatmapDataVectors.secondary+r;return n.intensityData[s]}}return 0}Xi(){var t;return(null===(t=this.oG)||void 0===t?void 0:t.boundaries.max.x)||0}Wi(){var t;return(null===(t=this.oG)||void 0===t?void 0:t.boundaries.min.x)||0}Ji(){var t;return(null===(t=this.oG)||void 0===t?void 0:t.boundaries.max.y)||0}Zi(){var t;return(null===(t=this.oG)||void 0===t?void 0:t.boundaries.min.y)||0}lc(){return 0}cc(){return 0}Qb(){const t=[];return this.tG.gridTiles.forEach((e=>{if(!e.hasIntensityData)return;const i=new Array(e.sizeUniqueHeatmapDataVectors.primary).fill(0).map((t=>new Array(e.sizeUniqueHeatmapDataVectors.secondary).fill(0)));for(let t=0;t<e.sizeUniqueHeatmapDataVectors.primary;t+=1){const n=t*e.sizeHeatmapDataVectors.secondary,r=i[t];for(let t=0;t<e.sizeUniqueHeatmapDataVectors.secondary;t+=1){const i=e.intensityData[n+t];r[t]=i}}t.push({type:"intensity",startPrimary:e.iFirstUniqueVector.primary,startSecondary:e.iFirstUniqueVector.secondary,lengthPrimary:e.sizeUniqueHeatmapDataVectors.primary,lengthSecondary:e.sizeUniqueHeatmapDataVectors.secondary,values:i})})),t}}class ub extends lc{constructor(t,e,i,n,r,s){super(t,e,i,n,r),this.Yt={x:0,y:0},this.ZN={x:1,y:1},this.Zy=tc.lineStyle,this.du=Fn(void 0),this.XN=Fn("bilinear"),this.engine=t,this.Pa=s}qy(t,e){return this.Yt=t,this.ZN=e,this}tp(){return{start:this.Yt,step:this.ZN}}Jy(t){return this.Zy="function"==typeof t?t(this.Zy):t,this}ip(){return this.Zy}tx(t){return this.du._(t),this}lG(){return this.du.C()}sp(t){return this.XN._(t),this}ep(){return this.XN.C()}}class db extends ub{constructor(t,e,i,n,r,s){super(t,e,i,n,r,s),this.cG=0,this.ix=[],this.hz=t,this.rz=e,this.PB=t.nz(),this.rz=e,this.rc="columns"===s.scrollDimension?Tn({x:this.Yt.x,y:this.Yt.y},{x:this.Yt.x,y:this.Yt.y+s.resolution*this.ZN.y}):Tn({x:this.Yt.x,y:this.Yt.y},{x:this.Yt.x+s.resolution*this.ZN.x,y:this.Yt.y}),this.uG={dataPerSegment:2048}}zr(){this.yN||(this.pi.push({type:"DataPattern",args:{pattern:"columns"===this.Pa.scrollDimension?this.ZN.x>0?"ProgressiveX":"RegressiveX":this.ZN.y>0?"ProgressiveY":"RegressiveY"}}),this.yN=new Qx(this.oi,this));const t=this.yN.lN(this.ix,this.du.C());if(t>0){for(let e=0;e<t;e+=1)this.ix[0].shape.dispose().bu(),this.ix.shift();"columns"===this.Pa.scrollDimension?this.rc.min.x=this.ix.length>0?this.ix[0].boundaries.min.x:ro:this.rc.min.y=this.ix.length>0?this.ix[0].boundaries.min.y:ro}this.ix.forEach((t=>t.shape.zr()));const e=this.ix.reduce(((t,e)=>{var i,n;return t.min=Math.min(t.min,ts(null===(i=e.shape.iG)||void 0===i?void 0:i.min,ro)),t.max=Math.max(t.max,ts(null===(n=e.shape.iG)||void 0===n?void 0:n.max,so)),t}),{min:ro,max:so});return this.ix.forEach((t=>{t.shape.iG=e})),this.du.o=!1,this}Su(t,e){let i=0;return this.ix.forEach((n=>{const{idCount:r}=n.shape.Su(t,e+i);void 0!==r&&(i+=r)})),{idCount:i}}wi(){var t;return null===(t=this.ix[0])||void 0===t?void 0:t.shape.wi()}xu(t,e,i,n,r){return{}}lp(t){if(0===t.length)return this;let e=0;const i=this.uG.dataPerSegment,n=t.length;do{let r=this.ix[this.ix.length-1],s=r?i-(r.existingDataPointsCount+(r.hasJoint?1:0)):0,o=!1;if(!r||0===s){const t={columns:"columns"===this.Pa.scrollDimension?i:this.Pa.resolution,rows:"rows"===this.Pa.scrollDimension?i:this.Pa.resolution,heatmapDataType:this.Pa.heatmapDataType,dataOrder:this.Pa.scrollDimension};let e="columns"===this.Pa.scrollDimension?{x:this.Yt.x+this.ZN.x*this.cG,y:this.Yt.y}:{x:this.Yt.x,y:this.Yt.y+this.ZN.y*this.cG};this.ix.length>0&&(e="columns"===this.Pa.scrollDimension?{x:e.x-1*this.ZN.x,y:e.y}:{x:e.x,y:e.y-1*this.ZN.y},o=!0);const n=new cb(this.hz,this.rz,this.oi,Jr,[],t).sp(this.XN.C()).th(this.Je).Jy(this.Zy).qy(e,this.ZN);r={shape:n,existingDataPointsCount:0,existingCoordinatesCount:0,allocatedCoordinatesCount:i,dataStartIndex:this.cG,hasJoint:!1,boundaries:{min:{x:n.Wi(),y:n.Zi()},max:{x:n.Xi(),y:n.Ji()}}},this.ix.push(r),s=i-(o?1:0)}const a=n-e,l=Math.min(s,a),h=t.slice(e,e+l),c={type:"intensity",values:h,startPrimary:r.existingDataPointsCount+(r.hasJoint?1:0),startSecondary:0,lengthPrimary:l,lengthSecondary:this.Pa.resolution};o&&(c.values.unshift(this.dG),c.lengthPrimary+=1,r.hasJoint=!0),r.shape.hp(c),r.existingDataPointsCount+=l,r.existingCoordinatesCount+=l+(o?1:0),this.dG=h[h.length-1],this.cG+=l,e+=l}while(e<n);return this.rc.max="columns"===this.Pa.scrollDimension?{...this.rc.max,x:this.Yt.x+this.cG*this.ZN.x}:{...this.rc.max,y:this.Yt.y+this.cG*this.ZN.y},this}hp(t,e){if(e.length<=0)return this;const i=t,n=t+e.length-1,r=e[0].length;if(r<=0)return this;this.ix.forEach((t=>{const s=t.dataStartIndex,o=t.dataStartIndex+t.existingDataPointsCount-1;if(n<s||i>o)return;const a=Math.max(i,s),l=Math.min(n,o),h=l-a+1,c=e.slice(a-i,l-i+1),u=i-s+(t.hasJoint?1:0),d={type:"intensity",startSecondary:0,lengthSecondary:r,startPrimary:u,lengthPrimary:h,values:c};t.shape.hp(d)}));const s=this.cG-1;if(n>s){const t=n-s,i=e.slice(-t);if(i.length<t){const e=this.dG||new Array(r).fill(0);for(let n=i.length;n<t;n+=1)i.unshift(e)}this.lp(i)}return this}cp(){return this.cG}Ni(){return this.ix.forEach((t=>{t.shape.dispose().bu()})),this.ix.length=0,this.rc="columns"===this.Pa.scrollDimension?Tn({x:this.Yt.x,y:this.Yt.y},{x:this.Yt.x,y:this.Yt.y+this.Pa.resolution*this.ZN.y}):Tn({x:this.Yt.x,y:this.Yt.y},{x:this.Yt.x+this.Pa.resolution*this.ZN.x,y:this.Yt.y}),this.cG=0,this.dG=void 0,this}qy(t,e){return super.qy(t,e),this.ix.forEach(((i,n)=>{const r={x:t.x+i.dataStartIndex*e.x,y:t.y+i.dataStartIndex*e.y};i.shape.qy(r,e),i.boundaries={min:{x:i.shape.Wi(),y:i.shape.Zi()},max:{x:i.shape.Xi(),y:i.shape.Ji()}}})),this.ix.length>0?this.rc=Eo(...this.ix.map((t=>t.boundaries))):this.rc="columns"===this.Pa.scrollDimension?Tn({x:this.Yt.x,y:this.Yt.y},{x:this.Yt.x,y:this.Yt.y+this.Pa.resolution*this.ZN.y}):Tn({x:this.Yt.x,y:this.Yt.y},{x:this.Yt.x+this.Pa.resolution*this.ZN.x,y:this.Yt.y}),this}th(t){return super.th(t),this.ix.forEach((t=>t.shape.th(this.Je))),this}Jy(t){return super.Jy(t),this.ix.forEach((t=>t.shape.Jy(this.Zy))),this}sp(t){return super.sp(t),this.ix.forEach((e=>e.shape.sp(t))),this}dispose(){return super.dispose(),this.ix.forEach((t=>t.shape.dispose())),this}setVisible(t){return super.setVisible(t),this.ix.forEach((e=>e.shape.setVisible(t))),this}bu(){return this.ix.forEach((t=>t.shape.bu())),this}Ad(t){const e=hr(t,this.oi,this.engine.oi),i=this.ix.reduce(((i,n)=>{const r=n.shape.Ad(t);if(r){const t=vo(hr(r,this.oi,this.engine.oi),e);if(void 0===i||t<i.distance)return{result:r,distance:t,segment:n}}return i}),void 0);if(i&&i.result){const t="columns"===this.Pa.scrollDimension?i.result.column+i.segment.dataStartIndex:i.result.column,e="rows"===this.Pa.scrollDimension?i.result.row+i.segment.dataStartIndex:i.result.row;if("columns"===this.Pa.scrollDimension&&t>=this.cG||"rows"===this.Pa.scrollDimension&&e>=this.cG)return;return{x:i.result.x,y:i.result.y,column:t,row:e,cellValue:i.result.cellValue}}}Jb(t){const e=hr(t,this.oi,this.engine.oi),i=this.ix.reduce(((i,n)=>{const r=n.shape.Jb(t);if(r){const t=vo(hr(r,this.oi,this.engine.oi),e);if(void 0===i||t<i.distance)return{result:r,distance:t,segment:n}}return i}),void 0);if(i&&i.result){const t="columns"===this.Pa.scrollDimension?i.result.column+i.segment.dataStartIndex:i.result.column,e="rows"===this.Pa.scrollDimension?i.result.row+i.segment.dataStartIndex:i.result.row;if("columns"===this.Pa.scrollDimension&&t>=this.cG||"rows"===this.Pa.scrollDimension&&e>=this.cG)return;return{x:i.result.x,y:i.result.y,column:t,row:e,cellValue:i.result.cellValue}}}Xi(){return this.rc.max.x}Wi(){return this.rc.min.x}Ji(){return this.rc.max.y}Zi(){return this.rc.min.y}lc(){return 0}cc(){return 0}Fi(t){return super.Fi(t),this.ix.forEach((e=>e.shape.Fi(t))),this}}class fb extends lc{constructor(t,e,i,n,r,s){super(t,e,i,n,r),this.XN=Fn("bilinear"),this.Zy=tc.lineStyle,this.Pa=s}sp(t){return this.XN._(t),this}ep(){return this.XN.C()}Jy(t){return this.Zy="function"==typeof t?t(this.Zy):t,this}ip(){return this.Zy}}class gb extends fb{constructor(t,e,i,n,r,s){super(t,e,i,n,r,s),this.hD=new wx,this.yV={},this.dz=gl({fillStyleSolid:()=>la(this.Je)&&this.Je,fillStylePaletted:()=>fa(this.Je)&&this.Je}),this.hz=t,this.rz=e,this.PB=t.nz(),this.rz=e,this.Xb=new cb(this.hz,t.fG,t.oi,Jr,[],{columns:s.sectors,rows:s.annuli,heatmapDataType:"intensity",dataOrder:"annuli"===s.dataOrder?"rows":"columns",qN:this.PB.BB}).Jy(Br);const o=2*Math.PI/360,a=new Float32Array(724);let l=0;a[l+0]=0,a[l+1]=0,l+=2;for(let h=0;h<=360;h+=1){const t=h*o,e=Math.cos(t),i=Math.sin(t);a[l+0]=e,a[l+1]=i,l+=2}this.AG={vertexBuffer:this.PB.iE(a),drawMode:this.PB.gl.TRIANGLE_FAN,drawLength:362}}zr(){const t=this.nl(),e=this.Je,i=this.dz.fillStyleSolid(t),n=this.dz.fillStylePaletted(t),r=i||n,s=this.XN.C(),o=this.XN.o,a=this.li.C(),l=this.li.o;return this.hD.uE(this.oi),this.Xb.zr(),this.Xb.eG?((t||o)&&(this.yV.fill=r?{shader:this.PB.eR(Bv["2D"],Bv.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:dl(this.oi),normalSource:void 0}),n&&Bv.PolarHeatmap({interpolation:"bilinear"===s&&"bilinear",intensityTextureType:this.PB.KD?"float":"ubyte",littleEndian:this.PB.IS_MACHINE_LITTLE_ENDIAN,flipXY:"sectors"===this.Pa.dataOrder,lut:n.lut}),i&&Bv.PolarHeatmap({dataType:"uniform"})),fillStylePaletted:n,fillStyleSolid:i}:void 0),l&&(this.yV.mousePicking=a?{shader:this.PB.eR(Bv["2D"],Bv.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:dl(this.oi),normalSource:void 0}),Bv.MousePicking())}:void 0),this.cl(e),this.XN.o=!1,this.li.o=!1,this):this}Su(t,e){var i;const{vertexBuffer:n,drawLength:r,drawMode:s}=this.AG,o=this.Xb.eG;if(!this.yV.fill||!o)return{};const{fillStylePaletted:a,fillStyleSolid:l}=this.yV.fill,h=1===t?null===(i=this.yV.mousePicking)||void 0===i?void 0:i.shader:this.yV.fill.shader;if(!h)return{};const c=this.oi.ue(),u=Math.min(c.start,c.end),d=Math.max(c.start,c.end),f=Math.min(this.Pa.amplitudeStart,this.Pa.amplitudeStart+(this.Pa.annuli-1)*this.Pa.amplitudeStep),g=Math.max(this.Pa.amplitudeStart,this.Pa.amplitudeStart+(this.Pa.annuli-1)*this.Pa.amplitudeStep);let p;return p=c.end>c.start?Math.min(g,d)-c.start:Math.max(f,u)-c.start,this.PB.Xu(h).eE(h,((i,h,c,u)=>{if(this.PB.rE(i("uScale"),this.hD.aE()).rE(i("uDisp"),this.hD.lE()).oE(i("uIsHighlighted"),1===t||2===t?0:this.Ai).wI(i("uHighlightColorOffset"),1===t||2===t?Hn:this.Si).oE(i("uRenderEffectMask"),2===t?1:0).rE(u("uViewportSize"),[this.hz._t().x*this.PB.GR()/(1===t?this.gi.Pa.Ba:1),this.hz._t().y*this.PB.GR()/(1===t?this.gi.Pa.Ba:1)]).rE(i("uScaling"),[p,p]).rE(i("uTranslationAxis"),[0,0]).hE(n,void 0,{location:h("aPos"),size:2}).oE(u("uAngleOffset"),this.oi.ve()%(2*Math.PI)).oE(u("uAngleDirection"),this.oi.Ae()?1:-1).oE(u("uSectors"),this.Pa.sectors).oE(u("uAnnuli"),this.Pa.annuli),1===t)this.PB.PE(i("uFirstId"),e).kO(c,1);else{if(a){const t=this.Xb.iG;this.PB.oE(i("uAmplitudeStart"),this.Pa.amplitudeStart).oE(i("uAmplitudeStep"),this.Pa.amplitudeStep).oE(i("uAmplitudeAxisStart"),this.oi.ue().start).oE(i("uAmplitudeAxisEnd"),this.oi.ue().end).BO(c,a.lut,t).nE(i("uTileIntensityValues"),o.gridTiles[0].intensityDataTexture,0)}l&&this.PB.wI(i("uColor"),l.getColor())}return this.PB.Mk(s,r),!0})),{idCount:1}}wi(){return this.Xb.wi()}xu(t,e,i,n,r){return{}}hp(t){return this.Xb.hp(t),this}Ni(){return this.Xb.Ni(),this}dispose(){return super.dispose(),this.Xb.dispose(),this.yV={},this.PB.gE(this.AG.vertexBuffer),this}bu(){return this.dispose(),this}th(t){return super.th(t),this.Xb.th(this.Je),this}Ad(t){const e=this.Pa.amplitudeStart,i=this.Pa.amplitudeStart+(this.Pa.annuli-1)*this.Pa.amplitudeStep,n=Math.min(e,i),r=Math.max(e,i);(t.angle<0||t.angle>360||t.amplitude<n||t.amplitude>r)&&(t.angle=Qr(t.angle,0,360),t.amplitude=Qr(t.amplitude,r,r));let s=Math.round((t.angle-0)/360*this.Pa.sectors);s>=this.Pa.sectors&&(s=0);const o=Math.round((t.amplitude-e)/(i-e)*(this.Pa.annuli-1));return{iAnnulus:o,iSector:s,cellValue:this.aG(o,s),angle:s*(360/this.Pa.sectors),amplitude:e+o*(i-e)/(this.Pa.annuli-1)}}Jb(t){const e=this.Pa.amplitudeStart,i=this.Pa.amplitudeStart+(this.Pa.annuli-1)*this.Pa.amplitudeStep,n=Math.min(e,i),r=Math.max(e,i);(t.angle<0||t.angle>360||t.amplitude<n||t.amplitude>r)&&(t.angle=Qr(t.angle,0,360),t.amplitude=Qr(t.amplitude,r,r));const s=(t.angle-0)/360*this.Pa.sectors,o=(t.amplitude-e)/(i-e)*(this.Pa.annuli-1),a=Math.floor(s),l=Math.floor(o),h={point:{x:l,y:a},value:this.aG(l,a)},c={point:{x:l,y:a+1},value:this.aG(l,a+1)},u={point:{x:l+1,y:a},value:this.aG(l+1,a)},d={point:{x:l+1,y:a+1},value:this.aG(l+1,a+1)},f=Da({x:o,y:s},h,c,u,d);if(void 0!==f)return{iAnnulus:l,iSector:a,cellValue:f,angle:t.angle,amplitude:t.amplitude}}aG(t,e){const i="annuli"===this.Pa.dataOrder?t:e,n="annuli"===this.Pa.dataOrder?e:t;for(let r=0;r<this.Xb.tG.gridTiles.length;r+=1){const t=this.Xb.tG.gridTiles[r];if(i>=t.iFirstVector.primary&&i<=t.iFirstVector.primary+t.sizeHeatmapDataVectors.primary-1&&n>=t.iFirstVector.secondary&&n<=t.iFirstVector.secondary+t.sizeHeatmapDataVectors.secondary-1){const e=i-t.iFirstVector.primary,r=n-t.iFirstVector.secondary,s=e*t.sizeHeatmapDataVectors.secondary+r;return t.intensityData[s]}}return 0}Xi(){return 0}Wi(){return 0}Ji(){return 0}Zi(){return 0}lc(){return 0}cc(){return 0}}class pb extends px{constructor(t){super(t);const{vertices:e,drawMode:i,drawSize:n}=this.hV();this.rV=t.iE(e),this.oV=n,this.aV=i}Xu(t){return this.PB.hE(this.rV,0,{location:t.attribute("aCurveOrBaseline"),size:1},{location:t.attribute("aSegmentSide"),size:1}),this}Mk(t,e,i){return this.PB.XE(void 0!==e?e:this.aV,i||0,this.oV,t),this}hV(){return{vertices:new Float32Array([1,0,0,0,0,1,0,1,1,1,1,0]),drawMode:this.PB.gl.TRIANGLES,drawSize:6}}wR(){this.PB.gE(this.rV)}}const mb=t=>{let e=t.xE.SR.get(void 0);return e||(e=new pb(t),t.xE.SR.set(void 0,e),e)};class yb extends px{constructor(t,e,i,n,r){super(t),this.aV=i,this.gG=e.length,this.bB=t.iE(xs(e,!1)),this.vG=n,r&&(this.yG={...r,bB:t.iE(r.iM,!1),gG:r.iM.length/4})}pG(t){return t>1}Mk(t,e,i,n,r,s){return"object"==typeof r?e?this.PB.YE(t.attribute("aOffsetScale"),e,1,i*Float32Array.BYTES_PER_ELEMENT).rE(t.uniform(nv),[r.width,r.height]):this.PB.oE(t.uniform("uOffsetScale"),r.scale).rE(t.uniform(nv),[r.width,r.height]):s?e?this.PB.YE(t.attribute("".concat(yb.mG,"Amount")),e,1,i*Float32Array.BYTES_PER_ELEMENT):this.PB.oE(t.uniform("".concat(yb.mG,"Amount")),r):this.PB.oE(t.uniform("uPointSize"),r),s?this.PB.hE(this.bB,0,{location:t.attribute(yb.mG),size:2}).XE(this.aV,0,this.gG,n):this.PB.Mk(this.PB.gl.POINTS,n),this}SG(t,e,i,n,r,s){return!(!this.yG||!r||(e?this.PB.YE(t.attribute("".concat(yb.mG,"Amount")),e,1):this.PB.oE(t.uniform("".concat(yb.mG,"Amount")),n),this.PB.oE(t.uniform("".concat(yb.bG,"Amount")),s).hE(this.yG.bB,0,{location:t.attribute(yb.mG),size:2},{location:t.attribute(yb.bG),size:2}).XE(this.yG.aV,0,this.yG.gG,i),0))}wR(){var t;this.PB.gE(this.bB),this.PB.gE(null===(t=this.yG)||void 0===t?void 0:t.bB)}}yb.mG="aFillOffset",yb.bG="aBorderOffset";const vb=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=[En(-.5,-.5),En(.5,-.5),En(.5,.5),En(-.5,.5)];return new yb(t,i,t.gl.TRIANGLE_FAN,e,{iM:[-.5,-.5,0,0,-.5,-.5,-1,-1,.5,-.5,0,0,.5,-.5,1,-1,.5,.5,0,0,.5,.5,1,1,-.5,.5,0,0,-.5,.5,-1,1,-.5,-.5,0,0,-.5,-.5,-1,-1],aV:t.gl.TRIANGLE_STRIP})},xb=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=.05,n=[En(-.5,-.05),En(.5,-.05),En(.5,i),En(.5,i),En(-.5,i),En(-.5,-.05),En(-.05,-.5),En(i,-.5),En(i,-.05),En(i,-.05),En(-.05,-.05),En(-.05,-.5),En(-.05,.5),En(i,.5),En(i,i),En(i,i),En(-.05,i),En(-.05,.5)];return new yb(t,n,t.gl.TRIANGLES,e,{iM:[-.05,.5,0,0,-.05,.5,-1,1,i,.5,0,0,i,.5,1,1,i,i,0,0,i,i,1,1,.5,i,0,0,.5,i,1,1,.5,-.05,0,0,.5,-.05,1,-1,i,-.05,0,0,i,-.05,1,-1,i,-.5,0,0,i,-.5,1,-1,-.05,-.5,0,0,-.05,-.5,-1,-1,-.05,-.05,0,0,-.05,-.05,-1,-1,-.5,-.05,0,0,-.5,-.05,-1,-1,-.5,i,0,0,-.5,i,-1,1,-.05,i,0,0,-.05,i,-1,1,-.05,.5,0,0,-.05,.5,-1,1],aV:t.gl.TRIANGLE_STRIP})},bb=(t,e,i)=>{if(ll(t))return bb(Ra.Square,e,i);let n=e.xE.vR.get(t);if(t===Ra.Circle||t===Ra.HollowCircle){const r=i<=3?4:i<=5?8:i<=10?16:24;return t===Ra.Circle?(n=e.xE.yR.get(r)||function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=2*Math.PI/e,r=[],s=[];r.push({x:0,y:0});for(let o=0;o<=e;o+=1){const t=o*n,e=Math.cos(t),i=Math.sin(t),a=.5*e,l=.5*i;r.push({x:a,y:l}),s.push(a,l,0,0,a,l,e,i)}return new yb(t,r,t.gl.TRIANGLE_FAN,i,{iM:s,aV:t.gl.TRIANGLE_STRIP})}(e,r),e.xE.yR.set(r,n),n):(n=e.xE.pR.get(r)||function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=[],r=2*Math.PI/e;for(let s=0;s<=e;s+=1){const t=s*r,e=Math.cos(t),i=Math.sin(t);n.push({x:.5*e,y:.5*i}),n.push({x:.3*e,y:.3*i})}return new yb(t,n,t.gl.TRIANGLE_STRIP,i,void 0)}(e,r),e.xE.pR.set(r,n),n)}if(!n){switch(t){case Ra.Triangle:n=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=[{x:-.5773502691892515,y:.3333333333333333},{x:0,y:-.6666666666666666},{x:.5773502691892515,y:.3333333333333333}];return new yb(t,i,t.gl.TRIANGLES,e,{iM:[i[0].x,i[0].y,0,0,i[0].x,i[0].y,2*i[0].x,2*i[0].y,i[1].x,i[1].y,0,0,i[1].x,i[1].y,2*i[1].x,2*i[1].y,i[2].x,i[2].y,0,0,i[2].x,i[2].y,2*i[2].x,2*i[2].y,i[0].x,i[0].y,0,0,i[0].x,i[0].y,2*i[0].x,2*i[0].y],aV:t.gl.TRIANGLE_STRIP})}(e);break;case Ra.Square:n=vb(e);break;case Ra.Plus:n=xb(e);break;case Ra.Cross:n=xb(e,45);break;case Ra.Diamond:n=vb(e,45);break;case Ra.Arrow:n=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=.05,n=[En(-.05,-.5),En(i,-.5),En(i,.45),En(i,.45),En(-.05,.45),En(-.05,-.5),En(-.5,0),En(-.4,0),En(0,.4),En(0,.4),En(0,.5),En(-.5,0),En(.5,0),En(.4,0),En(0,.4),En(0,.4),En(0,.5),En(.5,0)];return new yb(t,n,t.gl.TRIANGLES,e,{iM:[-.5,0,0,0,-.5,0,-2,-1,0,.5,0,0,0,.5,0,1,.5,0,0,0,.5,0,2,-1,.4,0,0,0,.4,0,0,-1,i,.355,0,0,i,.355,1,-2,i,-.5,0,0,i,-.5,1,-1,-.05,-.5,0,0,-.05,-.5,-1,-1,-.05,.355,0,0,-.05,.355,-1,-2,-.4,0,0,0,-.4,0,0,-1,-.5,0,0,0,-.5,0,-2,-1],aV:t.gl.TRIANGLE_STRIP})}(e);break;case Ra.Star:n=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new yb(t,[{x:0,y:0},{x:0,y:.5},{x:.1,y:.1},{x:.5,y:.1},{x:.2,y:-.1},{x:.3,y:-.5},{x:0,y:-.25},{x:-.3,y:-.5},{x:-.2,y:-.1},{x:-.5,y:.1},{x:-.1,y:.1},{x:0,y:.5}],t.gl.TRIANGLE_FAN,e,{iM:[0,.5,0,0,0,.5,0,1,.1,.1,0,0,.1,.1,1,1,.5,.1,0,0,.5,.1,2,1,.2,-.1,0,0,.2,-.1,1,-1,.3,-.5,0,0,.3,-.5,1,-2,0,-.25,0,0,0,-.25,0,-1,-.3,-.5,0,0,-.3,-.5,-1,-2,-.2,-.1,0,0,-.2,-.1,-1,-1,-.5,.1,0,0,-.5,.1,-2,1,-.1,.1,0,0,-.1,.1,-1,1,0,.5,0,0,0,.5,0,1],aV:t.gl.TRIANGLE_STRIP})}(e);break;case Ra.Minus:n=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=.05,n=[En(-.5,-.05),En(.5,-.05),En(.5,i),En(.5,i),En(-.5,i),En(-.5,-.05)];return new yb(t,n,t.gl.TRIANGLES,e,{iM:[-.5,-.05,0,0,-.5,-.05,-1,-1,.5,-.05,0,0,.5,-.05,1,-1,.5,i,0,0,.5,i,1,1,-.5,i,0,0,-.5,i,-1,1,-.5,-.05,0,0,-.5,-.05,-1,-1],aV:t.gl.TRIANGLE_STRIP})}(e);break;default:return Us(0,"LightningChart JS unidentified point shape")}e.xE.vR.set(t,n)}return n};class Sb extends mc{constructor(t,e,i,n){super(t,e,i,n,[{type:"DataPattern",args:{pattern:"ProgressiveX"}}]),this.xG=tc.fillStyle,this.MG=Fn("bottom"),this.wG=tc.fillStyle,this._G=Br,this.kG=Fn(Ra.Circle),this.CG=Fn(5),this.TG=Fn(0),this.FG=Fn(void 0),this.yw=!0,this.IG={x:0,y:0}}Pw(t){this.MG.C()!==t&&this.MG._(t)}Bd(t){return this.xG=sc(this.xG,t),this}xw(){return this.xG}PG(){return oc(this.LG,this.xG)}BG(){return oc(this.DG,this.wG)}EG(){return this._G!==this.OG}Ld(t){return this.wG=sc(this.wG,t),Lr(this.wG)&&(this.Rd(Ra.Square),this.$d(1)),this}Vd(){return this.wG}Nd(t){return this._G="function"==typeof t?t(this._G):t,this}Gd(){return this._G}Rd(t){return this.kG._(t),ll(this.kG.C())&&this.$d(1),this}Ed(){return this.kG.C()}$d(t){return this.CG._(t),this}Mw(){return this.CG.C()}Od(t){return this.TG._(t),this}zd(){return this.TG.C()}VA(t){return this.IG=t,this}ww(){return this.IG}gw(t){return this.FG._(t),this}_w(){return this.FG.C()}}class Ab extends Wx{constructor(t,e){super(t,e),this.NV=!1,this.GV={zG:!1,VG:0},this.UV=t instanceof sr?{type:"linear",scale:t}:{type:"unknown"},this.VV.Mi("DataPattern",(t=>{!1===t.allowDataGrouping&&(this.NV=!0)}))}NG(t,e,i){const n=null==t?void 0:t.Xu(e),r=null==n?void 0:n.Qu,s=null==n?void 0:n.Ku,o=null==t?void 0:t.Tu,a=null==t?void 0:t.Cu,l=null==t?void 0:t.Wu(e);if(!t||this.NV||!l||"linear"!==this.UV.type||!r||!s||void 0===o||void 0===a||!i){const t=this.GV.zG;return this.GV={zG:!1,VG:null!=o?o:0},{cpStateChanged:t,cpActive:!1}}const h=Ba(l),c=t.ud(e),u=t.ld(e),d=c?c[h]:void 0,f=u?u[h]:void 0;if(o<2||void 0===d||void 0===f||f===d){const t=this.GV.zG;return this.GV={zG:!1,VG:null!=o?o:0},{cpStateChanged:t,cpActive:!1}}const g=this.calculateAvgStepBetweenDataPoints(f,d,o),p=this.UV.scale,m=Math.abs(p.ri()[h]),y=m/g,v=Math.floor(.8*y),x=v*g,b=v>=4,S=this.GV.zG?this.GV.GG/m<1.5:void 0,A=this.GV.zG&&v>this.GV.$G?v/this.GV.$G>=2:void 0;let E;return!0===this.GV.zG?S?A&&(E={zG:!0,GG:x,$G:v,VG:o}):E=b?{zG:!0,GG:x,$G:v,VG:o}:{zG:!1,VG:o}:b&&(E={zG:!0,GG:x,$G:v,VG:o}),this.GV=E||{...this.GV,VG:o},!!E&&this.WV(),{cpStateChanged:!!E,cpActive:this.GV.zG}}UG(t,e){var i,n,r;const s=null==t?void 0:t.Xu(e),o=s.dataPattern,a=s.Qu,l=s.Ku,h=t.Fu,c=t.Tu,u=t.Cu,d=t.Ru;if(this.NV||!this.GV.zG||!a||!l||void 0===o)return;const f=Ba(o),g=za(o),p="x"===f?a:l,m="x"===f?l:a,y=p.length,v="x"===f?this.oi.x:this.oi.y,x=this.GV.GG,b=Math.min(v.getInnerStart(),v.getInnerEnd()),S=Math.max(v.getInnerStart(),v.getInnerEnd()),A=Pc(b,S,p,h,c,u,za(o)?"progressive":"regressive",1);if(!A)return;const E=p[A.iFirstSampleDataArray];if(this.YG){if(this.YG.jG<A.iFirstSample){const t=Math.min(Math.floor((E-this.YG.wl)/x),this.YG.HG);if(t>0)if(this.YG.HG-=t,this.YG.HG>0){this.YG.WG.splice(0,2*t),this.YG.XG.splice(0,2*t),this.YG.ZG&&this.YG.ZG.splice(0,2*t),this.YG.JG&&this.YG.JG.splice(0,2*t),this.YG.wl+=t*x;const e=Fc(this.YG.wl,Math.max(h-1-y+1,0),h-1,g,(t=>p[Tc(t,h,y)])),i=Tc(e,h,y);this.YG.jG=p[i]>=this.YG.wl?e:e+1}else this.YG=void 0}if(void 0!==(null===(i=this.YG)||void 0===i?void 0:i.QG)&&this.YG.QG>A.iLastSample){const t=p[A.iLastSampleDataArray],e=Math.min(Math.floor((this.YG.wl+this.YG.HG*x-t)/x),this.YG.HG);if(e>0)if(this.YG.HG-=e,this.YG.HG>0){for(let n=0;n<2*e;n+=1)this.YG.WG.pop(),this.YG.XG.pop(),this.YG.ZG&&this.YG.ZG.pop(),this.YG.JG&&this.YG.JG.pop();const t=Fc(this.YG.wl+this.YG.HG*x,Math.max(h-1-y+1,0),h-1,g,(t=>p[Tc(t,h,y)])),i=Tc(t,h,y);this.YG.QG=p[i]<=this.YG.wl+this.YG.HG*x?t:t-1}else this.YG=void 0}}const w=this.YG||{wl:E,HG:0,WG:[],XG:[],ZG:s.qu?[]:void 0,JG:s.ed?[]:void 0,KG:s.sd?[]:void 0,qG:s.td?[]:void 0,jG:A.iFirstSample,QG:void 0},k=(t,e,i,n)=>{let r=Math.min(t,t+i*x),s=Math.max(t,t+i*x);const o=[];if(i<0&&r<b||i>0&&s>S)return o;let a=n,l=so,c=so,u=-1,f=ro,g=ro,v=-1,E=0;for(;a<=A.iLastSample&&a>=A.iFirstSample;){const n=a%y,A=p[n],k=m[n];if(d&&Number.isNaN(A))a+=e;else if(r<=A&&A<=s)E+=1,d&&Number.isNaN(k)||(k>c&&(l=A,c=k,u=a),k<g&&(f=A,g=k,v=a)),a+=e;else{if(E>0)l=l===so?Number.NaN:l,c=c===so?Number.NaN:c,f=f===ro?Number.NaN:f,g=g===ro?Number.NaN:g,u<v?(o.push({iFirst:u,iSecond:v}),e>0?(w.WG.push(l),w.XG.push(c),w.WG.push(f),w.XG.push(g)):(w.WG.unshift(f),w.XG.unshift(g),w.WG.unshift(l),w.XG.unshift(c))):(o.push({iFirst:v,iSecond:u}),e>0?(w.WG.push(f),w.XG.push(g),w.WG.push(l),w.XG.push(c)):(w.WG.unshift(l),w.XG.unshift(c),w.WG.unshift(f),w.XG.unshift(g)));else{const t=e>0?w.QG:w.jG;if(void 0===t)o.push({iFirst:0,iSecond:0}),e>0?(w.WG.push(Number.NaN),w.XG.push(Number.NaN),w.WG.push(Number.NaN),w.XG.push(Number.NaN)):(w.WG.unshift(Number.NaN),w.XG.unshift(Number.NaN),w.WG.unshift(Number.NaN),w.XG.unshift(Number.NaN));else{const i=Tc(t,h,y),n=p[i],a=m[i],l=Qr((n+A)/2,r,s),c=Qr((l+A)/2,r,s),u=a+(l-n)/(A-n)*(k-a),d=a+(c-n)/(A-n)*(k-a);o.push({iFirst:t,iSecond:t}),e>0?(w.WG.push(l),w.XG.push(u),w.WG.push(c),w.XG.push(d)):(w.WG.unshift(c),w.XG.unshift(d),w.WG.unshift(l),w.XG.unshift(u))}}if(w.HG+=1,e>0?w.QG=a-1:(w.jG=a+1,w.wl=i>0?s:r),r=Math.min(t+o.length*i*x,t+(o.length+1)*i*x),s=Math.max(t+o.length*i*x,t+(o.length+1)*i*x),E=0,l=so,c=so,u=-1,f=ro,g=ro,v=-1,i<0&&r<b||i>0&&s>S)break}}return o},C=k(w.wl+(za(o)?1:-1)*w.HG*x,1,1*(za(o)?1:-1),void 0!==(null===(n=this.YG)||void 0===n?void 0:n.QG)?this.YG.QG+1:A.iFirstSample),M=k(w.wl,-1,-1*(za(o)?1:-1),void 0!==(null===(r=this.YG)||void 0===r?void 0:r.jG)?this.YG.jG-1:A.iFirstSample);if(0===M.length&&0===C.length)return;const T=s.qu&&w.ZG?[s.qu,w.ZG]:void 0,P=s.ed&&w.JG?[s.ed,w.JG]:void 0,F=s.sd&&w.KG?[s.sd,w.KG]:void 0,L=s.td&&w.qG?[s.td,w.qG]:void 0;if(T||P||F||L){for(const t of C){const e=Tc(t.iFirst,h,y),i=Tc(t.iSecond,h,y);T&&T[1].push(T[0][e],T[0][i]),P&&P[1].push(P[0][e],P[0][i]),F&&F[1].push(F[0][e],F[0][i]),L&&L[1].push(L[0][e],L[0][i])}for(const t of M){const e=Tc(t.iFirst,h,y),i=Tc(t.iSecond,h,y);T&&T[1].unshift(T[0][i],T[0][e]),P&&P[1].unshift(P[0][i],P[0][e]),F&&F[1].unshift(F[0][i],F[0][e]),L&&L[1].unshift(L[0][i],L[0][e])}}return this.YG=w.HG>0?w:void 0,{t$:"x"===f?w.WG:w.XG,i$:"y"===f?w.WG:w.XG,OP:w.ZG,s$:w.JG,U:w.KG,xl:w.qG}}WV(){this.YG=void 0}KV(){}}class Eb extends Sb{constructor(t,e,i,n){super(t,e,i,n),this.hD=new wx,this.gN=new Ab(this.oi,this),this.dz=gl({lineStyleSolid:()=>el(this.eu)&&this.eu,lineStyleDashed:()=>sl(this.eu)&&this.eu,strokeFillSolid:()=>{const t=this.eu.getFillStyle();return la(t)&&t},strokeFillLinearGradient:()=>{const t=this.eu.getFillStyle();return Kn(t)&&t},strokeFillRadialGradient:()=>{const t=this.eu.getFillStyle();return Zn(t)&&t},strokeFillIndividual:()=>{const t=this.eu.getFillStyle();return ca(t)&&t},strokeFillPaletted:()=>{const t=this.eu.getFillStyle();return fa(t)&&t},areaFillSolid:()=>la(this.xG)&&this.xG,areaFillLinearGradient:()=>Kn(this.xG)&&this.xG,areaFillRadialGradient:()=>Zn(this.xG)&&this.xG,areaFillIndividual:()=>ca(this.xG)&&this.xG,areaFillPaletted:()=>fa(this.xG)&&this.xG,markerFillSolid:()=>la(this.wG)&&this.wG,markerFillLinearGradient:()=>Kn(this.wG)&&this.wG,markerFillRadialGradient:()=>Zn(this.wG)&&this.wG,markerFillPaletted:()=>fa(this.wG)&&this.wG,markerFillIndividual:()=>ca(this.wG)&&this.wG,markerFillImage:()=>Lr(this.wG)&&this.wG,markerShapeIcon:()=>{const t=this.kG.C();return ll(t)&&t},markerStrokeFillSolid:()=>{const t=this._G.getFillStyle();return la(t)&&t}}),this.Id=Fn(void 0),this.e$=[],this.mc=!1,this.h$=[],this.r$=void 0,this.UN=(t,e,i)=>{var n;const r=null===(n=this.n$)||void 0===n?void 0:n.shapeIcon;let s=t,o=e;return r&&(s=r._t().x,o=r._t().y),vx(t,e,s*this.CG.C(),o*this.CG.C(),i)},this.o$=wb(),this.rz=e,this.yV={type:"none"},this.PB=t.nz(),this.hz=t,this.gV=this.PB.iO}Pd(t,e){var i;return this.gN.WV(),this.a$=void 0,this.r$=void 0,t&&e?(this.Id._(Js(t,this.Id.C(),(()=>({change:t=>{this.e$.push({min:t.iDataStart,max:t.iDataEnd}),this.a$&&this.h$.length>1e3&&Date.now()-this.a$.l$>5e3&&(this.a$=void 0,this.h$.length=0),this.a$&&this.h$.push({min:t.iDataStart,max:t.iDataEnd})},clear:()=>{this.mc=!0,this.a$=void 0,this.r$=void 0,this.gN.WV()},loop:()=>{this.a$=void 0,this.h$.length=0}})))),this.mw=e,this):(null===(i=this.Id.C())||void 0===i||i.ts(),this.Id._(void 0),this.mw=void 0,this)}sl(){var t;const e=null===(t=this.Id.C())||void 0===t?void 0:t.ss,i=null==e?void 0:e.Wu(this.mw);return i&&{Tw:Ba(i),Fw:()=>this.Yv()}}Yv(){var t,e,i,n,r,s,o,a,l,h,c,u,d,f,g,p,m,y,v,x,b,S,A,E,w,k,C,M,T,P,F,L,R;const B=null===(t=this.Id.C())||void 0===t?void 0:t.ss,z=this.Id.o,I=this.mw,D=null==B?void 0:B.Xu(I),V=null==D?void 0:D.Qu,_=null==D?void 0:D.Ku;if(!(B&&V&&_&&I))return;const N=D.dataPattern,O=N&&this.oi[Ba(N)],H=D.ed,U=D.qu,Y=D.sd,G=D.td,j=B.Fu,X=B.Tu,W=B.Cu,Z=z||this.ul()||this.PG()||this.BG()||this.EG()||this.MG.o,q=this.dz.lineStyleSolid(Z),J=this.dz.lineStyleDashed(Z),K=q||J,Q=K&&K.getThickness(),$=this.dz.strokeFillSolid(Z),tt=this.dz.strokeFillLinearGradient(Z),et=this.dz.strokeFillRadialGradient(Z),it=this.dz.strokeFillIndividual(Z),nt=this.dz.strokeFillPaletted(Z),rt=$||tt||et||it||nt,st=this.dz.areaFillSolid(Z),ot=this.dz.areaFillLinearGradient(Z),at=this.dz.areaFillRadialGradient(Z),lt=this.dz.areaFillIndividual(Z),ht=this.dz.areaFillPaletted(Z),ct=st||ot||at||lt||ht,ut=this.dz.markerFillSolid(Z),dt=this.dz.markerFillLinearGradient(Z),ft=this.dz.markerFillRadialGradient(Z),gt=this.dz.markerFillPaletted(Z),pt=this.dz.markerFillIndividual(Z),mt=this.dz.markerFillImage(Z),yt=ut||dt||ft||gt||pt||mt,vt=this.dz.markerStrokeFillSolid(Z),xt=this.kG.C(),bt=this.kG.o,St=this.dz.markerShapeIcon(bt),At=this.CG.C(),Et=this.CG.o,wt=this.FG.o,kt=this.e$.length>0||wt,Ct=this.mc||z,Mt=Ct?[B.od()]:(t=>{const e=[];for(const i of t){let t=!1;for(const n of e)if(i.min>=n.min&&i.min<=n.max||i.max>=n.min&&i.max<=n.max){n.min=Math.min(n.min,i.min),n.max=Math.min(n.max,i.max),t=!0;break}t||e.push(i)}return e})(this.e$),Tt=!!J,Pt=this.li.C(),Ft=this.li.o;z&&Object.entries(I).forEach((t=>{let[e,i]=t;if(B.Vu&&!B.Vu[i])throw new Error("LightningChart JS data supply error - key ".concat(i," does not exist in data set. Mapped to '").concat(e,"'"))})),(z||Z)&&((nt&&"value"===nt.lookUpProperty||ht&&"value"===ht.lookUpProperty||gt&&"value"===gt.lookUpProperty)&&void 0===I.lookupValue&&jr.console.warn('LightningChart JS warning - using PalettedFill with lookUpProperty=value, but there is no data mapping for "lookupValue"'),(it||lt||pt)&&void 0===I.color&&jr.console.warn('LightningChart JS warning - using IndividualPointFill, but there is no data mapping for "color"'));const Lt=this.yw&&(!!K||!!ct),{cpStateChanged:Rt,cpActive:Bt}=this.gN.NG(B,I,Lt);if(N&&Bt&&O&&(Rt||Ct||kt||O.et||Z)){const t=this.gN.UG(B,I);if(t){const h=!(Rt||Ct||Z||z);this.c$=kb(this.PB,[t.t$,t.i$],t.OP,t.s$,t.U,t.xl,Tt,this.c$,h,N,1e3,this.oi.Ot(),(t=>vs(t,this.oi.Ot()))),this.u$={min:ro,max:so};const c="x"===Ba(N)?t.i$:t.t$,u=c.length;for(let t=0;t<u;t+=1){const e=c[t];B.Ru&&Number.isNaN(e)||(this.u$.min=Math.min(this.u$.min,e),this.u$.max=Math.max(this.u$.max,e))}(null===(e=this.d$)||void 0===e?void 0:e.bufferX)!==this.c$.bufferX&&(this.PB.gE(null===(i=this.d$)||void 0===i?void 0:i.bufferX),this.PB.gE(null===(n=this.d$)||void 0===n?void 0:n.bufferY),this.PB.gE(null===(r=this.d$)||void 0===r?void 0:r.bufferColors),this.PB.gE(null===(s=this.d$)||void 0===s?void 0:s.bufferLengthSoFar),this.PB.gE(null===(o=this.d$)||void 0===o?void 0:o.bufferRotations),this.PB.gE(null===(a=this.d$)||void 0===a?void 0:a.bufferLookupValues),this.PB.gE(null===(l=this.d$)||void 0===l?void 0:l.bufferSizes)),this.d$=void 0}}if(N&&O&&!Bt){if(Rt||Ct||kt||O.et||wt||Z){const t=Math.min(O.getInnerStart(),O.getInnerEnd()),e=Math.max(O.getInnerStart(),O.getInnerEnd()),i="x"===Ba(N)?V:_,n="x"===Ba(N)?_:V,r=Pc(t,e,i,j,X,W,za(N)?"progressive":"regressive",1);if(!this.f$||(null==r?void 0:r.iFirstSample)!==this.f$.iFirstSample||r.iLastSample!==this.f$.iLastSample||Ct){const t=this.o$(D,this.f$,r,Ct||Rt,i,n,B.Ru);this.u$=t.visibleBoundaries,this.A$=t.avgPointGap}if(this.f$=r,void 0===r)this.PB.gE(null===(h=this.c$)||void 0===h?void 0:h.bufferX),this.PB.gE(null===(c=this.c$)||void 0===c?void 0:c.bufferY),this.PB.gE(null===(u=this.c$)||void 0===u?void 0:u.bufferColors),this.PB.gE(null===(d=this.c$)||void 0===d?void 0:d.bufferLengthSoFar),this.PB.gE(null===(f=this.c$)||void 0===f?void 0:f.bufferRotations),this.PB.gE(null===(g=this.c$)||void 0===g?void 0:g.bufferLookupValues),this.PB.gE(null===(p=this.c$)||void 0===p?void 0:p.bufferSizes),this.c$=void 0,this.PB.gE(null===(m=this.d$)||void 0===m?void 0:m.bufferX),this.PB.gE(null===(y=this.d$)||void 0===y?void 0:y.bufferY),this.PB.gE(null===(v=this.d$)||void 0===v?void 0:v.bufferColors),this.PB.gE(null===(x=this.d$)||void 0===x?void 0:x.bufferLengthSoFar),this.PB.gE(null===(b=this.d$)||void 0===b?void 0:b.bufferRotations),this.PB.gE(null===(S=this.d$)||void 0===S?void 0:S.bufferLookupValues),this.PB.gE(null===(A=this.d$)||void 0===A?void 0:A.bufferSizes),this.d$=void 0,this.g$=r;else if(Rt||Ct||!this.g$||r.iFirstSample<this.g$.iFirstSample||r.iLastSample>this.g$.iLastSample||Z){const t=kc({srcLoopArray:V,dataRanges:r.dataRanges,NewArray:D.Zu}),e=kc({srcLoopArray:_,dataRanges:r.dataRanges,NewArray:D.Ju}),i=U?kc({srcLoopArray:U,dataRanges:r.dataRanges,NewArray:Uint32Array}):void 0,n=H?kc({srcLoopArray:H,dataRanges:r.dataRanges,NewArray:Float32Array}):void 0,s=Y?kc({srcLoopArray:Y,dataRanges:r.dataRanges,NewArray:Float32Array}):void 0,o=G?kc({srcLoopArray:G,dataRanges:r.dataRanges,NewArray:Float32Array}):void 0,a=!(Rt||Ct||Z||z),l=Lt||this.Mi("ApplicationType",(t=>"InternalUI"===t.type))?1e3:Math.min(null!==(E=B.getMaxSampleCount())&&void 0!==E?E:1e6,1e6);this.d$=kb(this.PB,[t,e],i,n,s,o,Tt,this.d$,a,N,l,this.oi.Ot(),(t=>vs(t,this.oi.Ot())));let h=t,c=e,u=i,d=n;const f=this.FG.C();if(f){const r="spline"===f.type?((t,e,i)=>{const n=Ba(i),r="x"===n?t.xValues:t.yValues,s="x"===n?t.yValues:t.xValues,{lookupValues:o,colors:a}=t;if(r.length<=2)return{xValues:Array.from(t.xValues),yValues:Array.from(t.yValues),lookupValues:o?Array.from(o):void 0,colors:a?Array.from(a):void 0};const l=((t,e)=>{const i=1e-5,n=t.length-1,r=Array(n);if(n>1){let s=En(0,0),o=En(0,0),a=En(0,0),l=To(Bo({x:t.elementAt(1),y:e.elementAt(1)},{x:t.elementAt(0),y:e.elementAt(0)}));const h=3;let c=0,u=0;for(let d=0;d<n;d+=1){const f=t.elementAt(d),g=t.elementAt(d+1),p=e.elementAt(d),m=e.elementAt(d+1),y=Array(4);y[0]={x:f,y:p},y[1]={x:f,y:p},y[3]={x:g,y:m},y[2]={x:g,y:m},a=l,s=o,Number.isNaN(s.y)&&(s=En(0,0));const v=d+2<e.length?e.elementAt(d+2):Number.NaN;if(d+1<n&&!Number.isNaN(v)){const e=t.elementAt(d+2);l=e===g&&v===m?En(0,0):To(Bo({x:e,y:v},{x:g,y:m})),o=To(Ro(a,l))}else o=En(0,0);if(m===p)c=0,u=0;else{const t=g-f;c=Math.abs(s.x)>i?Math.abs(t/(h*s.x)):1,u=Math.abs(o.x)>i?Math.abs(t/(h*o.x)):1}y[1]=Ro(Lo(s,c),y[1]),y[2]=Bo(y[2],Lo(o,u)),r[d]=y}}return r.length>0?r:[]})(r,s),h=l.length,c=[],u=[],d=[],f=[];for(let g=0;g<h;g+=1){const t=l[g];for(let i=0;i<e;i+=1){const n=i/(e-1),r=n*n,s=r*n,o=1-n,a=o*o,l=a*o;c.push(l*t[0].x+3*n*a*t[1].x+3*r*o*t[2].x+s*t[3].x),u.push(l*t[0].y+3*n*a*t[1].y+3*r*o*t[2].y+s*t[3].y)}}if(o)for(let g=0;g<c.length;g+=1){const t=Math.round(g/e),i=o.elementAt(t);f[g]=i}if(a)for(let g=0;g<c.length;g+=1){const t=Math.round(g/e),i=a.elementAt(t);d[g]=i}return{xValues:"x"===n?c:u,yValues:"x"===n?u:c,lookupValues:o?f:void 0,colors:a?d:void 0}})({xValues:t,yValues:e,lookupValues:n,colors:i},f.resolution||20,N):"step"===f.type?((t,e,i)=>{const{lookupValues:n,colors:r}=t,s=Ba(i),o="x"===s?t.xValues:t.yValues,a="x"===s?t.yValues:t.xValues,l=[],h=[],c=[],u=[],d=o.length,f="before"===e?0:"after"===e?1:.5;if(d>0){let t=0,e=o.elementAt(0),i=a.elementAt(0);l[t]=e,h[t]=i,t+=1;for(let n=1;n<d;n+=1){const r=o.elementAt(n),s=a.elementAt(n);if(f<=0)l[t]=e,h[t]=s,t+=1;else{const n=e*(1-f)+r*f;l[t]=n,h[t]=i,t+=1,l[t]=n,h[t]=s,t+=1}l[t]=r,h[t]=s,t+=1,e=r,i=s}}if(n)if("before"===e){u[0]=n.elementAt(0);for(let t=1;t<d;t+=1){const e=n.elementAt(t);u[2*t-1]=e,u[2*t]=e}}else if("middle"===e||"after"===e){u[0]=n.elementAt(0),u[1]=n.elementAt(0);for(let t=1;t<d;t+=1){const e=n.elementAt(t);u[3*t-1]=e,u[3*t]=e,u[3*t+1]=e}}if(r)if("before"===e){c[0]=r.elementAt(0);for(let t=1;t<d;t+=1){const e=r.elementAt(t);c[2*t-1]=e,c[2*t]=e}}else if("middle"===e||"after"===e){c[0]=r.elementAt(0),c[1]=r.elementAt(0);for(let t=1;t<d;t+=1){const e=r.elementAt(t);c[3*t-1]=e,c[3*t]=e,c[3*t+1]=e}}return{xValues:"x"===s?l:h,yValues:"x"===s?h:l,lookupValues:n?u:void 0,colors:r?c:void 0}})({xValues:t,yValues:e,lookupValues:n,colors:i},null!==(w=f.step)&&void 0!==w?w:"middle",N):void 0;h=r?r.xValues:h,c=r?r.yValues:c,u=(null==r?void 0:r.colors)?r.colors:u,d=(null==r?void 0:r.lookupValues)?r.lookupValues:d}this.c$=h===t&&c===e?this.d$:kb(this.PB,[h,c],u,d,void 0,void 0,Tt,(null===(k=this.c$)||void 0===k?void 0:k.bufferX)===this.d$.bufferX?void 0:this.c$,!(!a||wt||f),N,1e3,this.oi.Ot(),(t=>vs(t,this.oi.Ot()))),this.g$=r}}}else this.f$=void 0;if(!N&&(Ct||kt||Z)){if(!this.c$||this.c$.bufferSize<B.Tu||Tt){const t=void 0!==B.Yu?B.Yu:B.Tu;let e,i=0,n=0;if(Tt){const r=Cb(V,_,V[0],_[0],0,0);e=this.PB.DE(2*t,r[0],null===(C=this.c$)||void 0===C?void 0:C.bufferLengthSoFar,Float32Array),i=r[1],n=r[2]}this.c$={bufferX:this.PB.DE(t*(this.oi.Ot()?2:1),vs(V,this.oi.Ot()),null===(M=this.c$)||void 0===M?void 0:M.bufferX),bufferY:this.PB.DE(t*(this.oi.Ot()?2:1),vs(_,this.oi.Ot()),null===(T=this.c$)||void 0===T?void 0:T.bufferY),bufferColors:U?this.PB.DE(t,U,null===(P=this.c$)||void 0===P?void 0:P.bufferColors,Uint32Array):void 0,bufferLookupValues:H?this.PB.DE(t,H,null===(F=this.c$)||void 0===F?void 0:F.bufferLookupValues,Float32Array):void 0,bufferSizes:Y?this.PB.DE(t,Y,null===(L=this.c$)||void 0===L?void 0:L.bufferSizes,Float32Array):void 0,bufferRotations:G?this.PB.DE(t,G,null===(R=this.c$)||void 0===R?void 0:R.bufferRotations,Float32Array):void 0,bufferLengthSoFar:e,lengthSoFarX:i,lengthSoFarY:n,bufferSize:t,valueCount:B.Tu}}else{const t=this.c$.bufferX,e=this.c$.bufferY;Mt.forEach((i=>{var n,r,s,o;const a=V.subarray(i.min,i.max+1),l=_.subarray(i.min,i.max+1);if(this.PB.RE(t,i.min*(this.oi.Ot()?2:1),vs(a,this.oi.Ot())),this.PB.RE(e,i.min*(this.oi.Ot()?2:1),vs(l,this.oi.Ot())),U&&(null===(n=this.c$)||void 0===n?void 0:n.bufferColors)){const t=U.subarray(i.min,i.max+1);this.PB.RE(this.c$.bufferColors,i.min,t,Uint32Array)}if(H&&(null===(r=this.c$)||void 0===r?void 0:r.bufferLookupValues)){const t=H.subarray(i.min,i.max+1);this.PB.RE(this.c$.bufferLookupValues,i.min,t,Float32Array)}if(G&&(null===(s=this.c$)||void 0===s?void 0:s.bufferRotations)){const t=G.subarray(i.min,i.max+1);this.PB.RE(this.c$.bufferRotations,i.min,t,Float32Array)}if(Y&&(null===(o=this.c$)||void 0===o?void 0:o.bufferSizes)){const t=Y.subarray(i.min,i.max+1);this.PB.RE(this.c$.bufferSizes,i.min,t,Float32Array)}})),this.c$.valueCount=B.Tu}this.d$=this.c$}if(Z||Et||bt||Ft){if(rt&&K&&!1!==Q){const t=-1===Q?"primitive":"triangulated",e=nt?["lookup",nt.lookUpProperty,nt.lut]:it?"attribute":tt?["gradient",tt]:et?["gradient",et]:"uniform";this.yV="primitive"===t?{type:t,shader:this.PB.eR(Bv["2D"],Bv.Color({dataType:e}),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0,splitPosAttribute:!0}),J&&Bv.StippleTexture),lineStyleSolid:q,lineStyleDashed:J,fillStyleSolid:$,fillStyleLinearGradient:tt,fillStyleRadialGradient:et,fillStyleIndividual:it,fillStylePaletted:nt,mousePickingShader:Pt&&this.PB.eR(Bv["2D"],Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0,splitPosAttribute:!0}),J&&Bv.StippleTexture,Bv.MousePicking({useVertexId:!0}))}:"triangulated"===t?{type:t,shader:this.PB.eR(Bv["2D"],Bv.Color({dataType:e}),Bv.LineInstanced2D({axisWorldTranslation:dl(this.oi),normalSource:void 0,splitPosAttribute:!0}),this.gV?Bv.AliasedEdge:void 0,J&&Bv.StippleTextureInstanced),geometry:Hx(this.PB,Q),thickness:Q,lineStyleSolid:q,lineStyleDashed:J,fillStyleSolid:$,fillStyleLinearGradient:tt,fillStyleRadialGradient:et,fillStyleIndividual:it,fillStylePaletted:nt,mousePickingShader:Pt&&this.PB.eR(Bv["2D"],Bv.LineInstanced2D({axisWorldTranslation:dl(this.oi),normalSource:void 0,splitPosAttribute:!0}),J&&Bv.StippleTextureInstanced,Bv.MousePicking())}:{type:"none"}}else this.yV={type:"none"};if(this.v$=ct?{shader:this.PB.eR(Bv["2D"],ht&&Bv.Color({dataType:["lookup",ht.lookUpProperty,ht.lut]}),lt&&Bv.Color({dataType:"attribute"}),st&&Bv.Color({dataType:"uniform"}),ot&&Bv.Color({dataType:["gradient",ot]}),at&&Bv.Color({dataType:["gradient",at]}),Bv.Area2D({axisWorldTranslation:dl(this.oi),normalSource:void 0,splitPosAttribute:!0,fill:this.MG.C()})),geometry:mb(this.PB),fillStyleSolid:st,fillStyleLinearGradient:ot,fillStyleRadialGradient:at,fillStyleIndividual:lt,fillStylePaletted:ht,mousePickingShader:Pt&&this.PB.eR(Bv["2D"],Bv.Area2D({axisWorldTranslation:dl(this.oi),normalSource:void 0,splitPosAttribute:!0,fill:this.MG.C()}),Bv.MousePicking())}:void 0,yt){const t=!(!mt&&!St),e=At>1||t,i=Y?"attribute":"uniform",n=!e&&Bv.PointSize("uniform"),r=Bv.VertexLocation({offsets:[e&&!t?{directionVar:yb.mG,dataType:i,sizeUnit:"px",symmetric:!0,rotation:{dataType:G?"attribute-deg":"uniform"},useAlignment:!0}:e&&t?{directionVar:yb.mG,dataType:i,sizeUnit:"scale",rotation:{dataType:G?"attribute-deg":"uniform"},useAlignment:!0}:void 0],axisWorldTranslation:dl(this.oi),normalSource:void 0,splitPosAttribute:!0});this.n$={shader:this.PB.eR(Bv["2D"],n,r,ut&&Bv.Color({dataType:"uniform",overrideOpacity:!0,maskTexture:!!St}),dt&&Bv.Color({dataType:["gradient",dt],overrideOpacity:!0,maskTexture:!!St}),ft&&Bv.Color({dataType:["gradient",ft],overrideOpacity:!0,maskTexture:!!St}),gt&&Bv.Color({dataType:["lookup",gt.getLookUpProperty(),gt.getPalette()],overrideOpacity:!0,maskTexture:!!St}),pt&&Bv.Color({dataType:"attribute",overrideOpacity:!0,maskTexture:!!St}),mt&&Bv.Color({dataType:["image",mt],overrideOpacity:!0,maskTexture:!!St})),geometry:bb(xt,this.PB,"uniform"===i?At:25),fillStyleSolid:ut,fillStyleLinearGradient:dt,fillStyleRadialGradient:ft,fillStylePaletted:gt,fillStyleIndividual:pt,fillStyleImage:mt,mousePickingShader:Pt&&this.PB.eR(Bv["2D"],n,r,Bv.MousePicking({useVertexId:!e})),shapeIcon:St,pointSizeAsScale:t,instancedRendering:e,borders:vt&&!t&&{shader:this.PB.eR(Bv["2D"],n,Bv.VertexLocation({offsets:[e&&!t?{directionVar:yb.mG,dataType:i,sizeUnit:"px",symmetric:!0,rotation:{dataType:G?"attribute-deg":"uniform"},useAlignment:!0}:e&&t?{directionVar:yb.mG,dataType:i,sizeUnit:"scale",rotation:{dataType:G?"attribute-deg":"uniform"},useAlignment:!0}:void 0,{directionVar:yb.bG,dataType:"uniform",sizeUnit:"px",symmetric:!0,rotation:{dataType:G?"attribute-deg":"uniform"}}],axisWorldTranslation:dl(this.oi),normalSource:void 0,splitPosAttribute:!0}),Bv.Color({dataType:"uniform",overrideOpacity:!0,maskTexture:!!St})),fillStyleSolid:vt}}}else this.n$=void 0}if((void 0===this.r$||kt)&&H&&(ml(nt)||ml(ht)||ml(gt))){const t=this.r$?Mt:[B.od()];let e=this.r$?this.r$.max:so,i=this.r$?this.r$.min:ro;const n=H;t.forEach((t=>{for(let r=t.min;r<=t.max;r+=1){const t=n[r];i=t<i?t:i,e=t>e?t:e}})),this.r$={min:i,max:e}}this.$N=this.PB.DO(this,this.$N,mt,St,Et,this.UN),this.mV=J?this.PB.FO(J.getPattern()):void 0,this.nu(this.eu),this.LG=this.xG,this.DG=this.wG,this.OG=this._G,this.kG.o=!1,this.CG.o=!1,this.e$.length=0,this.mc=!1,this.FG.o=!1,this.Id.o=!1,this.li.o=!1,this.MG.o=!1}zr(){this.Yv();const t=this.dz.strokeFillLinearGradient(!1),e=this.dz.strokeFillRadialGradient(!1),i=this.dz.areaFillLinearGradient(!1),n=this.dz.areaFillRadialGradient(!1),r=this.dz.markerFillLinearGradient(!1),s=this.dz.markerFillRadialGradient(!1);if(this.hD.uE(this.oi),i||n){let t;const e=this.MG.C();t=rc("bottom"===e||"top"===e?{min:{x:this.Wi(!1),y:Math.min(this.oi.y.getInnerStart(),this.oi.y.getInnerEnd(),this.Zi(!1),this.Ji(!1))},max:{x:this.Xi(!1),y:Math.max(this.oi.y.getInnerStart(),this.oi.y.getInnerEnd(),this.Zi(!1),this.Ji(!1))}}:{min:{x:Math.min(this.oi.x.getInnerStart(),this.oi.x.getInnerEnd(),this.Wi(!1),this.Xi(!1)),y:this.Zi(!1)},max:{x:Math.max(this.oi.x.getInnerStart(),this.oi.x.getInnerEnd(),this.Wi(!1),this.Xi(!1)),y:this.Ji(!1)}},{x:this.lc()/2,y:this.cc()/2},this.oi),this.y$=this.PB.VO(i,this,t),this.p$=this.PB.NO(n,this,t)}if(t||e||r||s){const i=rc({min:{x:this.Wi(!1),y:this.Zi(!1)},max:{x:this.Xi(!1),y:this.Ji(!1)}},{x:this.lc()/2,y:this.cc()/2},this.oi);this.m$=this.PB.VO(t,this,i),this.S$=this.PB.NO(e,this,i),this.b$=this.PB.VO(r,this,i),this.x$=this.PB.NO(s,this,i)}return this}Su(t,e){var i,n,r,s,o,a,l,h,c,u,d,f,g,p,m,y,v,x,b;const S=this.PB.gl,A=null===(i=this.c$)||void 0===i?void 0:i.bufferX,E=null===(n=this.c$)||void 0===n?void 0:n.bufferY,w=null===(r=this.c$)||void 0===r?void 0:r.bufferColors,k=null===(s=this.c$)||void 0===s?void 0:s.bufferLookupValues,C=null===(o=this.c$)||void 0===o?void 0:o.valueCount,M=null===(a=this.d$)||void 0===a?void 0:a.valueCount,T=null===(l=this.Id.C())||void 0===l?void 0:l.ss,P=null==T?void 0:T.Wu(this.mw),F=Math.max((null===(h=this.c$)||void 0===h?void 0:h.valueCount)||0,(null===(c=this.d$)||void 0===c?void 0:c.valueCount)||0);if(!A||!E||!T)return{};const L=(e,i,n)=>{if(Gx(this.PB,e,this.oi.Ot(),A,"aLocation","X",1,!1,S.FLOAT,Float32Array.BYTES_PER_ELEMENT,void 0),Gx(this.PB,e,this.oi.Ot(),E,"aLocation","Y",1,!1,S.FLOAT,Float32Array.BYTES_PER_ELEMENT,void 0),i&&1!==t){if(!w)return!1;Gx(this.PB,e,!1,w,"aColor","",4,!0,S.UNSIGNED_BYTE,1,void 0)}if(n&&"value"===n.lookUpProperty&&1!==t){if(!k)return!1;Gx(this.PB,e,!1,k,"aLookupValue","",1,!1,S.FLOAT,Float32Array.BYTES_PER_ELEMENT,void 0)}return!0},R=1===t?null===(u=this.v$)||void 0===u?void 0:u.mousePickingShader:null===(d=this.v$)||void 0===d?void 0:d.shader;if(this.v$&&R&&void 0!==C&&C>0&&P&&2!==t){const i=this.v$;this.PB.Xu(R).eE(R,((n,r,s,o)=>!!this.PB.EO(s,t,this,{uniforms:this.hD,idFirst:e,useInstanceID:1===t?F:void 0,fillStyleSolid:i.fillStyleSolid,fillStyleLinearGradient:i.fillStyleLinearGradient,fillStyleRadialGradient:i.fillStyleRadialGradient,fillStylePaletted:i.fillStylePaletted,linearGradientInfo:this.y$,radialGradientInfo:this.p$,lookupValueRange:i.fillStylePaletted?pl(i.fillStylePaletted,this,this.r$):void 0,lookupValueBuffer:null})&&!!L(s,i.fillStyleIndividual,i.fillStylePaletted)&&(null==i||i.geometry.Xu(s).Mk(C-1),!0)))}const B="none"===this.yV.type?void 0:1===t?this.yV.mousePickingShader:this.yV.shader;if("none"!==this.yV.type&&B&&void 0!==C&&C>0){const i=this.yV;this.PB.Xu(B).eE(B,((n,r,s,o)=>{var a,l;if(!this.c$)return!1;if(!this.PB.EO(s,t,this,{uniforms:this.hD,idFirst:e,useInstanceID:1===t&&"triangulated"===i.type?F:void 0,useVertexID:1===t&&"primitive"===i.type?F:void 0,fillStyleSolid:i.fillStyleSolid,fillStylePaletted:i.fillStylePaletted,fillStyleLinearGradient:i.fillStyleLinearGradient,fillStyleRadialGradient:i.fillStyleRadialGradient,fillStyleIndividual:i.fillStyleIndividual,linearGradientInfo:this.m$,radialGradientInfo:this.S$,lookupValueRange:i.fillStylePaletted?pl(i.fillStylePaletted,this,this.r$):void 0,lookupValueBuffer:"primitive"===i.type?k:null,colorBuffer:"primitive"===i.type?w:null,coordsX:"primitive"===i.type?A:void 0,coordsY:"primitive"===i.type?E:void 0,coordsHighPrecision:this.oi.Ot()}))return!1;if(i.lineStyleDashed){if(!this.mV)return!1;this.PB.rE(n("uStippleCount"),[this.gi._t().x/this.mV.LO,this.gi._t().y/this.mV.LO]).oE(o("uStippleTextureWidthLimiter"),this.mV.PO/this.mV.LO).oE(n("uStippleScale"),i.lineStyleDashed.getPatternScale()).nE(n("uStippleTexture"),this.mV.IO,1)}if("primitive"===i.type){if(i.lineStyleDashed){if(!(null===(a=this.c$)||void 0===a?void 0:a.bufferLengthSoFar))return!1;this.PB.AE(r("aLengthSoFar"),this.c$.bufferLengthSoFar)}Yx.fV(this.hz,C)}else{if(!L(s,i.fillStyleIndividual,i.fillStylePaletted))return!1;if(i.lineStyleDashed){if(!(null===(l=this.c$)||void 0===l?void 0:l.bufferLengthSoFar))return!1;Gx(this.PB,s,!1,this.c$.bufferLengthSoFar,"aLengthSoFar","",2,!1,S.FLOAT,Float32Array.BYTES_PER_ELEMENT,void 0)}Ux.Su(this.hz,i.geometry,s,this.gV&&1!==t,1===t,i.thickness,this.c$.valueCount-1)}return!0}))}const z=null===(f=this.d$)||void 0===f?void 0:f.bufferX,I=null===(g=this.d$)||void 0===g?void 0:g.bufferY,D=null===(p=this.d$)||void 0===p?void 0:p.bufferColors,V=null===(m=this.d$)||void 0===m?void 0:m.bufferLookupValues,_=null===(y=this.d$)||void 0===y?void 0:y.bufferSizes,N=null===(v=this.d$)||void 0===v?void 0:v.bufferRotations,O=1===t?null===(x=this.n$)||void 0===x?void 0:x.mousePickingShader:null===(b=this.n$)||void 0===b?void 0:b.shader,H=this.n$;let U=1;if(P&&(R||B)&&void 0!==this.A$&&!Number.isNaN(this.A$)){const t="x"===Ba(P)?this.oi.x:this.oi.y,e=this.A$,i=t.getInnerInterval()/e,n=this.CG.C(),r=t.Mt()/n/1,s=2*r;U=i<=r?1:Math.max(1-(i-r)/(s-r),0)}if(O&&H&&z&&I&&U>0&&void 0!==M&&M>0){const i=H,n=i.instancedRendering?1:0;if(H.borders&&0===t){const r=H.borders;this.PB.Xu(r.shader).eE(r.shader,((s,o,a,l)=>{if(!this.PB.EO(a,t,this,{uniforms:this.hD,idFirst:e,fillStyleSolid:r.fillStyleSolid}))return!1;if(this.oi.Ot()?this.PB.hE(z,n,{location:o("aPos_highpartX"),size:1},{location:o("aPos_lowpartX"),size:1}).hE(I,n,{location:o("aPos_highpartY"),size:1},{location:o("aPos_lowpartY"),size:1}):this.PB.YE(o("aPosX"),z,n).YE(o("aPosY"),I,n),this.PB.oE(s("uOpacity"),U),i.instancedRendering)if(N)this.PB.YE(o("aRotDeg"),N,n).oE(s("uBaseRotDeg"),i.geometry.vG);else{const t=No(this.TG.C()+i.geometry.vG),e=Math.sin(t),n=Math.cos(t);this.PB.rE(s("uRot"),[e,n])}return this.PB.rE(l("uOffsetAlignment"),[-this.IG.x/2,-this.IG.y/2]),i.geometry.SG(a,_,M,this.CG.C(),i.instancedRendering,this._G.getThickness())}))}this.PB.Xu(O).eE(O,((r,s,o,a)=>{if(!this.d$)return!1;if(!this.PB.EO(o,t,this,{uniforms:this.hD,idFirst:e,useInstanceID:i.instancedRendering&&1===t?F:void 0,useVertexID:i.instancedRendering||1!==t?void 0:F,fillStyleSolid:i.fillStyleSolid,fillStyleLinearGradient:i.fillStyleLinearGradient,fillStyleRadialGradient:i.fillStyleRadialGradient,linearGradientInfo:this.b$,radialGradientInfo:this.x$,fillStylePaletted:i.fillStylePaletted,fillStyleIndividual:i.fillStyleIndividual,lookupValueRange:i.fillStylePaletted?pl(i.fillStylePaletted,this,this.r$):void 0,lookupValueBuffer:V,lookupValueAttribDivisor:n,colorBuffer:D,colorAttribDivisor:n,fillStyleImage:i.fillStyleImage,texturedFillGLInfo:this.$N,texCoordAttribDivisor:0,maskTexture:i.shapeIcon&&this.$N,maskTextureCoordsAttribDivisor:0}))return!1;if(this.oi.Ot()?this.PB.hE(z,n,{location:s("aPos_highpartX"),size:1},{location:s("aPos_lowpartX"),size:1}).hE(I,n,{location:s("aPos_highpartY"),size:1},{location:s("aPos_lowpartY"),size:1}):this.PB.YE(s("aPosX"),z,n).YE(s("aPosY"),I,n),1!==t&&this.PB.oE(r("uOpacity"),U),i.instancedRendering)if(N)this.PB.YE(s("aRotDeg"),N,n).oE(r("uBaseRotDeg"),i.geometry.vG);else{const t=No(this.TG.C()+i.geometry.vG),e=Math.sin(t),n=Math.cos(t);this.PB.rE(r("uRot"),[e,n])}return this.PB.rE(a("uOffsetAlignment"),[-this.IG.x/2,-this.IG.y/2]),i.geometry.Mk(o,_,0,this.d$.valueCount,i.pointSizeAsScale&&this.$N?{scale:this.CG.C(),width:i.shapeIcon?i.shapeIcon._t().x:this.$N.texture.kR,height:i.shapeIcon?i.shapeIcon._t().y:this.$N.texture.CR}:this.CG.C(),i.instancedRendering),!0}))}return{idCount:F}}wi(){return this.r$}xu(t,e,i,n,r){var s;const o=null===(s=this.Id.C())||void 0===s?void 0:s.ss;if(null==o?void 0:o.Wu(this.mw))return{};const a=t-e;return{info:{dataPoint:null==o?void 0:o.fd(this.mw,a)}}}dispose(){var t,e,i,n,r,s,o,a,l,h,c,u,d;return super.dispose(),this.PB.gE(null===(t=this.c$)||void 0===t?void 0:t.bufferX),this.PB.gE(null===(e=this.c$)||void 0===e?void 0:e.bufferY),this.PB.gE(null===(i=this.c$)||void 0===i?void 0:i.bufferColors),this.PB.gE(null===(n=this.c$)||void 0===n?void 0:n.bufferLookupValues),this.PB.gE(null===(r=this.c$)||void 0===r?void 0:r.bufferRotations),this.PB.gE(null===(s=this.c$)||void 0===s?void 0:s.bufferSizes),this.PB.gE(null===(o=this.d$)||void 0===o?void 0:o.bufferX),this.PB.gE(null===(a=this.d$)||void 0===a?void 0:a.bufferY),this.PB.gE(null===(l=this.d$)||void 0===l?void 0:l.bufferColors),this.PB.gE(null===(h=this.d$)||void 0===h?void 0:h.bufferLookupValues),this.PB.gE(null===(c=this.d$)||void 0===c?void 0:c.bufferRotations),this.PB.gE(null===(u=this.d$)||void 0===u?void 0:u.bufferSizes),this.yV={type:"none"},this.v$=void 0,this.n$=void 0,this.gN.WV(),null===(d=this.Id.C())||void 0===d||d.ts(),this.c$=void 0,this.d$=void 0,this.m$=void 0,this.S$=void 0,this.y$=void 0,this.p$=void 0,this.b$=void 0,this.x$=void 0,this.PB.RO(this,this.$N),this}bu(){return this.dispose(),this}M$(t){if(!this.mw)return this.a$||oo;if(!this.a$){const e=t.rd(this.mw);if(0===e.xValues.length)return oo;this.a$={min:{x:ro,y:ro},max:{x:so,y:so},l$:Date.now()};const i=e.xValues.length;for(let t=0;t<i;t+=1){const i=e.xValues[t],n=e.yValues[t];this.a$.min.x=i<this.a$.min.x?i:this.a$.min.x,this.a$.min.y=n<this.a$.min.y?n:this.a$.min.y,this.a$.max.x=i>this.a$.max.x?i:this.a$.max.x,this.a$.max.y=n>this.a$.max.y?n:this.a$.max.y}return this.h$.length=0,this.a$}const e=t.Xu(this.mw),i=e.Qu,n=e.Ku;if(this.h$.length>0&&i&&n){for(const t of this.h$){for(let e=t.min;e<=t.max;e+=1){const t=i[e],r=n[e];this.a$.min.x=t<this.a$.min.x?t:this.a$.min.x,this.a$.min.y=r<this.a$.min.y?r:this.a$.min.y,this.a$.max.x=t>this.a$.max.x?t:this.a$.max.x,this.a$.max.y=r>this.a$.max.y?r:this.a$.max.y}this.h$.length=0}return this.a$}return this.a$}Xi(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var e,i,n,r,s;const o=null===(e=this.Id.C())||void 0===e?void 0:e.ss;if(!o)return 0;const a=o.Wu(this.mw);return"ProgressiveX"===a?(null===(i=o.ud(this.mw))||void 0===i?void 0:i.x)||0:"RegressiveX"===a?(null===(n=o.ld(this.mw))||void 0===n?void 0:n.x)||0:"ProgressiveY"===a&&t?(null===(r=this.u$)||void 0===r?void 0:r.max)||0:"RegressiveY"===a&&t?(null===(s=this.u$)||void 0===s?void 0:s.max)||0:this.M$(o).max.x}Wi(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var e,i,n,r,s;const o=null===(e=this.Id.C())||void 0===e?void 0:e.ss;if(!o)return 0;const a=o.Wu(this.mw);return"ProgressiveX"===a?(null===(i=o.ld(this.mw))||void 0===i?void 0:i.x)||0:"RegressiveX"===a?(null===(n=o.ud(this.mw))||void 0===n?void 0:n.x)||0:"ProgressiveY"===a&&t?(null===(r=this.u$)||void 0===r?void 0:r.min)||0:"RegressiveY"===a&&t?(null===(s=this.u$)||void 0===s?void 0:s.min)||0:this.M$(o).min.x}Ji(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var e,i,n,r,s;const o=null===(e=this.Id.C())||void 0===e?void 0:e.ss;if(!o)return 0;const a=o.Wu(this.mw);return"ProgressiveX"===a&&t?ts(null===(i=this.u$)||void 0===i?void 0:i.max,0):"RegressiveX"===a&&t?ts(null===(n=this.u$)||void 0===n?void 0:n.max,0):"ProgressiveY"===a?ts(null===(r=o.ud(this.mw))||void 0===r?void 0:r.y,0):"RegressiveY"===a?ts(null===(s=o.ld(this.mw))||void 0===s?void 0:s.y,0):this.M$(o).max.y}Zi(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var e,i,n,r,s;const o=null===(e=this.Id.C())||void 0===e?void 0:e.ss;if(!o)return 0;const a=o.Wu(this.mw);return"ProgressiveX"===a&&t?ts(null===(i=this.u$)||void 0===i?void 0:i.min,0):"RegressiveX"===a&&t?ts(null===(n=this.u$)||void 0===n?void 0:n.min,0):"ProgressiveY"===a?ts(null===(r=o.ld(this.mw))||void 0===r?void 0:r.y,0):"RegressiveY"===a?ts(null===(s=o.ud(this.mw))||void 0===s?void 0:s.y,0):this.M$(o).min.y}lc(){var t,e;let i=this.CG.C();this.$N&&(i=Math.max(this.$N.texture.kR,this.$N.texture.CR)*this.CG.C());const n=Boolean(null===(t=this.mw)||void 0===t?void 0:t.size),r=Math.max(Gs(this.eu),n?25:i),s=null===(e=this.Id.C())||void 0===e?void 0:e.ss.Wu(this.mw);return!s||"ProgressiveX"!==s&&"RegressiveX"!==s?r:0}cc(){var t,e;let i=this.CG.C();this.$N&&(i=Math.max(this.$N.texture.kR,this.$N.texture.CR)*this.CG.C());const n=Boolean(null===(t=this.mw)||void 0===t?void 0:t.size),r=Math.max(Gs(this.eu),n?25:i),s=null===(e=this.Id.C())||void 0===e?void 0:e.ss.Wu(this.mw);return!s||"ProgressiveY"!==s&&"RegressiveY"!==s?r:0}}const wb=()=>{const t=1e3,e=(t,e,i,n,r)=>{const s={min:ro,max:so};let o,a=0,l=0;for(let h=n;h<=r;h+=1){const n=h%t.length,r=t[n],c=e[n];i&&Number.isNaN(c)?o=void 0:(s.min=Math.min(s.min,c),s.max=Math.max(s.max,c),void 0!==o&&(a+=1,l+=Math.abs(r-o)),o=r)}return{visibleBoundaries:s,avgPointGap:l/a,sampleMin:n,sampleMax:r,finitePointPairCount:a}};let i;return(n,r,s,o,a,l,h)=>{if(!s)return i=void 0,{visibleBoundaries:void 0,avgPointGap:0};if(s.iLastSample-s.iFirstSample+1<2e3)return e(a,l,h,s.iFirstSample,s.iLastSample);o&&(i=void 0),i||(i={iFirst:s.iFirstSample,chunks:[]});let c=i.iFirst,u=i.iFirst+i.chunks.length*t-1;for(;;){const n=u+1,r=u+t;if(!(s.iLastSample>=r))break;{const t=e(a,l,h,n,r);i.chunks.push(t),u=r}}for(;;){const n=c-1,r=c-t;if(!(s.iFirstSample<=r))break;{const t=e(a,l,h,r,n);i.chunks.unshift(t),i.iFirst=r,c=r}}for(let e=0;e<i.chunks.length&&i.chunks[e].sampleMin<s.iFirstSample;e++)i.chunks.splice(e,1),i.iFirst+=t,e--;for(let t=i.chunks.length-1;t>=0&&i.chunks[t].sampleMax>s.iLastSample;t--)i.chunks.splice(t,1);if(0===i.chunks.length)return i=void 0,{visibleBoundaries:void 0,avgPointGap:0};const d={min:ro,max:so},f=[];for(const t of i.chunks)d.min=Math.min(t.visibleBoundaries.min,d.min),d.max=Math.max(t.visibleBoundaries.max,d.max),f.push(t.avgPointGap);const g=e(a,l,h,s.iFirstSample,i.iFirst-1),p=e(a,l,h,i.chunks[i.chunks.length-1].sampleMax+1,s.iLastSample);return g.finitePointPairCount>0&&(d.min=Math.min(g.visibleBoundaries.min,d.min),d.max=Math.max(g.visibleBoundaries.max,d.max),f.push(g.avgPointGap)),p.finitePointPairCount>0&&(d.min=Math.min(p.visibleBoundaries.min,d.min),d.max=Math.max(p.visibleBoundaries.max,d.max),f.push(p.avgPointGap)),{visibleBoundaries:d,avgPointGap:f.reduce(((t,e)=>t+e/f.length),0)}}},kb=(t,e,i,n,r,s,o,a,l,h,c,u,d)=>{const f=Ba(h),g=za(h),p=Array.isArray(e[0])?kc(e[0]):e[0],m=Array.isArray(e[1])?kc(e[1]):e[1],y=i&&Array.isArray(i)?kc(i):i,v=n&&Array.isArray(n)?kc(n):n,x=r&&Array.isArray(r)?kc(r):r,b=s&&Array.isArray(s)?kc(s):s,S=p.length,A=p.elementAt(0),E=p.elementAt(S-1),w=m.elementAt(0),k=m.elementAt(S-1),C=u?2:1;if(a&&l&&void 0!==a.firstX&&void 0!==a.lastX&&void 0!==a.firstY&&void 0!==a.lastY&&("ProgressiveX"===h&&A>=a.firstX||"RegressiveX"===h&&A<=a.firstX||"ProgressiveY"===h&&w>=a.firstY||"RegressiveY"===h&&w<=a.firstY)){const e="x"===f?p:m,i="x"===f?a.lastX:a.lastY,n=Fc(i,0,S-1,g,(t=>e.elementAt(t)));if(e.elementAt(n)===i){const e=a.bufferSize-a.valueCount,i=n+1,r=S-i;if(0===r)return a;if(e>=r){const e=p.toArray(i,i+r-1),n=m.toArray(i,i+r-1);if(t.RE(a.bufferX,a.valueCount*C,d(e),Float32Array),t.RE(a.bufferY,a.valueCount*C,d(n),Float32Array),y&&a.bufferColors){const e=y.toArray(i,i+r-1);t.RE(a.bufferColors,a.valueCount,e,Uint32Array)}if(v&&a.bufferLookupValues){const e=v.toArray(i,i+r-1);t.RE(a.bufferLookupValues,a.valueCount,e,Float32Array)}if(x&&a.bufferSizes){const e=x.toArray(i,i+r-1);t.RE(a.bufferSizes,a.valueCount,e,Float32Array)}if(b&&a.bufferRotations){const e=b.toArray(i,i+r-1);t.RE(a.bufferRotations,a.valueCount,e,Float32Array)}if(o&&a.bufferLengthSoFar){const[i,r,s]=Cb(e,n,a.lastX||0,a.lastY||0,a.lengthSoFarX,a.lengthSoFarY);t.RE(a.bufferLengthSoFar,2*a.valueCount,i,Float32Array),a.lengthSoFarX=r,a.lengthSoFarY=s}return a.valueCount+=r,a.lastX=E,a.lastY=k,a}}}const M=p.toArray(0,S-1),T=m.toArray(0,S-1),P=S+c,F=t.DE(P*C,d(M),null==a?void 0:a.bufferX,Float32Array),L=t.DE(P*C,d(T),null==a?void 0:a.bufferY,Float32Array),R=y?t.DE(P,y.toArray(0,S-1),null==a?void 0:a.bufferColors,Uint32Array):void 0,B=v?t.DE(P,v.toArray(0,S-1),null==a?void 0:a.bufferLookupValues,Float32Array):void 0,z=x?t.DE(P,x.toArray(0,S-1),null==a?void 0:a.bufferSizes,Float32Array):void 0,I=b?t.DE(P,b.toArray(0,S-1),null==a?void 0:a.bufferRotations,Float32Array):void 0;let D,V=0,_=0;if(o){const e=Cb(M,T,M[0],T[0],0,0);D=t.DE(2*P,e[0],null==a?void 0:a.bufferLengthSoFar,Float32Array),V=e[1],_=e[2]}return{bufferX:F,bufferY:L,bufferColors:R,bufferLookupValues:B,bufferSizes:z,bufferRotations:I,bufferSize:P,bufferLengthSoFar:D,valueCount:S,firstX:A,lastX:E,firstY:w,lastY:k,lengthSoFarX:V,lengthSoFarY:_}},Cb=(t,e,i,n,r,s)=>{const o=t.length,a=new Float32Array(2*o);if(0===o)return[a,0,0];let l=0,h=i,c=n,u=r,d=s;for(let f=0;f<o;f+=1){const i=t[f],n=e[f];u+=Math.abs(h-i),d+=Math.abs(c-n),a[l]=u,a[l+1]=d,l+=2,h=i,c=n}return[a,u,d]},Mb={translation:(t,e)=>[1,0,0,0,1,0,t,e,1],rotation(t){const e=Math.cos(t),i=Math.sin(t);return[e,-i,0,i,e,0,0,0,1]},scaling:(t,e)=>[t,0,0,0,e,0,0,0,1],translate:(t,e,i)=>Mb.multiply(t,Mb.translation(e,i)),rotate:(t,e)=>Mb.multiply(t,Mb.rotation(e)),scale:(t,e,i)=>Mb.multiply(t,Mb.scaling(e,i)),multiply(t,e){const i=t[0],n=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],h=t[7],c=t[8],u=e[0],d=e[1],f=e[2],g=e[3],p=e[4],m=e[5],y=e[6],v=e[7],x=e[8];return[u*i+d*s+f*l,u*n+d*o+f*h,u*r+d*a+f*c,g*i+p*s+m*l,g*n+p*o+m*h,g*r+p*a+m*c,y*i+v*s+x*l,y*n+v*o+x*h,y*r+v*a+x*c]},projection:(t,e,i)=>[2/t,0,0,0,-2*i/e,0,-1,1*i,1]};class Tb extends cc{constructor(t,e,i,n,r){super(t,e,i,n,r),this.w$=[],this.hD=new wx,this._$=[En(0,0),En(0,0),En(0,0),En(0,0)],this.k$=Tn(En(0,0),En(0,0)),this.C$=Tn(En(0,0),En(0,0)),this.T$=En(0,0),this.F$=En(0,0),this.I$=En(0,0),this.P$=0,this.L$=0,this.dz=gl({fillStyleSolid:()=>la(this.Je)&&this.Je,fillStyleRadialGradient:()=>Zn(this.Je)&&this.Je,fillStyleLinearGradient:()=>Kn(this.Je)&&this.Je}),this.hz=t,this.rz=e,this.PB=t.nz(),this.rz=e,this.kV=t.Pa.Ra}zr(){const t=this.ll(),e=this.al(),i=this.li.C();if(t){const t=this.nl(),n=this.dz.fillStyleSolid(t),r=this.dz.fillStyleRadialGradient(t),s=this.dz.fillStyleLinearGradient(t),o=n||r||s,a=this.PB,l=this.PB.GR(),h=l!==this.L$;if(this.L$=l,this.hD.uE(this.oi),this.Ml.o||h){this.B$&&this.B$.UB(this),this.font._(Zh(this.Ml.C(),l));const t=this.font.C();this.B$=this.PB.wr(t.properties.family),this.B$.Xu(this)}const c=this.font.o||this.vl.o;if(c&&this.B$){const t=this.font.C();[this.D$,this.C$]=this.B$.jB(this.vl.C(),t,this.hz.bi.isDark),this.w$.forEach((t=>{t.texCoordBuff&&a.gE(t.texCoordBuff),t.vertexBuff&&a.gE(t.vertexBuff)})),this.w$=this.D$.map((t=>({texCoordBuff:a.iE(t.texCoords,!1),texture:t.texture,info:t}))),this.Ml.o=!1,this.font.o=!1,this.vl.o=!1}const u=this.oi.si()||e,d=this.Fn.o||this.Sl.o||this.ml.o||this.bl.o||this.Vn.o||this.nt.o||c||u,f=this.Vn.C(),g=Lo(En(this.Sl.C()+1,this.ml.C()+1),.5);if(d&&this.D$&&(this.T$=En(-(f.left*l+this.C$.max.x-this.C$.min.x+f.right*l)*g.x,-(f.bottom*l+this.C$.max.y-this.C$.min.y+f.top*l)*g.y)),(d||u||this.xl.o||this.nl())&&this.Je!==na){if(this.D$){const t=Ro(this.Fn.C(),this.bl.C()),e=hr(t,this.oi,this.gi.oi),i=Lo(e,l);this.I$=i;const n=No(this.xl.C());this.P$=n,c&&this.w$.forEach((t=>{const e=t.info;e&&(t.vertexBuffLen=e.vertices.length/2,t.vertexBuff=a.iE(e.vertices,!0,t.vertexBuff))}));const r=this.nt.C(),s=[Ro(Co(En((this.C$.min.x+(-r.left-f.left)*l+this.T$.x)/l,(this.C$.max.y+(r.top+f.top)*l+this.T$.y)/l),this.wl,n),e),Ro(Co(En((this.C$.max.x+(r.right+f.right)*l+this.T$.x)/l,(this.C$.max.y+(r.top+f.top)*l+this.T$.y)/l),this.wl,n),e),Ro(Co(En((this.C$.max.x+(r.right+f.right)*l+this.T$.x)/l,(this.C$.min.y+(-r.bottom-f.bottom)*l+this.T$.y)/l),this.wl,n),e),Ro(Co(En((this.C$.min.x+(-r.left-f.left)*l+this.T$.x)/l,(this.C$.min.y+(-r.bottom-f.bottom)*l+this.T$.y)/l),this.wl,n),e)];this._$=[hr(s[0],this.gi.oi,this.oi),hr(s[1],this.gi.oi,this.oi),hr(s[2],this.gi.oi,this.oi),hr(s[3],this.gi.oi,this.oi)];const o=So(s);this.F$=En(-(o.max.x-o.min.x)*l*g.x-o.min.x*l+this.I$.x,-(o.max.y-o.min.y)*l*g.y-o.min.y*l+this.I$.y),this.Ih=Bo(o.max,o.min),this.F$={x:this.F$.x/l,y:this.F$.y/l};const h=So(this._$),u=this.oi.Jt(h.min,this.F$),d=this.oi.Jt(h.max,this.F$);this.k$=So([u,d]),this.F$={x:this.F$.x*l,y:this.F$.y*l}}r?this.mz=fx(this.k$,this.oi,r.getPosition(),r.getExtent(),r.getShape(),this.PB.GR()):s?this.Sz=gx(this.k$,this.oi,s.getAngle(!0),this.PB.GR()):(this.mz=void 0,this.Sz=void 0)}this.nl()&&(this.oD=o?this.PB.eR(Bv["2D"],Bv.VertexLocation({axisWorldTranslation:"matrix",normalSource:void 0,snapToNearestPixel:this.kV}),Bv.Color({dataType:r?["gradient",r]:s?["gradient",s]:"uniform",maskTextureText:!0})):void 0),this.R$=!this.Ol||this.Je===na||n&&0===n.getColor().getA()?void 0:this.R$||this.PB.eR(Bv["2D"],Bv.VertexLocation({axisWorldTranslation:"matrix",normalSource:void 0,snapToNearestPixel:this.kV}),Bv.Color({dataType:"uniform",maskTextureText:!0})),this.E$=i&&o?this.E$||this.PB.eR(Bv["2D"],Bv.MousePicking(),Bv.VertexLocation({axisWorldTranslation:"matrix",normalSource:void 0,snapToNearestPixel:this.kV})):void 0,this.Fn.o=!1,this.Sl.o=!1,this.ml.o=!1,this.bl.o=!1,this.xl.o=!1,this.cl(this.Je)}return this._l=t,this}Su(t,e){if(this.yl){const t=Math.min(this._$[0].x,this._$[1].x),e=Math.max(this._$[0].x,this._$[1].x),i=Math.min(this._$[0].y,this._$[2].y),n=Math.max(this._$[0].y,this._$[2].y);this.Zs.Hg();const r=Math.min(this.oi.x.G,this.oi.x.$),s=Math.max(this.oi.x.G,this.oi.x.$),o=Math.min(this.oi.y.G,this.oi.y.$),a=Math.max(this.oi.y.G,this.oi.y.$);if(!(t<=s&&r<=e&&i<=a&&o<=n))return{idCount:1}}if(this.ll()){const i=0===t?this.R$:void 0,n=this.Ol,r=1===t?this.E$:this.oD;if(!r||0===this.w$.length)return{};const s=this.dz.fillStyleSolid(!1),o=this.dz.fillStyleRadialGradient(!1),a=this.dz.fillStyleLinearGradient(!1),l=this.gi.RD(),h=l.x,c=l.y;let u=Mb.projection(h,c,-1);const d=Mb.translation(this.T$.x,this.T$.y),f=Mb.translation(this.F$.x,this.F$.y);u=Mb.translate(u,this.I$.x,this.I$.y),u=Mb.multiply(u,f),u=Mb.rotate(u,this.P$),u=Mb.multiply(u,d),1===t&&(u=Mb.scale(u,this.C$.max.x,this.C$.max.y)),i&&n&&(u=Mb.translate(u,this.pl.x,this.pl.y),this.PB.Xu(i).eE(i,((t,e,i,r)=>(this.PB.FE(t("uMatrix"),u).oE(t("uIsHighlighted"),0).wI(t("uHighlightColorOffset"),Hn).oE(t("uRenderEffectMask"),0).wI(t("uColor"),n),this.kV&&this.PB.rE(r("uViewportSizePx"),[l.x*this.PB.GR(),l.y*this.PB.GR()]),this.w$.forEach((i=>{this.PB.AE(e("aPos"),i.vertexBuff).AE(e("aMaskTextureCoord"),i.texCoordBuff).nE(t("uMaskTexture"),i.texture,0).Mk(this.PB.gl.TRIANGLES,i.vertexBuffLen)})),!0))),u=Mb.translate(u,-this.pl.x,-this.pl.y)),this.PB.Xu(r).eE(r,((i,n,r,h)=>{if(this.PB.FE(i("uMatrix"),u).oE(i("uIsHighlighted"),1===t||2===t?0:this.Ai).wI(i("uHighlightColorOffset"),1===t||2===t?Hn:this.Si).oE(i("uRenderEffectMask"),2===t?1:0),this.kV&&this.PB.rE(h("uViewportSizePx"),[l.x*this.PB.GR(),l.y*this.PB.GR()]),1===t)this.PB.PE(i("uFirstId"),e).kO(r,1);else if(s)this.PB.wI(i("uColor"),s.getColor());else if(o&&this.mz){this.PB.rE(i("uCenter"),this.mz.center).rE(i("uDistance"),this.mz.distance).fE(i("uBounds"),this.mz.bounds).oE(i("uAspect"),this.mz.aspectRatio);const t=o.getColorStops();for(let e=0;e<t.length;e+=1)this.PB.wI(i("color_".concat(e)),t[e].color).oE(i("stop_".concat(e)),t[e].offset)}else if(a&&this.Sz){this.PB.rE(i("uStartPoint"),this.Sz.startPoint).rE(i("uEndPoint"),this.Sz.endPoint).fE(i("uBounds"),this.Sz.bounds);const t=a.getColorStops();for(let e=0;e<t.length;e+=1)this.PB.wI(i("color_".concat(e)),t[e].color).oE(i("stop_".concat(e)),t[e].offset)}return 1===t&&this.PB.AE(n("aPos"),this.PB.aO).Mk(this.PB.gl.TRIANGLES,6),1!==t&&this.w$.forEach((t=>{this.PB.AE(n("aPos"),t.vertexBuff).AE(n("aMaskTextureCoord"),t.texCoordBuff).nE(i("uMaskTexture"),t.texture,0).Mk(this.PB.gl.TRIANGLES,t.vertexBuffLen)})),!0}))}return{idCount:1}}xu(t,e,i,n,r){return{}}gu(){return this.ll()?So(this._$):oo}pu(){return this.ll()&&this.Ih?this.Ih:En(0,0)}_t(){if(this.ll()&&this.k$){const t=this.k$;return En(t.max.x-t.min.x,t.max.y-t.min.y)}return En(0,0)}bu(){return this.w$.forEach((t=>{t.texCoordBuff&&this.PB.gE(t.texCoordBuff),t.vertexBuff&&this.PB.gE(t.vertexBuff)})),this.w$=[],this.B$&&this.B$.UB(this),this.oD=void 0,this.R$=void 0,this.E$=void 0,this}Xi(){return this.k$.max.x}Wi(){return this.k$.min.x}Ji(){return this.k$.max.y}Zi(){return this.k$.min.y}lc(){return 0}cc(){return 0}}class Pb{constructor(t,e,i){this.Ri=new Set,this.O$=t=>(this.Ri.add(t),t),this.z$=t=>(this.Ri.delete(t),t.bu(),this),this.gi=t,this.$n=e,this.V$=i}lB(t){this.Ri.delete(t)&&this.Ri.add(t)}N(){for(const t of this.Ri)t.bu().dispose();this.gi.ka(this.$n)}Rs(){return this.gi.Rs(),this}_a(){return this.$n}}class Fb extends Pb{constructor(){super(...arguments),this.N$=Fn(void 0),this.il=!1}ym(t){return this.N$._(t),this}Hg(){return this.N$.C()}}class Lb extends hc{constructor(t,e,i,n,r){super(t,e,i,n,r),this.yV={fill:void 0,border:void 0},this.hD=new wx,this.rc=oo,this.G$=!1,this.$$=!1,this.U$=!1,this.Y$=!1,this.Ud=[],this.j$=0,this.dz=gl({rectangleStyleSolid:()=>la(this.Je)&&this.Je,rectangleStyleImage:()=>Lr(this.Je)&&this.Je,rectangleStyleRadialGradient:()=>Zn(this.Je)&&this.Je,rectangleStyleLinearGradient:()=>Kn(this.Je)&&this.Je,rectangleStylePaletted:()=>fa(this.Je)&&this.Je,rectangleStyleIndividual:()=>ca(this.Je)&&this.Je,lineStyleSolid:()=>el(this.Qe)&&this.Qe,lineStyleDashed:()=>sl(this.Qe)&&this.Qe,lineStyleFilled:()=>{const t=this.Qe&&this.Qe.getFillStyle();return la(t)&&t}}),this.hz=t,this.rz=e,this.PB=t.nz(),this.gV=this.PB.iO}Uo(){const t={Ps:e=>this.CV(t,e),Fi:e=>this.TV(t,e),md:(e,i,n,r)=>this.H$(t,e,i,n,r),pd:e=>this.W$(t,e),vS:e=>this.IN(t,e),wI:e=>this.IV(t,e),X$:0,Z$:0,J$:0,Q$:0,S:void 0,PN:void 0,Ai:0,GA:!0,LN:this.Ud.length,K$:void 0};return this.Ud.push(t),t}Ni(){return this.Ud.length=0,this.G$=!0,this.gi.ki(this),this}Cv(){return this.Ud}jd(t){const e=this.Ud.indexOf(t);e>=0&&(this.Ud.splice(e,1),this.G$=!0,this.gi.ki(this,t))}CV(t,e){return t.GA=e,this.G$=!0,t.GA||this.gi.ki(this,t),t}TV(t,e){return t.Ai=e,this.Y$=!0,t}H$(t,e,i,n,r){return t.X$=e,t.Z$=i,t.J$=n,t.Q$=r,this.G$=!0,t}W$(t,e){return t.K$=!0===(null==e?void 0:e.c_x1_y1)||!0===(null==e?void 0:e.c_x1_y2)||(null==e?void 0:e.c_x2_y1)||!0===(null==e?void 0:e.c_x2_y2)?e:void 0,this.G$=!0,t}IN(t,e){return t.S=e,this.$$=!0,t}IV(t,e){return t.PN=null==e?void 0:e.toUint32(),this.U$=!0,t}zr(){const t=this.li.C(),e=this.li.o,i=this.nl(),n=this.Y$;let r=this.G$;const s=this.$$,o=this.U$,a=this.Qe,l=this.ul(),h=this.Ud.filter((t=>t.GA)),c=void 0!==this.Ud.find((t=>t.K$)),u=this.oi.si();c&&u&&(r=!0);const d=this.dz.rectangleStyleSolid(i),f=this.dz.rectangleStylePaletted(i),g=this.dz.rectangleStyleIndividual(i),p=this.dz.rectangleStyleRadialGradient(i),m=this.dz.rectangleStyleLinearGradient(i),y=this.dz.rectangleStyleImage(i),v=d||f||m||p||y||g,x=this.dz.lineStyleSolid(l),b=this.dz.lineStyleDashed(i),S=x||b,A=this.dz.lineStyleFilled(l),E=A,w=S&&Math.max(S.getThickness(),0);if(this.hD.uE(this.oi),r&&(this.rc=Eo(...h.map((t=>So([{x:t.X$,y:t.Z$},{x:t.J$,y:t.Q$}]))))),r||l&&b){const t=[],e=[],i=[];let n=0,r=0;const s=[];let o=0;if(c){const a=this.oi instanceof sr?this.oi.ri():{x:1e-4,y:1e-4},l=5;this.j$=4+4*l;const c=Math.sign(this.oi.x.$-this.oi.x.G),u=Math.sign(this.oi.y.$-this.oi.y.G);h.forEach((h=>{var d,f,g,p,m;const y=Math.sign(h.J$-h.X$),v=Math.sign(h.Q$-h.Z$),x={x:y===c?h.X$:h.J$,y:v===u?h.Z$:h.Q$},b={x:y===c?h.J$:h.X$,y:v===u?h.Q$:h.Z$},S=n,A=r,E=Math.abs((b.x-x.x)/a.x),w=Math.abs((b.y-x.y)/a.y),k=h.K$&&!0!==h.K$.skipTooSmallCheck&&Math.min(E,w)<2*h.K$.extent;t[S+0]=(h.X$+h.J$)/2,e[S+0]=(h.Z$+h.Q$)/2,i[A+0]=0,i[A+1]=0,t[S+1]=Number.NaN,e[S+1]=Number.NaN,i[A+2]=0,i[A+3]=0,n+=2,r+=4;for(let a=0;a<=3;a+=1){const c=0===a||3===a?b.x:x.x,u=0===a||1===a?b.y:x.y,y=c===h.X$&&u===h.Z$?null===(d=h.K$)||void 0===d?void 0:d.c_x1_y1:c===h.J$&&u===h.Z$?null===(f=h.K$)||void 0===f?void 0:f.c_x2_y1:c===h.X$&&u===h.Q$?null===(g=h.K$)||void 0===g?void 0:g.c_x1_y2:null===(p=h.K$)||void 0===p?void 0:p.c_x2_y2,v=null===(m=h.K$)||void 0===m?void 0:m.extent;if(y&&v&&!k){const h=.5*a*Math.PI;for(let d=0;d<l;d+=1){const f=h+d/(l-1)*.5*Math.PI;let g,p;0===a?(g=Math.cos(f)-1,p=-1+Math.sin(f)):1===a?(g=1+Math.cos(f),p=Math.sin(f)-1):2===a?(g=1+Math.cos(f),p=1+Math.sin(f)):(g=-1+Math.cos(f),p=1+Math.sin(f)),t[n+0]=c,e[n+0]=u,i[r+0]=g*v,i[r+1]=p*v,n>1&&(s[o+0]=S,s[o+1]=n-1,s[o+2]=n,o+=3),n+=1,r+=2}}else for(let a=0;a<l;a+=1)t[n+0]=c,e[n+0]=u,i[r+0]=0,i[r+1]=0,s[o+0]=S,s[o+1]=n-1,s[o+2]=n,o+=3,n+=1,r+=2}s[o+0]=S,s[o+1]=S+2,s[o+2]=n-1,o+=3,t[n+0]=t[S+2],e[n+0]=e[S+2],i[r+0]=i[A+4],i[r+1]=i[A+5],t[n+1]=Number.NaN,e[n+1]=Number.NaN,i[r+2]=0,i[r+3]=0,n+=2,r+=4}))}else this.j$=6,h.forEach((a=>{t[n+0]=a.X$,e[n+0]=a.Z$,i[r+0]=0,i[r+1]=0,t[n+1]=a.J$,e[n+1]=a.Z$,i[r+2]=0,i[r+3]=0,t[n+2]=a.J$,e[n+2]=a.Q$,i[r+4]=0,i[r+5]=0,t[n+3]=a.X$,e[n+3]=a.Q$,i[r+6]=0,i[r+7]=0,t[n+4]=a.X$,e[n+4]=a.Z$,i[r+8]=0,i[r+9]=0,t[n+5]=Number.NaN,e[n+5]=Number.NaN,i[r+10]=0,i[r+11]=0,s[o+0]=n+0,s[o+1]=n+1,s[o+2]=n+3,s[o+3]=n+1,s[o+4]=n+3,s[o+5]=n+2,n+=6,r+=12,o+=6}));if(this.q$=this.PB.iE(vs(t,this.oi.Ot()),void 0,this.q$),this.tU=this.PB.iE(vs(e,this.oi.Ot()),void 0,this.tU),this.iU=this.PB.iE(i,void 0,this.iU),this.sU=this.PB.zE(new Uint32Array(s),this.sU),this.eU=s.length,this.hU=n-1,b){const i=new Float32Array(2*t.length);let n=0,r=0,s=0,o=t[0],a=e[0];for(let l=0;l<t.length;l+=1){const h=t[l],c=e[l];Number.isNaN(h)||(r+=Math.abs(h-o),s+=Math.abs(c-a),o=h,a=c),i[n]=r,i[n+1]=s,n+=2}this.pV=this.PB.iE(i,!1,this.pV)}this.rU=[t,e]}if((i||l||e)&&(this.yV.fill=v?{shader:this.PB.eR(Bv["2D"],d&&Bv.Color({dataType:"uniform"}),m&&Bv.Color({dataType:["gradient",m]}),p&&Bv.Color({dataType:["gradient",p]}),f&&Bv.Color({dataType:["lookup",f.getLookUpProperty(),f.lut]}),g&&Bv.Color({dataType:"attribute"}),y&&Bv.Color({dataType:["image",y]}),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0,offsets:[{directionVar:"aGeo",sizeUnit:"px",dataType:"attribute",useGeometry:!1}],splitPosAttribute:!0}),Bv.AttributeHighlight),mousePicking:t?{shader:this.PB.eR(Bv["2D"],Bv.MousePicking({useAttribute:!0}),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0,offsets:[{directionVar:"aGeo",sizeUnit:"px",dataType:"attribute",useGeometry:!1}],splitPosAttribute:!0}),Bv.AttributeHighlight)}:void 0,fillStyleSolid:d,fillStyleLinearGradient:m,fillStyleRadialGradient:p,fillStylePaletted:f,fillStyleImage:y,fillStyleIndividual:g}:void 0,this.yV.border=S&&E&&"number"==typeof w&&0!==w?{shader:this.PB.eR(Bv["2D"],Bv.Color({dataType:"uniform"}),Bv.LineInstanced2D({axisWorldTranslation:dl(this.oi),normalSource:void 0,offsets:[{directionVar:"aGeo",sizeUnit:"px",dataType:"attribute",useGeometry:!1}],splitPosAttribute:!0}),this.gV?Bv.AliasedEdge:void 0,b&&Bv.StippleTextureInstanced,Bv.AttributeHighlight),geometry:Hx(this.PB,w),mousePicking:t?{shader:this.PB.eR(Bv["2D"],Bv.MousePicking({useAttribute:!0}),Bv.LineInstanced2D({axisWorldTranslation:dl(this.oi),normalSource:void 0,offsets:[{directionVar:"aGeo",sizeUnit:"px",dataType:"attribute",useGeometry:!1}],splitPosAttribute:!0}),b&&Bv.StippleTextureInstanced,Bv.AttributeHighlight)}:void 0,fillStyleSolid:A,lineStyleDashed:b,thickness:w}:void 0),n||r){const t=new Float32Array(h.length*this.j$);h.forEach(((e,i)=>{for(let n=0;n<this.j$;n+=1)t[i*this.j$+n]=e.Ai})),this.nU=this.PB.iE(t,!0,this.nU)}if(t){if(r){const t=new Float32Array(h.length*this.j$);h.forEach(((e,i)=>{for(let n=0;n<this.j$;n+=1)t[i*this.j$+n]=e.LN})),this.oU=this.PB.iE(t,!1,this.oU)}}else this.oU&&(this.PB.gE(this.oU),this.oU=void 0);if(s||r&&f&&"value"===f.getLookUpProperty()){const t=new Float32Array(h.length*this.j$),e={min:ro,max:so};h.forEach(((i,n)=>{const r=void 0!==i.S?i.S:Ir;for(let e=0;e<this.j$;e+=1)t[n*this.j$+e]=r;void 0!==i.S&&(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))})),this.VN=e,this.aU=this.PB.iE(t,!1,this.aU)}if(o||r&&g){const t=new Uint32Array(h.length*this.j$),e=g?g.getFallbackColor().toUint32():On.toUint32();h.forEach(((i,n)=>{const r=void 0!==i.PN?i.PN:e;for(let e=0;e<this.j$;e+=1)t[n*this.j$+e]=r})),this.lU=this.PB.iE(t,!1,this.lU,Uint32Array)}return p?this.mz=fx(this.fi||this.rc,this.oi,p.getPosition(),p.getExtent(),p.getShape(),this.PB.GR()):m?this.Sz=gx(this.fi||this.rc,this.oi,m.getAngle(!0),this.PB.GR()):(this.mz=void 0,this.Sz=void 0),b?this.mV=this.PB.FO(b.getPattern()):(this.pV&&(this.PB.gE(this.pV),this.pV=void 0),this.mV=void 0),this.$N=this.PB.DO(this,this.$N,y,void 0,r||this.oi.si(),((t,e,i)=>this.UN(t,e,i,h))),this.Y$=!1,this.G$=!1,this.$$=!1,this.U$=!1,this.li.o=!1,this.cl(this.Je),this.Al(a),this}Su(t,e){var i,n;const{fill:r,border:s}=this.yV,o=this.q$,a=this.tU,l=this.iU,h=this.sU,c=this.eU,u=this.hU,d=this.nU,f=this.oU;if(!(d&&o&&a&&l))return{};if(r&&h&&c){const n=1===t?null===(i=r.mousePicking)||void 0===i?void 0:i.shader:r.shader;n&&this.PB.Xu(n).eE(n,((i,n,s,u)=>!!this.PB.EO(s,t,this,{uniforms:this.hD,idFirst:e,fillStyleSolid:r.fillStyleSolid,fillStyleLinearGradient:r.fillStyleLinearGradient,fillStyleRadialGradient:r.fillStyleRadialGradient,fillStylePaletted:r.fillStylePaletted,fillStyleImage:r.fillStyleImage,fillStyleIndividual:r.fillStyleIndividual,linearGradientInfo:this.Sz,radialGradientInfo:this.mz,texturedFillGLInfo:this.$N,colorBuffer:this.lU,lookupValueBuffer:this.aU,lookupValueRange:this.VN,highlightBuffer:d,coordsX:o,coordsY:a,coordsHighPrecision:this.oi.Ot(),mousePickingOffsetBuffer:f})&&(this.PB.hE(l,void 0,{location:n("aGeoAmount"),size:2}).jE(h),this.PB.WE(c,this.PB.gl.TRIANGLES,void 0,this.PB.gl.UNSIGNED_INT),!0)))}if(s&&u){const{geometry:i,thickness:r,lineStyleDashed:h}=s,c=1===t?null===(n=s.mousePicking)||void 0===n?void 0:n.shader:s.shader;c&&this.PB.Xu(c).eE(c,((n,c,g,p)=>{if(!this.PB.EO(g,t,this,{uniforms:this.hD,idFirst:e,fillStyleSolid:s.fillStyleSolid,highlightBuffer:d,highlightAttribDivisor:1,mousePickingOffsetBuffer:f,mousePickingOffsetAttribDivisor:1}))return!1;if(h){if(!this.mV||!this.pV)return!1;Ux.cV(this.PB,g,this.pV,c("aLengthSoFarA"),c("aLengthSoFarB"),2,2,0),this.PB.rE(n("uStippleCount"),[this.gi._t().x/this.mV.LO,this.gi._t().y/this.mV.LO]).oE(p("uStippleTextureWidthLimiter"),this.mV.PO/this.mV.LO).oE(n("uStippleScale"),h.getPatternScale()).nE(n("uStippleTexture"),this.mV.IO,1)}return Gx(this.PB,g,this.oi.Ot(),o,"aLocation","X",1,!1,this.PB.gl.FLOAT,Float32Array.BYTES_PER_ELEMENT),Gx(this.PB,g,this.oi.Ot(),a,"aLocation","Y",1,!1,this.PB.gl.FLOAT,Float32Array.BYTES_PER_ELEMENT),Gx(this.PB,g,!1,l,"aGeo","",2,!1,this.PB.gl.FLOAT,Float32Array.BYTES_PER_ELEMENT),Ux.Su(this.hz,i,g,this.gV&&1!==t,1===t,r,u),!0}))}return{idCount:this.Ud.length}}UN(t,e,i,n){if(!this.rU)return new Float32Array;const r=hr({x:this.rc.min.x,y:this.rc.min.y},this.oi,this.gi.oi),s=hr({x:this.rc.max.x,y:this.rc.max.y},this.oi,this.gi.oi),o={x:Math.abs(r.x-s.x),y:Math.abs(r.y-s.y)},a=vx(t,e,o.x,o.y,i),l=a[1],h=a[4],c=a[6],u=a[7],d=this.rc.max.x-this.rc.min.x,f=this.rc.max.y-this.rc.min.y,g=h-c,p=u-l,m=new Float32Array(2*this.rU[0].length);let y=0;for(let v=0;v<this.rU[0].length;v+=1){const t=this.rU[0][v],e=this.rU[1][v],i=c+g*((t-this.rc.min.x)/d),n=l+p*((e-this.rc.min.y)/f);m[y]=i,m[y+1]=n,y+=2}return m}xu(t,e,i,n,r){return{collectionMember:this.Ud.find((i=>e+i.LN===t))}}bu(){return this.q$=this.PB.gE(this.q$),this.tU=this.PB.gE(this.tU),this.iU=this.PB.gE(this.iU),this.nU&&(this.PB.gE(this.nU),this.nU=void 0),this.oU&&(this.PB.gE(this.oU),this.oU=void 0),this.aU&&(this.PB.gE(this.aU),this.aU=void 0),this.lU&&(this.PB.gE(this.lU),this.lU=void 0),this.pV&&(this.PB.gE(this.pV),this.pV=void 0),this.sU&&(this.PB.gE(this.sU),this.sU=void 0),this.yV={fill:void 0,border:void 0},this.$N=this.PB.RO(this,this.$N),this}Xi(){return this.rc.max.x}Wi(){return this.rc.min.x}Ji(){return this.rc.max.y}Zi(){return this.rc.min.y}lc(){return Gs(this.Qe)}cc(){return Gs(this.Qe)}}class Rb extends Fb{constructor(t,e,i){super(t,e,i),this.hz=t,this.gl=t.nz(),this.cU=this.Ri}qR(t){const e=t instanceof nc&&t;if(!e)return oo;const i=e.Wi(),n=e.Xi(),r=e.Zi(),s=e.Ji();if(i===ro||n===so||r===ro||s===so)return oo;const o=e.lc(),a=e.cc(),l=rc({min:{x:i,y:r},max:{x:n,y:s}},{x:o,y:a},e.oi),h={min:hr(l.min,e.oi,t.gi.oi),max:hr(l.max,e.oi,t.gi.oi)},c=this.N$.C();let u;if(c){if(u={min:{x:Math.min(h.min.x,c.x),y:Math.min(h.min.y,c.y)},max:{x:Math.max(h.max.x,c.x+c.width),y:Math.max(h.max.y,c.y+c.height)}},u.max.x<u.min.x||u.max.y<u.min.y)return oo}else u=h;return u}gh(t){return this.O$(new jx(this.hz,this,t,this.z$,[]))}yA(t){return this.O$(new Xx(this.hz,this,t,this.z$,[]))}Dv(t,e,i){return this.O$(new $x(this.hz,this,t,this.z$,i,e))}Dd(t){return this.O$(new Eb(this.hz,this,t,this.z$))}Mn(t,e){return this.gi.vu&&!1!==e?this.O$(this.gi.vu.Mn(this.hz,this,t,this.z$)):this.O$(new Tb(this.hz,this,t,this.z$,[]))}wu(t){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:pc.Simple)===pc.Simple)return this.O$(new ib(this.hz,this,t,this.z$,[]));throw new Error("GlEngine.addPolygon | No such polygon type!")}Ov(t){return this.O$(new tb(this.hz,this,t,this.z$,[]))}gd(t){return this.O$(new Lb(this.hz,this,t,this.z$,[]))}ih(t){return this.O$(new eb(this.hz,this,t,this.z$,[]))}Ex(t){return this.O$(new Nx(this.hz,this,t,this.z$,[]))}bd(t){return this.O$(new Lx(this.hz,this,t,this.z$,[]))}qb(t,e,i){if("intensity"===i.heatmapDataType)return this.O$(new db(this.hz,this,t,this.z$,e,i));throw new My("Unimplemented Heatmap Grid Static type")}Zb(t,e,i){return this.O$(new cb(this.hz,this,t,this.z$,e,i))}k_(t,e,i){return this.O$(new gb(this.hz,this,t,this.z$,e,i))}uU(t){return this.O$(new Tx(this.hz,this,this.z$,[],t))}zr(){if(this.il){this.il=!1;const t=Array.from(this.Ri).sort(((t,e)=>t.hl()-e.hl()));this.Ri.clear();for(const e of t)this.Ri.add(e)}for(const t of this.Ri)t.zr();return this}Su(t,e,i){var n;const r=this.N$.C();let s;if(r){const t=r.x*this.gl.GR()*e,i=r.y*this.gl.GR()*e,n=Math.ceil(t),o=Math.ceil(i);s=[n,o,Math.floor(t+r.width*this.gl.GR()*e)-n,Math.floor(i+r.height*this.gl.GR()*e)-o],this.gl.tE(s[0],s[1],s[2],s[3])}if(1!==t){for(const o of this.Ri)if(o.getVisible()){if(o.us){const t=o.us.x*this.gl.GR()*e,i=o.us.y*this.gl.GR()*e,n=Math.ceil(t),r=Math.ceil(i),s=Math.floor(t+o.us.width*this.gl.GR()*e)-n,a=Math.floor(i+o.us.height*this.gl.GR()*e)-r;this.gl.tE(n,r,s,a)}o.Su(t,0),o.us&&s&&this.gl.tE(s[0],s[1],s[2],s[3])}}else{let r=((null===(n=i[i.length-1])||void 0===n?void 0:n.idLast)||0)+1;const o=Array.from(this.cU.values());for(let n=0;n<o.length;n+=1){const a=o[n];if(a.getPointerEvents()&&a.getVisible()){if(a.us){const t=a.us.x*this.gl.GR()*e,i=a.us.y*this.gl.GR()*e,n=Math.ceil(t),r=Math.ceil(i),s=Math.floor(t+a.us.width*this.gl.GR()*e)-n,o=Math.floor(i+a.us.height*this.gl.GR()*e)-r;this.gl.tE(n,r,s,o)}const{idCount:o}=a.Su(t,r);a.us&&s&&this.gl.tE(s[0],s[1],s[2],s[3]),void 0!==o&&(i.push({entity:a,layer:this,entityIndex:n,idFirst:r,idCount:o,idLast:r+o-1}),r+=o)}}}return this.gl.XR(!1),this}}class Bb extends px{constructor(t){super(t)}}class zb extends Bb{constructor(t){super(t),this.dU="attribute";const{vertices:e,drawSize:i,drawMode:n}=Ib(t.gl);this.bB=t.iE(e),this.oV=i,this.aV=n}Mk(t,e,i,n){return this.PB.hE(this.bB,0,{location:t.attribute("aInstanceGeo"),size:3},{location:i?t.attribute("aNormal"):void 0,size:3},{location:n?t.attribute("aTriangleBary"):void 0,size:3}).XE(this.aV,0,this.oV,e),this}wR(){this.PB.gE(this.bB)}}const Ib=t=>{const e=new Float32Array(324);let i=0;return e[i+0]=-1,e[i+1]=1,e[i+2]=1,e[i+3]=0,e[i+4]=1,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=0,i+=9,e[i+0]=1,e[i+1]=1,e[i+2]=1,e[i+3]=0,e[i+4]=1,e[i+5]=0,e[i+6]=1,e[i+7]=1,e[i+8]=0,i+=9,e[i+0]=-1,e[i+1]=1,e[i+2]=-1,e[i+3]=0,e[i+4]=1,e[i+5]=0,e[i+6]=0,e[i+7]=0,e[i+8]=1,i+=9,e[i+0]=-1,e[i+1]=1,e[i+2]=-1,e[i+3]=0,e[i+4]=1,e[i+5]=0,e[i+6]=0,e[i+7]=1,e[i+8]=0,i+=9,e[i+0]=1,e[i+1]=1,e[i+2]=1,e[i+3]=0,e[i+4]=1,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=1,i+=9,e[i+0]=1,e[i+1]=1,e[i+2]=-1,e[i+3]=0,e[i+4]=1,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=0,i+=9,e[i+0]=-1,e[i+1]=-1,e[i+2]=-1,e[i+3]=-1,e[i+4]=0,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=0,i+=9,e[i+0]=-1,e[i+1]=-1,e[i+2]=1,e[i+3]=-1,e[i+4]=0,e[i+5]=0,e[i+6]=1,e[i+7]=1,e[i+8]=0,i+=9,e[i+0]=-1,e[i+1]=1,e[i+2]=-1,e[i+3]=-1,e[i+4]=0,e[i+5]=0,e[i+6]=0,e[i+7]=0,e[i+8]=1,i+=9,e[i+0]=-1,e[i+1]=1,e[i+2]=-1,e[i+3]=-1,e[i+4]=0,e[i+5]=0,e[i+6]=0,e[i+7]=1,e[i+8]=0,i+=9,e[i+0]=-1,e[i+1]=-1,e[i+2]=1,e[i+3]=-1,e[i+4]=0,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=1,i+=9,e[i+0]=-1,e[i+1]=1,e[i+2]=1,e[i+3]=-1,e[i+4]=0,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=0,i+=9,e[i+0]=1,e[i+1]=-1,e[i+2]=1,e[i+3]=1,e[i+4]=0,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=0,i+=9,e[i+0]=1,e[i+1]=-1,e[i+2]=-1,e[i+3]=1,e[i+4]=0,e[i+5]=0,e[i+6]=1,e[i+7]=1,e[i+8]=0,i+=9,e[i+0]=1,e[i+1]=1,e[i+2]=1,e[i+3]=1,e[i+4]=0,e[i+5]=0,e[i+6]=0,e[i+7]=0,e[i+8]=1,i+=9,e[i+0]=1,e[i+1]=1,e[i+2]=1,e[i+3]=1,e[i+4]=0,e[i+5]=0,e[i+6]=0,e[i+7]=1,e[i+8]=0,i+=9,e[i+0]=1,e[i+1]=-1,e[i+2]=-1,e[i+3]=1,e[i+4]=0,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=1,i+=9,e[i+0]=1,e[i+1]=1,e[i+2]=-1,e[i+3]=1,e[i+4]=0,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=0,i+=9,e[i+0]=-1,e[i+1]=-1,e[i+2]=1,e[i+3]=0,e[i+4]=0,e[i+5]=1,e[i+6]=1,e[i+7]=0,e[i+8]=0,i+=9,e[i+0]=1,e[i+1]=-1,e[i+2]=1,e[i+3]=0,e[i+4]=0,e[i+5]=1,e[i+6]=1,e[i+7]=1,e[i+8]=0,i+=9,e[i+0]=-1,e[i+1]=1,e[i+2]=1,e[i+3]=0,e[i+4]=0,e[i+5]=1,e[i+6]=0,e[i+7]=0,e[i+8]=1,i+=9,e[i+0]=-1,e[i+1]=1,e[i+2]=1,e[i+3]=0,e[i+4]=0,e[i+5]=1,e[i+6]=0,e[i+7]=1,e[i+8]=0,i+=9,e[i+0]=1,e[i+1]=-1,e[i+2]=1,e[i+3]=0,e[i+4]=0,e[i+5]=1,e[i+6]=1,e[i+7]=0,e[i+8]=1,i+=9,e[i+0]=1,e[i+1]=1,e[i+2]=1,e[i+3]=0,e[i+4]=0,e[i+5]=1,e[i+6]=1,e[i+7]=0,e[i+8]=0,i+=9,e[i+0]=1,e[i+1]=-1,e[i+2]=-1,e[i+3]=0,e[i+4]=0,e[i+5]=-1,e[i+6]=1,e[i+7]=0,e[i+8]=0,i+=9,e[i+0]=-1,e[i+1]=-1,e[i+2]=-1,e[i+3]=0,e[i+4]=0,e[i+5]=-1,e[i+6]=1,e[i+7]=1,e[i+8]=0,i+=9,e[i+0]=1,e[i+1]=1,e[i+2]=-1,e[i+3]=0,e[i+4]=0,e[i+5]=-1,e[i+6]=0,e[i+7]=0,e[i+8]=1,i+=9,e[i+0]=1,e[i+1]=1,e[i+2]=-1,e[i+3]=0,e[i+4]=0,e[i+5]=-1,e[i+6]=0,e[i+7]=1,e[i+8]=0,i+=9,e[i+0]=-1,e[i+1]=-1,e[i+2]=-1,e[i+3]=0,e[i+4]=0,e[i+5]=-1,e[i+6]=1,e[i+7]=0,e[i+8]=1,i+=9,e[i+0]=-1,e[i+1]=1,e[i+2]=-1,e[i+3]=0,e[i+4]=0,e[i+5]=-1,e[i+6]=1,e[i+7]=0,e[i+8]=0,i+=9,e[i+0]=-1,e[i+1]=-1,e[i+2]=-1,e[i+3]=0,e[i+4]=-1,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=0,i+=9,e[i+0]=1,e[i+1]=-1,e[i+2]=-1,e[i+3]=0,e[i+4]=-1,e[i+5]=0,e[i+6]=1,e[i+7]=1,e[i+8]=0,i+=9,e[i+0]=-1,e[i+1]=-1,e[i+2]=1,e[i+3]=0,e[i+4]=-1,e[i+5]=0,e[i+6]=0,e[i+7]=0,e[i+8]=1,i+=9,e[i+0]=-1,e[i+1]=-1,e[i+2]=1,e[i+3]=0,e[i+4]=-1,e[i+5]=0,e[i+6]=0,e[i+7]=1,e[i+8]=0,i+=9,e[i+0]=1,e[i+1]=-1,e[i+2]=-1,e[i+3]=0,e[i+4]=-1,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=1,i+=9,e[i+0]=1,e[i+1]=-1,e[i+2]=1,e[i+3]=0,e[i+4]=-1,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=0,i+=9,{vertices:e,drawSize:i/9,drawMode:t.TRIANGLES}};class Db extends Bb{constructor(t,e){super(t),this.dU="attribute",this.fU=e;const{vertices:i,indices:n}=Vb();this.bB=t.iE(i),this.nV=t.zE(n),this.oV=n.length,this.aV=t.gl.TRIANGLES}Mk(t,e,i,n){return this.PB.hE(this.bB,0,{location:t.attribute("aEdge"),size:3},{location:i?t.attribute("aNormal"):void 0,size:3},{location:t.attribute("aInstanceGeo"),size:3}).jE(this.nV).oE(t.uniform("uEdgeRoundness"),this.fU/2).ZE(this.aV,this.oV,0,e),this}wR(){this.PB.gE(this.bB),this.PB.gE(this.nV)}AU(t){return this.fU=t,this}gU(){return this.fU}}const Vb=()=>{const t=[{normal:{x:0,y:1,z:0},perpendA:{x:0,y:0,z:1},perpendB:{x:-1,y:0,z:0}},{normal:{x:0,y:0,z:-1},perpendA:{x:0,y:1,z:0},perpendB:{x:-1,y:0,z:0}},{normal:{x:-1,y:0,z:0},perpendA:{x:0,y:1,z:0},perpendB:{x:0,y:0,z:1}},{normal:{x:1,y:0,z:0},perpendA:{x:0,y:1,z:0},perpendB:{x:0,y:0,z:-1}},{normal:{x:0,y:0,z:1},perpendA:{x:0,y:1,z:0},perpendB:{x:1,y:0,z:0}},{normal:{x:0,y:-1,z:0},perpendA:{x:0,y:0,z:-1},perpendB:{x:-1,y:0,z:0}}],e=[];let i=0;const n=[];let r=0;for(const u of t){const{normal:t,perpendA:s,perpendB:o}=u,a=no.multiply(s,-1),l=no.multiply(o,-1),h=i;e[i]={thicknessDirection:no.addVec(t,s,o),edge:no.addVec(a,l),normal:t},i+=1;const c=i;e[i]={thicknessDirection:no.addVec(t,a,o),edge:no.addVec(s,l),normal:t},i+=1;const d=i;e[i]={thicknessDirection:no.addVec(t,a,l),edge:no.addVec(s,o),normal:t},i+=1;const f=i;e[i]={thicknessDirection:no.addVec(t,s,l),edge:no.addVec(a,o),normal:t},i+=1,n[r+0]=d,n[r+1]=h,n[r+2]=f,n[r+3]=d,n[r+4]=c,n[r+5]=h,r+=6;const g=[{A:s,B:o},{A:a,B:o},{A:a,B:l},{A:s,B:l}];for(const n of g){n.thicknessDirection=no.addVec(t,n.A,n.B),n.stripVerticesA=[],n.stripVerticesB=[];const r=[{direction:n.A,other:n.B,vertices:n.stripVerticesA},{direction:n.B,other:n.A,vertices:n.stripVerticesB}];for(const s of r)for(let r=0;r<8;r+=1){const o=.5*r/7,a=no.normalize(no.lerp(t,s.direction,o)),l=Math.PI/2-no.angle(a,t),h=no.addVec(no.multiply(no.multiply(s.direction,-1),1-Math.cos(l)),no.multiply(no.multiply(t,-1),1-Math.sin(l)),no.multiply(s.other,-1)),c=i;e[i]={thicknessDirection:n.thicknessDirection,normal:a,edge:h};const u=e[i];i+=1,s.vertices.push({index:c,vertex:u})}}for(let e=0;e<g.length;e+=1){const t=g[e],i=g[e<g.length-1?e+1:0],s=e%2==0?t.stripVerticesB:t.stripVerticesA,o=e%2==0?i.stripVerticesB:i.stripVerticesA;for(let e=1;e<s.length;e+=1){const t=s[e-1],i=o[e-1],a=s[e],l=o[e];n[r+0]=t.index,n[r+1]=i.index,n[r+2]=l.index,n[r+3]=a.index,n[r+4]=t.index,n[r+5]=l.index,r+=6}}}const s=[{x:-1,y:1,z:-1,flipVertexOrder:!1},{x:-1,y:1,z:1,flipVertexOrder:!0},{x:1,y:1,z:1,flipVertexOrder:!1},{x:1,y:1,z:-1,flipVertexOrder:!0},{x:-1,y:-1,z:-1,flipVertexOrder:!0},{x:-1,y:-1,z:1,flipVertexOrder:!1},{x:1,y:-1,z:1,flipVertexOrder:!0},{x:1,y:-1,z:-1,flipVertexOrder:!1}],o=Math.PI/15,a=2*Math.PI/15;let l=i;for(const u of s){let t=0;e[i]={thicknessDirection:u,normal:{x:0,y:u.y,z:0},edge:{x:-u.x,y:0,z:-u.z}},i+=1,t+=1;for(let n=1;n<8.5;n+=1){const r=15===n?Math.PI:n*o,s=1*Math.cos(r)*u.y,l=Math.sin(r);for(let n=0;n<Math.ceil(3.75)+1;n+=1){const r=15===n?0:n*a,o=l*Math.cos(r)*1*u.x,h=l*Math.sin(r)*1*u.z,c={x:o,y:s,z:h},d=no.normalize({x:o,y:s,z:h});e[i]={thicknessDirection:u,normal:d,edge:{x:c.x-u.x,y:c.y-u.y,z:c.z-u.z}},i+=1,t+=1}}const r=[];for(let e=1;e<=Math.ceil(3.75);e+=1)r.push(l),15===e?r.push(l+1):r.push(l+e+1),r.push(l+e);const s=l+1,h=Math.ceil(3.75)+1;for(let e=0;e<6.5;e+=1)for(let t=0;t<Math.ceil(3.75);t+=1){let i=0;const n=s+(e+1)*h+t;let o=0;14===t?(i=s+e*h,o=s+(e+1)*h):(i=s+e*h+t+1,o=s+(e+1)*h+t+1),r.push(s+e*h+t),r.push(i),r.push(n),r.push(n),r.push(i),r.push(o)}n.push.apply(n,u.flipVertexOrder?r.reverse():r),l+=t}const h=new Float32Array(9*e.length);let c=0;for(const u of e)h[c+0]=u.edge.x,h[c+1]=u.edge.y,h[c+2]=u.edge.z,h[c+3]=u.normal.x,h[c+4]=u.normal.y,h[c+5]=u.normal.z,h[c+6]=u.thicknessDirection.x,h[c+7]=u.thicknessDirection.y,h[c+8]=u.thicknessDirection.z,c+=9;return{vertices:h,indices:new Uint16Array(n)}},_b=(t,e)=>{let i=t.xE.MR.get(e);return i||(i=void 0!==e&&e>0?new Db(t,Qr(e,0,1)):new zb(t),t.xE.MR.set(e,i),i)};class Nb extends bx{ev(t){return this.NR=this.Zg.C(),this.Zg._(t),this}np(t){return this.vU=t,this}op(){return this.vU}}class Ob extends Nb{constructor(t,e,i){super(t,e,i),this.yU=t,this.hz=t.hz,this.PB=this.hz.nz()}}const Hb=11;class Ub extends Ob{constructor(t,e,i){super(t,e,i),this.vU="cull-back",this.rc=ao,this.pU={},this.mU=[],this.dz=gl({fillStyleSolid:()=>la(this.Je)&&this.Je,fillStyleIndividual:()=>ca(this.Je)&&this.Je,fillStylePaletted:()=>fa(this.Je)&&this.Je}),this.Je=tc.fillStyle,this.Zg._(Oa)}zr(t){const e=this.mU,i=this.Je,n=i!==na,r=this.SU,s=this.nl()||this.bU!==r,o=this.VR(),a=this.li.C(),l=this.li.o;if(n){for(const i of e)i.id=void 0!==i.id?String(i.id):void 0,i.xSize=void 0!==i.xSize&&i.xSize<0?-i.xSize:i.xSize,i.ySize=void 0!==i.ySize&&i.ySize<0?-i.ySize:i.ySize,i.zSize=void 0!==i.zSize&&i.zSize<0?-i.zSize:i.zSize;const t=this.xU||0;let n=t;for(const i of e){const t=i.id;void 0!==t&&void 0!==this.pU[t]||(n+=1)}let r,h=!1,c=!1;if(h=n!==t,c=h,r=!c&&(e.length<100?"chunks":"all"),h){const e=n*Hb,i=new Float32Array(e);this.MU&&i.set(this.MU),this.MU=i,this.wU=e,this._U=t*Hb}const u=ca(i)?i.getFallbackColor():void 0;for(const i of e){const t=i.id,e=void 0!==t&&this.pU[t],n=[i.xCenter,i.yCenter,i.zCenter,i.xSize,i.ySize,i.zSize,i.color?i.color.r:u?u.r:void 0,i.color?i.color.g:u?u.g:void 0,i.color?i.color.b:u?u.b:void 0,i.color?i.color.a:u?u.a:void 0,i.value];if(e){for(let t=0;t<Hb;t+=1)n[t]=void 0!==n[t]?n[t]:e.buffer[t];e.buffer.set(n)}else{const e=this._U,i=new Float32Array(this.MU.buffer,e*Float32Array.BYTES_PER_ELEMENT,Hb);i.set(n),void 0!==t&&(this.pU[t]={location:e,buffer:i}),this._U+=Hb}}if(c&&(this.rV=this.PB.iE(this.MU,!0)),"all"===r)this.PB.RE(this.rV,0,this.MU);else if("chunks"===r)for(const i of e){const t=i.id;if(void 0!==t){const e=this.pU[t];this.PB.RE(this.rV,e.location,e.buffer)}}if(s||o||l){const t=this.dz.fillStyleSolid(s),e=this.dz.fillStyleIndividual(s),i=this.dz.fillStylePaletted(s);t||e||i?(this.kU=_b(this.PB,this.CU()),this.oD=this.PB.eR(Bv["3D"],Bv.ColorShaded3D({dataType:e?"attribute":i?["lookup",i.getLookUpProperty(),i.lut]:"uniform",shadingStyle:this.Zg.C().type}),Bv.VertexLocation({offsets:[{directionVar:"aInstanceGeo",sizeUnit:"axis",dataType:"attribute",halved:!0}],axisWorldTranslation:dl(this.oi),normalSource:this.kU.dU}),void 0!==this.SU&&Bv.RoundedEdges3D),this.E$=a?this.PB.eR(Bv["3D"],Bv.VertexLocation({offsets:[{directionVar:"aInstanceGeo",sizeUnit:"axis",dataType:"attribute",halved:!0}],axisWorldTranslation:dl(this.oi),normalSource:void 0}),Bv.MousePicking(),void 0!==this.SU&&Bv.RoundedEdges3D):void 0):(this.kU=void 0,this.oD=void 0,this.E$=void 0)}if(e.length>0){const t=Tn({x:ro,y:ro,z:ro},{x:so,y:so,z:so});for(let e=0;e<this._U;e+=Hb){const i=this.MU[e+0],n=this.MU[e+3]/2,r=i-n,s=i+n,o=this.MU[e+1],a=this.MU[e+4]/2,l=o-a,h=o+a,c=this.MU[e+2],u=this.MU[e+5]/2,d=c-u,f=c+u;t.min.x=t.min.x<r?t.min.x:r,t.min.y=t.min.y<l?t.min.y:l,t.min.z=t.min.z<d?t.min.z:d,t.max.x=t.max.x>s?t.max.x:s,t.max.y=t.max.y>h?t.max.y:h,t.max.z=t.max.z>f?t.max.z:f}this.rc=t}this.xU=n,this.mU.length=0}return this.cl(i),this.bU=r,this.Zg.o=!1,this.li.o=!1,this}Su(t,e){const i=1===t?this.E$:this.oD,n=this.kU,r=this.rV,s=this.Je,o=this.xU,a=this.Zg.C(),l=o||0;return i&&r&&void 0!==o&&this.PB.eE(i,((h,c,u)=>{let d=!1;const f=c("aPos"),g=c("aOffsetAxis");this.PB.Xu(i).TE(h("uScale"),this.yU.hD.aE()).TE(h("uDisp"),this.yU.hD.lE()).IE(h("uViewProjectionMatrix"),this.TU).oE(h("uIsHighlighted"),1===t||2===t?0:this.Ai).wI(h("uHighlightColorOffset"),1===t||2===t?Hn:this.Si).oE(h("uRenderEffectMask"),2===t?1:0);const p={location:f,size:3},m={location:g,size:3},y={location:void 0,size:4},v={location:void 0,size:1};if(1!==t&&"phong"===a.type&&this.PB.TE(h("uCameraLoc"),this.FU).TE(h("uLightLoc"),this.IU).oE(h("uAmbientReflection"),a.ambientReflection).oE(h("uSpecularReflection"),a.specularReflection).oE(h("uDiffuseReflection"),a.diffuseReflection).oE(h("uShininess"),a.shininess).wI(h("uLightColor"),a.specularColor).wI(h("uAmbientColor"),a.ambientColor),1===t)this.PB.PE(h("uFirstId"),e).kO(u,l);else if(la(s))this.PB.wI(h("uColorDiffuse"),s.getColor());else if(ca(s)){const t=c("aColor");y.location=t}else if(fa(s)){const t=pl(s,this,void 0);if(!t&&s.lut.percentageValues)return!1;this.PB.BO(u,s.lut,t),"value"===s.lookUpProperty&&(v.location=c("aLookupValue"))}return r&&(this.PB.hE(r,1,p,m,y,v),n.Mk(u,o,"phong"===a.type&&1!==t,!1),d=!0),d})),{idCount:l}}xu(t,e,i,n,r){const s=(t-e)*Hb;if(!this.MU)return{};const o=this.MU[s+0],a=this.MU[s+1],l=this.MU[s+2],h=this.MU[s+3],c=this.MU[s+4],u=this.MU[s+5],d=ts(this.MU[s+6],void 0),f=ts(this.MU[s+7],void 0),g=ts(this.MU[s+8],void 0),p=ts(this.MU[s+9],void 0),m=ts(this.MU[s+10],void 0);let y;for(const v of Object.keys(this.pU))if(this.pU[v].location===s){y=v;break}return{info:{dataPoint:{x:o,y:a,z:l,xSize:h,ySize:c,zSize:u,r:d,g:f,b:g,a:p,intensity:m,id:y}}}}dispose(){return super.dispose(),this.rV&&(this.PB.gE(this.rV),this.rV=void 0),this.oD=void 0,this}bu(){return this.dispose(),this}fv(t){this.mU=Ts(this.mU,t,{canReturnB:!0})}th(t){return this.Je=sc(this.Je,t),this}Sr(){return this.Je}cv(t){return this.SU=void 0!==t&&t>0?Qr(t,0,1):void 0,this}CU(){return this.SU}Xi(){return this.rc.max.x}Wi(){return this.rc.min.x}Ji(){return this.rc.max.y}Zi(){return this.rc.min.y}Se(){return this.rc.max.z}me(){return this.rc.min.z}lc(){return 0}cc(){return 0}ov(){return 0}nl(){return oc(this.ol,this.Je)}cl(t){this.ol=t}}class Yb extends px{constructor(t,e){super(t),this.dU="custom",this.eV=e;const{vertices:i,drawSize:n}=this.hV();this.rV=t.iE(i),this.oV=n}Xu(t){return this.PB.hE(this.rV,0,{location:t.attribute("aSegmentPosition"),size:1},{location:t.attribute("aPerpendHorizontal"),size:1},{location:t.attribute("aPerpendVertical"),size:1}),this}Mk(t){return this.PB.XE(this.PB.gl.TRIANGLE_STRIP,0,this.oV,t),this}hV(){const t=this.eV,e=new Float32Array(2*(t+1)*3);let i=0;for(let n=0;n<=t;n+=1){const r=2*Math.PI*n/t,s=Math.cos(r),o=Math.sin(r);for(const t of[0,1])e[i+0]=t,e[i+1]=s,e[i+2]=o,i+=3}return{vertices:e,drawSize:i/3}}wR(){this.PB.gE(this.rV)}}const Gb=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,i=t.xE.bR.get(e);return i||(i=new Yb(t,e),t.xE.bR.set(e,i),i)};class jb extends Ob{constructor(t,e,i){super(t,e,i),this.vU="cull-back",this.PU=ao,this.LU=[],this.BU=!1,this.eu=tc.lineStyle,this.Zg._(_a)}zr(t){const e=this.BU,i=this.eu,n=this.hu!==i,r=this.VR(),s=e;if(e){const t=bs(this.LU);this.DU=this.PB.iE(t,!1,this.DU)}if(s&&(this.PU=Ao(this.LU)),n||r){const t=8,e=el(i)&&i.getFillStyle(),n=1===i.getThickness()?"primitive":"instanced";this.yV=void 0,la(e)&&("primitive"===n?this.yV={type:n,shader:this.PB.eR(Bv["3D"],Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0}),Bv.Color({dataType:"uniform"})),fillStyle:e}:"instanced"===n&&(this.yV={type:n,shader:this.PB.eR(Bv["3D"],Bv.ColorShaded3D({dataType:"uniform",shadingStyle:this.Zg.C().type}),Bv.LineInstanced3D({axisWorldTranslation:dl(this.oi)})),geometry:Gb(this.PB,t),fillStyle:e}))}return this.BU=!1,this.hu=i,this.Zg.o=!1,this}Su(t,e){if(1===t)return{};const i=this.PB.gl,n=this.yV,r=this.DU,s=this.eu,o=this.Zg.C();if(n&&r&&el(s))switch(n.type){case"instanced":{const e=.5*this.Zs.Vv(s.thickness),a=n.fillStyle.getColor(),l=n.shader,h=n.geometry;this.PB.eE(l,((n,s,c)=>{this.PB.Xu(l).TE(n("uScale"),this.yU.hD.aE()).TE(n("uDisp"),this.yU.hD.lE()).IE(n("uViewProjectionMatrix"),this.TU).wI(n("uColorDiffuse"),a).oE(n("uOffsetWU"),e).oE(n("uIsHighlighted"),this.Ai).wI(n("uHighlightColorOffset"),2===t?Hn:this.Si).oE(n("uRenderEffectMask"),2===t?1:0),"phong"===o.type&&this.PB.TE(n("uCameraLoc"),this.FU).TE(n("uLightLoc"),this.IU).oE(n("uAmbientReflection"),o.ambientReflection).oE(n("uSpecularReflection"),o.specularReflection).oE(n("uDiffuseReflection"),o.diffuseReflection).oE(n("uShininess"),o.shininess).wI(n("uLightColor"),o.specularColor).wI(n("uAmbientColor"),o.ambientColor),i.bindBuffer(i.ARRAY_BUFFER,r);const u=s("aLocationA"),d=s("aLocationB");return i.vertexAttribPointer(u,3,i.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,0*Float32Array.BYTES_PER_ELEMENT),this.PB.GE(u,1),i.enableVertexAttribArray(u),i.vertexAttribPointer(d,3,i.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT),this.PB.GE(d,1),i.enableVertexAttribArray(d),h.Xu(c).Mk(this.LU.length/2),!0}));break}case"primitive":{const e=el(s)?s.getFillStyle():void 0,o=e&&la(e)?e.getColor():void 0;if(o){const e=n.shader;this.PB.eE(e,((n,s)=>(this.PB.Xu(e).TE(n("uScale"),this.yU.hD.aE()).TE(n("uDisp"),this.yU.hD.lE()).IE(n("uViewProjectionMatrix"),this.TU).wI(n("uColor"),o).oE(n("uIsHighlighted"),this.Ai).wI(n("uHighlightColorOffset"),2===t?Hn:this.Si).oE(n("uRenderEffectMask"),2===t?1:0).hE(r,void 0,{location:s("aPos"),size:3}).Mk(i.LINES,this.LU.length),!0)))}break}}return{idCount:this.LU.length}}xu(t,e,i,n,r){return{}}xc(t){for(let e=0;e<t.length-1;e+=1){const i=t[e],n=t[e+1];this.LU.push(i),this.LU.push(n)}return this.BU=!0,{Fi(){return this},Ps(){return this}}}Ni(){return this.LU.length=0,this.BU=!0,this}Cv(){return[]}jd(t){}Ah(t){return this.eu="function"==typeof t?t(this.eu):t,this}co(){return this.eu}bu(){return this.DU&&(this.PB.gE(this.DU),this.DU=void 0),this}Xi(){return this.PU.max.x}Wi(){return this.PU.min.x}Ji(){return this.PU.max.y}Zi(){return this.PU.min.y}Se(){return this.PU.max.z}me(){return this.PU.min.z}lc(){const t=this.eu;return t===Br?0:t.getThickness()}cc(){const t=this.eu;return t===Br?0:t.getThickness()}ov(){const t=this.eu;return t===Br?0:t.getThickness()}}class Xb extends px{constructor(t,e,i){super(t),this.dU="gpu-calculate",this.RU=e,this.EU=i;const{vertices:n,drawSize:r}=this.hV();this.rV=t.iE(n),this.oV=r}Mk(t,e,i,n){return this.PB.hE(this.rV,0,{location:t.attribute("aInstanceGeo"),size:3},{location:n?t.attribute("aTriangleBary"):void 0,size:3}).XE(this.PB.gl.TRIANGLES,0,this.oV,e),this}hV(){const t=this.EU,e=this.RU,i=new Float32Array(6*(6*e+6*(t-2)*e));let n=0;const r=2*Math.PI/e,s=Math.PI/t,o=(t,e,o,a,l)=>{const h=e*r,c=Math.PI/2-t*s,u=Math.cos(c),d=u*Math.cos(h),f=u*Math.sin(h),g=Math.sin(c);i[n]=d,i[n+1]=g,i[n+2]=f,i[n+3]=o,i[n+4]=a,i[n+5]=l,n+=6};for(let a=0;a<t;a+=1)for(let i=0;i<e;i+=1)a>0&&(o(a,i,1,0,0),o(a,i+1,1,1,0),o(a+1,i,0,0,1)),a<t-1&&(o(a,i+1,1,1,0),o(a+1,i+1,0,1,0),o(a+1,i,0,0,1));return n!==i.length&&Ds(0,(()=>{this.PB._g.La&&n>i.length&&jr.console.warn("LightningChart JS unexpected error scenario, sphere geometry buffer size mismatch.\nA point series 3D component might have missing points.\n\nThis warning can be omitted with LightningChartOptions.warnings")})),{vertices:i,drawSize:n/6}}wR(){this.PB.gE(this.rV)}}const Wb=(t,e)=>{const i=Math.round(e);i<3&&Ds(0,Jr);const n=i;let r=t.xE.xR.get(Array.from(t.xE.xR.keys()).find((t=>t.sectors===i&&t.stacks===n)));return r||(r=new Xb(t,i,n),t.xE.xR.set({sectors:i,stacks:n},r),r)};class Zb extends Ob{constructor(t,e,i){super(t,e,i),this.vU="cull-back",this.ix=[],this.yV={},this.vN=new Kx(this.ix,(t=>t.vertexBuffer&&this.PB.gE(t.vertexBuffer)),!0),this.cu=[],this.uu=0,this.gc=[],this.OU=0,this.rc=ao,this.zU=ao,this.dz=gl({lineStyleSolid:()=>{const t=this.eu;return el(t)&&t},lineFillSolid:()=>{const t=this.eu.getFillStyle();return la(t)&&t},lineFillPaletted:()=>{const t=this.eu.getFillStyle();return fa(t)&&t},jointStyleTriangulatedPoints:()=>qa(this.qv)&&this.qv,jointSizeTriangulated:()=>{const t=this.qv;return qa(t)&&t.getSize()},jointFillSolid:()=>{const t=this.qv.getFillStyle();return la(t)&&t},jointFillPaletted:()=>{const t=this.qv.getFillStyle();return fa(t)&&t},wireframeLineStyleSolid:()=>{const t=qa(this.qv)&&this.qv.getWireframeStyle();return el(t)&&t},wireframeFillSolid:()=>{const t=qa(this.qv)&&this.qv.getWireframeStyle(),e=t&&t.getFillStyle();return la(e)&&e}}),this.mc=!1,this.eu=tc.lineStyle,this.qv=tc.pointStyle3D,this.Zg._(Oa),this.bN={attributesPerVertex:3,prepareRenderData:(t,e)=>bs(t)}}xu(t,e,i,n,r){return{info:{dataPoint:this.cu[t-e]}}}zr(t){const e=this.mc,i=this.gc,n=this.OU,r=n>0,s=this.eu,o=s!==this.hu,a=this.qv,l=a!==this.VU,h=this.VR(),c=this.li.o,u=this.li.C();this.zU&&(this.rc=wo(this.rc,this.zU),this.zU=void 0),r&&(this.cu=Ts(this.cu,i,{canReturnB:!0}),this.uu+=n);let d=i,f=n;if(e&&(this.ix.forEach((t=>{t.existingCoordinatesCount=0,t.existingDataPointsCount=0,t.boundaries=ao})),this.vN.oN(),d=this.cu,f=this.uu),f>0){const t=1e5,e=Math.floor(this.hz.NU/(this.bN.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT)),i=this.Mi("ApplicationType",(t=>"UserSeries"===t.type))?f:1e3,n=Qr(i,t,e);this.vN.eN(d,n,((t,e,i,n)=>({existingDataPointsCount:i-n,existingCoordinatesCount:i,allocatedCoordinatesCount:t,jointPointsCount:n,lastDataPoint:e[i-1],boundaries:ao,vertexBuffer:this.PB.DE(t*this.bN.attributesPerVertex,this.bN.prepareRenderData(e,i))})),((t,e,i,n)=>{this.PB.RE(t.vertexBuffer,t.existingCoordinatesCount*this.bN.attributesPerVertex,this.bN.prepareRenderData(e,i)),t.existingDataPointsCount+=i-n,t.existingCoordinatesCount+=i,t.jointPointsCount+=n,t.lastDataPoint=e[i-1]}))}if(o||l||h||c){const t={},e=this.dz.lineStyleSolid(o),i=this.dz.lineFillSolid(o),n=this.dz.lineFillPaletted(o),r=i||n,a=this.dz.jointStyleTriangulatedPoints(l),h=this.dz.jointSizeTriangulated(l),c=this.dz.jointFillSolid(l),d=this.dz.jointFillPaletted(l),f=c||d,g=this.dz.wireframeLineStyleSolid(l),p=this.dz.wireframeFillSolid(l),m=s.getThickness()<0||1===s.getThickness()&&this.Mi("ApplicationType",(t=>"InternalUI"===t.type))?"primitive":"instanced",y=n?["lookup",n.getLookUpProperty(),n.lut]:"uniform";if("primitive"===m&&r?t.lines={type:"primitive",fillStyleSolid:i,fillStylePaletted:n,shader:this.PB.eR(Bv["3D"],Bv.Color({dataType:y}),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0})),mousePicking:u?{shader:this.PB.eR(Bv["3D"],Bv.MousePicking({useVertexId:!0}),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0}))}:void 0}:"instanced"===m&&e&&r&&(t.lines={type:"instanced",lineStyleSolid:e,fillStyleSolid:i,fillStylePaletted:n,shader:this.PB.eR(Bv["3D"],Bv.ColorShaded3D({dataType:y,shadingStyle:this.Zg.C().type}),Bv.LineInstanced3D({axisWorldTranslation:dl(this.oi)})),geometry:qb(this.PB,e.getThickness()),mousePicking:u?{shader:this.PB.eR(Bv["3D"],Bv.MousePicking(),Bv.LineInstanced3D({axisWorldTranslation:dl(this.oi)}))}:void 0}),t.markers=void 0,f&&a){const e=Cs(a.getShape(),{cube:()=>_b(this.PB),sphere:()=>Jb(this.PB,a)});t.markers={geometry:e,pointStyle:a,pointSizeNWU:"number"==typeof h&&h,pointSizeAxis:"object"==typeof h&&h,fillStyleSolid:c,fillStylePaletted:d,shader:this.PB.eR(Bv["3D"],Bv.ColorShaded3D({dataType:d?["lookup",d.getLookUpProperty(),d.lut]:"uniform",shadingStyle:this.Zg.C().type,wireframe:!1!==p}),Bv.VertexLocation({offsets:[{directionVar:"aInstanceGeo",dataType:"uniform",sizeUnit:"number"==typeof h?"nwu":"axis",symmetric:"number"==typeof h,halved:!0}],axisWorldTranslation:dl(this.oi),normalSource:e.dU})),mousePicking:u?{shader:this.PB.eR(Bv["3D"],Bv.MousePicking(),Bv.VertexLocation({offsets:[{directionVar:"aInstanceGeo",dataType:"uniform",sizeUnit:"number"==typeof h?"nwu":"axis",symmetric:"number"==typeof h,halved:!0}],axisWorldTranslation:dl(this.oi),normalSource:void 0}))}:void 0,wireframe:g&&p&&{thickness:g.getThickness(),fillStyleSolid:p}}}this.yV=t}return this.mc=!1,this.gc=[],this.OU=0,this.hu=s,this.VU=a,this.Zg.o=!1,this.li.o=!1,this}Su(t,e){var i,n;const r=this.PB.gl,{lines:s,markers:o}=this.yV,a=this.Zg.C(),l=this.uu,h=1===t?null===(i=null==s?void 0:s.mousePicking)||void 0===i?void 0:i.shader:null==s?void 0:s.shader;if(s&&h&&"instanced"===s.type){const i=h,{geometry:n,lineStyleSolid:o,fillStyleSolid:l,fillStylePaletted:c}=s;this.PB.eE(i,((s,h,u)=>{let d=!1;if(this.PB.Xu(i).TE(s("uScale"),this.yU.hD.aE()).TE(s("uDisp"),this.yU.hD.lE()).IE(s("uViewProjectionMatrix"),this.TU).oE(s("uOffsetWU"),this.Zs.Vv(o.getThickness())).oE(s("uIsHighlighted"),1===t||2===t?0:this.Ai).wI(s("uHighlightColorOffset"),1===t||2===t?Hn:this.Si).oE(s("uRenderEffectMask"),2===t?1:0),1!==t&&"phong"===a.type&&this.PB.TE(s("uCameraLoc"),this.FU).TE(s("uLightLoc"),this.IU).oE(s("uAmbientReflection"),a.ambientReflection).oE(s("uSpecularReflection"),a.specularReflection).oE(s("uDiffuseReflection"),a.diffuseReflection).oE(s("uShininess"),a.shininess).wI(s("uLightColor"),a.specularColor).wI(s("uAmbientColor"),a.ambientColor),1===t);else if(l)this.PB.wI(s("uColorDiffuse"),l.getColor());else if(c){const t=pl(c,this,void 0);if(!t&&c.lut.percentageValues)return!1;this.PB.BO(u,c.lut,t)}const f=$s(e);return this.ix.forEach((e=>{if(1===t){const[t,i]=f.es(e.existingDataPointsCount);this.PB.PE(s("uFirstId"),t).kO(u,i)}r.bindBuffer(r.ARRAY_BUFFER,e.vertexBuffer);const i=h("aLocationA"),o=h("aLocationB");r.vertexAttribPointer(i,3,r.FLOAT,!1,3*Float32Array.BYTES_PER_ELEMENT,0*Float32Array.BYTES_PER_ELEMENT),this.PB.GE(i,1),r.enableVertexAttribArray(i),r.vertexAttribPointer(o,3,r.FLOAT,!1,3*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT),this.PB.GE(o,1),r.enableVertexAttribArray(o),n.Xu(u).Mk(e.existingCoordinatesCount-1),d=!0})),d}))}if(s&&h&&"primitive"===s.type){const i=h,{fillStyleSolid:n,fillStylePaletted:o}=s;this.PB.eE(i,((s,a,l)=>{let h=!1;if(this.PB.Xu(i).TE(s("uScale"),this.yU.hD.aE()).TE(s("uDisp"),this.yU.hD.lE()).IE(s("uViewProjectionMatrix"),this.TU).oE(s("uIsHighlighted"),1===t||2===t?0:this.Ai).wI(s("uHighlightColorOffset"),1===t||2===t?Hn:this.Si).oE(s("uRenderEffectMask"),2===t?1:0),1===t);else if(n)this.PB.wI(s("uColor"),n.getColor());else if(o){const t=pl(o,this,void 0);if(!t&&o.lut.percentageValues)return!1;this.PB.BO(l,o.lut,t)}const c=$s(e);return this.ix.forEach((e=>{if(1===t){const[t,i]=c.es(e.existingDataPointsCount);this.PB.PE(s("uFirstId"),t).wO(l,i)}this.PB.hE(e.vertexBuffer,void 0,{location:a("aPos"),size:3}).Mk(r.LINE_STRIP,e.existingCoordinatesCount),h=!0})),h}))}const c=1===t?null===(n=null==o?void 0:o.mousePicking)||void 0===n?void 0:n.shader:null==o?void 0:o.shader;if(o&&c){const i=c,{geometry:n,fillStyleSolid:r,fillStylePaletted:s,pointSizeAxis:l,pointSizeNWU:h,wireframe:u}=o;this.PB.eE(i,((o,c,d,f)=>{let g=!1;if(this.PB.Xu(i).TE(o("uScale"),this.yU.hD.aE()).TE(o("uDisp"),this.yU.hD.lE()).IE(o("uViewProjectionMatrix"),this.TU).oE(f("uRatioNwuWu"),this.yU.GU()).oE(o("uIsHighlighted"),1===t||2===t?0:this.Ai).wI(o("uHighlightColorOffset"),1===t||2===t?Hn:this.Si).oE(o("uRenderEffectMask"),2===t?1:0),1!==t&&"phong"===a.type&&this.PB.TE(o("uCameraLoc"),this.FU).TE(o("uLightLoc"),this.IU).oE(o("uAmbientReflection"),a.ambientReflection).oE(o("uSpecularReflection"),a.specularReflection).oE(o("uDiffuseReflection"),a.diffuseReflection).oE(o("uShininess"),a.shininess).wI(o("uLightColor"),a.specularColor).wI(o("uAmbientColor"),a.ambientColor),1===t);else if(r)this.PB.wI(o("uColorDiffuse"),r.getColor());else if(s){const t=pl(s,this,void 0);if(!t&&s.lut.percentageValues)return!1;this.PB.BO(d,s.lut,t)}u&&1!==t&&this.PB.oE(o("uWireframeThickness"),u.thickness).wI(o("uWireframeColor"),u.fillStyleSolid.getColor()),!1!==l&&this.PB.TE(o("uOffsetAxis"),[l.x,l.y,l.z]),!1!==h&&this.PB.oE(o("uOffsetNWU"),h);const p=$s(e);return this.ix.forEach((e=>{if(1===t){const[t,i]=p.es(e.existingDataPointsCount);this.PB.PE(o("uFirstId"),t).kO(d,i)}this.PB.hE(e.vertexBuffer,1,{location:c("aPos"),size:3}),n.Mk(d,e.existingCoordinatesCount,"phong"===a.type&&1!==t,Boolean(u)&&1!==t),g=!0})),g}))}return{idCount:l}}xc(t,e){Array.isArray(t)||(t=[t]),this.gc=Ts(this.gc,t,{canReturnB:!0}),this.OU+=t.length;const i=e||Ao(t);return this.zU=this.zU?wo(this.zU,i):i,this}Ah(t){return this.eu="function"==typeof t?t(this.eu):t,this}co(){return this.eu}Bv(t){return this.qv="function"==typeof t?t(this.qv):t,this}$U(){return this.qv}Xi(){return this.zU?Math.max(this.zU.max.x,this.rc.max.x):this.rc.max.x}Wi(){return this.zU?Math.min(this.zU.min.x,this.rc.min.x):this.rc.min.x}Ji(){return this.zU?Math.max(this.zU.max.y,this.rc.max.y):this.rc.max.y}Zi(){return this.zU?Math.min(this.zU.min.y,this.rc.min.y):this.rc.min.y}Se(){return this.zU?Math.max(this.zU.max.z,this.rc.max.z):this.rc.max.z}me(){return this.zU?Math.min(this.zU.min.z,this.rc.min.z):this.rc.min.z}lc(){return Gs(this.eu)}cc(){return Gs(this.eu)}ov(){return Gs(this.eu)}Mc(){return this.cu}wc(){return this.gc}Cc(){return this.uu}Tc(){return this.OU}Ni(){return this.mc=!0,this.cu.length=0,this.uu=0,this.gc=[],this.OU=0,this.rc=ao,this.zU=void 0,this}dispose(){return super.dispose(),this.vN.aN(),this.yV={},this}bu(){return this.dispose(),this}}const qb=(t,e)=>Gb(t,e>50?20:e>20?16:e>10?12:e>5?8:6),Jb=(t,e)=>{const i=e.getSize();return Wb(t,"number"==typeof i?i>50?20:i>20?16:i>10?12:i>5?8:6:20)};class Kb extends Ob{constructor(t,e,i){super(t,e,i),this.vU="disabled",this.UU=!1,this.YU=!1,this.jU={x:1,y:1,z:1},this.gp={x:0,y:0,z:0},this.Ap={x:0,y:0,z:0},this.HU={x:0,y:0,z:0},this.yp={x:0,y:0,z:0,w:1},this.pp={x:1,y:1,z:1},this.WU=Vn(255,255,255),this.XU=dx.projectionOrthographic(-1,1,-1,1,1,-1),this.ZU=dx.projectionOrthographic(-1,1,-1,1,1,-1),this.JU=!1,this.isEulerRotation=!0,this.dz=gl({fillStyleSolid:()=>la(this.Je)&&this.Je,fillStyleValuePalette:()=>fa(this.Je)&&"value"===this.Je.lookUpProperty&&this.Je}),this.Je=tc.fillStyle,this.Zg._(Oa)}zr(t){var e;const i=this.VR(),n=this.li.C(),r=this.li.o,s=this.nl();this.dz.fillStyleSolid(s);const o=this.dz.fillStyleValuePalette(s),a=this.HU,l=this.pp;if(this.UU&&this.QU&&(this.rV=this.PB.iE(this.QU.vertices,void 0,this.rV),this.nV=this.PB.zE(this.QU.indices,this.nV),this.KU=this.QU.indices.length),"phong"===this.Zg.C().type&&(i||this.UU)&&(null===(e=this.QU)||void 0===e?void 0:e.normals)&&(this.qU=this.PB.iE(this.QU.normals,void 0,this.qU)),!this.tY&&o&&"value"===o.lookUpProperty&&this.QU&&(this.tY=new Float32Array(this.QU.vertices.length/3),this.YU=!0),this.tY&&this.YU&&(this.iY=this.PB.iE(this.tY,void 0,this.iY)),i||s||r){if(o&&"value"!==o.lookUpProperty)throw new Error("LightningChart JS MeshModel3D does not support look up by x/y/z. Must be value");this.oD=this.PB.eR(Bv["3D"],Bv.ColorShaded3D({dataType:o?["lookup","value",o.lut]:"uniform",shadingStyle:this.Zg.C().type,wireframe:!1}),Bv.Model3D({normalSource:"phong"===this.Zg.C().type?"attribute":void 0})),this.E$=n?this.PB.eR(Bv["3D"],Bv.MousePicking({useVertexId:!0}),Bv.Model3D({normalSource:void 0})):void 0}if(this.JU){const t=dx.projectionOrthographic(-1,1,-1,1,1,-1);if(this.isEulerRotation)this.ZU=dx.rotateXYZ(t,a),this.XU=dx.translate(t,l.x/2,l.y/2,l.z/2),this.XU=dx.rotateXYZ(this.XU,a),this.XU=dx.translate(this.XU,-l.x/2,-l.y/2,-l.z/2);else{const e=[-this.yp.x,-this.yp.y,-this.yp.z,this.yp.w];this.ZU=dx.quaternionToRotationMatrix(e),this.XU=dx.translate(t,l.x/2,l.y/2,l.z/2),this.XU=dx.multiply(this.XU,this.ZU),this.XU=dx.translate(this.XU,-l.x/2,-l.y/2,-l.z/2)}this.JU=!1}return this.Zg.o=!1,this.cl(this.Je),this.li.o=!1,this.UU=!1,this.YU=!1,this}Su(t,e){var i;const n=1===t?this.E$:this.oD,r=1===t,s=this.nV,o=this.rV,a=this.qU,l=this.iY,h=this.gp,c=this.Ap,u=this.jU,d=this.pp,f=this.XU,g=this.ZU,p=this.dz.fillStyleValuePalette(!1),m=this.dz.fillStyleSolid(!1),y=this.Zg.C(),v={location:void 0,size:1};let x=this.KU;if(!(n&&o&&s&&this.QU))return{};const b=this.QU?null===(i=this.QU)||void 0===i?void 0:i.parts.length:0;if(b<1)return{};const S=this.QU.vertices.length;return this.PB.eE(n,((i,A,E,w)=>{var k;this.PB.Xu(n).TE(i("uScale"),this.yU.hD.aE()).TE(i("uDisp"),this.yU.hD.lE()).IE(i("uViewProjectionMatrix"),this.TU).oE(i("uIsHighlighted"),1===t||2===t?0:this.Ai).wI(i("uHighlightColorOffset"),this.Si).oE(i("uRenderEffectMask"),2===t?1:0).IE(i("uModelRotation"),f).TE(i("uModelScale"),[u.x,u.y,u.z]).TE(i("uLocationAxis"),[h.x,h.y,h.z]).TE(i("uModelAlignment"),[c.x,c.y,c.z]).TE(i("uModelSize"),[d.x,d.y,d.z]).hE(o,0,{location:E.attribute("aGeoPos"),size:3}).jE(s);let C=!1;if(r)this.PB.PE(i("uFirstId"),e).wO(E,S);else{if(this.Je===na&&S<1)return!1;if(m)this.PB.wI(i("uColorDiffuse"),m.getColor());else if(p){if(!l)return!1;const t=p.getPalette();v.location=A("aLookupValue"),this.PB.BO(E,t,void 0).hE(l,void 0,v),C=!0}}"phong"!==y.type||r||(this.PB.TE(i("uCameraLoc"),this.FU).TE(i("uLightLoc"),this.IU).oE(i("uAmbientReflection"),y.ambientReflection).oE(i("uSpecularReflection"),y.specularReflection).oE(i("uDiffuseReflection"),y.diffuseReflection).oE(i("uShininess"),y.shininess).wI(i("uLightColor"),y.specularColor).wI(i("uAmbientColor"),y.ambientColor).IE(i("uModelRotationNormals"),g),a&&this.PB.hE(a,void 0,{location:E.attribute("aNormal"),size:3}));let M=!1;for(let t=0;t<b;t+=1){x=0;let e=this.WU,n=0,s=0,o=0,a=!0;this.QU&&this.QU.parts&&this.QU.parts[t].material&&(e=this.QU.parts[t].material.specular,x=this.QU.parts[t].count,s=this.QU.parts[t].count,o=this.QU.parts[t].offset,a=this.QU.parts[t].useIndexBuffer,n=this.QU.parts[t].indexStart,r||m||C||this.PB.wI(i("uColorDiffuse"),this.QU.parts[t].material.diffuse)),(x>0||s>0)&&("phong"!==y.type||r||(this.PB.wI(i("uLightColor"),e),g?this.PB.IE(i("uModelRotationNormals"),g):this.PB.wI(i("uLightColor"),y.specularColor)),a?this.PB.WE(x,this.PB.gl.TRIANGLES,n,(null===(k=this.QU)||void 0===k?void 0:k.indices)instanceof Uint32Array?this.PB.gl.UNSIGNED_INT:this.PB.gl.UNSIGNED_SHORT):this.PB.Mk(this.PB.gl.TRIANGLES,s,o),M=!0)}return M})),{idCount:S}}sY(t){if(this.eY)return this.eY;const e=this.gp,i=this.Ap,n=this.jU,r=this.pp,s=this.HU,o=this.yp,a=this.yU.jm(e),l=[],h=dx.projectionOrthographic(-1,1,-1,1,1,-1);let c;if(this.isEulerRotation)c=dx.translate(h,r.x/2,r.y/2,r.z/2),c=dx.rotateXYZ(c,s),c=dx.translate(c,-r.x/2,-r.y/2,-r.z/2);else{const t=[-o.x,-o.y,-o.z,o.w];c=dx.translate(h,r.x/2,r.y/2,r.z/2),c=dx.multiply(c,dx.quaternionToRotationMatrix(t)),c=dx.translate(c,-r.x/2,-r.y/2,-r.z/2)}const u=(i.x+1)*(r.x/2),d=(i.y+1)*(r.y/2),f=(i.z+1)*(r.z/2);for(let g=0;g<t.vertices.length;g+=3){const e=dx.multiply(c,[t.vertices[g],t.vertices[g+1],t.vertices[g+2],1]),i={x:a.x+(e[0]-u)*n.x,y:a.y+(e[1]-d)*n.y,z:a.z+(e[2]-f)*n.z};l.push(i)}return this.eY=l,this.eY}_p(t){const e=this.QU;if(!e)return;const i=this.sY(e),n=t(i);0!==n.length&&(n.length!==i.length&&!0===this.gi.Pa.La&&jr.console.warn("LightningChart JS warning - MeshModel3D.setVertexValues returned array length is not equal to vertex locations array length.\nThis is most likely an application error."),this.tY=n instanceof Float32Array?n:new Float32Array(n),this.YU=!0)}xu(t,e,i,n,r){return{info:{iVertex:t-e}}}xp(t,e){const i=this.QU;if(!i||void 0===(null==t?void 0:t.iVertex))return;if(i.indices.length>0){const n=[];for(let e=0;e<i.indices.length;e+=3){const r=i.indices[e],s=i.indices[e+1],o=i.indices[e+2];r!==t.iVertex&&s!==t.iVertex&&o!==t.iVertex||n.push([r,s,o])}const r=this.sY(i),s=this.gi.oh(e.clientX,e.clientY),o=n.map((t=>t.map((t=>{const e={x:i.vertices[3*t],y:i.vertices[3*t+1],z:i.vertices[3*t+2]},n=r[t],o=this.yU.Hm(n),a=this.yU.Gv(o);return{index:t,vertex:e,world:n,axis:o,dist:a?vo(a,s):ro}})))).flat();o.sort(((t,e)=>t.dist-e.dist));const a=o[0];if(!a)return;const l=this.tY?this.tY[a.index]:void 0;return{coordModel:a.vertex,coordAxis:a.axis,index:a.index,value:l}}const n=t.iVertex,r=this.tY?this.tY[n]:void 0,s={x:i.vertices[3*n],y:i.vertices[3*n+1],z:i.vertices[3*n+2]},o=this.sY(i)[n];return{coordModel:s,coordAxis:this.yU.Hm(o),index:n,value:r}}dispose(){return super.dispose(),this.rV&&(this.PB.gE(this.rV),this.rV=void 0),this.nV&&(this.PB.gE(this.nV),this.nV=void 0),this.qU&&(this.PB.gE(this.qU),this.qU=void 0),this.iY&&(this.PB.gE(this.iY),this.iY=void 0),this.oD=void 0,this.E$=void 0,this.QU=void 0,this.tY=void 0,this}bu(){return this.dispose(),this}Mp(t){return this.QU=t,this.UU=!0,this.pp=t.modelSize,this}th(t){return this.Je=sc(this.Je,t),this}Sr(){return this.Je}kp(t){return this.jU=t,this.eY=void 0,this}aE(){return this.jU}Cp(t){return this.gp=t,this.eY=void 0,this}Tp(t){return this.Ap=t,this.eY=void 0,this}Fp(t){return this.HU=t,this.JU=!0,this.isEulerRotation=!0,this.eY=void 0,this}Ip(t){return this.yp=t,this.JU=!0,this.isEulerRotation=!1,this.eY=void 0,this}Pp(t){return this.vU=t,this}Lp(){return this.vU}Xi(){return so}Wi(){return ro}Ji(){return so}Zi(){return ro}Se(){return so}me(){return ro}lc(){return 0}cc(){return 0}ov(){return 0}nl(){return oc(this.ol,this.Je)}cl(t){this.ol=t}}class Qb extends Ob{constructor(t,e,i,n){super(t,e,i),this.vU="cull-back",this.ix=[],this.vN=new Kx(this.ix,(t=>t.vertexBuffer&&this.PB.gE(t.vertexBuffer)),!1),this.cu=[],this.uu=0,this.gc=[],this.OU=0,this.rc=ao,this.zU=ao,this.mc=!1,this.dz=gl({fillStyleSolid:()=>{const t=this.sy.getFillStyle();return la(t)&&t},fillStyleIndividual:()=>{const t=this.sy.getFillStyle();return ca(t)&&t},fillStylePalette:()=>{const t=this.sy.getFillStyle();return fa(t)&&t},triangulatedPointStyle:()=>{const t=this.sy;return qa(t)&&t},wireframeLineStyleSolid:()=>{const t=qa(this.sy)&&this.sy,e=t&&t.getWireframeStyle();return el(e)&&e},wireframeFillStyleSolid:()=>{const t=qa(this.sy)&&this.sy,e=t&&t.getWireframeStyle(),i=e&&e.getFillStyle();return la(i)&&i}}),this.iG=Fn(void 0),this.Pa=n,this.sy=tc.pointStyle3D,this.Zg._(Oa);const r=!0===(null==n?void 0:n.individualPointColorEnabled),s=!0===(null==n?void 0:n.individualPointSizeEnabled),o=!0===(null==n?void 0:n.individualLookupValuesEnabled),a=!0===(null==n?void 0:n.individualPointSizeAxisEnabled);let l,h,c,u,d=0;d+=3,r&&(l=d,d+=4),s&&(h=d,d+=1),o&&(c=d,d+=1),a&&(u=d,d+=3);const f=((t,e,i,n)=>t||e||i||n?!t||e||i||n?t||!e||i||n?t||e||!i||n?t||e||i||!n?(r,s,o)=>{const a=3+(t?4:0)+(e?1:0)+(i?1:0)+(n?3:0),l=r.length,h=new Float32Array(l*a);let c=0,u=c;for(let t=0;t<l;t+=1){const e=r[t];h[u+0]=e.x,h[u+1]=e.y,h[u+2]=e.z,u+=a}if(c+=3,t){const t=o&&ca(o)&&o.getFallbackColor()||On;u=c;for(let e=0;e<l;e+=1){const i=r[e].color||t;h[u+0]=i.r,h[u+1]=i.g,h[u+2]=i.b,h[u+3]=i.a,u+=a}c+=4}if(e){const t=s&&s.getSize();let e=1;"number"==typeof t&&(e=t),u=c;for(let i=0;i<l;i+=1){const t=r[i],n=void 0!==t.size?t.size:e;h[u+0]=n,u+=a}c+=1}if(i){u=c;for(let t=0;t<l;t+=1){const e=r[t];h[u+0]=void 0!==e.value?e.value:Ir,u+=a}c+=1}if(n){const t=s&&s.getSize();let e={x:1,y:1,z:1};"object"==typeof t&&(e=t),u=c;for(let i=0;i<l;i+=1){const t=r[i],n=void 0!==t.sizeAxisX?t.sizeAxisX:e.x,s=void 0!==t.sizeAxisY?t.sizeAxisY:e.y,o=void 0!==t.sizeAxisZ?t.sizeAxisZ:e.z;h[u+0]=n,h[u+1]=s,h[u+2]=o,u+=a}c+=3}return h}:(t,e,i)=>((t,e)=>{const i=e&&e.getSize();let n={x:1,y:1,z:1};"object"==typeof i&&(n=i);const r=t.length,s=new Float32Array(6*r);let o=0;for(let a=0;a<r;a+=1){const e=t[a];s[o+0]=e.x,s[o+1]=e.y,s[o+2]=e.z;const i=void 0!==e.sizeAxisX?e.sizeAxisX:n.x,r=void 0!==e.sizeAxisY?e.sizeAxisY:n.y,l=void 0!==e.sizeAxisZ?e.sizeAxisZ:n.z;s[o+3]=i,s[o+4]=r,s[o+5]=l,o+=6}return s})(t,e):(t,e,i)=>(t=>{const e=t.length,i=new Float32Array(4*e);for(let n=0,r=0;n<e;n+=1){const e=t[n];i[r+0]=e.x,i[r+1]=e.y,i[r+2]=e.z,i[r+3]=void 0!==e.value?e.value:Ir,r+=4}return i})(t):(t,e,i)=>((t,e)=>{const i=e&&e.getSize();let n=1;"number"==typeof i&&(n=i);const r=t.length,s=new Float32Array(4*r);for(let o=0,a=0;o<r;o+=1){const e=t[o];s[a+0]=e.x,s[a+1]=e.y,s[a+2]=e.z;const i=void 0!==e.size?e.size:n;s[a+3]=i,a+=4}return s})(t,e):(t,e,i)=>((t,e)=>{const i=e&&ca(e)&&e.getFallbackColor()||On,n=t.length,r=new Float32Array(7*n);for(let s=0,o=0;s<n;s+=1){const e=t[s];r[o+0]=e.x,r[o+1]=e.y,r[o+2]=e.z;const n=e.color||i;r[o+3]=n.r,r[o+4]=n.g,r[o+5]=n.b,r[o+6]=n.a,o+=7}return r})(t,i):(t,e,i)=>bs(t))(r,s,o,a);this.bN={individualPointColorEnabled:r,individualPointSizeEnabled:s,individualLookupValuesEnabled:o,individualPointSizeAxisEnabled:a,attributesPerVertex:d,attributeOffsetCoordinate:0,attributeOffsetColor:l,attributeOffsetSize:h,attributeOffsetLookUpValue:c,attributeOffsetPointSize3D:u,prepareRenderData:(t,e)=>f(t,this.sy,this.sy.fillStyle)}}wi(){return this.iG.C()||this.iG.M}xu(t,e,i,n,r){return{info:{dataPoint:this.cu[t-e]}}}zr(t){const e=this.mc,i=this.gc,n=this.OU,r=n>0,s=this.sy,o=this.sy!==this.hY,a=this.li.C(),l=this.li.o,h=this.VR();this.zU&&(this.rc=wo(this.rc,this.zU),this.zU=void 0),r&&(this.cu=Ts(this.cu,i,{canReturnB:!0}),this.uu+=n);let c=i,u=n;if(e&&(this.ix.forEach((t=>{t.existingDataPointsCount=0,t.existingCoordinatesCount=0,t.boundaries=ao})),this.vN.oN(),c=this.cu,u=this.uu),u>0){const t=Math.floor(this.hz.NU/(this.bN.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT)),e=Qr(u,1e5,t);this.vN.eN(c,e,((t,e,i)=>({existingDataPointsCount:i,existingCoordinatesCount:i,allocatedCoordinatesCount:t,boundaries:ao,vertexBuffer:this.PB.DE(t*this.bN.attributesPerVertex,this.bN.prepareRenderData(e,i))})),((t,e,i)=>{this.PB.RE(t.vertexBuffer,t.existingCoordinatesCount*this.bN.attributesPerVertex,this.bN.prepareRenderData(e,i)),t.existingDataPointsCount+=i,t.existingCoordinatesCount=t.existingDataPointsCount}))}const d=s.getFillStyle(),f=this.dz.fillStyleSolid(o),g=this.dz.fillStyleIndividual(o),p=this.dz.fillStylePalette(o),m=d===na&&na;if(o||h||l){let t;const e=s.getSize(),i=this.bN.individualPointColorEnabled,n=this.bN.individualPointSizeEnabled,r=this.bN.individualPointSizeAxisEnabled,l=this.bN.individualLookupValuesEnabled;if(g&&!i){const t="LCJS misusage error: Series individualPointColorEnabled flag must be set if using IndividualPointFill !";throw jr.alert(t),new Error(t)}if(p&&"value"===p.getLookUpProperty()&&!l){const t='LCJS misusage error: Series individualLookupValuesEnabled flag must be set if using PalettedFill with lookUpProperty="value" !';throw jr.alert(t),new Error(t)}const h=this.dz.wireframeLineStyleSolid(o),c=this.dz.wireframeFillStyleSolid(o);if(f||g||p||c){const i=g?"attribute":p?["lookup",p.getLookUpProperty(),p.lut]:"uniform",o=n&&"number"==typeof e,l=r&&"object"==typeof e,u=o||l?"attribute":"uniform";if(qa(s)){const r=Cs(s.getShape(),{cube:()=>_b(this.PB),sphere:()=>$b(this.PB,s,n)});t={type:"instanced",shader:this.PB.eR(Bv["3D"],Bv.ColorShaded3D({dataType:i,shadingStyle:this.Zg.C().type,wireframe:!1!==c}),Bv.VertexLocation({offsets:[{directionVar:"aInstanceGeo",dataType:u,sizeUnit:"number"==typeof e?"nwu":"axis",halved:!0,symmetric:"number"==typeof e}],axisWorldTranslation:dl(this.oi),normalSource:r.dU})),pointStyle:s,useIndividualPointSize:o,useIndividualPointSize3D:l,pointSizeNWU:"number"==typeof e&&e,pointSizeAxis:"object"==typeof e&&e,fillStyleSolid:f,fillStyleIndividual:g,fillStylePaletted:p,fillStyleEmpty:m,mousePickingShader:a&&this.PB.eR(Bv["3D"],Bv.MousePicking(),Bv.VertexLocation({offsets:[{directionVar:"aInstanceGeo",dataType:u,sizeUnit:"number"==typeof e?"nwu":"axis",halved:!0,symmetric:"number"==typeof e}],axisWorldTranslation:dl(this.oi),normalSource:void 0})),geometry:r,wireframe:h&&c&&{thickness:h.getThickness()<0?1:h.getThickness(),fillStyleSolid:c}}}else Ka(s)&&"number"==typeof e&&(t={type:"primitive",shader:this.PB.eR(Bv["3D"],Bv.PointSize(u),Bv.Color({dataType:i}),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0})),pointStyle:s,pointSizePixels:e,useIndividualPointSize:o,fillStyleSolid:f,fillStyleIndividual:g,fillStylePaletted:p,mousePickingShader:a&&this.PB.eR(Bv["3D"],Bv.PointSize(u),Bv.MousePicking({useVertexId:!0}),Bv.VertexLocation({axisWorldTranslation:dl(this.oi),normalSource:void 0}))})}this.yV=t}if(void 0===this.iG.C()&&p&&"value"===p.lookUpProperty&&p.lut.percentageValues){let t=so,e=ro;for(let i=0;i<this.cu.length;i+=1){const n=this.cu[i];void 0!==n.value&&n.value<e&&(e=n.value),void 0!==n.value&&n.value>t&&(t=n.value)}this.iG._({min:e,max:t})}return this.iG.M=void 0,this.mc=!1,this.gc=[],this.OU=0,this.hY=s,this.Zg.o=!1,this}Su(t,e){const i=this.PB.gl,n=this.yV,r=this.uu;if(!n)return{};const s=1===t?n.mousePickingShader:n.shader;if(!s)return{};const o=this.Zg.C(),{fillStyleSolid:a,fillStylePaletted:l,useIndividualPointSize:h}=n,c="instanced"===n.type&&n.useIndividualPointSize3D,u="instanced"===n.type&&n.wireframe;return this.PB.eE(s,((r,d,f,g)=>{let p=!1;if(this.PB.Xu(s).TE(r("uScale"),this.yU.hD.aE()).TE(r("uDisp"),this.yU.hD.lE()).IE(r("uViewProjectionMatrix"),this.TU).oE(r("uIsHighlighted"),1===t||2===t?0:this.Ai).wI(r("uHighlightColorOffset"),1===t||2===t?Hn:this.Si).oE(r("uRenderEffectMask"),2===t?1:0),"instanced"===n.type){const{pointSizeAxis:t,pointSizeNWU:e}=n;!1!==t&&!1===c&&this.PB.TE(r("uOffsetAxis"),[t.x,t.y,t.z]),!1!==e&&!1===h&&this.PB.oE(r("uOffsetNWU"),e).oE(g("uRatioNwuWu"),this.yU.GU())}else if("primitive"===n.type){const{pointSizePixels:t}=n;h||this.PB.oE(r("uPointSize"),t).oE(r("uDevicePixelRatio"),this.PB.GR())}if(1===t);else if("instanced"===n.type?("phong"===o.type&&this.PB.TE(r("uCameraLoc"),this.FU).TE(r("uLightLoc"),this.IU).oE(r("uAmbientReflection"),o.ambientReflection).oE(r("uSpecularReflection"),o.specularReflection).oE(r("uDiffuseReflection"),o.diffuseReflection).oE(r("uShininess"),o.shininess).wI(r("uLightColor"),o.specularColor).wI(r("uAmbientColor"),o.ambientColor),u&&this.PB.oE(r("uWireframeThickness"),u.thickness).wI(r("uWireframeColor"),u.fillStyleSolid.getColor()),a&&this.PB.wI(r("uColorDiffuse"),a.getColor()),n.fillStyleEmpty&&this.PB.wI(r("uColorDiffuse"),Hn)):"primitive"===n.type&&a&&this.PB.wI(r("uColor"),a.getColor()),l){const t=pl(l,this,this.iG.C());if(!t&&l.lut.percentageValues)return!1;this.PB.BO(f,l.lut,t)}const m=$s(e);return this.ix.forEach((e=>{if(1===t){const[t,i]=m.es(e.existingDataPointsCount);this.PB.PE(r("uFirstId"),t),"instanced"===n.type?this.PB.kO(f,i):this.PB.wO(f,i)}i.bindBuffer(i.ARRAY_BUFFER,e.vertexBuffer);const s=d("aPos");if(i.vertexAttribPointer(s,3,i.FLOAT,!1,this.bN.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,this.bN.attributeOffsetCoordinate*Float32Array.BYTES_PER_ELEMENT),"instanced"===n.type&&this.PB.GE(s,1),i.enableVertexAttribArray(s),n.fillStyleIndividual&&void 0!==this.bN.attributeOffsetColor&&1!==t){const t=d("aColor");i.vertexAttribPointer(t,4,i.FLOAT,!1,this.bN.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,this.bN.attributeOffsetColor*Float32Array.BYTES_PER_ELEMENT),"instanced"===n.type&&this.PB.GE(t,1),i.enableVertexAttribArray(t)}if(h&&void 0!==this.bN.attributeOffsetSize){"instanced"===n.type?this.PB.oE(g("uRatioNwuWu"),this.yU.GU()):"primitive"===n.type&&this.PB.oE(r("uDevicePixelRatio"),this.PB.GR());const t=d("instanced"===n.type?"aOffsetNWU":"aPointSize");i.vertexAttribPointer(t,1,i.FLOAT,!1,this.bN.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,this.bN.attributeOffsetSize*Float32Array.BYTES_PER_ELEMENT),"instanced"===n.type&&this.PB.GE(t,1),i.enableVertexAttribArray(t)}if(c&&void 0!==this.bN.attributeOffsetPointSize3D&&"instanced"===n.type){const t=d("aOffsetAxis");i.vertexAttribPointer(t,3,i.FLOAT,!1,this.bN.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,this.bN.attributeOffsetPointSize3D*Float32Array.BYTES_PER_ELEMENT),"instanced"===n.type&&this.PB.GE(t,1),i.enableVertexAttribArray(t)}if(n.fillStylePaletted&&"value"===n.fillStylePaletted.getLookUpProperty()&&void 0!==this.bN.attributeOffsetLookUpValue&&1!==t){const t=d("aLookupValue");i.vertexAttribPointer(t,1,i.FLOAT,!1,this.bN.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,this.bN.attributeOffsetLookUpValue*Float32Array.BYTES_PER_ELEMENT),"instanced"===n.type&&this.PB.GE(t,1),i.enableVertexAttribArray(t)}"instanced"===n.type?(n.geometry.Mk(f,e.existingCoordinatesCount,"phong"===o.type&&1!==t,Boolean(u)&&1!==t),p=!0):"primitive"===n.type&&(this.PB.Mk(i.POINTS,e.existingCoordinatesCount),p=!0)})),p})),{idCount:r}}xc(t,e){Array.isArray(t)||(t=[t]),this.gc=Ts(this.gc,t,{canReturnB:!0}),this.OU+=t.length;const i=e||Ao(t);return this.zU=this.zU?wo(this.zU,i):i,this.iG._(void 0),this}ey(t){return this.sy="function"==typeof t?t(this.sy):t,this}rY(){return this.sy}Xi(){return this.zU?Math.max(this.zU.max.x,this.rc.max.x):this.rc.max.x}Wi(){return this.zU?Math.min(this.zU.min.x,this.rc.min.x):this.rc.min.x}Ji(){return this.zU?Math.max(this.zU.max.y,this.rc.max.y):this.rc.max.y}Zi(){return this.zU?Math.min(this.zU.min.y,this.rc.min.y):this.rc.min.y}Se(){return this.zU?Math.max(this.zU.max.z,this.rc.max.z):this.rc.max.z}me(){return this.zU?Math.min(this.zU.min.z,this.rc.min.z):this.rc.min.z}lc(){const t=this.sy,e=t.getSize();return"number"==typeof e?qa(t)?e/2:Ka(t)?5:0:0}cc(){return this.lc()}ov(){return this.lc()}Mc(){return this.cu}wc(){return this.gc}Cc(){return this.uu}Tc(){return this.OU}Ni(){return this.mc=!0,this.cu.length=0,this.uu=0,this.gc=[],this.OU=0,this.rc=ao,this.zU=void 0,this.iG._(void 0),this}dispose(){return super.dispose(),this.vN.aN(),this.yV=void 0,this}bu(){return this.dispose(),this}}const $b=(t,e,i)=>{const n=e.getSize();return Wb(t,"number"==typeof n?i||n>=50?20:n>=10?10:n>=3?5:3:32)};class tS extends Ob{constructor(t,e,i,n){super(t,e,i),this.vU="disabled",this.Je=tc.fillStyle,this.Zy=tc.lineStyle,this.XN=Fn("bilinear"),this.nY=[],this.oY=void 0,this.yV={},this.aY=!1,this.dz=gl({fillStyleSolid:()=>la(this.Je)&&this.Je,fillStylePaletted:()=>fa(this.Je)&&this.Je,wireframeStyleLine:()=>el(this.Zy)&&this.Zy,wireframeStyleFill:()=>{const t=this.Zy&&this.Zy.getFillStyle();return la(t)&&t}}),this.Yt={x:0,z:0},this.ZN={x:1,z:1},this.Zg._(_a);const r="columns"===n.dataOrder?n.columns:n.rows,s="columns"===n.dataOrder?n.rows:n.columns;this.Pa={...n,primaryDimensionVectorsCount:r,secondaryDimensionVectorsCount:s},this.lY=new Array(this.Pa.primaryDimensionVectorsCount).fill(void 0),this.Xb=new cb(this.hz,t.hz.fG,t.gi.oi,Jr,[],this.Pa).Jy(Br),this.Xb.KN=rb;const o=this.Xb.tG.gridTiles.map((t=>{const e=t.sizeHeatmapDataVectors,i=t.sizeUniqueHeatmapDataVectors,n=t.iFirstVector,r=t.iFirstUniqueVector,s=new Float32Array(t.sizeHeatmapDataVectors.primary*t.sizeHeatmapDataVectors.secondary),o={primary:t.sizeHeatmapDataVectors.primary-1,secondary:t.sizeHeatmapDataVectors.secondary-1};return{iFirstVector:t.iFirstVector,iFirstUniqueVector:t.iFirstUniqueVector,sizeHeatmapDataVectors:t.sizeHeatmapDataVectors,sizeUniqueHeatmapDataVectors:t.sizeUniqueHeatmapDataVectors,iFirstGeometryVector:n,iFirstGeometryUniqueVector:r,sizeGeometryDataVectors:e,sizeUniqueGeometryDataVectors:i,heightmapData:s,normalmapSize:o}})),a=this.Xb.tG.gridTileSizes.map((t=>{const e=o.filter((e=>e.sizeHeatmapDataVectors.primary===t.sizeHeatmapData.primary&&e.sizeHeatmapDataVectors.secondary===t.sizeHeatmapData.secondary)),i=e[0].sizeGeometryDataVectors;return{...t,tiles:e,sizeGeometryData:i}})),l=o.reduce(((t,e)=>{const i=e.sizeHeatmapDataVectors.primary,n=e.sizeHeatmapDataVectors.secondary,r=i*n;return r>t.cells?{primary:i,secondary:n,cells:r}:t}),{primary:0,secondary:0,cells:0});this.cY={gridTiles:o,gridTileSizes:a,largestGridTileSize:l},this.qy(this.Yt,this.ZN)}xu(t,e,i,n,r){const s=t-e,o=s%(this.Pa.secondaryDimensionVectorsCount-1),a=Math.floor(s/(this.Pa.secondaryDimensionVectorsCount-1)),l="columns"===this.Pa.dataOrder?a:o,h="rows"===this.Pa.dataOrder?a:o,c=[{x:this.Yt.x+l*this.ZN.x,z:this.Yt.z+h*this.ZN.z,y:this.uY(a,o),intensity:this.dY(a,o),column:"columns"===this.Pa.dataOrder?a:o,row:"columns"===this.Pa.dataOrder?o:a},{x:this.Yt.x+(l+("columns"===this.Pa.dataOrder?1:0))*this.ZN.x,z:this.Yt.z+(h+("rows"===this.Pa.dataOrder?1:0))*this.ZN.z,y:this.uY(a+1,o),intensity:this.dY(a+1,o),column:"columns"===this.Pa.dataOrder?a+1:o,row:"columns"===this.Pa.dataOrder?o:a+1},{x:this.Yt.x+(l+1)*this.ZN.x,z:this.Yt.z+(h+1)*this.ZN.z,y:this.uY(a+1,o+1),intensity:this.dY(a+1,o+1),column:"columns"===this.Pa.dataOrder?a+1:o+1,row:"columns"===this.Pa.dataOrder?o+1:a+1},{x:this.Yt.x+(l+("columns"===this.Pa.dataOrder?0:1))*this.ZN.x,z:this.Yt.z+(h+("rows"===this.Pa.dataOrder?0:1))*this.ZN.z,y:this.uY(a,o+1),intensity:this.dY(a,o+1),column:"columns"===this.Pa.dataOrder?a:o+1,row:"columns"===this.Pa.dataOrder?o+1:a}],u=c.map((t=>this.yU.Gv(t))).map((t=>void 0===t?ro:vo(t,{x:n,y:r}))).map(((t,e)=>({i:e,dist:t})));return u.sort(((t,e)=>t.dist-e.dist)),{info:{dataPoint:{...c[u[0].i]}}}}uY(t,e){for(let i=0;i<this.cY.gridTiles.length;i+=1){const n=this.cY.gridTiles[i];if(t>=n.iFirstVector.primary&&t<=n.iFirstVector.primary+n.sizeHeatmapDataVectors.primary-1&&e>=n.iFirstVector.secondary&&e<=n.iFirstVector.secondary+n.sizeHeatmapDataVectors.secondary-1){const i=t-n.iFirstVector.primary,r=e-n.iFirstVector.secondary,s=i*n.sizeHeatmapDataVectors.secondary+r;return n.heightmapData[s]}}return 0}dY(t,e){if(this.Xb.QN)for(let i=0;i<this.Xb.tG.gridTiles.length;i+=1){const n=this.Xb.tG.gridTiles[i];if(t>=n.iFirstVector.primary&&t<=n.iFirstVector.primary+n.sizeHeatmapDataVectors.primary-1&&e>=n.iFirstVector.secondary&&e<=n.iFirstVector.secondary+n.sizeHeatmapDataVectors.secondary-1){const i=t-n.iFirstVector.primary,r=e-n.iFirstVector.secondary,s=i*n.sizeHeatmapDataVectors.secondary+r;return n.intensityData[s]}}}fY(t){this.AY=t,this.oY=void 0}qy(t,e){this.Yt=t,this.ZN=e;const i=this.Pa,n={min:{x:Math.min(this.Yt.x,this.Yt.x+(i.columns-1)*this.ZN.x),z:Math.min(this.Yt.z,this.Yt.z+(i.rows-1)*this.ZN.z)},max:{x:Math.max(this.Yt.x,this.Yt.x+(i.columns-1)*this.ZN.x),z:Math.max(this.Yt.z,this.Yt.z+(i.rows-1)*this.ZN.z)}},r=new Map;return this.cY.gridTiles.forEach((t=>{const e="columns"===this.Pa.dataOrder?{x:this.ZN.x*(t.sizeHeatmapDataVectors.primary-1),z:this.ZN.z*(t.sizeHeatmapDataVectors.secondary-1)}:{x:this.ZN.x*(t.sizeHeatmapDataVectors.secondary-1),z:this.ZN.z*(t.sizeHeatmapDataVectors.primary-1)},i="columns"===this.Pa.dataOrder?{x:this.Yt.x+this.ZN.x*t.iFirstVector.primary,z:this.Yt.z+this.ZN.z*t.iFirstVector.secondary}:{x:this.Yt.x+this.ZN.x*t.iFirstVector.secondary,z:this.Yt.z+this.ZN.z*t.iFirstVector.primary};r.set(t,{sizeAxis:e,startLocationAxis:i})})),this.oG={gY:n,tilesInfo:r},this}tp(){return{start:this.Yt,step:this.ZN,end:{x:this.Yt.x+this.ZN.x*this.Pa.columns,z:this.Yt.z+this.ZN.z*this.Pa.rows}}}zr(t){const e=this.nY,i=oc(this.ol,this.Je),n=this.dz.fillStyleSolid(i),r=this.dz.fillStylePaletted(i),s=this.Zy,o=this.Zy!==this.sG,a=this.dz.wireframeStyleLine(o),l=this.dz.wireframeStyleFill(o),h=!1!==l,c=this.XN.o,u=this.XN.C(),d=this.Zg.C(),f=this.VR(),g=this.li.C();this.Xb.zr();const p=this.Xb.eG;if(!p)return this;this.vY=this.vY||this.yY(p);const m=this.vY;this.pY(m);const y=sb(e,m,void 0,(t=>t.sizeGeometryDataVectors));if(y.size>0&&(lb(this.PB,y,(t=>t.heightmapData),(t=>t.heightmapDataTexture)),this.aY=!0),"phong"===d.type&&(y.size>0||f)){const t=this.PB.gl,e=this.PB.eR(Bv["2D"],Bv.DrawToNormalTexture({flipXZ:"rows"===this.Pa.dataOrder,vertexIdSource:this.PB.MO(),normalTextureType:this.PB.gl2?"uint":"ubyte",heightmapTextureType:this.PB.KD?"float":"ubyte",littleEndian:this.PB.IS_MACHINE_LITTLE_ENDIAN}));m.gridTileSizes.forEach((i=>{i.tiles.forEach((n=>{var r;const s=n.normalmapTexture,o=null===(r=this.oG)||void 0===r?void 0:r.tilesInfo.get(n.tileData);if(!s||!o)return;const a={x:n.normalmapSize.secondary,y:n.normalmapSize.primary},l=a.x*a.y;this.PB.rO.Su((()=>{this.PB.eE(e,((r,s,a,h)=>(this.PB.Xu(e).wO(a,l).rE(r("uTileDimensionsXZ"),["columns"===this.Pa.dataOrder?i.sizeHeatmapData.primary:i.sizeHeatmapData.secondary,"columns"===this.Pa.dataOrder?i.sizeHeatmapData.secondary:i.sizeHeatmapData.primary]).CE(r("uTileDimensions"),[i.sizeHeatmapData.primary,i.sizeHeatmapData.secondary]).rE(r("uTileStartLocationAxisXZ"),[o.startLocationAxis.x,o.startLocationAxis.z]).rE(r("uTileSizeAxisXZ"),[o.sizeAxis.x,o.sizeAxis.z]).nE(r("uHeightmapTexture"),n.heightmapDataTexture,1).Mk(t.POINTS,l),!0)))}),s,a,void 0,this.gi.Sa(),0)}))}))}const v=this.yV;if(i||o||c){const t=a&&l?{wireframeSolid:a,wireframeFillSolid:l}:void 0;n?v.surface={shader:this.PB.eR(Bv["3D"],Bv.SurfaceGrid({axisWorldTranslation:dl(this.oi),fillColor:"uniform",interpolation:"bilinear"===u&&"bilinear",flipXZ:"rows"===this.Pa.dataOrder,shadingStyle:d.type,wireframe:h,normalTextureType:this.PB.gl2?"uint":"ubyte",intensityTextureType:this.PB.KD?"float":"ubyte",heightmapTextureType:this.PB.KD?"float":"ubyte",littleEndian:this.PB.IS_MACHINE_LITTLE_ENDIAN})),fill:{fillMode:"solid",fillStyleSolid:n},wireframe:t}:r&&"value"===r.getLookUpProperty()?v.surface={shader:this.PB.eR(Bv["3D"],Bv.SurfaceGrid({axisWorldTranslation:dl(this.oi),fillColor:["lookup","value",r.lut],interpolation:"bilinear"===u&&"bilinear",flipXZ:"rows"===this.Pa.dataOrder,shadingStyle:d.type,wireframe:h,normalTextureType:this.PB.gl2?"uint":"ubyte",intensityTextureType:this.PB.KD?"float":"ubyte",heightmapTextureType:this.PB.KD?"float":"ubyte",littleEndian:this.PB.IS_MACHINE_LITTLE_ENDIAN})),fill:{fillMode:"intensity",fillStylePaletted:r},wireframe:t}:r?v.surface={shader:this.PB.eR(Bv["3D"],Bv.SurfaceGrid({axisWorldTranslation:dl(this.oi),fillColor:["lookup",r.getLookUpProperty(),r.lut],interpolation:"bilinear"===u&&"bilinear",flipXZ:"rows"===this.Pa.dataOrder,shadingStyle:d.type,wireframe:h,normalTextureType:this.PB.gl2?"uint":"ubyte",intensityTextureType:this.PB.KD?"float":"ubyte",heightmapTextureType:this.PB.KD?"float":"ubyte",littleEndian:this.PB.IS_MACHINE_LITTLE_ENDIAN})),fill:{fillMode:"xyz",fillStylePaletted:r},wireframe:t}:h&&(v.surface={shader:this.PB.eR(Bv["3D"],Bv.SurfaceGrid({axisWorldTranslation:dl(this.oi),fillColor:void 0,interpolation:"bilinear"===u&&"bilinear",flipXZ:"rows"===this.Pa.dataOrder,shadingStyle:d.type,wireframe:h,normalTextureType:this.PB.gl2?"uint":"ubyte",intensityTextureType:this.PB.KD?"float":"ubyte",heightmapTextureType:this.PB.KD?"float":"ubyte",littleEndian:this.PB.IS_MACHINE_LITTLE_ENDIAN})),fill:void 0,wireframe:t})}return v.mousePicking=g?this.yV.mousePicking||{shader:this.PB.eR(Bv["3D"],Bv.MousePicking(),Bv.SurfaceGrid({axisWorldTranslation:dl(this.oi),fillColor:void 0,interpolation:"bilinear"===u&&"bilinear",flipXZ:"rows"===this.Pa.dataOrder,shadingStyle:"simple",wireframe:!1,normalTextureType:this.PB.gl2?"uint":"ubyte",intensityTextureType:this.PB.KD?"float":"ubyte",heightmapTextureType:this.PB.KD?"float":"ubyte",littleEndian:this.PB.IS_MACHINE_LITTLE_ENDIAN}))}:void 0,this.yV=v,this.nY.length=0,this.ol=this.Je,this.sG=s,this.Zg.o=!1,this}yY(t){const e=this.cY.gridTiles.map((e=>{const i=ab(this.PB,e.sizeHeatmapDataVectors.secondary,e.sizeHeatmapDataVectors.primary),n=t.gridTiles.find((t=>t.iFirstUniqueVector.primary===e.iFirstUniqueVector.primary&&t.iFirstUniqueVector.secondary===e.iFirstUniqueVector.secondary));if(!n)throw new Error("Internal LC JS error prepare surface data 2D render data not found");return{...e,intensityDataTexture:n.intensityDataTexture,heightmapDataTexture:i,normalmap:void 0,tileData:e}})),i=this.cY.gridTileSizes.map((t=>{const i=e.filter((e=>e.sizeHeatmapDataVectors.primary===t.sizeHeatmapData.primary&&e.sizeHeatmapDataVectors.secondary===t.sizeHeatmapData.secondary));return{...t,tiles:i}})),n=this.PB.iE([0,0,1,0,0,1,0,1,1,0,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,0,0]),r=this.PB.gl.TRIANGLES;return{gridTiles:e,gridTileSizes:i,rectangleLocationsBuffer:n,rectangleLocationsDrawLength:6,rectangleLocationsDrawMode:r}}pY(t){var e;if("phong"===this.Zg.C().type)for(let i=0;i<t.gridTiles.length;i+=1){const n=t.gridTiles[i];if(n.normalmapTexture)return;let r;const s=null===(e=this.PB.gl2)||void 0===e?void 0:e.ctx;if(s)r=this.PB.uO(null,s.RGBA_INTEGER,!1,!0,{x:n.normalmapSize.secondary,y:n.normalmapSize.primary},!1,s.UNSIGNED_INT,s.RGBA32UI);else{const t=this.PB.gl;r=this.PB.uO(null,t.RGBA,!1,!0,{x:n.normalmapSize.secondary,y:n.normalmapSize.primary},!1,t.UNSIGNED_BYTE)}n.normalmapTexture=r}else t.gridTiles.forEach((t=>{t.normalmapTexture&&(this.PB.DB(t.normalmapTexture),t.normalmapTexture=void 0)}))}Su(t,e){var i,n,r,s;const o=this.PB.gl,a=this.vY;if(!a)return{};const l=this.Zg.C(),h=this.yV,c=1===t?null===(i=h.mousePicking)||void 0===i?void 0:i.shader:null===(n=h.surface)||void 0===n?void 0:n.shader;if(!c)return{};const u=1!==t?null===(r=h.surface)||void 0===r?void 0:r.wireframe:void 0,d=1!==t?null===(s=h.surface)||void 0===s?void 0:s.fill:void 0;return this.PB.eE(c,((i,n,r,s)=>{let h=!1;if(this.PB.Xu(c).kO(r,this.cY.largestGridTileSize.cells).TE(i("uScale"),this.yU.hD.aE()).TE(i("uDisp"),this.yU.hD.lE()).IE(i("uViewProjectionMatrix"),this.TU).oE(i("uIsHighlighted"),1===t||2===t?0:this.Ai).wI(i("uHighlightColorOffset"),1===t||2===t?Hn:this.Si).oE(i("uRenderEffectMask"),2===t?1:0),1!==t&&("phong"===l.type&&this.PB.TE(i("uCameraLoc"),this.FU).TE(i("uLightLoc"),this.IU).oE(i("uAmbientReflection"),l.ambientReflection).oE(i("uSpecularReflection"),l.specularReflection).oE(i("uDiffuseReflection"),l.diffuseReflection).oE(i("uShininess"),l.shininess).wI(i("uLightColor"),l.specularColor).wI(i("uAmbientColor"),l.ambientColor),u)){const{wireframeFillSolid:t,wireframeSolid:e}=u,n=e.getThickness()<0?1:e.getThickness();this.PB.wI(i("uWireframeColor"),t.getColor()).oE(i("uWireframeThickness"),n)}return 1===t||"solid"===(null==d?void 0:d.fillMode)&&this.PB.wI(i("uColorDiffuse"),d.fillStyleSolid.getColor()),a.gridTileSizes.forEach((s=>{this.PB.rE(i("uTileDimensionsXZ"),["columns"===this.Pa.dataOrder?s.sizeHeatmapData.primary:s.sizeHeatmapData.secondary,"columns"===this.Pa.dataOrder?s.sizeHeatmapData.secondary:s.sizeHeatmapData.primary]).CE(i("uTileDimensions"),[s.sizeHeatmapData.primary,s.sizeHeatmapData.secondary]),s.tiles.forEach((l=>{var c;const f=null===(c=this.oG)||void 0===c?void 0:c.tilesInfo.get(l.tileData);if(!f)return;let g=0,p=(l.sizeHeatmapDataVectors.primary-1)*(l.sizeHeatmapDataVectors.secondary-1);if(this.AY){const t=this.AY.fill.iFirstPrimary,e=this.AY.fill.iFirstPrimary+this.AY.fill.amountPrimary-1,i=l.iFirstVector.primary,n=l.iFirstVector.primary+l.sizeHeatmapDataVectors.primary-1;if(i>e||n<t)return;const r=((t,e,i,n)=>Tn(Math.max(t,i),Math.min(e,n)))(t,e,i,n);g=(r.min-l.iFirstVector.primary)*(s.sizeGeometryData.secondary-1),p=(r.max-r.min)*(s.sizeGeometryData.secondary-1)}if(!(g<0||p<=0)){if("intensity"===(null==d?void 0:d.fillMode)){const{fillStylePaletted:t}=d,e=this.Xb.iG;this.PB.BO(r,t.lut,e).nE(i("uTileIntensityValues"),l.intensityDataTexture,2).fE(i("uTileBoundsAxisXZ"),[f.startLocationAxis.x,f.startLocationAxis.z,f.sizeAxis.x,f.sizeAxis.z])}if("xyz"===(null==d?void 0:d.fillMode)){const{fillStylePaletted:t}=d,e="x"===t.getLookUpProperty()?{min:this.Wi(),max:this.Xi()}:"y"===t.getLookUpProperty()?{min:this.Zi(),max:this.Ji()}:"z"===t.getLookUpProperty()?{min:this.me(),max:this.Se()}:void 0;if(!e&&t.lut.percentageValues)return;this.PB.BO(r,t.lut,e)}1!==t&&"phong"===this.Zg.C().type&&l.normalmapTexture&&this.PB.nE(i("uNormalmapTexture"),l.normalmapTexture,3),1===t&&this.PB.PE(i("uFirstId"),e+g),this.PB.hE(a.rectangleLocationsBuffer,0,{location:n("aGeoCellOffset"),size:2},{location:u?n("aTriangleBary"):void 0,size:3}).PE(i("uBaseInstance"),g).rE(i("uTileStartLocationAxisXZ"),[f.startLocationAxis.x,f.startLocationAxis.z]).rE(i("uTileSizeAxisXZ"),[f.sizeAxis.x,f.sizeAxis.z]).nE(i("uHeightmapTexture"),l.heightmapDataTexture,0).XE(a.rectangleLocationsDrawMode,0,a.rectangleLocationsDrawLength,p),h=!0,o.bindBuffer(o.ARRAY_BUFFER,null)}}))})),h})),{idCount:this.Pa.columns*this.Pa.rows}}wi(){return this.Xb.wi()}dispose(){return super.dispose(),this.Xb.dispose(),this.vY&&(this.vY.gridTileSizes.forEach((t=>{})),this.vY.gridTiles.forEach((t=>{this.PB.DB(t.heightmapDataTexture),t.normalmapTexture&&this.PB.DB(t.normalmapTexture)})),this.PB.gE(this.vY.rectangleLocationsBuffer),this.vY=void 0),this.yV={},this}bu(){return this.dispose(),this.Xb.bu(),this}hp(t){return this.Xb.hp(t),this}rp(t){this.nY.push(t),ob(this.cY.gridTiles,t,(t=>t.heightmapData));for(let e=t.startPrimary;e<t.startPrimary+t.lengthPrimary;e+=1)this.lY[e]=void 0;return this.oY=void 0,this}sp(t){return this.XN._(t),this}ep(){return this.XN.C()}th(t){return this.Je=sc(this.Je,t),this.Xb.th(this.Je),this}Sr(){return this.Je}Jy(t){return this.Zy="function"==typeof t?t(this.Zy):t,this}ip(){return this.Zy}Xi(){var t;return(null===(t=this.oG)||void 0===t?void 0:t.gY.max.x)||0}Wi(){var t;return(null===(t=this.oG)||void 0===t?void 0:t.gY.min.x)||0}Ji(){const t=this.oY||this.mY();return this.oY=t,t.max}Zi(){const t=this.oY||this.mY();return this.oY=t,t.min}Se(){var t;return(null===(t=this.oG)||void 0===t?void 0:t.gY.max.z)||0}me(){var t;return(null===(t=this.oG)||void 0===t?void 0:t.gY.min.z)||0}lc(){return 0}cc(){return 0}ov(){return 0}mY(){if(this.oY)return this.oY;const t=this.AY?this.AY.fill.iFirstPrimary:0,e=this.AY?t+this.AY.fill.amountPrimary-1:this.Pa.primaryDimensionVectorsCount-1;let i=ro,n=so;return this.cY.gridTiles.forEach((r=>{for(let s=Math.max(t,r.iFirstUniqueVector.primary);s<=Math.min(e,r.iFirstUniqueVector.primary+r.sizeUniqueHeatmapDataVectors.primary-1);s+=1){const t=(s-r.iFirstUniqueVector.primary)*r.sizeHeatmapDataVectors.secondary;let e=this.lY[s];if(e)i=i<e.min?i:e.min,n=n>e.max?n:e.max;else{e={min:ro,max:so},this.lY[s]=e;for(let s=0;s<r.sizeHeatmapDataVectors.secondary;s+=1){const o=r.heightmapData[t+s];i=i<o?i:o,n=n>o?n:o,e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}}}})),this.oY={min:i,max:n},this.oY}}class eS extends Ob{constructor(t,e,i,n){super(t,e,i),this.vU="disabled",this.cG=0,this.dG={},this.SY=new Map,this.Yt={x:0,z:0},this.ZN={x:1,z:1},this.Pa={...n,scrollDimensionSize:"columns"===n.scrollDimension?n.columns:n.rows,staticDimensionSize:"columns"===n.scrollDimension?n.rows:n.columns},this.gY={min:{x:this.Yt.x,z:this.Yt.z},max:{x:"rows"===n.scrollDimension?this.Yt.x+(n.columns-1)*this.ZN.x:this.Yt.x,z:"columns"===n.scrollDimension?this.Yt.z+(n.rows-1)*this.ZN.z:this.Yt.z}};const r=()=>({shape:new tS(this.yU,Jr,this.pi,{columns:n.columns+("columns"===n.scrollDimension?1:0),rows:n.rows+("rows"===n.scrollDimension?1:0),dataOrder:n.scrollDimension,heatmapDataType:"intensity"}).setVisible(!1),hasData:!1});this.ix=[r(),r()]}zr(t){this.ix.forEach((e=>{e.shape.zr(t)}));const e=this.ix.reduce(((t,e)=>{var i,n;return t.min=Math.min(t.min,ts(null===(i=e.shape.Xb.iG)||void 0===i?void 0:i.min,ro)),t.max=Math.max(t.max,ts(null===(n=e.shape.Xb.iG)||void 0===n?void 0:n.max,so)),t}),{min:ro,max:so}),i=this.ix.reduce(((t,e)=>{var i,n;return t.min=Math.min(t.min,ts(null===(i=e.shape.oY)||void 0===i?void 0:i.min,ro)),t.max=Math.max(t.max,ts(null===(n=e.shape.oY)||void 0===n?void 0:n.max,so)),t}),{min:ro,max:so});return this.ix.forEach((t=>{t.shape.Xb.iG=e,t.shape.oY=i})),this}Su(t,e){let i=0,n=e;return this.ix.forEach((e=>{if(!e.hasData)return;e.shape.TU=this.TU,e.shape.FU=this.FU,e.shape.IU=this.IU;const{idCount:r}=e.shape.Su(t,n);void 0!==r&&(1===t&&this.SY.set(e,{idFirst:n,idCount:r}),i+=r,n+=r)})),{idCount:i}}xu(t,e,i,n,r){const s=Array.from(this.SY).find((e=>mo(t,e[1].idFirst,e[1].idFirst+e[1].idCount-1)));return s?s[0].shape.xu(t,s[1].idFirst,s[1].idCount,n,r):{}}qy(t,e){return this.Yt=t,this.ZN=e,this.ix.forEach((t=>{t.shape.qy("columns"===this.Pa.scrollDimension?{x:t.shape.tp().start.x,z:this.Yt.z}:{x:this.Yt.x,z:t.shape.tp().start.z},this.ZN)})),"columns"===this.Pa.scrollDimension?(this.gY.min.z=t.z,this.gY.max.z=this.Yt.z+(this.Pa.rows-1)*this.ZN.z):(this.gY.min.x=t.x,this.gY.max.x=this.Yt.x+(this.Pa.columns-1)*this.ZN.x),this}tp(){return{start:this.Yt,step:this.ZN}}Ni(){return this.cG=0,this.dG={},this.gY={min:{x:this.Yt.x,z:this.Yt.z},max:{x:"rows"===this.Pa.scrollDimension?this.Yt.x+(this.Pa.columns-1)*this.ZN.x:this.Yt.x,z:"columns"===this.Pa.scrollDimension?this.Yt.z+(this.Pa.rows-1)*this.ZN.z:this.Yt.z}},this.ix.forEach((t=>{t.shape.setVisible(!1),t.shape.aY=!1,t.hasData=!1})),this}lp(t){var e;const i=this.ix[0],n=this.ix[1],r=t.heightMapValues?t.heightMapValues.length:null===(e=t.intensityValues)||void 0===e?void 0:e.length;let s=0;if(!r)return this;do{const e=Math.floor(this.cG/this.Pa.scrollDimensionSize)%this.ix.length,o=this.ix[e],a=this.cG%this.Pa.scrollDimensionSize,l=this.Pa.scrollDimensionSize-a,h=0===a,c=Math.min(l,r),u=a+c,d=a,f=d+1,g=s,p=s+c,m=this.cG>=this.Pa.scrollDimensionSize&&u<=this.Pa.scrollDimensionSize-1,y=h;h&&(o.shape.qy("columns"===this.Pa.scrollDimension?{x:this.Yt.x+(this.cG-1)*this.ZN.x,z:this.Yt.z}:{x:this.Yt.x,z:this.Yt.z+(this.cG-1)*this.ZN.z},this.ZN),o.shape.setVisible(!0));const v=m?0:1,x=u+(m?1:0);o.shape.fY({fill:{iFirstPrimary:v,amountPrimary:x},wireframe:{iFirstPrimary:v,amountPrimary:x,connectNext:!1}});const b=o===i?n:i,S=u+1,A=1+this.Pa.scrollDimensionSize-S;b.shape.fY({fill:{iFirstPrimary:S,amountPrimary:A},wireframe:{iFirstPrimary:S,amountPrimary:A-1,connectNext:!0}});const E={};if(t.heightMapValues){const e=t.heightMapValues.slice(g,p);let i=!1;y&&this.dG.yValues&&(i=!0,e.splice(0,0,this.dG.yValues));const n={startPrimary:i?d:f,startSecondary:0,lengthPrimary:e.length,lengthSecondary:this.Pa.staticDimensionSize,values:e,type:"y"};o.shape.rp(n),o.hasData=!0,E.yValues=e[c-1]}if(t.intensityValues){const e=t.intensityValues.slice(g,p);let i=!1;y&&this.dG.intensityValues&&(i=!0,e.splice(0,0,this.dG.intensityValues));const n={startPrimary:i?d:f,startSecondary:0,lengthPrimary:e.length,lengthSecondary:this.Pa.staticDimensionSize,values:e,type:"intensity"};o.shape.hp(n),o.hasData=!0,E.intensityValues=e[c-1]}this.cG+=c,s+=c,this.dG=E}while(s<r);return"columns"===this.Pa.scrollDimension?(this.gY.min.x=this.Yt.x+Math.max(this.cG-this.Pa.scrollDimensionSize,0)*this.ZN.x,this.gY.max.x=this.Yt.x+(this.cG-1)*this.ZN.x):(this.gY.min.z=this.Yt.z+Math.max(this.cG-this.Pa.scrollDimensionSize,0)*this.ZN.z,this.gY.max.z=this.Yt.z+(this.cG-1)*this.ZN.z),this}hp(t){var e;const{iSample:i,yValues:n,intensityValues:r}=t,s=n||r;if(!s)return this;const o=i,a=i+s.length-1,l=s[0].length;this.ix.forEach(((t,e)=>{const i=Math.floor(this.cG/this.Pa.scrollDimensionSize)%this.ix.length,s=this.cG%this.Pa.scrollDimensionSize;let h,c;if(e===i?0===s?(c=-1,h=-1):(c=this.cG-1,h=c-s+1):(c=this.cG-s-1,h=c-this.Pa.scrollDimensionSize+1),a<h||o>c)return;const u=Math.max(o,h),d=Math.min(a,c),f=d-u+1,g=r&&r.slice(u-o,d-o+1),p=n&&n.slice(u-o,d-o+1),m=g&&{type:"intensity",startSecondary:0,lengthSecondary:l,startPrimary:u+1,lengthPrimary:f,values:g},y=p&&{type:"y",startSecondary:0,lengthSecondary:l,startPrimary:u+1,lengthPrimary:f,values:p};m&&t.shape.hp(m),y&&t.shape.rp(y),d===this.cG-1&&(this.dG={yValues:p?p[p.length-1]:void 0,intensityValues:g?g[g.length-1]:void 0})}));const h=this.cG-1;if(a>h){const t=a-h,i=n&&n.slice(-t),s=r&&r.slice(-t),o=i?i.length:null!==(e=null==s?void 0:s.length)&&void 0!==e?e:0;if(o<t){const e=this.dG||new Array(l).fill(0);for(let n=o;n<t;n+=1)i&&e.yValues&&i.unshift(e.yValues),s&&e.intensityValues&&s.unshift(e.intensityValues)}this.lp({heightMapValues:i,intensityValues:s,lengthPrimary:o,lengthSecondary:l})}return this}cp(){return this.cG}sp(t){return this.ix.forEach((e=>e.shape.sp(t))),this}ep(){return this.ix[0].shape.ep()}th(t){return this.ix.forEach((e=>e.shape.th(t))),this}Sr(){return this.ix[0].shape.Sr()}Jy(t){return this.ix.forEach((e=>e.shape.Jy(t))),this}ip(){return this.ix[0].shape.ip()}bu(){return this.dispose(),this.ix.forEach((t=>t.shape.bu())),this}dispose(){return super.dispose(),this.ix.forEach((t=>t.shape.dispose())),this}setVisible(t){return super.setVisible(t),this.ix.forEach((e=>e.shape.setVisible(t&&e.hasData))),this}ev(t){return super.ev(t),this.ix.forEach((e=>e.shape.ev(t))),this}Xi(){return this.gY.max.x}Wi(){return this.gY.min.x}Ji(){return Math.max(this.ix[0].shape.Ji(),this.ix[1].shape.Ji())}Zi(){return Math.min(this.ix[0].shape.Zi(),this.ix[1].shape.Zi())}Se(){return this.gY.max.z}me(){return this.gY.min.z}lc(){return 0}cc(){return 0}ov(){return 0}Fi(t){return super.Fi(t),this.ix.forEach((e=>e.shape.Fi(t))),this}}class iS extends Pb{constructor(t,e,i,n){super(t,e,i),this.FU=Cn(0,0,1),this.bY=Cn(0,0,-1),this.xY=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],this.Zg=new Va,this.oi=n}vm(){const{cellIndex:t,cellSpan:e,cellsAmount:i}=this.oi,n=e.x/i.x,r=e.y/i.y,s=t.x/i.x,o=t.y/i.y,a=this.gi._t();return{x:s*a.x,y:o*a.y,width:n*a.x,height:r*a.y}}setCameraLocation(t){return this.FU=t,this}getCameraLocation(){return this.FU}setCameraDirection(t){return this.bY=no.normalize(t),this}getCameraDirection(){return this.bY}setLightLocation(t){return this.IU=t,this}getLightLocation(){return this.IU}MY(){return Cn(this.xY[0],this.xY[1],this.xY[2])}wY(){return Cn(this.xY[4],this.xY[5],this.xY[6])}}class nS extends iS{constructor(t,e,i,n){super(t,e,i,n),this.hD=new kx,this._Y=!0,this.kY=()=>{this._Y=!0},this.CY="perspective",this.hz=t,this.gl=t.nz(),this.cU=this.Ri,this.gi.R("resize",this.kY),n.addEventListener("cellresize",this.kY)}qR(t){const e=t.Wi(),i=t.Zi(),n=t.me(),r=t.Xi(),s=t.Ji(),o=t.Se();if(e===ro||r===so||i===ro||s===so||n===ro||o===so)return oo;const a=t.lc(),l=t.cc(),h=t.ov(),c=Math.abs(t.Zs.Vv(a)*t.oi.x.q()),u=Math.abs(t.Zs.Vv(l)*t.oi.y.q()),d=Math.abs(t.Zs.Vv(h)*t.oi.z.q()),f=e-c,g=r+c,p=i-u,m=s+u,y=n-d,v=o+d;let x;return[{x:f,y:p,z:y},{x:g,y:p,z:y},{x:f,y:m,z:y},{x:g,y:m,z:y},{x:f,y:p,z:v},{x:g,y:p,z:v},{x:f,y:m,z:v},{x:g,y:m,z:v}].map((e=>t.Zs.Gv(e))).forEach((t=>{if(!t)return;const e={min:t,max:t};x=x?Eo(x,{min:t,max:t}):e})),x||oo}Gv(t){if(this.TY(),this.FY(),!this.TU)return;const e=this.hD.lE(),i=Cn(e[0],e[1],e[2]),n=this.hD.aE(),r=Cn(n[0],n[1],n[2]),s=no.divideVec(no.subtractVec(t,i),r),o=this.TU,a=dx.multiply(o,[s.x,s.y,s.z,1]),l=En(a[0]/a[3],a[1]/a[3]),h=this.gi._t();return{x:.5*(1+l.x)*h.x,y:.5*(1+l.y)*h.y}}jm(t){const e=this.hD.lE(),i=this.hD.aE(),n=no.divideVec(no.subtractVec(t,{x:e[0],y:e[1],z:e[2]}),{x:i[0],y:i[1],z:i[2]});return{...t,x:n.x,y:n.y,z:n.z}}Hm(t){const e=this.hD.lE(),i=this.hD.aE(),n=no.addVec(no.multiplyVec(t,{x:i[0],y:i[1],z:i[2]}),{x:e[0],y:e[1],z:e[2]});return{...t,x:n.x,y:n.y,z:n.z}}Vv(t){return t/1e3}GU(){return.001}zr(){const t=this.FU,e=this.IU,i=this.oi.x.o||this.oi.y.o||this.oi.z.o;if(!e)throw Ds(0,(()=>Vs()));const{viewProjectionMatrix:n}=this.TY();this.FY();const r=[t.x,t.y,t.z],s=[e.x,e.y,e.z];return this.Ri.forEach((t=>{t.TU=n,t.FU=r,t.IU=s,t.zr(i)})),this}$m(t){this.CY!==t&&(this.CY=t,this._Y=!0)}Um(){return this.CY}TY(){if(!this._Y&&this.TU)return{viewProjectionMatrix:this.TU};const t=this.vm(),e=t.width/t.height;if("perspective"===this.CY)this.IY=dx.projectionPerspective(45,e,.1,100);else{let t,i;const n=.5*no.length(this.FU);e>1?(t=n,i=t/e):(i=n,t=i*e),this.IY=dx.projectionOrthographic(-t,t,-i,i,-400,100)}const i=this.FU;this.xY[12]=i.x,this.xY[13]=i.y,this.xY[14]=i.z;const n=this.bY,r=Cn(0,1,0),s=no.multiply(n,-1),o=no.normalize(no.cross(r,s)),a=no.normalize(no.cross(s,o));this.xY[0]=o.x,this.xY[1]=o.y,this.xY[2]=o.z,this.xY[4]=a.x,this.xY[5]=a.y,this.xY[6]=a.z,this.xY[8]=s.x,this.xY[9]=s.y,this.xY[10]=s.z,this.PY=dx.inverse(this.xY);const{cellIndex:l,cellSpan:h,cellsAmount:c}=this.oi,u=h.x/c.x,d=h.y/c.y,f=(l.x+h.x/2)/c.x,g=(l.y+h.y/2)/c.y,p=dx.multiply(dx.translation(Ia(-1,1,f),Ia(-1,1,g),0),dx.scaling(u,d,1));return this.TU=dx.multiply(p,dx.multiply(this.IY,this.PY)),this.LY=dx.inverse(this.TU),this._Y=!1,{viewProjectionMatrix:this.TU}}FY(){this.hD.QO(this.oi.x),this.hD.KO(this.oi.y),this.hD.qO(this.oi.z)}Su(t,e,i){var n;const r=this.gl.GR(),s=this.vm(),o={x:s.x*r*e,y:s.y*r*e,width:s.width*r*e,height:s.height*r*e};this.gl.tE(o.x,o.y,o.width,o.height);let a=((null===(n=i[i.length-1])||void 0===n?void 0:n.idLast)||0)+1;const l=Array.from(this.cU.values());for(let h=0;h<l.length;h+=1){const e=l[h];if(e.getVisible())if(this.gl.WR(e.vU),this.gl.hv(e.Kg),1!==t)e.Su(t,0);else if(1===t&&e.getPointerEvents()){const{idCount:n}=e.Su(t,a);void 0!==n&&(i.push({entity:e,layer:this,entityIndex:h,idFirst:a,idCount:n,idLast:a+n-1}),a+=n)}}return this.gl.WR("disabled"),this.gl.hv(!1),this.gl.XR(!1),this}setCameraLocation(t){return this.FU.x===t.x&&this.FU.y===t.y&&this.FU.z===t.z||(this._Y=!0),super.setCameraLocation(t),this}setCameraDirection(t){return this.bY.x===t.x&&this.bY.y===t.y&&this.bY.z===t.z||(this._Y=!0),super.setCameraDirection(t),this}N(){super.N(),this.gi.V("resize",this.kY),this.oi.removeEventListener("cellresize",this.kY)}hy(t){return this.O$(new Qb(this,this.z$,[],t))}Dv(t){return this.O$(new Zb(this,this.z$,t))}uv(){return this.O$(new Ub(this,this.z$,[]))}bp(){return this.O$(new Kb(this,this.z$,[]))}yA(){return this.O$(new jb(this,this.z$,[]))}Qy(t){return this.O$(new tS(this,this.z$,[],t))}ap(t){return this.O$(new eS(this,this.z$,[],t))}}class rS{constructor(t,e){this.BY=[],this.DY=[],this.RY=(t,e)=>{const i=this.BY.find((e=>e.fu===t));i&&("pointerenter"!==e.type&&"pointermove"!==e.type||this.gi.za(i,!0,e.timeStamp),"pointerleave"===e.type&&this.gi.za(i,!1,e.timeStamp))},this.gi=t,this.yu="init"in e?e.init({engine:t.Cg,handleEvent:this.RY}):e,this.EY=0,this.OY=String(Math.round(1e6*Math.random()))}Mn(t,e,i,n){const r=new bc(t,e,i,n,"".concat(this.OY,"-").concat(this.EY));return this.BY.push(r),r.addEventListener("dispose",(()=>{var t;const e=this.BY.indexOf(r);e>=0&&this.BY.splice(e,1),(null===(t=this.gi.Va)||void 0===t?void 0:t.entity)===r&&this.gi.za(void 0,!1,jr.performance.now())})),this.EY+=1,r}Zo(){const t=this.BY.filter((t=>t.getVisible()&&t.sn().length>0&&la(t.Je))).map((t=>t.Au())),e=this.DY;this.yu.update({textList:t,engine:this.gi.Cg,obstructingOverlays:e}),this.DY.length=0}N(){const t=this.BY.filter((t=>t.getVisible()&&t.sn().length>0&&la(t.Je))).map((t=>t.Au()));this.yu.dispose&&this.yu.dispose({textList:t,engine:this.gi.Cg})}wA(t){this.DY.push(t)}}class sS extends ec{constructor(t,e,i){var n;let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ax;if(super(t,e,i),n=this,this.U=wn(1,1),this.zY=!1,this.VY=0,this.NY=!0,this.GY=0,this.NU=8388608,this.$D=[null,null],this.$Y=null,this.UY=null,this.YY=0,this.Sg=!1,this.jY=0,this.Rs=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return n.ci||n.ca||Wv(n.PB.gl)||(t&&(n.zY=!0),n.ha=!0,n.HY||n.qo.sR(t)),n},this.HY=!1,this.oR=t=>{if(this.ci||this.ca)return;const e=t-this.VY;if(e>=this.Oa||-1===this.Oa){this.HY=!0,this.VY=t,this.zY=!1;const i=e>50?1e3/60:e;this.ra&&this.ra(i),this._s.zr(e),this.xa(),this.Ma(),this.ha=!1,-1!==this.Oa&&this.zY&&(this.qo.sR(this.zY),this.ha=!0),this.na&&this.na(),this.HY=!1,this.L.D("renderframe",{}),this.ha&&this.Rs(this.zY)}else this.ha=!0,this.qo.sR()},this.WY=new Map,this.nz=()=>this.PB,this.ZY=()=>{var t,e;const i=this.Ca(),n=this.NY,r=jr.performance.now(),s=null===(t=this.JY)||void 0===t?void 0:t.QY.reduce(((t,e)=>t?e.KY&&t.KY&&e.KY>t.KY?e:t:e),void 0),o=null==s?void 0:s.KY,a=null===(e=this.Aa)||void 0===e?void 0:e.timeStamp,l=this.qY;return n?(this.Rs(!0),!1):void 0===s||(void 0===s||!s.tj)&&(void 0!==o&&void 0===i?r-o>=1e3:!(void 0!==o&&void 0!==a&&r-a>=2e3&&(void 0===l||r-l>=2e3))||r-o>=1e3)},this.ij=()=>{var t,e;this.sj=void 0;const i=null===(e=null===(t=this.JY)||void 0===t?void 0:t.ej)||void 0===e?void 0:e.hj;void 0===i||i>=this.GY||this.rj()},this.Ma=()=>{if(this.ci||this.ca)return this;const t=this.PB.gl,e=jr.performance.now();this.PB.QR(t.FRAMEBUFFER,this.qo.JD?this.$D[0]:null);const i=this.U,n=i.x>0&&i.y>0,r=this.PB.GR();if(this.ma.o&&this.PB.QE(this.ma.C()),this.qo.XD&&this.OD&&(this.OD.canvas.width=i.x*r,this.OD.canvas.height=i.y*r),t.resize&&n&&t.resize(i.x*r,i.y*r),this.PB.KR(0,0,i.x*r,i.y*r),this.PB.tE(0,0,i.x*r,i.y*r),this.PB.Ni(),n)for(const s of this.ia.values())s.Su(0,1,[]);if(this.vu&&this.vu.Zo(),this.Pa.Da&&n&&(this.sj&&(jr.clearTimeout(this.sj),this.sj=void 0),this.ZY()?(this.rj(),this.PB.QR(t.FRAMEBUFFER,this.qo.JD?this.$D[0]:null)):this.sj=jr.setTimeout(this.ij,500)),this.Y(),this.Qo(),Array.from(this.da.values()).forEach((t=>{t.lastEvent.isLcjsArtificialEvent=!0,this.fa("pointermove",t.lastEvent)})),this.qo.JD){const e=this.PB.gl2.ctx;e.bindFramebuffer(e.READ_FRAMEBUFFER,this.$D[0]),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,this.$D[1]),e.clearBufferfv(e.COLOR,0,[1,1,1,1]),e.blitFramebuffer(0,0,this.U.x*r,this.U.y*r,0,0,this.U.x*r,this.U.y*r,t.COLOR_BUFFER_BIT,t.LINEAR)}else t.bindTexture(t.TEXTURE_2D,this.ED),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGBA,0,0,this.U.x*r,this.U.y*r,0),t.bindTexture(t.TEXTURE_2D,null);return this.PB.QR(t.FRAMEBUFFER,null),Wv(this.PB.gl)?this.qo.DD(0,0,this.U.x*r,this.U.y*r,[this]):this.qo.sR(),this.NY=!1,this.GY=e,this},this.xa=()=>{if("use-window"===this.nj.mode){const t=jr.devicePixelRatio||1;this.PB.cO(t)}const t=this.U;if(0===t.x||0===t.y)return this;this.Ha.X(t);for(const e of this.ia.values())e.zr();return this.Y(),this},this.qo=t,this.qo.XD){this.oj=jr.document.createElement("canvas"),this.oj.style.width="100%",this.oj.style.height="100%",this.oj.style.display="block",this.oj.style.boxSizing="content-box",this.oj.style.position="absolute";const t=this.oj.getContext("2d",{willReadFrequently:!1,alpha:!0,desynchronized:!1});if(!t)throw new My("No Canvas context available.");this.OD=t,this.En.appendChild(this.oj)}this.qo.cR(this);const s={preserveDrawingBuffer:!0,antialias:e?e.antialias:void 0,alpha:!0,lineAntialias:!e||(!0===e.lineAntiAlias||!1===e.lineAntiAlias?e.lineAntiAlias:!1!==e.antialias)};let o;if(this.qo.JD&&t.gl2&&(o=new r(this,this.Pa,{type:"webgl2",ctx:t.gl2.ctx,antialias:s.antialias,lineAntialias:s.lineAntialias},this.bi.isDark)),o||this.qo.JD||(o=new r(this,this.Pa,{type:"webgl1",ctx:t.gl,antialias:s.antialias,lineAntialias:s.lineAntialias},this.bi.isDark)),!o)throw new My("No WebGL context available");if(this.PB=o,"number"==typeof(null==e?void 0:e.devicePixelRatio))this.nj={mode:"fixed",value:e.devicePixelRatio},this.PB.cO(e.devicePixelRatio);else{const t=jr.document.head.querySelector('meta[name="viewport"]'),i=!0===e.devicePixelRatio||(null==t?void 0:t.content.includes("width=device-width")),n=jr.devicePixelRatio||1;this.nj=i?{mode:"use-window"}:{mode:"fixed",value:n},this.PB.cO(n)}const a=e?e.width:void 0,l=e?e.height:void 0;this.Ua=this.aj(a),this.ja=this.aj(l),this.lj(this.Ua,this.ja),this.fG=this.SL("engine offscreen",1e6),this.cj=this.SL("engine bg",0);const h="function"==typeof this.bi.lcjsBackgroundFillStyle?Gr({resourcesBaseUrl:this.Pa.be,styleFactory:this.bi.lcjsBackgroundFillStyle,apply:t=>this.setBackgroundFillStyle(t)}):this.bi.lcjsBackgroundFillStyle;this.Ha=this.cj.ih(this.oi).th(h).qe(this.bi.lcjsBackgroundStrokeStyle).setPointerEvents(!1).eh({x:0,y:0});const c=this.SL("engine effects",200001).uU(this.bi.effect);this.Ss=c;const u=this.qo.JD,d=this._t();u&&(this.$D=[o.pE(),o.pE()]);const f=this.PB.gl;u&&(this.$Y=f.createRenderbuffer(),this.UY=f.createRenderbuffer()),this.ED=f.createTexture();const g=d.x*this.PB.GR(),p=d.y*this.PB.GR();if(u){f.bindRenderbuffer(f.RENDERBUFFER,this.$Y);const t=this.PB.gl2.ctx;this.YY=this.qo.CD&&!1!==e.antialias?t.getParameter(t.MAX_SAMPLES):0,t.renderbufferStorageMultisample(t.RENDERBUFFER,this.YY,t.RGBA8,g,p),f.bindRenderbuffer(f.RENDERBUFFER,this.UY),t.renderbufferStorageMultisample(t.RENDERBUFFER,this.YY,t.DEPTH24_STENCIL8,g,p)}u&&(this.PB.QR(f.FRAMEBUFFER,this.$D[0]),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.RENDERBUFFER,this.$Y),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,this.UY)),f.bindTexture(f.TEXTURE_2D,this.ED),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,g,p,0,f.RGBA,f.UNSIGNED_BYTE,null),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),u&&(this.PB.QR(f.FRAMEBUFFER,this.$D[1]),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,this.ED,0)),this.PB.QR(f.FRAMEBUFFER,null),this.ya(),this.Qo(),this.Cg=qh(this),this.mu={bi:this.bi,_s:this._s,oi:this.oi,Rs:t=>this.Rs(t),Qw:()=>this.ha,Ca:()=>this.Ca(),Bs:t=>(this.qY=jr.performance.now(),this.Bs({x:t.clientX,y:t.clientY})),sF:t=>this.sF(t),Pa:this.Pa,Ta:t=>this.Ta(t),Ss:this.Ss,Ka:t=>this.Ka(t),qa:t=>this.qa(t),sr:{Ih:(t,e,i)=>{const n=this.PB.wr(e.family).YB(t,e,i,this.bi.isDark);return this.vu?{x:n.x,y:n.y,isEstimate:!1}:n}},Ys:()=>this.da.size>0,js:(t,e)=>void 0!==Array.from(this.da.values()).find((i=>!(void 0!==t&&i.entity!==t||void 0!==e&&e!==i.collectionMember)))},e.textRenderer&&(this.vu=new rS(this,e.textRenderer));const m=()=>{this.N()};jr.addEventListener("unload",m),this.oa.push((()=>{jr.removeEventListener("unload",m)}))}get uj(){return this.ia}ta(t,e){let i=this.WY.get(t);if(!i){const e=this.PB.yO(t),n=new Set,r=t=>{n.add(t)},s=i=>{n.delete(i)&&0===n.size&&(e.unbindResources(),this.WY.delete(t))},o=[];i={imageTexture:e,instances:n,handleNewInstance:r,handleInstanceDisposed:s,sharedEngineReference:{eF:()=>e.FR,hF:t=>{e.FR?t():o.push(t)}}},this.WY.set(t,i),e.Xu(this),e.ER((()=>{o.forEach((t=>{t()})),o.length=0}))}const n=new al(t,i.handleNewInstance,i.handleInstanceDisposed,e);return i.handleNewInstance(n),n}sF(t){const e=Array.from(this.WY.values()).find((e=>e.instances.has(t)));if(!e)throw Ds(0,(()=>new Error("LightningChart JS error, attempted to use Icon that is disposed. Please check that you are not disposing an Icon that is still in use, or attempting to use a previously disposed Icon!")));return e.sharedEngineReference}Bs(t){var e;if(this.Va&&this.Va.entity.getPointerEvents()){if(this.Va.pointed||!(jr.performance.now()-this.Va.timestamp>=50))return{entity:this.Va.entity,collectionMember:void 0,info:void 0};this.Va=void 0}const i=null===(e=this.JY)||void 0===e?void 0:e.ej;if(!i)return;(!this.va||jr.performance.now()-this.va>100)&&this.Qo();const n=this.oh(t.x,t.y),r=Math.round(n.x*this.PB.GR()),s=Math.round(n.y*this.PB.GR());return[[-1,-1],[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1],[0,0]].map((t=>this.dj(i,r+t[0]/i.fj,s+t[1]/i.fj))).reduce(((t,e)=>{if(void 0===e)return t||void 0;const i=1e6*e.layerIndex+e.entityIndex;return!t||i>t.zIndexForComparison?{zIndexForComparison:i,entity:e.entity,collectionMember:e.collectionMember,info:e.info}:t}),void 0)}dj(t,e,i){const n=Math.round(e*t.fj),r=Math.round(i*t.fj);if(n<0||n>=t.U.x||r<0||r>=t.U.y)return;const s=4*(n+r*t.U.x),o=t.Aj[s+0],a=t.Aj[s+1],l=t.Aj[s+2],h=t.Aj[s+3];if(void 0===o||void 0===a||void 0===l||void 0===h)return;if(0===o&&0===a&&0===l&&0===h)return;const c=16777216*o+65536*a+256*l+h,u=t.gj.find((t=>c>=t.idFirst&&c<=t.idLast));if(!u)return;const{collectionMember:d,info:f}=u.entity.xu(c,u.idFirst,u.idCount,e,i);return{entity:u.entity,collectionMember:d,entityIndex:u.entityIndex,layerIndex:u.layer._a(),info:f}}Xo(t,e,i){const n=this.PB.gl;let r,s=!this.qo.JD;if(this.vu){const t=this.vu;this.vu=void 0;const e=[],i=[];this.ia.forEach((t=>{t.Ri.forEach((t=>{t.getVisible()&&t instanceof bc&&i.push(t)}))})),i.forEach((t=>{const i=t.Zs.Mn(t.oi);e.push(i),i.eh(t.El()).Kr(t.sn())._r(t.wr()).th(t.Sr()).Hl(t.Ul()).bn(t.Wl()).xn(t.Xl()).kr(t.Cr()).Qr(t.zl()).el(t.hl()).setPointerEvents(!1)})),r={ctr:t,temporaryWebglTextObjects:e},s=!0}s&&(this.xa(),this.Ma()),this.qo.JD?(this.PB.QR(n.FRAMEBUFFER,this.$D[1]),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,this.ED,0)):this.PB.QR(n.FRAMEBUFFER,null);const o=this.RD(),a=o.x,l=o.y,h=new Uint8Array(a*l*4);n.readPixels(0,0,a,l,n.RGBA,n.UNSIGNED_BYTE,h),r&&(r.temporaryWebglTextObjects.forEach((t=>t.dispose())),this.vu=r.ctr,this.Ma());const c=new ImageData(new Uint8ClampedArray(h),a,l),u=document.createElement("canvas"),d=u.getContext("2d");if(!d)throw new Error("Failed to create 2D context for saving image.");u.width=a,u.height=l,d.putImageData(c,0,0),d.translate(0,l),d.scale(1,-1),d.drawImage(u,0,0),this.qo.JD&&(this.PB.QR(n.FRAMEBUFFER,this.$D[0]),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,this.$Y),this.PB.QR(n.FRAMEBUFFER,this.$D[1]),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,this.ED,0)),this.PB.QR(n.FRAMEBUFFER,null);const f=u.toDataURL(t,e);return i?f:(t=>{const e=t.split(",")[0].split(":")[1].split(";")[0],i=jr.atob(t.split(",")[1]),n=new Uint8Array(i.length);for(let r=0;r<i.length;r+=1)n[r]=i.charCodeAt(r);return new jr.Blob([n.buffer],{type:e})})(f)}Zo(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.ya(En(Math.round(t),Math.round(e))),this.ba();const n=this.PB.gl.drawingBufferWidth,r=this.PB.gl.drawingBufferHeight,s=new Uint8Array(n*r*4);if(this.PB.gl.readPixels(0,0,n,r,this.PB.gl.RGBA,this.PB.gl.UNSIGNED_BYTE,s),!i){const t=r/2|0,e=4*n,i=new Uint8Array(4*n);for(let n=0;n<t;n+=1){const t=n*e,o=(r-n-1)*e;i.set(s.subarray(t,t+e)),s.copyWithin(t,o,o+e),s.set(i,o)}}return this.ea={x:0,y:e},s}XL(t){return void 0!==this.Ua?this.Ua[0]=t:this.Ua=[t,void 0],this.En.style.minWidth="".concat(this.Ua[0],"px"),this.ya(),this}JL(t){return void 0!==this.Ua?this.Ua[1]=t:this.Ua=[void 0,t],this.En.style.maxWidth="".concat(this.Ua[1],"px"),this.ya(),this}KL(t){return void 0!==this.ja?this.ja[0]=t:this.ja=[t,void 0],this.En.style.minHeight="".concat(this.ja[0],"px"),this.ya(),this}tB(t){return void 0!==this.ja?this.ja[1]=t:this.ja=[void 0,t],this.En.style.maxHeight="".concat(this.ja[1],"px"),this.ya(),this}lj(t,e){return this.Ua=t,this.ja=e,this.En.style.minWidth="".concat(this.Ua[0],"px"),this.En.style.maxWidth="".concat(this.Ua[1],"px"),this.En.style.minHeight="".concat(this.ja[0],"px"),this.En.style.maxHeight="".concat(this.ja[1],"px"),this.ya(),this}BD(t){return this.Sg!==t&&(this.L.D("inviewchanged",{isInView:t}),this.Sg=t),this}LD(){return this.Sg}uR(t){this.jY=t}lR(){return this.jY}SL(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.Qa();const i=this.Ja(e);if(i){if(Ds(0,(()=>{})),!(i instanceof Rb))throw new Error("Unexpected Engine Layer error");return i}return this.wa(new Rb(this,e,t))}ML(t,e,i){const n=this.Ja(e);if(n){if(Ds(0,(()=>{})),!(n instanceof nS))throw new Error("Unexpected Engine Layer error");return n}return this.wa(new nS(this,e,t,i))}_t(){return this.U}RD(){const t=this.PB.GR();return{x:Math.round(this.U.x*t),y:Math.round(this.U.y*t)}}aj(t){return t instanceof Array||(t=[t,t]),t}vj(){return this.qo.zD}yj(){return Wv(this.PB.gl)}rj(){var t;const e=this.PB.gl,i=jr.performance.now(),n=this.Pa.Ba,r={x:Math.ceil(this.U.x*this.PB.GR()*n),y:Math.ceil(this.U.y*this.PB.GR()*n)};this.JY||(this.JY={fj:n,pj:r,QY:[],ej:void 0});let s=this.JY.QY.find((t=>!t.tj)),o=!1;s||(o=!0,s={tj:!1,U:r,IO:e.createTexture(),mj:this.PB.pE(),UY:this.PB.mE(),Sj:new Uint8Array,KY:void 0},this.JY.QY.push(s));const a=s;(o||a.U.x!==r.x||a.U.y!==r.y)&&(e.bindTexture(e.TEXTURE_2D,a.IO),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.x,r.y,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this.PB.QR(e.FRAMEBUFFER,a.mj),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,a.IO,0),e.bindRenderbuffer(e.RENDERBUFFER,a.UY),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,r.x,r.y),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,a.UY),a.Sj=new Uint8Array(r.x*r.y*4),a.U=r),a.tj=!0,a.KY=i,this.PB.QR(e.FRAMEBUFFER,a.mj),e.clearDepth(1),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.disable(e.BLEND),e.resize&&e.resize(r.x,r.y),this.PB.KR(0,0,r.x,r.y);const l=[];for(const u of this.ia.values())u.Su(1,n,l);this.PB.QR(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.enable(e.BLEND);const h=null===(t=this.PB.gl2)||void 0===t?void 0:t.ctx,c=()=>{if(this.JY){const t=this.JY.ej;if(t&&t.hj>i)return;this.JY.ej={hj:i,fj:n,U:r,Aj:a.Sj,gj:l}}};h?this.PB.CO(h,a.mj,0,0,r.x,r.y,e.RGBA,e.UNSIGNED_BYTE,a.Sj).then((()=>{this.ci||(a.tj=!1,c())})).catch((t=>{this.ci||(a.tj=!1,jr.console.warn("LightningChart JS mouse picking failed unexpectedly. This could mean that user interactions on charts are compromised.\nPlease report this issue to https://lightningchart.com/js-charts/docs/contact"))})):(this.PB.TO(a.mj,0,0,r.x,r.y,e.RGBA,e.UNSIGNED_BYTE,a.Sj),a.tj=!1,c())}ya(t){const e=this.PB.GR();if("use-window"===this.nj.mode){const t=jr.devicePixelRatio||1;this.PB.cO(t)}const i=this.U.x,n=this.U.y,r=t||{x:this.En.offsetWidth,y:this.En.offsetHeight},s=this.PB.GR();if(0!==r.x&&0!==r.y&&(r.x!==i||r.y!==n||e!==s)){this.U=r,this.oi.x.H(0,r.x).X(r.x),this.oi.y.H(0,r.y).X(r.y);const t=r.x*s,e=r.y*s,i=this.PB.gl,n=this.qo.JD;if(this.ED&&(i.bindTexture(i.TEXTURE_2D,this.ED),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t,e,0,i.RGBA,i.UNSIGNED_BYTE,null)),n){const n=this.PB.gl2.ctx;this.$Y&&(i.bindRenderbuffer(i.RENDERBUFFER,this.$Y),n.renderbufferStorageMultisample(n.RENDERBUFFER,this.YY,n.RGBA8,t,e)),this.UY&&(i.bindRenderbuffer(i.RENDERBUFFER,this.UY),n.renderbufferStorageMultisample(n.RENDERBUFFER,this.YY,n.DEPTH24_STENCIL8,t,e))}i.bindRenderbuffer(i.RENDERBUFFER,null),this.L.D("resize",{engineWidth:this.U.x,engineHeight:this.U.y,width:this.U.x,height:this.U.y})}}N(){var t;this.ci||(super.N(),this.vu&&this.vu.N(),this.sj&&(jr.clearTimeout(this.sj),this.sj=void 0),Array.from(this.PB.yD.entries()).forEach((t=>{let[e,i]=t;i.bu(!1),this.PB.yD.delete(e)})),Array.from(this.PB.ME.values()).forEach((t=>{t.unbindResources()})),this.PB.ME.clear(),this.PB.xE.wR(),this.PB.nO.N(),this.PB.gE(this.PB.oO),this.PB.gE(this.PB.aO),this.PB.sO.forEach(((t,e)=>{this.PB.gl.deleteBuffer(e)})),this.PB.sO.clear(),this.PB.xO&&(this.PB.gE(this.PB.xO.buffer),this.PB.xO=void 0),this.PB.bE(this.$D[0]),this.PB.bE(this.$D[1]),this.PB.SE(this.$Y),this.PB.DB(this.ED),this.PB.SE(this.UY),this.JY&&(this.JY.QY.forEach((t=>{this.PB.SE(t.UY),this.PB.bE(t.mj),this.PB.DB(t.IO)})),this.JY=void 0),this.PB.qE.forEach((t=>this.PB.gE(t))),this.WY.clear(),this.qo.dR(this),this.oj&&(null===(t=this.oj.parentElement)||void 0===t||t.removeChild(this.oj),this.oj=void 0),this.OD&&(this.OD=void 0),this.PB.gl=void 0)}}var oS="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},aS={exports:{}};!function(t,e){function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}function r(t,e,i){if(r.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(i=e,e=10),this.RR(t||0,e||10,i||"be"))}var s;"object"==typeof aS?aS.exports=r:e.BN=r,r.BN=r,r.wordSize=26;try{s=(void 0).Buffer}catch(t){}function o(t,e,n){for(var r=0,s=Math.min(t.length,n),o=0,a=e;a<s;a++){var l,h=t.charCodeAt(a)-48;r<<=4,r|=l=h>=49&&h<=54?h-49+10:h>=17&&h<=22?h-17+10:h,o|=l}return i(!(240&o),"Invalid character in "+t),r}function a(t,e,n,r){for(var s=0,o=0,a=Math.min(t.length,n),l=e;l<a;l++){var h=t.charCodeAt(l)-48;s*=r,o=h>=49?h-49+10:h>=17?h-17+10:h,i(h>=0&&o<r,"Invalid character"),s+=o}return s}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(r.isBN=function(t){return t instanceof r||null!==t&&"object"==typeof t&&t.constructor.wordSize===r.wordSize&&Array.isArray(t.words)},r.max=function(t,e){return t.cmp(e)>0?t:e},r.min=function(t,e){return t.cmp(e)<0?t:e},r.prototype.RR=function(t,e,n){if("number"==typeof t)return this.bj(t,e,n);if("object"==typeof t)return this.xj(t,e,n);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&r++,16===e?this.Mj(t,r):this.wj(t,e,r),"-"===t[0]&&(this.negative=1),this._j(),"le"===n&&this.xj(this.toArray(),e,n)},r.prototype.bj=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this.xj(this.toArray(),e,n)},r.prototype.xj=function(t,e,n){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===n)for(r=t.length-1,s=0;r>=0;r-=3)o=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(r=0,s=0;r<t.length;r+=3)o=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._j()},r.prototype.Mj=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,r,s=0;for(i=t.length-6,n=0;i>=e;i-=6)r=o(t,i,i+6),this.words[n]|=r<<s&67108863,this.words[n+1]|=r>>>26-s&4194303,(s+=24)>=26&&(s-=26,n++);i+6!==e&&(r=o(t,e,i+6),this.words[n]|=r<<s&67108863,this.words[n+1]|=r>>>26-s&4194303),this._j()},r.prototype.wj=function(t,e,i){this.words=[0],this.length=1;for(var n=0,r=1;r<=67108863;r*=e)n++;n--,r=r/e|0;for(var s=t.length-i,o=s%n,l=Math.min(s,s-o)+i,h=0,c=i;c<l;c+=n)h=a(t,c,c+n,e),this.imuln(r),this.words[0]+h<67108864?this.words[0]+=h:this.kj(h);if(0!==o){var u=1;for(h=a(t,c,t.length,e),c=0;c<o;c++)u*=e;this.imuln(u),this.words[0]+h<67108864?this.words[0]+=h:this.kj(h)}},r.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},r.prototype.Cj=function(t){l(t,this)},r.prototype.clone=function(){var t=new r(null);return this.copy(t),t},r.prototype.Tj=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},r.prototype._j=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this.Fj()},r.prototype.Fj=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{r.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(t){r.prototype.inspect=h}else r.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,i){i.negative=e.negative^t.negative;var n=t.length+e.length|0;i.length=n,n=n-1|0;var r=0|t.words[0],s=0|e.words[0],o=r*s,a=67108863&o,l=o/67108864|0;i.words[0]=a;for(var h=1;h<n;h++){for(var c=l>>>26,u=67108863&l,d=Math.min(h,e.length-1),f=Math.max(0,h-t.length+1);f<=d;f++){var g=h-f|0;c+=(o=(r=0|t.words[g])*(s=0|e.words[f])+u)/67108864|0,u=67108863&o}i.words[h]=0|u,l=0|c}return 0!==l?i.words[h]=0|l:i.length--,i._j()}r.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],l=(16777215&(a<<r|s)).toString(16);n=0!=(s=a>>>24-r&16777215)||o!==this.length-1?c[6-l.length]+l+n:l+n,(r+=2)>=26&&(r-=26,o--)}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var h=u[t],f=d[t];n="";var g=this.clone();for(g.negative=0;!g.isZero();){var p=g.modrn(f).toString(t);n=(g=g.idivn(f)).isZero()?p+n:c[h-p.length]+p+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},r.prototype.toJSON=function(){return this.toString(16,2)},s&&(r.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),r.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},r.prototype.toArrayLike=function(t,e,n){this._j();var r=this.byteLength(),s=n||Math.max(1,r);i(r<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,r),o},r.prototype.Ij=function(t,e){for(var i=0,n=0,r=0,s=0;r<this.length;r++){var o=this.words[r]<<s|n;t[i++]=255&o,i<t.length&&(t[i++]=o>>8&255),i<t.length&&(t[i++]=o>>16&255),6===s?(i<t.length&&(t[i++]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(i<t.length)for(t[i++]=n;i<t.length;)t[i++]=0},r.prototype.Pj=function(t,e){for(var i=t.length-1,n=0,r=0,s=0;r<this.length;r++){var o=this.words[r]<<s|n;t[i--]=255&o,i>=0&&(t[i--]=o>>8&255),i>=0&&(t[i--]=o>>16&255),6===s?(i>=0&&(t[i--]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(i>=0)for(t[i--]=n;i>=0;)t[i--]=0},Math.clz32?r.prototype.Lj=function(t){return 32-Math.clz32(t)}:r.prototype.Lj=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},r.prototype.Bj=function(t){if(0===t)return 26;var e=t,i=0;return 8191&e||(i+=13,e>>>=13),127&e||(i+=7,e>>>=7),15&e||(i+=4,e>>>=4),3&e||(i+=2,e>>>=2),1&e||i++,i},r.prototype.bitLength=function(){var t=this.words[this.length-1],e=this.Lj(t);return 26*(this.length-1)+e},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this.Bj(this.words[e]);if(t+=i,26!==i)break}return t},r.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},r.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},r.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return 0!==this.negative},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._j()},r.prototype.ior=function(t){return i(!(this.negative|t.negative)),this.iuor(t)},r.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},r.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},r.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this._j()},r.prototype.iand=function(t){return i(!(this.negative|t.negative)),this.iuand(t)},r.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},r.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},r.prototype.iuxor=function(t){var e,i;this.length>t.length?(e=this,i=t):(e=t,i=this);for(var n=0;n<i.length;n++)this.words[n]=e.words[n]^i.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._j()},r.prototype.ixor=function(t){return i(!(this.negative|t.negative)),this.iuxor(t)},r.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},r.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},r.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this.Tj(e),n>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this._j()},r.prototype.notn=function(t){return this.clone().inotn(t)},r.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var n=t/26|0,r=t%26;return this.Tj(n+1),this.words[n]=e?this.words[n]|1<<r:this.words[n]&~(1<<r),this._j()},r.prototype.iadd=function(t){var e,i,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this.Fj();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e.Fj();this.length>t.length?(i=this,n=t):(i=t,n=this);for(var r=0,s=0;s<n.length;s++)e=(0|i.words[s])+(0|n.words[s])+r,this.words[s]=67108863&e,r=e>>>26;for(;0!==r&&s<i.length;s++)e=(0|i.words[s])+r,this.words[s]=67108863&e,r=e>>>26;if(this.length=i.length,0!==r)this.words[this.length]=r,this.length++;else if(i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this},r.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},r.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e.Fj()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this.Fj();var i,n,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(i=this,n=t):(i=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|i.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<i.length;o++)s=(e=(0|i.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<i.length&&i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this.length=Math.max(this.length,o),i!==this&&(this.negative=1),this._j()},r.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,i){var n,r,s,o=t.words,a=e.words,l=i.words,h=0,c=0|o[0],u=8191&c,d=c>>>13,f=0|o[1],g=8191&f,p=f>>>13,m=0|o[2],y=8191&m,v=m>>>13,x=0|o[3],b=8191&x,S=x>>>13,A=0|o[4],E=8191&A,w=A>>>13,k=0|o[5],C=8191&k,M=k>>>13,T=0|o[6],P=8191&T,F=T>>>13,L=0|o[7],R=8191&L,B=L>>>13,z=0|o[8],I=8191&z,D=z>>>13,V=0|o[9],_=8191&V,N=V>>>13,O=0|a[0],H=8191&O,U=O>>>13,Y=0|a[1],G=8191&Y,j=Y>>>13,X=0|a[2],W=8191&X,Z=X>>>13,q=0|a[3],J=8191&q,K=q>>>13,Q=0|a[4],$=8191&Q,tt=Q>>>13,et=0|a[5],it=8191&et,nt=et>>>13,rt=0|a[6],st=8191&rt,ot=rt>>>13,at=0|a[7],lt=8191&at,ht=at>>>13,ct=0|a[8],ut=8191&ct,dt=ct>>>13,ft=0|a[9],gt=8191&ft,pt=ft>>>13;i.negative=t.negative^e.negative,i.length=19;var mt=(h+(n=Math.imul(u,H))|0)+((8191&(r=(r=Math.imul(u,U))+Math.imul(d,H)|0))<<13)|0;h=((s=Math.imul(d,U))+(r>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(g,H),r=(r=Math.imul(g,U))+Math.imul(p,H)|0,s=Math.imul(p,U);var yt=(h+(n=n+Math.imul(u,G)|0)|0)+((8191&(r=(r=r+Math.imul(u,j)|0)+Math.imul(d,G)|0))<<13)|0;h=((s=s+Math.imul(d,j)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,H),r=(r=Math.imul(y,U))+Math.imul(v,H)|0,s=Math.imul(v,U),n=n+Math.imul(g,G)|0,r=(r=r+Math.imul(g,j)|0)+Math.imul(p,G)|0,s=s+Math.imul(p,j)|0;var vt=(h+(n=n+Math.imul(u,W)|0)|0)+((8191&(r=(r=r+Math.imul(u,Z)|0)+Math.imul(d,W)|0))<<13)|0;h=((s=s+Math.imul(d,Z)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(b,H),r=(r=Math.imul(b,U))+Math.imul(S,H)|0,s=Math.imul(S,U),n=n+Math.imul(y,G)|0,r=(r=r+Math.imul(y,j)|0)+Math.imul(v,G)|0,s=s+Math.imul(v,j)|0,n=n+Math.imul(g,W)|0,r=(r=r+Math.imul(g,Z)|0)+Math.imul(p,W)|0,s=s+Math.imul(p,Z)|0;var xt=(h+(n=n+Math.imul(u,J)|0)|0)+((8191&(r=(r=r+Math.imul(u,K)|0)+Math.imul(d,J)|0))<<13)|0;h=((s=s+Math.imul(d,K)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(E,H),r=(r=Math.imul(E,U))+Math.imul(w,H)|0,s=Math.imul(w,U),n=n+Math.imul(b,G)|0,r=(r=r+Math.imul(b,j)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,j)|0,n=n+Math.imul(y,W)|0,r=(r=r+Math.imul(y,Z)|0)+Math.imul(v,W)|0,s=s+Math.imul(v,Z)|0,n=n+Math.imul(g,J)|0,r=(r=r+Math.imul(g,K)|0)+Math.imul(p,J)|0,s=s+Math.imul(p,K)|0;var bt=(h+(n=n+Math.imul(u,$)|0)|0)+((8191&(r=(r=r+Math.imul(u,tt)|0)+Math.imul(d,$)|0))<<13)|0;h=((s=s+Math.imul(d,tt)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(C,H),r=(r=Math.imul(C,U))+Math.imul(M,H)|0,s=Math.imul(M,U),n=n+Math.imul(E,G)|0,r=(r=r+Math.imul(E,j)|0)+Math.imul(w,G)|0,s=s+Math.imul(w,j)|0,n=n+Math.imul(b,W)|0,r=(r=r+Math.imul(b,Z)|0)+Math.imul(S,W)|0,s=s+Math.imul(S,Z)|0,n=n+Math.imul(y,J)|0,r=(r=r+Math.imul(y,K)|0)+Math.imul(v,J)|0,s=s+Math.imul(v,K)|0,n=n+Math.imul(g,$)|0,r=(r=r+Math.imul(g,tt)|0)+Math.imul(p,$)|0,s=s+Math.imul(p,tt)|0;var St=(h+(n=n+Math.imul(u,it)|0)|0)+((8191&(r=(r=r+Math.imul(u,nt)|0)+Math.imul(d,it)|0))<<13)|0;h=((s=s+Math.imul(d,nt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(P,H),r=(r=Math.imul(P,U))+Math.imul(F,H)|0,s=Math.imul(F,U),n=n+Math.imul(C,G)|0,r=(r=r+Math.imul(C,j)|0)+Math.imul(M,G)|0,s=s+Math.imul(M,j)|0,n=n+Math.imul(E,W)|0,r=(r=r+Math.imul(E,Z)|0)+Math.imul(w,W)|0,s=s+Math.imul(w,Z)|0,n=n+Math.imul(b,J)|0,r=(r=r+Math.imul(b,K)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,K)|0,n=n+Math.imul(y,$)|0,r=(r=r+Math.imul(y,tt)|0)+Math.imul(v,$)|0,s=s+Math.imul(v,tt)|0,n=n+Math.imul(g,it)|0,r=(r=r+Math.imul(g,nt)|0)+Math.imul(p,it)|0,s=s+Math.imul(p,nt)|0;var At=(h+(n=n+Math.imul(u,st)|0)|0)+((8191&(r=(r=r+Math.imul(u,ot)|0)+Math.imul(d,st)|0))<<13)|0;h=((s=s+Math.imul(d,ot)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(R,H),r=(r=Math.imul(R,U))+Math.imul(B,H)|0,s=Math.imul(B,U),n=n+Math.imul(P,G)|0,r=(r=r+Math.imul(P,j)|0)+Math.imul(F,G)|0,s=s+Math.imul(F,j)|0,n=n+Math.imul(C,W)|0,r=(r=r+Math.imul(C,Z)|0)+Math.imul(M,W)|0,s=s+Math.imul(M,Z)|0,n=n+Math.imul(E,J)|0,r=(r=r+Math.imul(E,K)|0)+Math.imul(w,J)|0,s=s+Math.imul(w,K)|0,n=n+Math.imul(b,$)|0,r=(r=r+Math.imul(b,tt)|0)+Math.imul(S,$)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(y,it)|0,r=(r=r+Math.imul(y,nt)|0)+Math.imul(v,it)|0,s=s+Math.imul(v,nt)|0,n=n+Math.imul(g,st)|0,r=(r=r+Math.imul(g,ot)|0)+Math.imul(p,st)|0,s=s+Math.imul(p,ot)|0;var Et=(h+(n=n+Math.imul(u,lt)|0)|0)+((8191&(r=(r=r+Math.imul(u,ht)|0)+Math.imul(d,lt)|0))<<13)|0;h=((s=s+Math.imul(d,ht)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(I,H),r=(r=Math.imul(I,U))+Math.imul(D,H)|0,s=Math.imul(D,U),n=n+Math.imul(R,G)|0,r=(r=r+Math.imul(R,j)|0)+Math.imul(B,G)|0,s=s+Math.imul(B,j)|0,n=n+Math.imul(P,W)|0,r=(r=r+Math.imul(P,Z)|0)+Math.imul(F,W)|0,s=s+Math.imul(F,Z)|0,n=n+Math.imul(C,J)|0,r=(r=r+Math.imul(C,K)|0)+Math.imul(M,J)|0,s=s+Math.imul(M,K)|0,n=n+Math.imul(E,$)|0,r=(r=r+Math.imul(E,tt)|0)+Math.imul(w,$)|0,s=s+Math.imul(w,tt)|0,n=n+Math.imul(b,it)|0,r=(r=r+Math.imul(b,nt)|0)+Math.imul(S,it)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(y,st)|0,r=(r=r+Math.imul(y,ot)|0)+Math.imul(v,st)|0,s=s+Math.imul(v,ot)|0,n=n+Math.imul(g,lt)|0,r=(r=r+Math.imul(g,ht)|0)+Math.imul(p,lt)|0,s=s+Math.imul(p,ht)|0;var wt=(h+(n=n+Math.imul(u,ut)|0)|0)+((8191&(r=(r=r+Math.imul(u,dt)|0)+Math.imul(d,ut)|0))<<13)|0;h=((s=s+Math.imul(d,dt)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(_,H),r=(r=Math.imul(_,U))+Math.imul(N,H)|0,s=Math.imul(N,U),n=n+Math.imul(I,G)|0,r=(r=r+Math.imul(I,j)|0)+Math.imul(D,G)|0,s=s+Math.imul(D,j)|0,n=n+Math.imul(R,W)|0,r=(r=r+Math.imul(R,Z)|0)+Math.imul(B,W)|0,s=s+Math.imul(B,Z)|0,n=n+Math.imul(P,J)|0,r=(r=r+Math.imul(P,K)|0)+Math.imul(F,J)|0,s=s+Math.imul(F,K)|0,n=n+Math.imul(C,$)|0,r=(r=r+Math.imul(C,tt)|0)+Math.imul(M,$)|0,s=s+Math.imul(M,tt)|0,n=n+Math.imul(E,it)|0,r=(r=r+Math.imul(E,nt)|0)+Math.imul(w,it)|0,s=s+Math.imul(w,nt)|0,n=n+Math.imul(b,st)|0,r=(r=r+Math.imul(b,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(y,lt)|0,r=(r=r+Math.imul(y,ht)|0)+Math.imul(v,lt)|0,s=s+Math.imul(v,ht)|0,n=n+Math.imul(g,ut)|0,r=(r=r+Math.imul(g,dt)|0)+Math.imul(p,ut)|0,s=s+Math.imul(p,dt)|0;var kt=(h+(n=n+Math.imul(u,gt)|0)|0)+((8191&(r=(r=r+Math.imul(u,pt)|0)+Math.imul(d,gt)|0))<<13)|0;h=((s=s+Math.imul(d,pt)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(_,G),r=(r=Math.imul(_,j))+Math.imul(N,G)|0,s=Math.imul(N,j),n=n+Math.imul(I,W)|0,r=(r=r+Math.imul(I,Z)|0)+Math.imul(D,W)|0,s=s+Math.imul(D,Z)|0,n=n+Math.imul(R,J)|0,r=(r=r+Math.imul(R,K)|0)+Math.imul(B,J)|0,s=s+Math.imul(B,K)|0,n=n+Math.imul(P,$)|0,r=(r=r+Math.imul(P,tt)|0)+Math.imul(F,$)|0,s=s+Math.imul(F,tt)|0,n=n+Math.imul(C,it)|0,r=(r=r+Math.imul(C,nt)|0)+Math.imul(M,it)|0,s=s+Math.imul(M,nt)|0,n=n+Math.imul(E,st)|0,r=(r=r+Math.imul(E,ot)|0)+Math.imul(w,st)|0,s=s+Math.imul(w,ot)|0,n=n+Math.imul(b,lt)|0,r=(r=r+Math.imul(b,ht)|0)+Math.imul(S,lt)|0,s=s+Math.imul(S,ht)|0,n=n+Math.imul(y,ut)|0,r=(r=r+Math.imul(y,dt)|0)+Math.imul(v,ut)|0,s=s+Math.imul(v,dt)|0;var Ct=(h+(n=n+Math.imul(g,gt)|0)|0)+((8191&(r=(r=r+Math.imul(g,pt)|0)+Math.imul(p,gt)|0))<<13)|0;h=((s=s+Math.imul(p,pt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(_,W),r=(r=Math.imul(_,Z))+Math.imul(N,W)|0,s=Math.imul(N,Z),n=n+Math.imul(I,J)|0,r=(r=r+Math.imul(I,K)|0)+Math.imul(D,J)|0,s=s+Math.imul(D,K)|0,n=n+Math.imul(R,$)|0,r=(r=r+Math.imul(R,tt)|0)+Math.imul(B,$)|0,s=s+Math.imul(B,tt)|0,n=n+Math.imul(P,it)|0,r=(r=r+Math.imul(P,nt)|0)+Math.imul(F,it)|0,s=s+Math.imul(F,nt)|0,n=n+Math.imul(C,st)|0,r=(r=r+Math.imul(C,ot)|0)+Math.imul(M,st)|0,s=s+Math.imul(M,ot)|0,n=n+Math.imul(E,lt)|0,r=(r=r+Math.imul(E,ht)|0)+Math.imul(w,lt)|0,s=s+Math.imul(w,ht)|0,n=n+Math.imul(b,ut)|0,r=(r=r+Math.imul(b,dt)|0)+Math.imul(S,ut)|0,s=s+Math.imul(S,dt)|0;var Mt=(h+(n=n+Math.imul(y,gt)|0)|0)+((8191&(r=(r=r+Math.imul(y,pt)|0)+Math.imul(v,gt)|0))<<13)|0;h=((s=s+Math.imul(v,pt)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(_,J),r=(r=Math.imul(_,K))+Math.imul(N,J)|0,s=Math.imul(N,K),n=n+Math.imul(I,$)|0,r=(r=r+Math.imul(I,tt)|0)+Math.imul(D,$)|0,s=s+Math.imul(D,tt)|0,n=n+Math.imul(R,it)|0,r=(r=r+Math.imul(R,nt)|0)+Math.imul(B,it)|0,s=s+Math.imul(B,nt)|0,n=n+Math.imul(P,st)|0,r=(r=r+Math.imul(P,ot)|0)+Math.imul(F,st)|0,s=s+Math.imul(F,ot)|0,n=n+Math.imul(C,lt)|0,r=(r=r+Math.imul(C,ht)|0)+Math.imul(M,lt)|0,s=s+Math.imul(M,ht)|0,n=n+Math.imul(E,ut)|0,r=(r=r+Math.imul(E,dt)|0)+Math.imul(w,ut)|0,s=s+Math.imul(w,dt)|0;var Tt=(h+(n=n+Math.imul(b,gt)|0)|0)+((8191&(r=(r=r+Math.imul(b,pt)|0)+Math.imul(S,gt)|0))<<13)|0;h=((s=s+Math.imul(S,pt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(_,$),r=(r=Math.imul(_,tt))+Math.imul(N,$)|0,s=Math.imul(N,tt),n=n+Math.imul(I,it)|0,r=(r=r+Math.imul(I,nt)|0)+Math.imul(D,it)|0,s=s+Math.imul(D,nt)|0,n=n+Math.imul(R,st)|0,r=(r=r+Math.imul(R,ot)|0)+Math.imul(B,st)|0,s=s+Math.imul(B,ot)|0,n=n+Math.imul(P,lt)|0,r=(r=r+Math.imul(P,ht)|0)+Math.imul(F,lt)|0,s=s+Math.imul(F,ht)|0,n=n+Math.imul(C,ut)|0,r=(r=r+Math.imul(C,dt)|0)+Math.imul(M,ut)|0,s=s+Math.imul(M,dt)|0;var Pt=(h+(n=n+Math.imul(E,gt)|0)|0)+((8191&(r=(r=r+Math.imul(E,pt)|0)+Math.imul(w,gt)|0))<<13)|0;h=((s=s+Math.imul(w,pt)|0)+(r>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(_,it),r=(r=Math.imul(_,nt))+Math.imul(N,it)|0,s=Math.imul(N,nt),n=n+Math.imul(I,st)|0,r=(r=r+Math.imul(I,ot)|0)+Math.imul(D,st)|0,s=s+Math.imul(D,ot)|0,n=n+Math.imul(R,lt)|0,r=(r=r+Math.imul(R,ht)|0)+Math.imul(B,lt)|0,s=s+Math.imul(B,ht)|0,n=n+Math.imul(P,ut)|0,r=(r=r+Math.imul(P,dt)|0)+Math.imul(F,ut)|0,s=s+Math.imul(F,dt)|0;var Ft=(h+(n=n+Math.imul(C,gt)|0)|0)+((8191&(r=(r=r+Math.imul(C,pt)|0)+Math.imul(M,gt)|0))<<13)|0;h=((s=s+Math.imul(M,pt)|0)+(r>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,n=Math.imul(_,st),r=(r=Math.imul(_,ot))+Math.imul(N,st)|0,s=Math.imul(N,ot),n=n+Math.imul(I,lt)|0,r=(r=r+Math.imul(I,ht)|0)+Math.imul(D,lt)|0,s=s+Math.imul(D,ht)|0,n=n+Math.imul(R,ut)|0,r=(r=r+Math.imul(R,dt)|0)+Math.imul(B,ut)|0,s=s+Math.imul(B,dt)|0;var Lt=(h+(n=n+Math.imul(P,gt)|0)|0)+((8191&(r=(r=r+Math.imul(P,pt)|0)+Math.imul(F,gt)|0))<<13)|0;h=((s=s+Math.imul(F,pt)|0)+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(_,lt),r=(r=Math.imul(_,ht))+Math.imul(N,lt)|0,s=Math.imul(N,ht),n=n+Math.imul(I,ut)|0,r=(r=r+Math.imul(I,dt)|0)+Math.imul(D,ut)|0,s=s+Math.imul(D,dt)|0;var Rt=(h+(n=n+Math.imul(R,gt)|0)|0)+((8191&(r=(r=r+Math.imul(R,pt)|0)+Math.imul(B,gt)|0))<<13)|0;h=((s=s+Math.imul(B,pt)|0)+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(_,ut),r=(r=Math.imul(_,dt))+Math.imul(N,ut)|0,s=Math.imul(N,dt);var Bt=(h+(n=n+Math.imul(I,gt)|0)|0)+((8191&(r=(r=r+Math.imul(I,pt)|0)+Math.imul(D,gt)|0))<<13)|0;h=((s=s+Math.imul(D,pt)|0)+(r>>>13)|0)+(Bt>>>26)|0,Bt&=67108863;var zt=(h+(n=Math.imul(_,gt))|0)+((8191&(r=(r=Math.imul(_,pt))+Math.imul(N,gt)|0))<<13)|0;return h=((s=Math.imul(N,pt))+(r>>>13)|0)+(zt>>>26)|0,zt&=67108863,l[0]=mt,l[1]=yt,l[2]=vt,l[3]=xt,l[4]=bt,l[5]=St,l[6]=At,l[7]=Et,l[8]=wt,l[9]=kt,l[10]=Ct,l[11]=Mt,l[12]=Tt,l[13]=Pt,l[14]=Ft,l[15]=Lt,l[16]=Rt,l[17]=Bt,l[18]=zt,0!==h&&(l[19]=h,i.length++),i};function p(t,e,i){i.negative=e.negative^t.negative,i.length=t.length+e.length;for(var n=0,r=0,s=0;s<i.length-1;s++){var o=r;r=0;for(var a=67108863&n,l=Math.min(s,e.length-1),h=Math.max(0,s-t.length+1);h<=l;h++){var c=s-h,u=(0|t.words[c])*(0|e.words[h]),d=67108863&u;a=67108863&(d=d+a|0),r+=(o=(o=o+(u/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}i.words[s]=a,n=o,o=r}return 0!==n?i.words[s]=n:i.length--,i._j()}function m(t,e,i){return p(t,e,i)}Math.imul||(g=f),r.prototype.mulTo=function(t,e){var i=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):i<63?f(this,t,e):i<1024?p(this,t,e):m(this,t,e)},r.prototype.mul=function(t){var e=new r(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},r.prototype.mulf=function(t){var e=new r(null);return e.words=new Array(this.length+t.length),m(this,t,e)},r.prototype.imul=function(t){return this.clone().mulTo(t,this)},r.prototype.imuln=function(t){var e=t<0;e&&(t=-t),i("number"==typeof t),i(t<67108864);for(var n=0,r=0;r<this.length;r++){var s=(0|this.words[r])*t,o=(67108863&s)+(67108863&n);n>>=26,n+=s/67108864|0,n+=o>>>26,this.words[r]=67108863&o}return 0!==n&&(this.words[r]=n,this.length++),e?this.ineg():this},r.prototype.muln=function(t){return this.clone().imuln(t)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),i=0;i<e.length;i++){var n=i/26|0,r=i%26;e[i]=t.words[n]>>>r&1}return e}(t);if(0===e.length)return new r(1);for(var i=this,n=0;n<e.length&&0===e[n];n++,i=i.sqr());if(++n<e.length)for(var s=i.sqr();n<e.length;n++,s=s.sqr())0!==e[n]&&(i=i.mul(s));return i},r.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,n=t%26,r=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,l=(0|this.words[e])-a<<n;this.words[e]=l|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this._j()},r.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},r.prototype.iushrn=function(t,e,n){var r;i("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,l=n;if(r-=o,r=Math.max(0,r),l){for(var h=0;h<o;h++)l.words[h]=this.words[h];l.length=o}if(0===o);else if(this.length>o)for(this.length-=o,h=0;h<this.length;h++)this.words[h]=this.words[h+o];else this.words[0]=0,this.length=1;var c=0;for(h=this.length-1;h>=0&&(0!==c||h>=r);h--){var u=0|this.words[h];this.words[h]=c<<26-s|u>>>s,c=u&a}return l&&0!==c&&(l.words[l.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._j()},r.prototype.ishrn=function(t,e,n){return i(0===this.negative),this.iushrn(t,e,n)},r.prototype.shln=function(t){return this.clone().ishln(t)},r.prototype.ushln=function(t){return this.clone().iushln(t)},r.prototype.shrn=function(t){return this.clone().ishrn(t)},r.prototype.ushrn=function(t){return this.clone().iushrn(t)},r.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,r=1<<e;return!(this.length<=n||!(this.words[n]&r))},r.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this._j()},r.prototype.maskn=function(t){return this.clone().imaskn(t)},r.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this.kj(t)},r.prototype.kj=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},r.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._j()},r.prototype.addn=function(t){return this.clone().iaddn(t)},r.prototype.subn=function(t){return this.clone().isubn(t)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype.Dj=function(t,e,n){var r,s,o=t.length+n;this.Tj(o);var a=0;for(r=0;r<t.length;r++){s=(0|this.words[r+n])+a;var l=(0|t.words[r])*e;a=((s-=67108863&l)>>26)-(l/67108864|0),this.words[r+n]=67108863&s}for(;r<this.length-n;r++)a=(s=(0|this.words[r+n])+a)>>26,this.words[r+n]=67108863&s;if(0===a)return this._j();for(i(-1===a),a=0,r=0;r<this.length;r++)a=(s=-(0|this.words[r])+a)>>26,this.words[r]=67108863&s;return this.negative=1,this._j()},r.prototype.Rj=function(t,e){var i=(this.length,t.length),n=this.clone(),s=t,o=0|s.words[s.length-1];0!=(i=26-this.Lj(o))&&(s=s.ushln(i),n.iushln(i),o=0|s.words[s.length-1]);var a,l=n.length-s.length;if("mod"!==e){(a=new r(null)).length=l+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var c=n.clone().Dj(s,1,l);0===c.negative&&(n=c,a&&(a.words[l]=1));for(var u=l-1;u>=0;u--){var d=67108864*(0|n.words[s.length+u])+(0|n.words[s.length+u-1]);for(d=Math.min(d/o|0,67108863),n.Dj(s,d,u);0!==n.negative;)d--,n.negative=0,n.Dj(s,1,u),n.isZero()||(n.negative^=1);a&&(a.words[u]=d)}return a&&a._j(),n._j(),"div"!==e&&0!==i&&n.iushrn(i),{div:a||null,mod:n}},r.prototype.divmod=function(t,e,n){return i(!t.isZero()),this.isZero()?{div:new r(0),mod:new r(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(s=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:s,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(s=a.div.neg()),{div:s,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new r(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new r(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new r(this.modrn(t.words[0]))}:this.Rj(t,e);var s,o,a},r.prototype.div=function(t){return this.divmod(t,"div",!1).div},r.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},r.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},r.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),r=t.andln(1),s=i.cmp(n);return s<0||1===r&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},r.prototype.modrn=function(t){var e=t<0;e&&(t=-t),i(t<=67108863);for(var n=(1<<26)%t,r=0,s=this.length-1;s>=0;s--)r=(n*r+(0|this.words[s]))%t;return e?-r:r},r.prototype.modn=function(t){return this.modrn(t)},r.prototype.idivn=function(t){var e=t<0;e&&(t=-t),i(t<=67108863);for(var n=0,r=this.length-1;r>=0;r--){var s=(0|this.words[r])+67108864*n;this.words[r]=s/t|0,n=s%t}return this._j(),e?this.ineg():this},r.prototype.divn=function(t){return this.clone().idivn(t)},r.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var s=new r(1),o=new r(0),a=new r(0),l=new r(1),h=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++h;for(var c=n.clone(),u=e.clone();!e.isZero();){for(var d=0,f=1;!(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(s.isOdd()||o.isOdd())&&(s.iadd(c),o.isub(u)),s.iushrn(1),o.iushrn(1);for(var g=0,p=1;!(n.words[0]&p)&&g<26;++g,p<<=1);if(g>0)for(n.iushrn(g);g-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(c),l.isub(u)),a.iushrn(1),l.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a),o.isub(l)):(n.isub(e),a.isub(s),l.isub(o))}return{a:a,b:l,gcd:n.iushln(h)}},r.prototype.Ej=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var s,o=new r(1),a=new r(0),l=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var h=0,c=1;!(e.words[0]&c)&&h<26;++h,c<<=1);if(h>0)for(e.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(l),o.iushrn(1);for(var u=0,d=1;!(n.words[0]&d)&&u<26;++u,d<<=1);if(u>0)for(n.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a)):(n.isub(e),a.isub(o))}return(s=0===e.cmpn(1)?o:a).cmpn(0)<0&&s.iadd(t),s},r.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var n=0;e.isEven()&&i.isEven();n++)e.iushrn(1),i.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var r=e.cmp(i);if(r<0){var s=e;e=i,i=s}else if(0===r||0===i.cmpn(1))break;e.isub(i)}return i.iushln(n)},r.prototype.invm=function(t){return this.egcd(t).a.umod(t)},r.prototype.isEven=function(){return!(1&this.words[0])},r.prototype.isOdd=function(){return!(1&~this.words[0])},r.prototype.andln=function(t){return this.words[0]&t},r.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,n=(t-e)/26,r=1<<e;if(this.length<=n)return this.Tj(n+1),this.words[n]|=r,this;for(var s=r,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},r.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},r.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._j(),this.length>1)e=1;else{n&&(t=-t),i(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},r.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},r.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var n=0|this.words[i],r=0|t.words[i];if(n!==r){n<r?e=-1:n>r&&(e=1);break}}return e},r.prototype.gtn=function(t){return 1===this.cmpn(t)},r.prototype.gt=function(t){return 1===this.cmp(t)},r.prototype.gten=function(t){return this.cmpn(t)>=0},r.prototype.gte=function(t){return this.cmp(t)>=0},r.prototype.ltn=function(t){return-1===this.cmpn(t)},r.prototype.lt=function(t){return-1===this.cmp(t)},r.prototype.lten=function(t){return this.cmpn(t)<=0},r.prototype.lte=function(t){return this.cmp(t)<=0},r.prototype.eqn=function(t){return 0===this.cmpn(t)},r.prototype.eq=function(t){return 0===this.cmp(t)},r.red=function(t){return new E(t)},r.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this).Oj(t)},r.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype.Oj=function(t){return this.red=t,this},r.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this.Oj(t)},r.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},r.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},r.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},r.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},r.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},r.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red.zj(this,t),this.red.mul(this,t)},r.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red.zj(this,t),this.red.imul(this,t)},r.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red.Vj(this),this.red.sqr(this)},r.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red.Vj(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red.Vj(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red.Vj(this),this.red.invm(this)},r.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red.Vj(this),this.red.neg(this)},r.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red.Vj(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new r(e,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this.Nj()}function x(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"==typeof t){var e=r.Gj(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function w(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r.Ej(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype.Nj=function(){var t=new r(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,i=t;do{this.split(i,this.tmp),e=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:i.ucmp(this.p);return 0===n?(i.words[0]=0,i.length=1):n>0?i.isub(this.p):void 0!==i.strip?i.strip():i._j(),i},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},n(x,v),x.prototype.split=function(t,e){for(var i=4194303,n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(o&i)<<4|s>>>22,s=o}s>>>=22,t.words[r-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},x.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var n=0|t.words[i];e+=977*n,t.words[i]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(b,v),n(S,v),n(A,v),A.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var n=19*(0|t.words[i])+e,r=67108863&n;n>>>=26,t.words[i]=r,e=n}return 0!==e&&(t.words[t.length++]=e),t},r.Gj=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new x;else if("p224"===t)e=new b;else if("p192"===t)e=new S;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new A}return y[t]=e,e},E.prototype.Vj=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},E.prototype.zj=function(t,e){i(!(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t).Oj(this):(l(t,t.umod(this.m).Oj(this)),t)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t).Oj(this)},E.prototype.add=function(t,e){this.zj(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i.Oj(this)},E.prototype.iadd=function(t,e){this.zj(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},E.prototype.sub=function(t,e){this.zj(t,e);var i=t.sub(e);return i.cmpn(0)<0&&i.iadd(this.m),i.Oj(this)},E.prototype.isub=function(t,e){this.zj(t,e);var i=t.isub(e);return i.cmpn(0)<0&&i.iadd(this.m),i},E.prototype.shl=function(t,e){return this.Vj(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this.zj(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this.zj(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var n=this.m.add(new r(1)).iushrn(2);return this.pow(t,n)}for(var s=this.m.subn(1),o=0;!s.isZero()&&0===s.andln(1);)o++,s.iushrn(1);i(!s.isZero());var a=new r(1).toRed(this),l=a.redNeg(),h=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new r(2*c*c).toRed(this);0!==this.pow(c,h).cmp(l);)c.redIAdd(l);for(var u=this.pow(c,s),d=this.pow(t,s.addn(1).iushrn(1)),f=this.pow(t,s),g=o;0!==f.cmp(a);){for(var p=f,m=0;0!==p.cmp(a);m++)p=p.redSqr();i(m<g);var y=this.pow(u,new r(1).iushln(g-m-1));d=d.redMul(y),u=y.redSqr(),f=f.redMul(u),g=m}return d},E.prototype.invm=function(t){var e=t.Ej(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new r(1).toRed(this);if(0===e.cmpn(1))return t.clone();var i=new Array(16);i[0]=new r(1).toRed(this),i[1]=t;for(var n=2;n<i.length;n++)i[n]=this.mul(i[n-1],t);var s=i[0],o=0,a=0,l=e.bitLength()%26;for(0===l&&(l=26),n=e.length-1;n>=0;n--){for(var h=e.words[n],c=l-1;c>=0;c--){var u=h>>c&1;s!==i[0]&&(s=this.sqr(s)),0!==u||0!==o?(o<<=1,o|=u,(4==++a||0===n&&0===c)&&(s=this.mul(s,i[o]),a=0,o=0)):a=0}l=26}return s},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},r.mont=function(t){return new w(t)},n(w,E),w.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},w.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},w.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s.Oj(this)},w.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new r(0).Oj(this);var i=t.mul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(n).iushrn(this.shift),o=s;return s.cmp(this.m)>=0?o=s.isub(this.m):s.cmpn(0)<0&&(o=s.iadd(this.m)),o.Oj(this)},w.prototype.invm=function(t){return this.imod(t.Ej(this.m).mul(this.r2)).Oj(this)}}(0,oS);var lS=aS.exports;function hS(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];const i=[];if("string"!=typeof t){for(let e=0;e<t.length;e++)i[e]=0|t[e];return i}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0".concat(t));for(let e=0;e<t.length;e+=2)i.push(parseInt(t[e]+t[e+1],16))}else for(let n=0;n<t.length;n++){const e=t.charCodeAt(n),r=e>>8,s=255&e;r?i.push(r,s):i.push(s)}return i}const cS=function(t,e,i){const n=new Array(Math.max(t.bitLength(),i)+1);n.fill(0);const r=1<<e+1,s=t.clone();for(let o=0;o<n.length;o++){let t;const e=s.andln(r-1);s.isOdd()?(t=e>(r>>1)-1?(r>>1)-e:e,s.isubn(t)):t=0,n[o]=t,s.iushrn(1)}return n},uS=function(t,e){const i=[[],[]];t=t.clone(),e=e.clone();let n=0,r=0;for(;t.cmpn(-n)>0||e.cmpn(-r)>0;){let s,o,a=t.andln(3)+n&3,l=e.andln(3)+r&3;if(3===a&&(a=-1),3===l&&(l=-1),1&a){const e=t.andln(7)+n&7;s=3!==e&&5!==e||2!==l?a:-a}else s=0;if(i[0].push(s),1&l){const t=e.andln(7)+r&7;o=3!==t&&5!==t||2!==a?l:-l}else o=0;i[1].push(o),2*n===s+1&&(n=1-n),2*r===o+1&&(r=1-r),t.iushrn(1),e.iushrn(1)}return i};class dS{constructor(t,e){this.type=t,this.p=new lS(e.p,16),this.red=e.prime?lS.red(e.prime):lS.mont(this.p),this.zero=new lS(0).toRed(this.red),this.one=new lS(1).toRed(this.red),this.two=new lS(2).toRed(this.red),this.n=e.n&&new lS(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this.$j=new Array(4),this.Uj=new Array(4),this.Yj=new Array(4),this.jj=new Array(4),this.Hj=this.n?this.n.bitLength():0;const i=this.n&&this.p.div(this.n);!i||i.cmpn(100)>0?this.redN=null:(this.Wj=!0,this.redN=this.n.toRed(this.red))}Xj(t,e){const i=t.Zj(),n=cS(e,1,this.Hj);let r=(1<<i.step+1)-(i.step%2==0?2:1);r/=3;const s=[];for(let l=0;l<n.length;l+=i.step){let t=0;for(let e=l+i.step-1;e>=l;e--)t=(t<<1)+n[e];s.push(t)}let o=this.jpoint(null,null,null),a=this.jpoint(null,null,null);for(let l=r;l>0;l--){for(let t=0;t<s.length;t++){const e=s[t];e===l?a=a.mixedAdd(i.points[t]):e===-l&&(a=a.mixedAdd(i.points[t].neg()))}o=o.add(a)}return o.toP()}Jj(t,e){let i=4;const n=t.Qj(i);i=n.wnd;const r=n.points,s=cS(e,i,this.Hj);let o=this.jpoint(null,null,null);for(let a=s.length-1;a>=0;a--){for(let t=0;a>=0&&0===s[a];a--)t++;if(a>=0&&e++,o=o.dblp(e),a<0)break;const i=s[a];o="affine"===t.type?i>0?o.mixedAdd(r[i-1>>1]):o.mixedAdd(r[-i-1>>1].neg()):i>0?o.add(r[i-1>>1]):o.add(r[-i-1>>1].neg())}return"affine"===t.type?o.toP():o}Kj(t,e,i,n,r){const s=this.$j,o=this.Uj,a=this.Yj;let l=0;for(let u=0;u<n;u++){const i=e[u].Qj(t);s[u]=i.wnd,o[u]=i.points}for(let u=n-1;u>=1;u-=2){const t=u-1,n=u;if(1!==s[t]||1!==s[n]){a[t]=cS(i[t],s[t],this.Hj),a[n]=cS(i[n],s[n],this.Hj),l=Math.max(a[t].length,l),l=Math.max(a[n].length,l);continue}const r=[e[t],null,null,e[n]];0===e[t].y.cmp(e[n].y)?(r[1]=e[t].add(e[n]),r[2]=e[t].toJ().mixedAdd(e[n].neg())):0===e[t].y.cmp(e[n].y.redNeg())?(r[1]=e[t].toJ().mixedAdd(e[n]),r[2]=e[t].add(e[n].neg())):(r[1]=e[t].toJ().mixedAdd(e[n]),r[2]=e[t].toJ().mixedAdd(e[n].neg()));const h=[-3,-1,-5,-7,0,7,5,1,3],c=uS(i[t],i[n]);l=Math.max(c[0].length,l),a[t]=new Array(l),a[n]=new Array(l);for(let e=0;e<l;e++){const i=0|c[0][e],s=0|c[1][e];a[t][e]=h[3*(i+1)+(s+1)],a[n][e]=0,o[t]=r}}let h=this.jpoint(null,null,null);const c=this.jj;for(let u=l;u>=0;u--){let t=0;for(;u>=0;){let e=!0;for(let t=0;t<n;t++)c[t]=0|a[t][u],0!==c[t]&&(e=!1);if(!e)break;t++,u--}if(u>=0&&t++,h=h.dblp(t),u<0)break;for(let e=0;e<n;e++){const t=c[e];let i;0!==t&&(t>0?i=o[e][t-1>>1]:t<0&&(i=o[e][-t-1>>1].neg()),h="affine"===i.type?h.mixedAdd(i):h.add(i))}}for(let u=0;u<n;u++)o[u]=null;return r?h:h.toP()}decodePoint(t,e){t=hS(t,e);const i=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*i)return this.point(t.slice(1,1+i),t.slice(1+i,1+2*i));if((2===t[0]||3===t[0])&&t.length-1===i)return this.pointFromX(t.slice(1,1+i),3===t[0]);throw new Error("Unknown point format")}}class fS{constructor(t,e){this.curve=t,this.type=e,this.precomputed=null}eq(t){throw new Error("Not implemented")}validate(){return this.curve.validate(this)}encodeCompressed(t){return this.encode(t,!0)}qj(t){const e=this.curve.p.byteLength(),i=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",e))}encode(t,e){return function(t,e){return"hex"===e?function(t){let e="";for(let n=0;n<t.length;n++)e+=1===(i=t[n].toString(16)).length?"0".concat(i):i;var i;return e}(t):t}(this.qj(e),t)}precompute(t){if(this.precomputed)return this;const e={doubles:null,naf:null,beta:null};return e.naf=this.Qj(8),e.doubles=this.Zj(4,t),e.beta=this.tH(),this.precomputed=e,this}iH(t){if(!this.precomputed)return!1;const e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)}Zj(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;const i=[this];let n=this;for(let r=0;r<e;r+=t){for(let e=0;e<t;e++)n=n.dbl();i.push(n)}return{step:t,points:i}}Qj(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;const e=[this],i=(1<<t)-1,n=1===i?null:this.dbl();for(let r=1;r<i;r++)e[r]=e[r-1].add(n);return{wnd:t,points:e}}tH(){return null}dblp(t){let e=this;for(let i=0;i<t;i++)e=e.dbl();return e}}class gS extends dS{constructor(t){super("short",t),this.a=new lS(t.a,16).toRed(this.red),this.b=new lS(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this.sH(t),this.eH=new Array(4),this.hH=new Array(4)}pointFromJSON(t,e){return pS.fromJSON(this,t,e)}sH(t){if(!this.zeroA||!this.g||!this.n||1!==this.p.modn(3))return;let e,i,n;if(t.beta)e=new lS(t.beta,16).toRed(this.red);else{const t=this.rH(this.p);e=t[0].cmp(t[1])<0?t[0]:t[1],e=e.toRed(this.red)}if(t.lambda)i=new lS(t.lambda,16);else{const t=this.rH(this.n);i=0===this.g.mul(t[0]).x.cmp(this.g.x.redMul(e))?t[0]:t[1]}return n=t.basis?t.basis.map((t=>({a:new lS(t.a,16),b:new lS(t.b,16)}))):this.nH(i),{beta:e,lambda:i,basis:n}}rH(t){const e=t===this.p?this.red:lS.mont(t),i=new lS(2).toRed(e).redInvm(),n=i.redNeg(),r=new lS(3).toRed(e).redNeg().redSqrt().redMul(i);return[n.redAdd(r).fromRed(),n.redSub(r).fromRed()]}nH(t){const e=this.n.ushrn(Math.floor(this.n.bitLength()/2));let i,n,r,s,o,a,l,h,c,u=t,d=this.n.clone(),f=new lS(1),g=new lS(0),p=new lS(0),m=new lS(1),y=0;for(;0!==u.cmpn(0);){const t=d.div(u);h=d.sub(t.mul(u)),c=p.sub(t.mul(f));const o=m.sub(t.mul(g));if(!r&&h.cmp(e)<0)i=l.neg(),n=f,r=h.neg(),s=c;else if(r&&2==++y)break;l=h,d=u,u=h,p=f,f=c,m=g,g=o}o=h.neg(),a=c;const v=r.sqr().add(s.sqr());return o.sqr().add(a.sqr()).cmp(v)>=0&&(o=i,a=n),r.negative&&(r=r.neg(),s=s.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:r,b:s},{a:o,b:a}]}oH(t){const e=this.endo.basis,i=e[0],n=e[1],r=n.b.mul(t).divRound(this.n),s=i.b.neg().mul(t).divRound(this.n),o=r.mul(i.a),a=s.mul(n.a),l=r.mul(i.b),h=s.mul(n.b);return{k1:t.sub(o).sub(a),k2:l.add(h).neg()}}point(t,e,i){return new pS(this,t,e,i)}pointFromX(t,e){(t=new lS(t,16)).red||(t=t.toRed(this.red));const i=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b);let n=i.redSqrt();if(0!==n.redSqr().redSub(i).cmp(this.zero))throw new Error("invalid point");const r=n.fromRed().isOdd();return(e&&!r||!e&&r)&&(n=n.redNeg()),this.point(t,n)}validate(t){if(t.inf)return!0;const e=t.x,i=t.y,n=this.a.redMul(e),r=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===i.redSqr().redISub(r).cmpn(0)}aH(t,e,i){const n=this.eH,r=this.hH;let s=0;for(s=0;s<t.length;s++){const i=this.oH(e[s]);let o=t[s],a=o.tH();i.k1.negative&&(i.k1.ineg(),o=o.neg(!0)),i.k2.negative&&(i.k2.ineg(),a=a.neg(!0)),n[2*s]=o,n[2*s+1]=a,r[2*s]=i.k1,r[2*s+1]=i.k2}const o=this.Kj(1,n,r,2*s,i);for(let a=0;a<2*s;a++)n[a]=null,r[a]=null;return o}jpoint(t,e,i){return new mS(this,t,e,i)}}class pS extends fS{constructor(t,e,i,n){super(t,"affine"),null===e&&null===i?(this.x=null,this.y=null,this.inf=!0):(this.x=new lS(e,16),this.y=new lS(i,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}pointFromX(t,e){throw new Error("Method not implemented.")}point(t,e,i){return new pS(this,t,e,i)}tH(){if(!this.curve.endo)return;const t=this.precomputed;if(t&&t.beta)return t.beta;const e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){const i=this.curve,n=function(t){return i.point(t.x.redMul(i.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}toJSON(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]}static fromJSON(t,e,i){"string"==typeof e&&(e=JSON.parse(e));const n=t.point(e[0],e[1],i);if(!e[2])return n;function r(e){return t.point(e[0],e[1],i)}const s=e[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(r))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(r))}},n}inspect(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: ".concat(this.x.fromRed().toString(16,2)," y: ").concat(this.y.fromRed().toString(16,2),">")}isInfinity(){return this.inf}add(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);let e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));const i=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)}dbl(){if(this.inf)return this;const t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);const e=this.curve.a,i=this.x.redSqr(),n=t.redInvm(),r=i.redAdd(i).redIAdd(i).redIAdd(e).redMul(n),s=r.redSqr().redISub(this.x.redAdd(this.x)),o=r.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)}getX(){return this.x.fromRed()}getY(){return this.y.fromRed()}mul(t){return t=new lS(t,16),this.isInfinity()?this:this.iH(t)?this.curve.Xj(this,t):this.curve.endo?this.curve.aH([this],[t]):this.curve.Jj(this,t)}mulAdd(t,e,i){const n=[this,e],r=[t,i];return this.curve.endo?this.curve.aH(n,r):this.curve.Kj(1,n,r,2)}jmulAdd(t,e,i){const n=[this,e],r=[t,i];return this.curve.endo?this.curve.aH(n,r,!0):this.curve.Kj(1,n,r,2,!0)}eq(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))}neg(t){if(this.inf)return this;const e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){const t=this.precomputed,i=function(t){return t.neg()};e.precomputed={naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return e}toJ(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)}}class mS extends fS{constructor(t,e,i,n){super(t,"jacobian"),null===e&&null===i&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new lS(0)):(this.x=new lS(e,16),this.y=new lS(i,16),this.z=new lS(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}getY(){throw new Error("Method not implemented.")}getX(){throw new Error("Method not implemented.")}pointFromX(t,e){throw new Error("Method not implemented.")}point(t,e,i){throw new Error("Method not implemented.")}jpoint(t,e,i){return new mS(this,t,e,i)}toP(){if(this.isInfinity())return this.curve.point(null,null);const t=this.z.redInvm(),e=t.redSqr(),i=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(i,n)}neg(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)}add(t){if(this.isInfinity())return t;if(t.isInfinity())return this;const e=t.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(e),r=t.x.redMul(i),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(i.redMul(this.z)),a=n.redSub(r),l=s.redSub(o);if(0===a.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();const h=a.redSqr(),c=h.redMul(a),u=n.redMul(h),d=l.redSqr().redIAdd(c).redISub(u).redISub(u),f=l.redMul(u.redISub(d)).redISub(s.redMul(c)),g=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(d,f,g)}mixedAdd(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;const e=this.z.redSqr(),i=this.x,n=t.x.redMul(e),r=this.y,s=t.y.redMul(e).redMul(this.z),o=i.redSub(n),a=r.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();const l=o.redSqr(),h=l.redMul(o),c=i.redMul(l),u=a.redSqr().redIAdd(h).redISub(c).redISub(c),d=a.redMul(c.redISub(u)).redISub(r.redMul(h)),f=this.z.redMul(o);return this.curve.jpoint(u,d,f)}dblp(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){let e=this;for(let i=0;i<t;i++)e=e.dbl();return e}const e=this.curve.a,i=this.curve.tinv;let n=this.x;const r=this.y;let s=this.z,o=s.redSqr().redSqr(),a=r.redAdd(r);for(let l=0;l<t;l++){const i=n.redSqr(),r=a.redSqr(),h=r.redSqr(),c=i.redAdd(i).redIAdd(i).redIAdd(e.redMul(o)),u=n.redMul(r),d=c.redSqr().redISub(u.redAdd(u)),f=u.redISub(d);let g=c.redMul(f);g=g.redIAdd(g).redISub(h);const p=a.redMul(s);l+1<t&&(o=o.redMul(h)),n=d,s=p,a=g}return this.curve.jpoint(n,a.redMul(i),s)}dbl(){return this.isInfinity()?this:this.curve.zeroA?this.lH():this.curve.threeA?this.cH():this.uH()}lH(){let t,e,i;if(this.zOne){const n=this.x.redSqr(),r=this.y.redSqr(),s=r.redSqr();let o=this.x.redAdd(r).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);const a=n.redAdd(n).redIAdd(n),l=a.redSqr().redISub(o).redISub(o);let h=s.redIAdd(s);h=h.redIAdd(h),h=h.redIAdd(h),t=l,e=a.redMul(o.redISub(l)).redISub(h),i=this.y.redAdd(this.y)}else{const n=this.x.redSqr(),r=this.y.redSqr(),s=r.redSqr();let o=this.x.redAdd(r).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);const a=n.redAdd(n).redIAdd(n),l=a.redSqr();let h=s.redIAdd(s);h=h.redIAdd(h),h=h.redIAdd(h),t=l.redISub(o).redISub(o),e=a.redMul(o.redISub(t)).redISub(h),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(t,e,i)}cH(){let t,e,i;if(this.zOne){const n=this.x.redSqr(),r=this.y.redSqr(),s=r.redSqr();let o=this.x.redAdd(r).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);const a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),l=a.redSqr().redISub(o).redISub(o);t=l;let h=s.redIAdd(s);h=h.redIAdd(h),h=h.redIAdd(h),e=a.redMul(o.redISub(l)).redISub(h),i=this.y.redAdd(this.y)}else{const n=this.z.redSqr(),r=this.y.redSqr(),s=this.x.redMul(r);let o=this.x.redSub(n).redMul(this.x.redAdd(n));o=o.redAdd(o).redIAdd(o);let a=s.redIAdd(s);a=a.redIAdd(a);const l=a.redAdd(a);t=o.redSqr().redISub(l),i=this.y.redAdd(this.z).redSqr().redISub(r).redISub(n);let h=r.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h),e=o.redMul(a.redISub(t)).redISub(h)}return this.curve.jpoint(t,e,i)}uH(){const t=this.curve.a,e=this.x,i=this.y,n=this.z,r=n.redSqr().redSqr(),s=e.redSqr(),o=i.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(r));let l=e.redAdd(e);l=l.redIAdd(l);const h=l.redMul(o),c=a.redSqr().redISub(h.redAdd(h)),u=h.redISub(c);let d=o.redSqr();d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);const f=a.redMul(u).redISub(d),g=i.redAdd(i).redMul(n);return this.curve.jpoint(c,f,g)}trpl(){if(!this.curve.zeroA)return this.dbl().add(this);const t=this.x.redSqr(),e=this.y.redSqr(),i=this.z.redSqr(),n=e.redSqr(),r=t.redAdd(t).redIAdd(t),s=r.redSqr();let o=this.x.redAdd(e).redSqr().redISub(t).redISub(n);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);const a=o.redSqr();let l=n.redIAdd(n);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);const h=r.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(l);let c=e.redMul(h);c=c.redIAdd(c),c=c.redIAdd(c);let u=this.x.redMul(a).redISub(c);u=u.redIAdd(u),u=u.redIAdd(u);let d=this.y.redMul(h.redMul(l.redISub(h)).redISub(o.redMul(a)));d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);const f=this.z.redAdd(o).redSqr().redISub(i).redISub(a);return this.curve.jpoint(u,d,f)}mul(t,e){return t=new lS(t,e),this.curve.Jj(this,t)}eq(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;const e=this.z.redSqr(),i=t.z.redSqr();if(0!==this.x.redMul(i).redISub(t.x.redMul(e)).cmpn(0))return!1;const n=e.redMul(this.z),r=i.redMul(t.z);return 0===this.y.redMul(r).redISub(t.y.redMul(n)).cmpn(0)}eqXToP(t){const e=this.z.redSqr(),i=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(i))return!0;const n=t.clone(),r=this.curve.redN.redMul(e);for(;;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(r),0===this.x.cmp(i))return!0}}inspect(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: ".concat(this.x.toString(16,2)," y: ").concat(this.y.toString(16,2)," z: ").concat(this.z.toString(16,2),">")}isInfinity(){return 0===this.z.cmpn(0)}}class yS{constructor(t){this.curve=new gS(t),this.g=this.curve.g,this.n=this.curve.n}}const vS={};var xS,bS;vS.PresetCurve=yS,xS="secp256k1",bS={type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",{doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}]},Object.defineProperty(vS,xS,{configurable:!0,enumerable:!0,get(){const t=new yS(bS);return Object.defineProperty(vS,xS,{configurable:!0,enumerable:!0,value:t}),t}});class SS{constructor(t,e){this.ec=t,this.priv=null,this.pub=null,e.pub&&this.dH(e.pub,e.pubEnc)}static fromPublic(t,e,i){return e instanceof SS?e:new SS(t,{pub:e,pubEnc:i})}validate(){const t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}}getPublic(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub}dH(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type||"short"===this.ec.curve.type||this.ec.curve.type,void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)}verify(t,e){return this.ec.verify(t,e,this)}}function AS(t,e){const i=t[e.place++];if(!(128&i))return i;const n=15&i;if(0===n||n>4)return!1;let r=0,s=e.place;for(let o=0;o<n;o++,s++)r<<=8,r|=t[s],r>>>=0;return!(r<=127)&&(e.place=s,r)}class ES{constructor(){this.place=0}}class wS{constructor(t,e){if(t instanceof wS)return t;this.fH(t,e)||(this.r=new lS(t.r,16),this.s=new lS(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}fH(t,e){t=hS(t,e);const i=new ES;if(48!==t[i.place++])return!1;const n=AS(t,i);if(!1===n)return!1;if(n+i.place!==t.length)return!1;if(2!==t[i.place++])return!1;const r=AS(t,i);if(!1===r)return!1;let s=t.slice(i.place,r+i.place);if(i.place+=r,2!==t[i.place++])return!1;const o=AS(t,i);if(!1===o)return!1;if(t.length!==o+i.place)return!1;let a=t.slice(i.place,o+i.place);if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new lS(s),this.s=new lS(a),this.recoveryParam=null,!0}}class kS{constructor(t){if(!(this instanceof kS))return new kS(t);"string"==typeof t&&(t=vS[t]),t instanceof vS.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1)}keyFromPublic(t,e){return SS.fromPublic(this,t,e)}AH(t,e){const i=8*t.byteLength()-this.n.bitLength();return i>0&&(t=t.ushrn(i)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t}verify(t,e,i,n){t=this.AH(new lS(t,16)),i=this.keyFromPublic(i,n);const r=(e=new wS(e,"hex")).r,s=e.s;if(r.cmpn(1)<0||r.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;const o=s.invm(this.n),a=o.mul(t).umod(this.n),l=o.mul(r).umod(this.n);if(!this.curve.Wj){const t=this.g.mulAdd(a,i.getPublic(),l);return!t.isInfinity()&&0===t.getX().umod(this.n).cmp(r)}const h=this.g.jmulAdd(a,i.getPublic(),l);return!h.isInfinity()&&h.eqXToP(r)}}var CS,MS={exports:{}},TS={exports:{}};TS.exports=(CS=CS||function(t,e){var i;if("undefined"!=typeof window&&window.crypto&&(i=window.crypto),"undefined"!=typeof self&&self.crypto&&(i=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&"undefined"!=typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&void 0!==oS&&oS.crypto&&(i=oS.crypto),!i)try{i=e}catch(t){}var n=function(){if(i){if("function"==typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function t(){}return function(e){var i;return t.prototype=e,i=new t,t.prototype=null,i}}(),s={},o=s.lib={},a=o.Base={extend:function(t){var e=r(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},l=o.WordArray=a.extend({init:function(t,i){t=this.words=t||[],this.sigBytes=i!=e?i:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,i=t.words,n=this.sigBytes,r=t.sigBytes;if(this.clamp(),n%4)for(var s=0;s<r;s++){var o=i[s>>>2]>>>24-s%4*8&255;e[n+s>>>2]|=o<<24-(n+s)%4*8}else for(var a=0;a<r;a+=4)e[n+a>>>2]=i[a>>>2];return this.sigBytes+=r,this},clamp:function(){var e=this.words,i=this.sigBytes;e[i>>>2]&=4294967295<<32-i%4*8,e.length=t.ceil(i/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],i=0;i<t;i+=4)e.push(n());return new l.init(e,t)}}),h=s.enc={},c=h.Hex={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],r=0;r<i;r++){var s=e[r>>>2]>>>24-r%4*8&255;n.push((s>>>4).toString(16)),n.push((15&s).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n+=2)i[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new l.init(i,e/2)}},u=h.Latin1={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],r=0;r<i;r++){var s=e[r>>>2]>>>24-r%4*8&255;n.push(String.fromCharCode(s))}return n.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n++)i[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new l.init(i,e)}},d=h.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},f=o.BufferedBlockAlgorithm=a.extend({reset:function(){this.iM=new l.init,this.gH=0},vH:function(t){"string"==typeof t&&(t=d.parse(t)),this.iM.concat(t),this.gH+=t.sigBytes},yH:function(e){var i,n=this.iM,r=n.words,s=n.sigBytes,o=this.blockSize,a=s/(4*o),h=(a=e?t.ceil(a):t.max((0|a)-this.pH,0))*o,c=t.min(4*h,s);if(h){for(var u=0;u<h;u+=o)this.mH(r,u);i=r.splice(0,h),n.sigBytes-=c}return new l.init(i,c)},clone:function(){var t=a.clone.call(this);return t.iM=this.iM.clone(),t},pH:0});o.Hasher=f.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this.SH()},update:function(t){return this.vH(t),this.yH(),this},finalize:function(t){return t&&this.vH(t),this.bH()},blockSize:16,xH:function(t){return function(e,i){return new t.init(i).finalize(e)}},MH:function(t){return function(e,i){return new g.HMAC.init(t,i).finalize(e)}}});var g=s.algo={};return s}(Math),CS);var PS={exports:{}};PS.exports=function(t){return function(e){var i=t,n=i.lib,r=n.WordArray,s=n.Hasher,o=i.algo,a=[],l=[];!function(){function t(t){for(var i=e.sqrt(t),n=2;n<=i;n++)if(!(t%n))return!1;return!0}function i(t){return 4294967296*(t-(0|t))|0}for(var n=2,r=0;r<64;)t(n)&&(r<8&&(a[r]=i(e.pow(n,.5))),l[r]=i(e.pow(n,1/3)),r++),n++}();var h=[],c=o.SHA256=s.extend({SH:function(){this.wH=new r.init(a.slice(0))},mH:function(t,e){for(var i=this.wH.words,n=i[0],r=i[1],s=i[2],o=i[3],a=i[4],c=i[5],u=i[6],d=i[7],f=0;f<64;f++){if(f<16)h[f]=0|t[e+f];else{var g=h[f-15],p=(g<<25|g>>>7)^(g<<14|g>>>18)^g>>>3,m=h[f-2],y=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;h[f]=p+h[f-7]+y+h[f-16]}var v=n&r^n&s^r&s,x=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),b=d+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&c^~a&u)+l[f]+h[f];d=u,u=c,c=a,a=o+b|0,o=s,s=r,r=n,n=b+(x+v)|0}i[0]=i[0]+n|0,i[1]=i[1]+r|0,i[2]=i[2]+s|0,i[3]=i[3]+o|0,i[4]=i[4]+a|0,i[5]=i[5]+c|0,i[6]=i[6]+u|0,i[7]=i[7]+d|0},bH:function(){var t=this.iM,i=t.words,n=8*this.gH,r=8*t.sigBytes;return i[r>>>5]|=128<<24-r%32,i[14+(r+64>>>9<<4)]=e.floor(n/4294967296),i[15+(r+64>>>9<<4)]=n,t.sigBytes=4*i.length,this.yH(),this.wH},clone:function(){var t=s.clone.call(this);return t.wH=this.wH.clone(),t}});i.SHA256=s.xH(c),i.HmacSHA256=s.MH(c)}(Math),t.SHA256}(TS.exports);var FS=PS.exports;MS.exports=function(t){return i=(e=t).lib.WordArray,n=e.algo,r=n.SHA256,s=n.SHA224=r.extend({SH:function(){this.wH=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},bH:function(){var t=r.bH.call(this);return t.sigBytes-=4,t}}),e.SHA224=r.xH(s),e.HmacSHA224=r.MH(s),t.SHA224;var e,i,n,r,s}(TS.exports);var LS=MS.exports,RS={exports:{}};RS.exports=TS.exports.enc.Hex;var BS=RS.exports,zS={exports:{}};zS.exports=TS.exports.enc.Utf8;var IS,DS,VS,_S=zS.exports,NS={exports:{}};!function(t){return i=(e=t).lib.WordArray,e.enc.Base64={stringify:function(t){var e=t.words,i=t.sigBytes,n=this._H;t.clamp();for(var r=[],s=0;s<i;s+=3)for(var o=(e[s>>>2]>>>24-s%4*8&255)<<16|(e[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|e[s+2>>>2]>>>24-(s+2)%4*8&255,a=0;a<4&&s+.75*a<i;a++)r.push(n.charAt(o>>>6*(3-a)&63));var l=n.charAt(64);if(l)for(;r.length%4;)r.push(l);return r.join("")},parse:function(t){var e=t.length,n=this._H,r=this.kH;if(!r){r=this.kH=[];for(var s=0;s<n.length;s++)r[n.charCodeAt(s)]=s}var o=n.charAt(64);if(o){var a=t.indexOf(o);-1!==a&&(e=a)}return function(t,e,n){for(var r=[],s=0,o=0;o<e;o++)if(o%4){var a=n[t.charCodeAt(o-1)]<<o%4*2|n[t.charCodeAt(o)]>>>6-o%4*2;r[s>>>2]|=a<<24-s%4*8,s++}return i.create(r,s)}(t,e,r)},_H:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},t.enc.Base64;var e,i}(TS.exports),function(t){(function(e){var i=t,n=i.lib,r=n.WordArray,s=n.Hasher,o=i.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=o.MD5=s.extend({SH:function(){this.wH=new r.init([1732584193,4023233417,2562383102,271733878])},mH:function(t,e){for(var i=0;i<16;i++){var n=e+i,r=t[n];t[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var s=this.wH.words,o=t[e+0],l=t[e+1],f=t[e+2],g=t[e+3],p=t[e+4],m=t[e+5],y=t[e+6],v=t[e+7],x=t[e+8],b=t[e+9],S=t[e+10],A=t[e+11],E=t[e+12],w=t[e+13],k=t[e+14],C=t[e+15],M=s[0],T=s[1],P=s[2],F=s[3];M=h(M,T,P,F,o,7,a[0]),F=h(F,M,T,P,l,12,a[1]),P=h(P,F,M,T,f,17,a[2]),T=h(T,P,F,M,g,22,a[3]),M=h(M,T,P,F,p,7,a[4]),F=h(F,M,T,P,m,12,a[5]),P=h(P,F,M,T,y,17,a[6]),T=h(T,P,F,M,v,22,a[7]),M=h(M,T,P,F,x,7,a[8]),F=h(F,M,T,P,b,12,a[9]),P=h(P,F,M,T,S,17,a[10]),T=h(T,P,F,M,A,22,a[11]),M=h(M,T,P,F,E,7,a[12]),F=h(F,M,T,P,w,12,a[13]),P=h(P,F,M,T,k,17,a[14]),M=c(M,T=h(T,P,F,M,C,22,a[15]),P,F,l,5,a[16]),F=c(F,M,T,P,y,9,a[17]),P=c(P,F,M,T,A,14,a[18]),T=c(T,P,F,M,o,20,a[19]),M=c(M,T,P,F,m,5,a[20]),F=c(F,M,T,P,S,9,a[21]),P=c(P,F,M,T,C,14,a[22]),T=c(T,P,F,M,p,20,a[23]),M=c(M,T,P,F,b,5,a[24]),F=c(F,M,T,P,k,9,a[25]),P=c(P,F,M,T,g,14,a[26]),T=c(T,P,F,M,x,20,a[27]),M=c(M,T,P,F,w,5,a[28]),F=c(F,M,T,P,f,9,a[29]),P=c(P,F,M,T,v,14,a[30]),M=u(M,T=c(T,P,F,M,E,20,a[31]),P,F,m,4,a[32]),F=u(F,M,T,P,x,11,a[33]),P=u(P,F,M,T,A,16,a[34]),T=u(T,P,F,M,k,23,a[35]),M=u(M,T,P,F,l,4,a[36]),F=u(F,M,T,P,p,11,a[37]),P=u(P,F,M,T,v,16,a[38]),T=u(T,P,F,M,S,23,a[39]),M=u(M,T,P,F,w,4,a[40]),F=u(F,M,T,P,o,11,a[41]),P=u(P,F,M,T,g,16,a[42]),T=u(T,P,F,M,y,23,a[43]),M=u(M,T,P,F,b,4,a[44]),F=u(F,M,T,P,E,11,a[45]),P=u(P,F,M,T,C,16,a[46]),M=d(M,T=u(T,P,F,M,f,23,a[47]),P,F,o,6,a[48]),F=d(F,M,T,P,v,10,a[49]),P=d(P,F,M,T,k,15,a[50]),T=d(T,P,F,M,m,21,a[51]),M=d(M,T,P,F,E,6,a[52]),F=d(F,M,T,P,g,10,a[53]),P=d(P,F,M,T,S,15,a[54]),T=d(T,P,F,M,l,21,a[55]),M=d(M,T,P,F,x,6,a[56]),F=d(F,M,T,P,C,10,a[57]),P=d(P,F,M,T,y,15,a[58]),T=d(T,P,F,M,w,21,a[59]),M=d(M,T,P,F,p,6,a[60]),F=d(F,M,T,P,A,10,a[61]),P=d(P,F,M,T,f,15,a[62]),T=d(T,P,F,M,b,21,a[63]),s[0]=s[0]+M|0,s[1]=s[1]+T|0,s[2]=s[2]+P|0,s[3]=s[3]+F|0},bH:function(){var t=this.iM,i=t.words,n=8*this.gH,r=8*t.sigBytes;i[r>>>5]|=128<<24-r%32;var s=e.floor(n/4294967296),o=n;i[15+(r+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),i[14+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(i.length+1),this.yH();for(var a=this.wH,l=a.words,h=0;h<4;h++){var c=l[h];l[h]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return a},clone:function(){var t=s.clone.call(this);return t.wH=this.wH.clone(),t}});function h(t,e,i,n,r,s,o){var a=t+(e&i|~e&n)+r+o;return(a<<s|a>>>32-s)+e}function c(t,e,i,n,r,s,o){var a=t+(e&n|i&~n)+r+o;return(a<<s|a>>>32-s)+e}function u(t,e,i,n,r,s,o){var a=t+(e^i^n)+r+o;return(a<<s|a>>>32-s)+e}function d(t,e,i,n,r,s,o){var a=t+(i^(e|~n))+r+o;return(a<<s|a>>>32-s)+e}i.MD5=s.xH(l),i.HmacMD5=s.MH(l)})(Math),t.MD5}(TS.exports),function(t){return i=(e=t).lib,n=i.WordArray,r=i.Hasher,s=e.algo,o=[],a=s.SHA1=r.extend({SH:function(){this.wH=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},mH:function(t,e){for(var i=this.wH.words,n=i[0],r=i[1],s=i[2],a=i[3],l=i[4],h=0;h<80;h++){if(h<16)o[h]=0|t[e+h];else{var c=o[h-3]^o[h-8]^o[h-14]^o[h-16];o[h]=c<<1|c>>>31}var u=(n<<5|n>>>27)+l+o[h];u+=h<20?1518500249+(r&s|~r&a):h<40?1859775393+(r^s^a):h<60?(r&s|r&a|s&a)-1894007588:(r^s^a)-899497514,l=a,a=s,s=r<<30|r>>>2,r=n,n=u}i[0]=i[0]+n|0,i[1]=i[1]+r|0,i[2]=i[2]+s|0,i[3]=i[3]+a|0,i[4]=i[4]+l|0},bH:function(){var t=this.iM,e=t.words,i=8*this.gH,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(i/4294967296),e[15+(n+64>>>9<<4)]=i,t.sigBytes=4*e.length,this.yH(),this.wH},clone:function(){var t=r.clone.call(this);return t.wH=this.wH.clone(),t}}),e.SHA1=r.xH(a),e.HmacSHA1=r.MH(a),t.SHA1;var e,i,n,r,s,o,a}(TS.exports),DS=(IS=TS.exports).lib.Base,VS=IS.enc.Utf8,IS.algo.HMAC=DS.extend({init:function(t,e){t=this.CH=new t.init,"string"==typeof e&&(e=VS.parse(e));var i=t.blockSize,n=4*i;e.sigBytes>n&&(e=t.finalize(e)),e.clamp();for(var r=this.TH=e.clone(),s=this.FH=e.clone(),o=r.words,a=s.words,l=0;l<i;l++)o[l]^=1549556828,a[l]^=909522486;r.sigBytes=s.sigBytes=n,this.reset()},reset:function(){var t=this.CH;t.reset(),t.update(this.FH)},update:function(t){return this.CH.update(t),this},finalize:function(t){var e=this.CH,i=e.finalize(t);return e.reset(),e.finalize(this.TH.clone().concat(i))}}),function(t){return n=(i=(e=t).lib).Base,r=i.WordArray,o=(s=e.algo).MD5,a=s.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:o,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var i,n=this.cfg,s=n.hasher.create(),o=r.create(),a=o.words,l=n.keySize,h=n.iterations;a.length<l;){i&&s.update(i),i=s.update(t).finalize(e),s.reset();for(var c=1;c<h;c++)i=s.finalize(i),s.reset();o.concat(i)}return o.sigBytes=4*l,o}}),e.EvpKDF=function(t,e,i){return a.create(i).compute(t,e)},t.EvpKDF;var e,i,n,r,s,o,a}(TS.exports),function(t){t.lib.Cipher||function(){var e=t,i=e.lib,n=i.Base,r=i.WordArray,s=i.BufferedBlockAlgorithm,o=e.enc;o.Utf8;var a=o.Base64,l=e.algo.EvpKDF,h=i.Cipher=s.extend({cfg:n.extend(),createEncryptor:function(t,e){return this.create(this.IH,t,e)},createDecryptor:function(t,e){return this.create(this.PH,t,e)},init:function(t,e,i){this.cfg=this.cfg.extend(i),this.LH=t,this.BH=e,this.reset()},reset:function(){s.reset.call(this),this.SH()},process:function(t){return this.vH(t),this.yH()},finalize:function(t){return t&&this.vH(t),this.bH()},keySize:4,ivSize:4,IH:1,PH:2,xH:function(){function t(t){return"string"==typeof t?v:m}return function(e){return{encrypt:function(i,n,r){return t(n).encrypt(e,i,n,r)},decrypt:function(i,n,r){return t(n).decrypt(e,i,n,r)}}}}()});i.StreamCipher=h.extend({bH:function(){return this.yH(!0)},blockSize:1});var c=e.mode={},u=i.BlockCipherMode=n.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this.DH=t,this.RH=e}}),d=c.CBC=function(){var t=u.extend();function e(t,e,i){var n,r=this.RH;r?(n=r,this.RH=void 0):n=this.EH;for(var s=0;s<i;s++)t[e+s]^=n[s]}return t.Encryptor=t.extend({processBlock:function(t,i){var n=this.DH,r=n.blockSize;e.call(this,t,i,r),n.encryptBlock(t,i),this.EH=t.slice(i,i+r)}}),t.Decryptor=t.extend({processBlock:function(t,i){var n=this.DH,r=n.blockSize,s=t.slice(i,i+r);n.decryptBlock(t,i),e.call(this,t,i,r),this.EH=s}}),t}(),f=(e.pad={}).Pkcs7={pad:function(t,e){for(var i=4*e,n=i-t.sigBytes%i,s=n<<24|n<<16|n<<8|n,o=[],a=0;a<n;a+=4)o.push(s);var l=r.create(o,n);t.concat(l)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}};i.BlockCipher=h.extend({cfg:h.cfg.extend({mode:d,padding:f}),reset:function(){var t;h.reset.call(this);var e=this.cfg,i=e.iv,n=e.mode;this.LH==this.IH?t=n.createEncryptor:(t=n.createDecryptor,this.pH=1),this.OH&&this.OH.zH==t?this.OH.init(this,i&&i.words):(this.OH=t.call(n,this,i&&i.words),this.OH.zH=t)},mH:function(t,e){this.OH.processBlock(t,e)},bH:function(){var t,e=this.cfg.padding;return this.LH==this.IH?(e.pad(this.iM,this.blockSize),t=this.yH(!0)):(t=this.yH(!0),e.unpad(t)),t},blockSize:4});var g=i.CipherParams=n.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),p=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,i=t.salt;return(i?r.create([1398893684,1701076831]).concat(i).concat(e):e).toString(a)},parse:function(t){var e,i=a.parse(t),n=i.words;return 1398893684==n[0]&&1701076831==n[1]&&(e=r.create(n.slice(2,4)),n.splice(0,4),i.sigBytes-=16),g.create({ciphertext:i,salt:e})}},m=i.SerializableCipher=n.extend({cfg:n.extend({format:p}),encrypt:function(t,e,i,n){n=this.cfg.extend(n);var r=t.createEncryptor(i,n),s=r.finalize(e),o=r.cfg;return g.create({ciphertext:s,key:i,iv:o.iv,algorithm:t,mode:o.mode,padding:o.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,i,n){return n=this.cfg.extend(n),e=this.VH(e,n.format),t.createDecryptor(i,n).finalize(e.ciphertext)},VH:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),y=(e.kdf={}).OpenSSL={execute:function(t,e,i,n){n||(n=r.random(8));var s=l.create({keySize:e+i}).compute(t,n),o=r.create(s.words.slice(e),4*i);return s.sigBytes=4*e,g.create({key:s,iv:o,salt:n})}},v=i.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:y}),encrypt:function(t,e,i,n){var r=(n=this.cfg.extend(n)).kdf.execute(i,t.keySize,t.ivSize);n.iv=r.iv;var s=m.encrypt.call(this,t,e,r.key,n);return s.mixIn(r),s},decrypt:function(t,e,i,n){n=this.cfg.extend(n),e=this.VH(e,n.format);var r=n.kdf.execute(i,t.keySize,t.ivSize,e.salt);return n.iv=r.iv,m.decrypt.call(this,t,e,r.key,n)}})}()}(TS.exports),NS.exports=function(t){return function(){var e=t,i=e.lib.BlockCipher,n=e.algo,r=[],s=[],o=[],a=[],l=[],h=[],c=[],u=[],d=[],f=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var i=0,n=0;for(e=0;e<256;e++){var g=n^n<<1^n<<2^n<<3^n<<4;g=g>>>8^255&g^99,r[i]=g,s[g]=i;var p=t[i],m=t[p],y=t[m],v=257*t[g]^16843008*g;o[i]=v<<24|v>>>8,a[i]=v<<16|v>>>16,l[i]=v<<8|v>>>24,h[i]=v,v=16843009*y^65537*m^257*p^16843008*i,c[g]=v<<24|v>>>8,u[g]=v<<16|v>>>16,d[g]=v<<8|v>>>24,f[g]=v,i?(i=p^t[t[t[y^p]]],n^=t[t[n]]):i=n=1}}();var g=[0,1,2,4,8,16,32,64,128,27,54],p=n.AES=i.extend({SH:function(){if(!this.NH||this.GH!==this.BH){for(var t=this.GH=this.BH,e=t.words,i=t.sigBytes/4,n=4*((this.NH=i+6)+1),s=this.$H=[],o=0;o<n;o++)o<i?s[o]=e[o]:(h=s[o-1],o%i?i>6&&o%i==4&&(h=r[h>>>24]<<24|r[h>>>16&255]<<16|r[h>>>8&255]<<8|r[255&h]):(h=r[(h=h<<8|h>>>24)>>>24]<<24|r[h>>>16&255]<<16|r[h>>>8&255]<<8|r[255&h],h^=g[o/i|0]<<24),s[o]=s[o-i]^h);for(var a=this.UH=[],l=0;l<n;l++){if(o=n-l,l%4)var h=s[o];else h=s[o-4];a[l]=l<4||o<=4?h:c[r[h>>>24]]^u[r[h>>>16&255]]^d[r[h>>>8&255]]^f[r[255&h]]}}},encryptBlock:function(t,e){this.YH(t,e,this.$H,o,a,l,h,r)},decryptBlock:function(t,e){var i=t[e+1];t[e+1]=t[e+3],t[e+3]=i,this.YH(t,e,this.UH,c,u,d,f,s),i=t[e+1],t[e+1]=t[e+3],t[e+3]=i},YH:function(t,e,i,n,r,s,o,a){for(var l=this.NH,h=t[e]^i[0],c=t[e+1]^i[1],u=t[e+2]^i[2],d=t[e+3]^i[3],f=4,g=1;g<l;g++){var p=n[h>>>24]^r[c>>>16&255]^s[u>>>8&255]^o[255&d]^i[f++],m=n[c>>>24]^r[u>>>16&255]^s[d>>>8&255]^o[255&h]^i[f++],y=n[u>>>24]^r[d>>>16&255]^s[h>>>8&255]^o[255&c]^i[f++],v=n[d>>>24]^r[h>>>16&255]^s[c>>>8&255]^o[255&u]^i[f++];h=p,c=m,u=y,d=v}p=(a[h>>>24]<<24|a[c>>>16&255]<<16|a[u>>>8&255]<<8|a[255&d])^i[f++],m=(a[c>>>24]<<24|a[u>>>16&255]<<16|a[d>>>8&255]<<8|a[255&h])^i[f++],y=(a[u>>>24]<<24|a[d>>>16&255]<<16|a[h>>>8&255]<<8|a[255&c])^i[f++],v=(a[d>>>24]<<24|a[h>>>16&255]<<16|a[c>>>8&255]<<8|a[255&u])^i[f++],t[e]=p,t[e+1]=m,t[e+2]=y,t[e+3]=v},keySize:8});e.AES=i.xH(p)}(),t.AES}(TS.exports);var OS=NS.exports,HS={exports:{}};HS.exports=function(t){return t.mode.CTR=(i=(e=t.lib.BlockCipherMode.extend()).Encryptor=e.extend({processBlock:function(t,e){var i=this.DH,n=i.blockSize,r=this.RH,s=this.jH;r&&(s=this.jH=r.slice(0),this.RH=void 0);var o=s.slice(0);i.encryptBlock(o,0),s[n-1]=s[n-1]+1|0;for(var a=0;a<n;a++)t[e+a]^=o[a]}}),e.Decryptor=i,e),t.mode.CTR;var e,i}(TS.exports);var US=HS.exports,YS={exports:{}};YS.exports=function(t){return function(){if("function"==typeof ArrayBuffer){var e=t.lib.WordArray,i=e.init,n=e.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var e=t.byteLength,n=[],r=0;r<e;r++)n[r>>>2]|=t[r]<<24-r%4*8;i.call(this,n,e)}else i.apply(this,arguments)};n.prototype=e}}(),t.lib.WordArray}(TS.exports);var GS=YS.exports,jS={exports:{}};jS.exports=function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding}(TS.exports);var XS=jS.exports;const WS="aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vanMtY2hhcnRzL2RvY3MvbGljZW5zZXMvYXBwLWRlcGxveW1lbnQv",ZS=9e5,qS={"-4":["MDQxMmQ1MWU5MjFhYTMzODUwMWE4ZGYzN2ViZTE4NTU3ZDViYmRlZDg1Yzk0OGI3YTJkMDBmZTNhZGVlMjdjY2VmNzBiMWVlOWI3MDZjMTIwYTAzZDZlZTNkNmYyOTc5Y2E2NGEzN2Y3YjY4N2E1ZjljZWY2ODYxN2I1NWU5ZmJjMA=="],"-3":["MjAyNTA4MDY="],"-2":["aHR0cHM6Ly9qc2xpY2Vuc2luZy5saWdodG5pbmdjaGFydC5jb20vc2Vzc2lvbg==","aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vanMtY2hhcnRzL2RvY3MvdHJvdWJsZXNob290aW5nL3Jlc3RyaWN0ZWQtZmVhdHVyZXMv","aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vanMtY2hhcnRzLw==","aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vcHl0aG9uLWNoYXJ0cy8="],"-1":["WE1MSHR0cFJlcXVlc3Q=","ZG9jdW1lbnQ=","ZGVmYXVsdFZpZXc=","YQ==","Yg==","bGljZW5zZV9leHBpcmF0aW9uX2RhdGU=","bG9jYXRpb24=","aG9zdG5hbWU=","dGVzdF9kb21haW4=","ZG9tYWlucw==","Y3J5cHRv","U2lnbmF0dXJl","RUNEU0E=","U0hBMjI0d2l0aEVDRFNB","YWxn","Y3VydmU=","c2VjcDI1Nmsx","YWRkRXZlbnRMaXN0ZW5lcg==","cmVtb3ZlRXZlbnRMaXN0ZW5lcg==","bG9hZGVuZA==","ZXJyb3I=","YWJvcnQ=","dGltZW91dA==","cmVzcG9uc2VUZXh0","Q29udGVudC1UeXBl","YXBwbGljYXRpb24vanNvbg==","TWVzc2FnZURpZ2VzdA==","c2hhMjU2","Y3J5cHRvanM=","dXBkYXRlU3RyaW5n","ZGlnZXN0","Y29tcGFueQ==","YXBwVGl0bGU=","bGNqcy1zZXNzaW9u","bG9jYWxTdG9yYWdl","Z2V0SXRlbQ==","c2V0SXRlbQ==","ZA==","dA==","bGNqcy1zZXNzaW9uLTI=","aG9zdA==","dG9w"],0:["TGljZW5zZQ==","IA==","a2V5","aGFz","ZXhwaXJlZA==","Lg==","dmVyc2lvbg==","aXM=","dG9v","bmV3","b2xk","b3I=","aW52YWxpZA==","MDAwMQ==","SW52YWxpZA==","bnVtYmVy","b2Y=","ZG9tYWlucw==","ZGVwbG95bWVudA==","aW4=","ZG9tYWlu","RGVwbG95bWVudA==","ZG9tYWlu","dmFsaWRhdGlvbg==","ZmFpbGVk","Og==","UE9TVA==","c2VydmVy","cmVzcG9uZGVk","d2l0aA==","dW5leHBlY3RlZA==","dmFsdWU=","cmVxdWVzdA==","VEVTVA==","REVQTE9ZTUVOVA==","S2V5","VGFtcGVyaW5n","YmVlbg==","ZGV0ZWN0ZWQ=","TWlzc2luZw==","TGljZW5zZQ==","aW5mb3JtYXRpb24=","ZG9lcw==","bm90","aW5jbHVkZQ==","cGVybWlzc2lvbg==","dG8=","dXNl","Q2hhcnQ=","M0Q=","WFk=","RGF0YUdyaWQ=","TWFw","UG9sYXI=","RnVubmVs","R2F1Z2U=","UGll","UHlyYW1pZA==","U3BpZGVy","Zm9y","dGhpcw==","VHJhZGluZw==","ZmVhdHVyZXM=","Q2xpY2s=","aGVyZQ==","bW9yZQ==","c3VwcGxpZWQ=","Z2V0","bGljZW5zZQ==","VHJlZQ==","dW5leHBlY3RlZA==","ZXJyb3I="],1:["aHR0cHM6Ly9qc2xpY2Vuc2luZy5saWdodG5pbmdjaGFydC5jb20vc2FuZGJveA==","aHR0cHM6Ly9qc2xpY2Vuc2luZy5saWdodG5pbmdjaGFydC5jb20vcGx1Z2lu"]},JS=jr,KS=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.slice(1).reduce(((t,i)=>t+JS.atob(qS[e[0]][i].toString())),"")};let QS,$S,tA,eA=new Uint8Array([]);const iA=t=>t&&"cGx1Z2lu"in t&&"cHl0aG9u"===t.cGx1Z2lu?KS(-2,3):KS(-2,2);class nA{set e(t){QS=t}get e(){$S={fo:!1,Ao:!1,vo:!1,yo:!1,po:!1,mo:!1,So:!1,bo:!1,xo:!1,Mo:!1,wo:!1,_o:!1,ko:!1,Co:!1,To:!1,Fo:!1,Io:!1,Po:!1,Lo:!1,Bo:!1,Do:!1,Ro:!1,Eo:!1,Oo:!1,zo:!1,Vo:!1};const t=eA.length,e=t>=1?eA[0]:void 0,i=t>=2?eA[1]:void 0,n=t>=3?eA[2]:void 0,r=t>=4?eA[3]:void 0;return void 0!==e&&($S.fo=!!(1&e),$S.Ao=!!(2&e),$S.vo=!!(4&e),$S.yo=!!(8&e),$S.po=!!(16&e),$S.mo=!!(32&e),$S.So=!!(64&e),$S.bo=!!(128&e)),void 0!==i&&($S.xo=!!(1&i),$S.Mo=!!(2&i),$S.wo=!!(4&i),$S._o=!!(8&i),$S.ko=!!(16&i),$S.Co=!!(32&i),$S.To=!!(64&i),$S.Fo=!!(128&i)),void 0!==n&&($S.Io=!!(1&n),$S.Po=!!(2&n),$S.Lo=!!(4&n),$S.Bo=!!(8&n),$S.Do=!!(16&n),$S.Ro=!!(32&n),$S.Eo=!!(64&n),$S.Oo=!!(128&n)),void 0!==r&&($S.zo=!!(1&r)),$S.mo}set l(t){tA=t}get l(){return tA}}let rA=!1;const sA=(t,e)=>{const i=new RegExp(".{".concat(e,"}"),"g");return(t.match(i)||[]).map((t=>parseInt(t,16)))},oA=t=>{if(4===t.byteLength)return"".concat(t[0].toString().padStart(2,"0")).concat(t[1].toString().padStart(2,"0")).concat(t[2].toString().padStart(2,"0")).concat(t[3].toString().padStart(2,"0"))},aA=t=>t.getFullYear().toString()+(t.getMonth()+1).toString().padStart(2,"0")+t.getDate().toString().padStart(2,"0"),lA=t=>{const e={},i=t.split("-");if(3!==i.length)return{HH:KS(0,0,1,7,1,12,5)};let n=0;const r=Uint8Array.from(JS.atob(i[1]),(t=>t.charCodeAt(0)));n+=1;const s=r.subarray(n,n+=20),o=new DataView(r.buffer).getUint16(n,!0);n+=2;const a=Uint8Array.from(Array(o));for(let g=0;g<o;g+=1)a[g]=r[g+n]^s[g%s.byteLength];const l=new DataView(a.buffer);e.WH=a,n=0;const h=Uint8Array.from(Array(l.getUint16(n,!0)));n+=2,h.set(a.subarray(n,n+=h.byteLength)),eA=new Uint8Array(h);const c=oA(a.subarray(n,n+=4)),u=KS(-3,0);if(!c)return{HH:KS(0,0,1,7,1,12,5)};if(c<u)return{HH:KS(0,40,1,2,1,7,1,8,1,10,1,59,1,60,1,6,5)};if(8&h[0]){const t=oA(a.subarray(n,n+=4)),e=aA(new Date);if(!t)return{HH:KS(0,0,1,7,1,12,5)};if(t<e)return{HH:KS(0,0,1,2,1,3,1,4,5),XH:iA()}}e.ZH=n;const d="".concat(i[0],"-").concat(i[1]),f=Array.prototype.reduce.call(JS.atob(i[2]),((t,e)=>t+"0".concat(e.charCodeAt(0).toString(16)).slice(-2)),"");return uA(d,f)?e:{HH:KS(0,0,1,7,1,12,5)}},hA=t=>{const e=t.slice(0,4);let i=t.slice(5);switch(e){case"0001":{i=i.replace(/-/g,"");const t=Uint8Array.from(sA(i,2)),e=t.slice(36,40),n=new Uint8Array(4),r=(t=>{let e;const i=[];for(let r=0;r<256;r+=1){e=r;for(let t=0;t<8;t+=1)e=1&e?3988292384^e>>>1:e>>>1;i[r]=e}let n=-1;for(let r=0;r<t.length;r+=1)n=n>>>8^i[255&(n^t[r])];return~n>>>0})(t.slice(0,36));new DataView(n.buffer).setUint32(0,r,!0);const s=t.slice(28,34);let o=0;for(let i=s.length-1;i>0;i-=1)o+=s[i]*2**(8*i);const a=new Date(o);if(aA(a)<KS(-3,0))return{HH:KS(0,0,1,2,1,3,1,4,5),XH:iA()};if(e.every(((t,e)=>n[e]===t)))return{};break}case"0002":return lA(t);default:return{HH:KS(0,0,1,2,1,6,1,7,1,8,1,9,1,11,1,10,5)}}return{HH:KS(0,0,1,2,1,7,1,12,5)}},cA=t=>{if(!t)return{HH:KS(0,14,1,15,1,16,1,17,1,19,1,18,1,2,5)};const e=(t[KS(-1,9)]||t[KS(-1,37)]).map((t=>(t||"").trim())),i=JS[KS(-1,41)];try{if(i&&e.indexOf(i[KS(-1,6)][KS(-1,7)])>-1)return{JH:!0}}catch(t){}if(e.indexOf(JS[KS(-1,6)][KS(-1,7)])>-1)return{JH:!0};const n=e.filter((t=>t.indexOf("*")>-1));try{if(i&&mA(i[KS(-1,6)][KS(-1,7)],n))return{JH:!0}}catch(t){}if(mA(JS[KS(-1,6)][KS(-1,7)],n))return{JH:!0};const r=t[KS(-1,8)]||t[KS(-1,38)];if(""!==r&&null!=r){try{if(i&&mA(i[KS(-1,6)][KS(-1,7)],[r]))return{JH:!1}}catch(t){}if(mA(JS[KS(-1,6)][KS(-1,7)],[r]))return{JH:!1};try{if(i&&r===i[KS(-1,6)][KS(-1,7)])return{JH:!1}}catch(t){}if(r===JS[KS(-1,6)][KS(-1,7)])return{JH:!1}}return{HH:KS(0,14,1,20,5),XH:"aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vanMtY2hhcnRzL2RvY3MvbGljZW5zZXMvd2ViLWRlcGxveW1lbnQv"}},uA=(t,e)=>{const i=new kS("secp256k1").keyFromPublic(KS(-4,0),"hex"),n=LS(t).toString();return i.verify(n,e)},dA=t=>{switch(t.slice(0,4)){case"0001":return(t=>{let e,i="";try{const e=t.split("-"),n=e[1],r=e[2],s=e[3];if(!uA(r,s))return{HH:KS(0,21,1,2,1,7,1,12,5)};const o=BS.parse(r);i=OS.decrypt({ciphertext:BS.parse(n)},o,{mode:US,padding:XS,iv:BS.parse("00000000000000000000000000000001")}).toString(_S)}catch(t){return{HH:KS(0,21,1,2,1,7,1,12,5)}}try{e=JSON.parse(i)}catch(t){return{HH:KS(0,21,1,2,1,7,1,12,5)}}if(void 0===e[KS(-1,5)]||null===e[KS(-1,4)]||!e[KS(-1,9)])return{HH:KS(0,21,1,2,1,7,1,12,5)};const n=parseInt(KS(-3,0),10)||Number(parseInt(KS(-3,0),10));return e[KS(-1,5)]<n?{HH:KS(0,21,1,2,1,3,1,4,5)}:cA(e)})(t);case"0002":return(t=>{const e=lA(t),i=e.WH,n=e.ZH;if(e.HH||void 0===i||void 0===n)return e;let r,s="";try{const t=i.slice(e.ZH,n+16),r=new DataView(t.buffer),o=new Int32Array(4);for(let e=0;e<o.length;e+=1)o[e]=r.getInt32(4*e,!1);const a=GS.create(Array.from(o)),l=n+16,h=i.slice(l,i.length),c=new DataView(h.buffer),u=new Int32Array(Math.floor(h.byteLength/4));for(let e=0;e<u.length;e+=1)u[e]=c.getInt32(4*e,!1);const d=GS.create(Array.from(u)),f=OS.decrypt({ciphertext:d},a,{mode:US,padding:XS,iv:BS.parse("00000000000000000000000000000001")});s=JS.atob(f.toString(_S))}catch(t){return{HH:KS(0,21,1,2,1,7,1,12,5)}}try{r=JSON.parse(s)}catch(t){return{HH:KS(0,21,1,2,1,7,1,12,5)}}return r[KS(-1,37)]?cA(r):{HH:KS(0,21,1,2,1,7,1,12,5)}})(t);default:return{HH:KS(0,21,1,2,1,6,1,7,1,8,1,9,1,11,1,10,5)}}},fA=(t,e)=>{switch(t.slice(0,4)){case"0001":return((t,e)=>{if(!e)return{HH:KS(0,39,1,40,1,41,5),XH:WS};const i=t.split("-"),n=i[1].slice(1),r=i[2],s=i[3];if(!uA("".concat(n,"-").concat(r),s))return{HH:KS(0,21,1,2,1,7,1,12,5)};const o=Uint8Array.from(sA(r,2));let a=0;for(let g=o.length-1;g>0;g-=1)a+=o[g]*2**(8*g);if(a<(parseInt(KS(-3,0),10)||Number(parseInt(KS(-3,0),10))))return{HH:KS(0,21,1,2,1,3,1,4,5)};const l=Int32Array.from(sA(n,8)),h=FS(e[KS(-1,31)]).toString(BS),c=Int32Array.from(sA(h,8)),u=FS(e[KS(-1,32)]).toString(BS),d=Int32Array.from(sA(u,8)),f=new Int32Array(c.length);for(let g=0;g<f.length;g+=1)f[g]=c[g]^d[g];return l.every(((t,e)=>f[e]===t))?{}:{HH:KS(0,21,1,2,1,7,1,12,5)}})(t,e);case"0002":return((t,e)=>{if(!e)return{HH:KS(0,39,1,40,1,41,5),XH:WS};const i=lA(t),n=i.WH,r=i.ZH;if(i.HH||void 0===n||void 0===r)return i;const s=n.slice(r,n.length),o=new DataView(s.buffer),a=new Int32Array(8);for(let f=0;f<a.length;f+=1)a[f]=o.getInt32(4*f,!1);const l=FS(e[KS(-1,31)]).toString(BS),h=Int32Array.from(sA(l,8)),c=FS(e[KS(-1,32)]).toString(BS),u=Int32Array.from(sA(c,8)),d=new Int32Array(h.length);for(let f=0;f<d.length;f+=1)d[f]=h[f]^u[f];return a.every(((t,e)=>d[e]===t))?{}:{HH:KS(0,21,1,2,1,7,1,12,5)}})(t,e);default:return{HH:KS(0,21,1,2,1,6,1,7,1,8,1,9,1,11,1,10,5)}}},gA=function(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0;rA=!1,e.Ga();const r=e.En,s=!!r&&(r===jr.document.body||jr.document.body.contains(r)),o=r&&s?r:document.body;if(void 0===Array.from(o.children).find((t=>"lcjs-error"===t.id))){const r=jr.document.createElement("div");r.id="lcjs-error",o.append(r),r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.style.width="100%",r.style.height="100%",r.style.backgroundColor="black",r.style.boxSizing="border-box",r.style.padding="20px",r.style.font="Arial",r.style.fontSize="20px";let s,a=(t||"LICENSE_ERROR").split("_").join(" ");if(a=(i?KS(0,0,1,2,1,23,1,24,25,1):"")+a.charAt(0).toUpperCase()+a.substr(1),n){const t=jr.document.createElement("a");t.href=n,s=t}else s=jr.document.createElement("p1");r.append(s),s.innerHTML=a,s.style.color="red",e.yj()&&JS.console.error(a)}},pA=(t,e,i)=>{e?(t[KS(-1,17)](KS(-1,19),i),t[KS(-1,17)](KS(-1,20),i),t[KS(-1,17)](KS(-1,21),i),t[KS(-1,17)](KS(-1,22),i)):(t[KS(-1,18)](KS(-1,19),i),t[KS(-1,18)](KS(-1,20),i),t[KS(-1,18)](KS(-1,21),i),t[KS(-1,18)](KS(-1,22),i))},mA=(t,e)=>{const i=t.split(".").reverse();return e.some((t=>{const e=t.split(".").reverse();let n=!1;const r=e.findIndex((t=>"*"===t)),s=i.every(((t,i)=>{if(!n){if(!(i<e.length))return!1;if(n="*"===e[i]&&i+1>2,!n&&t!==e[i])return!1}return!0}));return!(r>i.length-1||!s)}))},yA=new Map;var vA,xA,bA,SA=Vn(0,255,0),AA=function(t,e){var i=t.map(e);return function(t){return i[t%i.length]}},EA=function(t,e,i){var n=Math.min(e,i),r=Math.max(e,i);return t>r?r:t<n?n:t},wA=function(t,e){return Vn(EA(t.getR()+e,0,255),EA(t.getG()+e,0,255),EA(t.getB()+e,0,255),t.getA())},kA=function(t){var e,i,n,r,s,o,a,l;t.gradients=void 0===t.gradients||t.gradients,t.effects=void 0===t.effects||t.effects;var h,c=Vn(255,255,255),u=Vn(0,0,0),d=new aa({color:c}),f=new aa({color:u}),g=void 0===t.isDark||t.isDark,p=t.isDark?Vn(0,0,0,255):void 0;h=t.gradients&&t.isDark?new Wn({position:{x:.8,y:.8},extent:Gn.farthestCorner,shape:Yn.ellipse,stops:[{offset:0,color:wA(t.backgroundColor,30)},{offset:.5,color:t.backgroundColor},{offset:1,color:wA(t.backgroundColor,-15)}]}):new aa({color:t.backgroundColor});var m,y=g?Vn(60,60,60,60):Vn(-60,-60,-60,60),v=g?Vn(255,255,255,40):Vn(0,0,0,40),x=new tl({thickness:4,fillStyle:new aa({color:t.dashboardSplitterColor||SA})});m=t.gradients&&t.isDark?new Wn({position:{x:.5,y:.5},extent:Gn.farthestCorner,shape:Yn.circle,stops:[{offset:0,color:Vn(120,120,120,100)},{offset:1,color:Vn(0,0,0,50)}]}):jl;var b,S=new aa({color:t.backgroundColor}),A=new Ya({size:null!==(i=null===(e=t.fontSize)||void 0===e?void 0:e.chartTitle)&&void 0!==i?i:18,family:t.fontFamily,weight:"normal",style:"normal"}),E=new Ya({size:null!==(r=null===(n=t.fontSize)||void 0===n?void 0:n.axisTitle)&&void 0!==r?r:16,family:t.fontFamily,weight:"normal",style:"normal"}),w=new Ya({size:null!==(o=null===(s=t.fontSize)||void 0===s?void 0:s.legendTitle)&&void 0!==o?o:14,family:t.fontFamily,weight:"normal",style:"normal"}),k=new Ya({size:null!==(l=null===(a=t.fontSize)||void 0===a?void 0:a.other)&&void 0!==l?l:14,family:t.fontFamily,weight:"normal",style:"normal"}),C=new aa({color:t.textColor}),M=new aa({color:t.isDark?Vn(70,70,70,255):Vn(170,170,170,255)}),T=new aa({color:g?Vn(255,255,255,20):Vn(0,0,0,20)}),P=new tl({thickness:1,fillStyle:g?d:f}),F=new aa({color:t.dataColors[0]}),L=AA(t.dataColors,(function(t){return new aa({color:t})})),R=AA(t.dataColors,(function(t){return new tl({fillStyle:new aa({color:t}),thickness:2})})),B=R,z=L,I=AA(t.dataColors,(function(t){return new aa({color:t.setA(100)})})),D=AA(t.dataColors,(function(t){return new Jn({angle:0,stops:[{offset:0,color:t.setA(0)},{offset:1,color:t.setA(180)}]})})),V=R,_=AA(t.dataColors,(function(t){return new Qa.Triangulated({shape:"sphere",size:10,fillStyle:new aa({color:t})})})),N=AA(t.dataColors,(function(t){return new Qa.Pixelated({size:5,fillStyle:new aa({color:t})})})),O=new aa({color:Vn(176,255,157)}),H=new aa({color:Vn(255,112,76)}),U=new tl({thickness:1,fillStyle:f}),Y=new tl({thickness:1,fillStyle:new aa({color:t.axisColor})}),G=new aa({color:Vn(0,0,0,1)}),j=new Cu({gridStrokeStyle:new tl({thickness:1,fillStyle:new aa({color:t.gridLineColor})}),tickStyle:Br,tickLength:7,tickPadding:0,labelFont:k,labelFillStyle:C,labelShadow:p}),X=new Cu({gridStrokeStyle:Br,tickStyle:Br,tickLength:4,tickPadding:3,labelFont:k,labelFillStyle:na,labelShadow:p}),W=new ad({extremeTickStyle:Tu,majorTickStyle:j,minorTickStyle:X}),Z=new $u({greatTickStyle:Tu,majorTickStyle:j,minorTickStyle:X}),q=new Nu({majorTickStyle:j,minorTickStyle:X}),J=new rl({thickness:1,fillStyle:g?d:f,pattern:il.DashedEqual,patternScale:3}),K=new tl({thickness:1,fillStyle:g?d:f}),Q=T,$=P,tt=new tl({thickness:1,fillStyle:g?d:f}),et=g?d:f,it=M;b=t.gradients&&t.isDark?new Jn({angle:0,stops:[{offset:0,color:t.uiBackgroundColor},{offset:1,color:wA(t.uiBackgroundColor,20)}]}):new aa({color:t.uiBackgroundColor});var nt,rt=new tl({thickness:1,fillStyle:new aa({color:t.uiBorderColor})}),st=!1,ot=!1;t.effects&&t.isDark?(nt=new cl({spread:1,blur:9,offset:{x:0,y:0},color:t.backgroundColor.setA(150)}),st=!0,ot=!0):t.effects&&!t.isDark&&(nt=new cl({spread:0,blur:6,offset:{x:2,y:-2},color:Vn(0,0,0,30)}),ot=!0);var at=new tl({thickness:1,fillStyle:t.isDark?d:f});return{isDark:g,effect:nt,effectsText:st,effectsDashboardSplitters:ot,lcjsBackgroundFillStyle:h,lcjsBackgroundStrokeStyle:Br,highlightColorOffset:y,highlightColorOffsetAxisOverlay:v,dashboardSplitterStyle:x,panelPadding:7,chartXYBackgroundFillStyle:m,chartXYBackgroundStrokeStyle:Br,chartXYTitleFont:A,chartXYTitleFillStyle:C,chartXYTitleShadow:p,chartXYSeriesBackgroundFillStyle:S,chartXYSeriesBackgroundStrokeStyle:Br,chartXYZoomingRectangleFillStyle:T,chartXYZoomingRectangleStrokeStyle:P,chartXYTitleMargin:5,lineSeriesStrokeStyle:B,pointLineSeriesStrokeStyle:B,pointLineSeriesFillStyle:z,pointSeriesFillStyle:z,pointSeriesStrokeStyle:at,ellipseSeriesFillStyle:z,ellipseSeriesStrokeStyle:B,polygonSeriesFillStyle:z,polygonSeriesStrokeStyle:B,rectangleSeriesFillStyle:z,rectangleSeriesStrokeStyle:Br,segmentSeriesStrokeStyle:B,boxSeriesBodyFillStyle:z(0),boxSeriesBodyStrokeStyle:Br,boxSeriesStrokeStyle:new tl({thickness:1,fillStyle:g?d:f}),boxSeriesMedianStrokeStyle:new tl({thickness:1,fillStyle:g?f:d}),ohlcCandleThicknessPixels:5,ohlcCandleBodyFillStylePositive:O,ohlcCandleBodyFillStyleNegative:H,ohlcCandleTailStrokeStylePositive:new tl({thickness:1,fillStyle:g?d:f}),ohlcCandleTailStrokeStyleNegative:new tl({thickness:1,fillStyle:g?d:f}),ohlcBarThicknessPixels:10,ohlcBarStrokeStylePositive:new tl({thickness:2,fillStyle:O}),ohlcBarStrokeStyleNegative:new tl({thickness:2,fillStyle:H}),heatmapGridSeriesFillStyle:z,heatmapGridSeriesWireframeStyle:U,heatmapScrollingGridSeriesFillStyle:z,heatmapScrollingGridSeriesWireframeStyle:U,areaRangeSeriesFillStyle:I,areaRangeSeriesStrokeStyle:V,areaRangeSeriesFillStyleInverted:I,areaRangeSeriesStrokeStyleInverted:V,areaSeriesBipolarHighFillStyle:I,areaSeriesBipolarHighStrokeStyle:V,areaSeriesBipolarLowFillStyle:I,areaSeriesBipolarLowStrokeStyle:V,areaSeriesPositiveFillStyle:D,areaSeriesPositiveStrokeStyle:V,areaSeriesNegativeFillStyle:I,areaSeriesNegativeStrokeStyle:V,xAxisTitleFont:E,xAxisTitleFillStyle:C,xAxisStrokeStyle:Y,xAxisOverlayStyle:G,xAxisZoomingBandFillStyle:T,xAxisZoomingBandStrokeStyle:Br,xAxisNumericTicks:W,xAxisDateTimeTicks:Z,xAxisTimeTicks:q,yAxisTitleFont:E,yAxisTitleFillStyle:C,yAxisStrokeStyle:Y,yAxisOverlayStyle:G,yAxisZoomingBandFillStyle:T,yAxisZoomingBandStrokeStyle:Br,yAxisNumericTicks:W,yAxisDateTimeTicks:Z,yAxisTimeTicks:q,bandFillStyle:Q,bandStrokeStyle:$,constantLineStrokeStyle:tt,barChartBackgroundFillStyle:m,barChartBackgroundStrokeStyle:Br,barChartTitleFont:A,barChartTitleFillStyle:C,barChartTitleShadow:p,barChartSeriesBackgroundFillStyle:jl,barChartSeriesBackgroundStrokeStyle:Br,barChartBarFillStyle:z,barChartBarStrokeStyle:Br,barChartValueAxisTitleFont:E,barChartValueAxisTitleFillStyle:C,barChartValueAxisStrokeStyle:Y,barChartValueAxisTicks:W.setMajorTickStyle((function(t){return t.setGridStrokeStyle(Br)})).setMinorTickStyle((function(t){return t.setGridStrokeStyle(Br)})),barChartCategoryAxisTitleFont:E,barChartCategoryAxisTitleFillStyle:C,barChartCategoryAxisStrokeStyle:Y,barChartCategoryLabels:{formatter:function(t,e){return t},labelFillStyle:W.majorTickStyle.labelFillStyle,labelFont:W.majorTickStyle.labelFont,labelMargin:8,tickStyle:W.majorTickStyle.tickStyle,tickLength:0,labelRotation:0,labelShadow:p},barChartValueLabelsAfterBars:{position:"after-bar",formatter:function(t){return t.chart.valueAxis.formatValue(t.value)},labelFillStyle:W.majorTickStyle.labelFillStyle,labelFont:W.majorTickStyle.labelFont,labelMargin:8,labelRotation:0,displayStackedSum:!0,displayStackedIndividuals:!1,labelShadow:p},barChartValueLabelsInsideBars:{position:"inside-bar",formatter:function(t){return t.chart.valueAxis.formatValue(t.value)},labelFillStyle:g?d:f,labelFont:W.majorTickStyle.labelFont,labelMargin:8,labelRotation:0,displayStackedSum:!0,displayStackedIndividuals:!1,labelShadow:p},barChartCornerRadius:10,chart3DBackgroundFillStyle:m,chart3DBackgroundStrokeStyle:Br,chart3DTitleFont:A,chart3DTitleFillStyle:C,chart3DTitleShadow:p,chart3DSeriesBackgroundFillStyle:S,chart3DSeriesBackgroundStrokeStyle:Br,chart3DBoundingBoxStrokeStyle:Br,xAxis3DTitleFont:E,xAxis3DTitleFillStyle:C,xAxis3DStrokeStyle:Y,xAxis3DNumericTicks:W,xAxis3DDateTimeTicks:Z,xAxis3DTimeTicks:q,yAxis3DTitleFont:E,yAxis3DTitleFillStyle:C,yAxis3DStrokeStyle:Y,yAxis3DNumericTicks:W,yAxis3DDateTimeTicks:Z,yAxis3DTimeTicks:q,zAxis3DTitleFont:E,zAxis3DTitleFillStyle:C,zAxis3DStrokeStyle:Y,zAxis3DNumericTicks:W,zAxis3DDateTimeTicks:Z,zAxis3DTimeTicks:q,lineSeries3DStrokeStyle:B,pointLineSeries3DStrokeStyle:B,pointLineSeries3DPointStyle:_,pointSeries3DPointStyle:_,pointCloudSeries3DPointStyle:N,surfaceGridSeries3DFillStyle:z,surfaceGridSeries3DWireframeStyle:U,surfaceScrollingGridSeries3DFillStyle:z,surfaceScrollingGridSeries3DWireframeStyle:U,boxSeries3DFillStyle:z,polarChartBackgroundFillStyle:m,polarChartBackgroundStrokeStyle:Br,polarChartTitleFont:A,polarChartTitleFillStyle:C,polarChartTitleShadow:p,polarChartSeriesBackgroundFillStyle:S,polarChartSeriesBackgroundStrokeStyle:Br,polarSectorFillStyle:Q,polarSectorStrokeStyle:$,polarAmplitudeAxisTitleFont:E,polarAmplitudeAxisTitleFillStyle:C,polarAmplitudeAxisTitleShadow:p,polarAmplitudeAxisStrokeStyle:Y,polarAmplitudeAxisNumericTicks:W,polarAmplitudeAxisDateTimeTicks:Z,polarAmplitudeAxisTimeTicks:q,polarRadialAxisTitleFont:E,polarRadialAxisTitleFillStyle:C,polarRadialAxisStrokeStyle:Y,polarRadialAxisTickStyle:j,polarRadialAxisMarginAfterTicks:0,polarLineSeriesStrokeStyle:B,polarPointLineSeriesFillStyle:z,polarPointLineSeriesStrokeStyle:B,polarPointSeriesFillStyle:z,polarPointSeriesStrokeStyle:at,polarPolygonSeriesFillStyle:I,polarPolygonSeriesStrokeStyle:V,polarAreaSeriesFillStyle:I,polarAreaSeriesStrokeStyle:V,polarHeatmapSeriesFillStyle:z,zoomBandChartDefocusOverlayFillStyle:new aa({color:t.isDark?Vn(0,0,0,180):Vn(255,255,255,180)}),zoomBandChartSplitterStrokeStyle:new tl({thickness:2,fillStyle:t.isDark?d:f}),zoomBandChartKnobSize:{x:11,y:19},zoomBandChartKnobFillStyle:t.isDark?d:f,mapChartBackgroundFillStyle:m,mapChartBackgroundStrokeStyle:Br,mapChartTitleFont:A,mapChartTitleFillStyle:C,mapChartTitleShadow:p,mapChartFillStyle:F,mapChartStrokeStyle:new tl({thickness:1,fillStyle:f}),mapChartOutlierRegionFillStyle:na,mapChartOutlierRegionStrokeStyle:new tl({thickness:1,fillStyle:g?d:f}),mapChartSeparateRegionFillStyle:b,mapChartSeparateRegionStrokeStyle:rt,dataGridBackgroundFillStyle:m,dataGridBackgroundStrokeStyle:Br,dataGridTitleFont:A,dataGridTitleFillStyle:C,dataGridTitleShadow:p,dataGridTextShadow:p,dataGridTextFont:k,dataGridTextFillStyle:C,dataGridCellBackgroundFillStyle:S,dataGridBorderStrokeStyle:rt,dataGridScrollBarBackgroundFillStyle:new aa({color:Vn(30,30,30)}),dataGridScrollBarBackgroundStrokeStyle:Br,dataGridScrollBarFillStyle:new aa({color:Vn(30,30,30)}),dataGridScrollBarStrokeStyle:rt,dataGridScrollBarButtonFillStyle:new aa({color:Vn(30,30,30)}),dataGridScrollBarButtonStrokeStyle:rt,dataGridScrollBarButtonArrowFillStyle:et,dataGridScrollBarThickness:20,dataGridCellPadding:5,textSeriesShadow:p,sparkLineChartStrokeStyle:B(0),sparkPointChartFillStyle:z(0),sparkBarChartFillStyle:z(0),sparkBarChartStrokeStyle:V(0),sparkAreaChartFillStyle:D(0),sparkAreaChartStrokeStyle:V(0),sparkPieChartFillStyle:z,sparkPieChartStrokeStyle:rt,sparkChartBandFillStyle:Q,sparkChartBandStrokeStyle:$,sparkChartConstantLineStrokeStyle:tt,spiderChartBackgroundFillStyle:m,spiderChartBackgroundStrokeStyle:Br,spiderChartTitleFont:A,spiderChartTitleFillStyle:C,spiderChartTitleShadow:p,spiderChartSeriesBackgroundFillStyle:S,spiderChartSeriesBackgroundStrokeStyle:Br,spiderChartWebStyle:j.gridStrokeStyle,spiderChartScaleLabelFillStyle:C,spiderChartScaleLabelFont:k,spiderChartAxisLabelFillStyle:C,spiderChartAxisLabelFont:E,spiderChartAxisStrokeStyle:Y,spiderChartAxisNibStrokeStyle:Br,spiderSeriesFillStyle:I,spiderSeriesStrokeStyle:V,spiderSeriesPointFillStyle:z,spiderChartScaleLabelShadow:p,pieChartBackgroundFillStyle:m,pieChartBackgroundStrokeStyle:Br,pieChartTitleFont:E,pieChartTitleFillStyle:C,pieChartTitleShadow:p,pieChartSliceFillStylePalette:z,pieChartSliceStrokeStyle:rt,pieChartSliceLabelFont:k,pieChartSliceLabelFillStyle:C,pieChartConnectorStrokeStyle:rt,pieChartSliceLabelShadow:p,funnelChartBackgroundFillStyle:m,funnelChartBackgroundStrokeStyle:Br,funnelChartTitleFont:A,funnelChartTitleFillStyle:C,funnelChartTitleShadow:p,funnelChartSliceFillStylePalette:z,funnelChartSliceStrokeStyle:rt,funnelChartSliceLabelFont:k,funnelChartSliceLabelFillStyle:C,funnelChartConnectorStrokeStyle:rt,funnelChartSliceLabelShadow:p,pyramidChartBackgroundFillStyle:m,pyramidChartBackgroundStrokeStyle:Br,pyramidChartTitleFont:A,pyramidChartTitleFillStyle:C,pyramidChartTitleShadow:p,pyramidChartSliceFillStylePalette:z,pyramidChartSliceStrokeStyle:rt,pyramidChartSliceLabelFont:k,pyramidChartSliceLabelFillStyle:C,pyramidChartConnectorStrokeStyle:rt,pyramidChartSliceLabelShadow:p,gaugeChartValueLabelFont:k.setSize(60),gaugeChartUnitLabelFont:k.setSize(40),gaugeChartTickFont:k.setSize(30),gaugeChartBarThickness:40,gaugeChartValueIndicatorThickness:10,gaugeChartRoundedEdges:!0,gaugeChartNeedleLength:40,gaugeChartStartAngle:225,gaugeChartEndAngle:-45,gaugeChartNeedleAlignment:0,gaugeChartGapBetweenBarAndValueIndicators:10,gaugeChartTickFillStyle:C,gaugeChartBarGradient:!0,gaugeChartBarStrokeStyle:Br,gaugeChartUnitLabelFillStyle:C,gaugeChartValueLabelFillStyle:C,gaugeChartBarColor:t.dataColors[0],gaugeChartGlowColor:Vn(255,255,255,64),gaugeChartNeedleFillStyle:new aa({color:Vn(255,255,255)}),gaugeChartNeedleThickness:10,gaugeChartNeedleStrokeStyle:new tl({thickness:2,fillStyle:new aa({color:Vn(0,0,0)})}),gaugeChartBackgroundFillStyle:m,gaugeChartBackgroundStrokeStyle:Br,gaugeChartTitleFont:A,gaugeChartTitleFillStyle:C,gaugeChartTitleShadow:p,treeMapChartBackgroundFillStyle:m,treeMapChartBackgroundStrokeStyle:Br,treeMapChartParentColor:g?Vn(24,30,33):Vn(217,217,217),treeMapChartNodeColors:t.dataColors.map((function(t){return t.setA(125)})),treeMapChartNodeStrokeStyle:new tl({thickness:1,fillStyle:new aa({color:Vn(0,0,0)})}),treeMapChartTitleFillStyle:C,treeMapChartTitleShadow:p,treeMapChartTitleFont:A,treeMapChartPathLabelFillStyle:C,treeMapChartPathLabelFont:k,treeMapChartLabelHeaderFillStyle:C,treeMapChartLabelHeaderFont:k.setWeight("bold"),treeMapChartLabelFillStyle:C,treeMapChartLabelFont:k,treeMapChartCornerRadius:8,uiPanelBackgroundFillStyle:m,uiPanelBackgroundStrokeStyle:Br,onScreenMenuBackgroundColor:Vn(254,204,0,.7),parallelCoordinateChartBackgroundFillStyle:m,parallelCoordinateChartBackgroundStrokeStyle:Br,parallelCoordinateChartTitleFont:A,parallelCoordinateChartTitleFillStyle:C,parallelCoordinateChartTitleShadow:p,parallelCoordinateChartSeriesBackgroundFillStyle:S,parallelCoordinateChartSeriesBackgroundStrokeStyle:Br,parallelCoordinateChartSeriesColor:AA(t.dataColors,(function(t){return t})),parallelCoordinateChartSeriesColorUnselected:g?Vn(255,255,255,40):Vn(0,0,0,40),parallelCoordinateChartSeriesLineThickness:2,parallelCoordinateAxisTitleFont:E,parallelCoordinateAxisTitleFillStyle:C,parallelCoordinateAxisNumericTicks:W,parallelCoordinateAxisDateTimeTicks:Z,parallelCoordinateAxisTimeTicks:q,parallelCoordinateAxisStrokeStyle:Y,parallelCoordinateAxisRangeSelectorFillStyle:b,parallelCoordinateAxisRangeSelectorStrokeStyle:rt,parallelCoordinateChartPointedSeriesLineStyle:B(0),parallelCoordinateAxisBackgroundFillStyle:new Jn({angle:90,stops:[{offset:0,color:t.isDark?Vn(0,0,0,0):Vn(255,255,255,0)},{offset:1,color:t.isDark?Vn(0,0,0,255):Vn(255,255,255,180)}]}),uiButtonFillStyle:et,uiButtonFillStyleHidden:it,uiButtonStrokeStyle:t.isDark?Br:new tl({thickness:1,fillStyle:new aa({color:u})}),uiButtonSize:10,uiBackgroundFillStyle:b,uiBackgroundStrokeStyle:rt,uiTextFillStyle:C,uiTextFillStyleHidden:M,uiTextFont:k,uiTextPadding:5,legendTitleFillStyle:C,legendTitleFont:w,legendBorderRadius:8,legendPadding:5,legendLUTLabelMargin:7,legendLUTUnitLabelMargin:7,legendLUTLengthHorizontal:160,legendLUTThicknessHorizontal:15,legendLUTLengthVertical:140,legendLUTThicknessVertical:25,cursorTickMarkerXBackgroundFillStyle:b,cursorTickMarkerXBackgroundStrokeStyle:rt,cursorTickMarkerXTextFillStyle:C,cursorTickMarkerXTextFont:k,cursorTickMarkerYBackgroundFillStyle:b,cursorTickMarkerYBackgroundStrokeStyle:rt,cursorTickMarkerYTextFillStyle:C,cursorTickMarkerYTextFont:k,cursorPointMarkerSize:{x:9,y:9},cursorPointMarkerShape:Ra.Circle,cursorResultTableFillStyle:b,cursorResultTableStrokeStyle:rt,cursorResultTableTextFillStyle:C,cursorResultTableTextFont:k,cursorResultTableHeaderBackgroundFillStyle:void 0,cursorResultTableBorderRadius:5,cursorPointMarkerFillStyle:na,cursorPointMarkerStrokeStyle:Br,cursorDynamicBehavior:{pointMarkerFill:function(e){return new aa({color:ur(e,t.isDark?u:c,.2,230)})},pointMarkerStroke:function(e){return new tl({thickness:2,fillStyle:new aa({color:ur(e,t.isDark?c:u,t.isDark?.8:.6,204)})})},pointMarkerSize:function(t){return{x:t+3,y:t+3}}},cursorGridStrokeStyleX:J,cursorGridStrokeStyleY:J,cursor3DGridStrokeStyleX:K,cursor3DGridStrokeStyleY:K,cursor3DGridStrokeStyleZ:K,cursor3DTickStrokeStyleX:j.tickStyle,cursor3DTickStrokeStyleY:j.tickStyle,cursor3DTickStrokeStyleZ:j.tickStyle,cursor3DTickLabelFillStyleX:C,cursor3DTickLabelFillStyleY:C,cursor3DTickLabelFillStyleZ:C,cursor3DTickLabelFontX:k,cursor3DTickLabelFontY:k,cursor3DTickLabelFontZ:k,cursor3DTickLabelBackgroundFillStyleX:b,cursor3DTickLabelBackgroundFillStyleY:b,cursor3DTickLabelBackgroundFillStyleZ:b,cursor3DTickLabelBackgroundStrokeStyleX:rt,cursor3DTickLabelBackgroundStrokeStyleY:rt,cursor3DTickLabelBackgroundStrokeStyleZ:rt,cursor3DTickLabelPaddingX:{left:4,right:4,top:4,bottom:4},cursor3DTickLabelPaddingY:{left:4,right:4,top:4,bottom:4},cursor3DTickLabelPaddingZ:{left:4,right:4,top:4,bottom:4}}};kA({isDark:!0,gradients:!1,effects:!1,fontFamily:"Segoe UI, -apple-system, Verdana, Helvetica",backgroundColor:_n("#181818ff"),textColor:_n("#ffffc8ff"),dataColors:[_n("#ffff5b"),_n("#ffcd5b"),_n("#ff9b5b"),_n("#ffc4bc"),_n("#ff94b8"),_n("#db94c6"),_n("#ebc4e0"),_n("#a994c6"),_n("#94e2c6"),_n("#94ffb0"),_n("#b4ffa5")],axisColor:_n("#00000000"),gridLineColor:_n("#303030ff"),uiBackgroundColor:_n("#161616ff"),uiBorderColor:_n("#ffffff"),dashboardSplitterColor:_n("#2d2d2dff")}),kA({isDark:!1,gradients:!1,effects:!1,fontFamily:"Segoe UI, -apple-system, Verdana, Helvetica",backgroundColor:_n("#ffffffff"),textColor:_n("#212b31ff"),dataColors:[_n("#1cb58c"),_n("#ff8400"),_n("#f02727"),_n("#5679fb"),_n("#02b5d5"),_n("#0dd49e"),_n("#16a703"),_n("#ea67e8"),_n("#3eb7b3"),_n("#8c5d03"),_n("#9b9eba")],axisColor:_n("#00000000"),gridLineColor:_n("#dcdcdcff"),uiBackgroundColor:_n("#ffffffff"),uiBorderColor:_n("#a8a8c7ff"),dashboardSplitterColor:_n("#dbe3e9ff")}),kA({isDark:!0,gradients:!0,effects:!0,fontFamily:"Segoe UI, -apple-system, Verdana, Helvetica",backgroundColor:_n("#181818ff"),textColor:_n("#ffffc8ff"),dataColors:[_n("#ffff5b"),_n("#ffcd5b"),_n("#ff9b5b"),_n("#ffc4bc"),_n("#ff94b8"),_n("#db94c6"),_n("#ebc4e0"),_n("#a994c6"),_n("#94e2c6"),_n("#94ffb0"),_n("#b4ffa5")],axisColor:_n("#00000000"),gridLineColor:_n("#303030ff"),uiBackgroundColor:_n("#161616ff"),uiBorderColor:_n("#ffffff"),dashboardSplitterColor:_n("#2d2d2dff")});function CA(){return CA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},CA.apply(this,arguments)}function MA(e,i){let{title:n,titleId:r,...s}=e;return t.createElement("svg",CA({width:34,height:34,viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:i,"aria-labelledby":r},s),n?t.createElement("title",{id:r},n):null,vA||(vA=t.createElement("path",{d:"M4.5 1.5V29.5H32.5",stroke:"white"})),xA||(xA=t.createElement("path",{d:"M1 5L4.5 1L8 5",stroke:"white"})),bA||(bA=t.createElement("path",{d:"M29 26L33 29.5L29 33",stroke:"white"})))}const TA=t.forwardRef(MA);i.p;var PA,FA,LA,RA,BA;function zA(){return zA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},zA.apply(this,arguments)}function IA(e,i){let{title:n,titleId:r,...s}=e;return t.createElement("svg",zA({width:38,height:37,viewBox:"0 0 38 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:i,"aria-labelledby":r},s),n?t.createElement("title",{id:r},n):null,PA||(PA=t.createElement("path",{d:"M14.5 1.5V22.5H36.5",stroke:"white"})),FA||(FA=t.createElement("path",{d:"M11 5L14.5 1L18 5",stroke:"white"})),LA||(LA=t.createElement("path",{d:"M7.7782 33.9498L2.47489 34.3033L2.82845 29",stroke:"white"})),RA||(RA=t.createElement("path",{d:"M33 19L37 22.5L33 26",stroke:"white"})),BA||(BA=t.createElement("path",{d:"M2.5 34.5L14.5 22.5",stroke:"white"})))}const DA=t.forwardRef(IA);i.p;var VA,_A,NA,OA,HA,UA;function YA(){return YA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},YA.apply(this,arguments)}function GA(e,i){let{title:n,titleId:r,...s}=e;return t.createElement("svg",YA({width:39,height:34,viewBox:"0 0 39 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:i,"aria-labelledby":r},s),n?t.createElement("title",{id:r},n):null,VA||(VA=t.createElement("path",{d:"M19 0V18.5M0 18.5H38.5",stroke:"white"})),_A||(_A=t.createElement("rect",{x:2,y:6,width:3,height:8,fill:"#6B7185"})),NA||(NA=t.createElement("rect",{x:6,y:9,width:3,height:5,fill:"#6B7185"})),OA||(OA=t.createElement("rect",{x:10,y:4,width:3,height:10,fill:"#6B7185"})),HA||(HA=t.createElement("circle",{cx:29.5,cy:8.5,r:5.5,fill:"#6B7185"})),UA||(UA=t.createElement("path",{d:"M35 33H2C2 33 5.07795 26.8165 9.5 26.6621C12.912 26.543 17 30.0175 17 30.0175C17 30.0175 20.2901 24.6377 24.5 24.0524C30.6215 23.2013 35 33 35 33Z",fill:"#6B7185",stroke:"#6B7185"})))}const jA=t.forwardRef(GA);i.p;var XA,WA;function ZA(){return ZA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},ZA.apply(this,arguments)}function qA(e,i){let{title:n,titleId:r,...s}=e;return t.createElement("svg",ZA({width:323,height:70,viewBox:"0 0 323 70",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:i,"aria-labelledby":r},s),n?t.createElement("title",{id:r},n):null,XA||(XA=t.createElement("g",{clipPath:"url(#clip0_10_100)"},t.createElement("path",{d:"M317.653 24.8624C318.581 24.8707 319.492 25.1145 320.297 25.5703C321.142 26.0362 321.832 26.7333 322.282 27.5769C322.754 28.4056 323.001 29.3392 323.001 30.2886C323.001 31.238 322.754 32.1716 322.282 33.0003C321.817 33.8389 321.121 34.5322 320.274 35.0014C319.463 35.4735 318.538 35.7227 317.596 35.7227C316.654 35.7227 315.729 35.4735 314.918 35.0014C314.076 34.5296 313.388 33.8329 312.933 32.992C312.462 32.1621 312.217 31.2273 312.221 30.2775C312.232 29.3208 312.488 28.3823 312.967 27.5491C313.434 26.7182 314.13 26.0334 314.975 25.5731C315.79 25.1121 316.713 24.8671 317.653 24.8624ZM317.653 25.9243C316.905 25.9261 316.17 26.1181 315.52 26.4816C314.842 26.8591 314.285 27.4151 313.911 28.0869C313.526 28.7518 313.319 29.5021 313.311 30.2672C313.302 31.0322 313.492 31.7868 313.863 32.4597C314.235 33.1361 314.792 33.697 315.472 34.0789C316.457 34.6388 317.629 34.7912 318.729 34.5028C319.829 34.2143 320.767 33.5085 321.338 32.5405L321.383 32.4652C321.765 31.7981 321.965 31.0456 321.965 30.2803C321.965 29.5149 321.765 28.7625 321.383 28.0953C321.018 27.4143 320.459 26.8526 319.775 26.4789C319.128 26.116 318.397 25.923 317.653 25.9187V25.9243ZM315.151 33.1843L315.191 27.4153H318.175C318.487 27.432 318.792 27.5127 319.071 27.6522C319.296 27.7863 319.479 27.9793 319.599 28.2096C319.741 28.4661 319.814 28.7538 319.812 29.0456C319.818 29.4368 319.674 29.8159 319.409 30.1075C319.11 30.4203 318.708 30.618 318.274 30.6649C318.42 30.7138 318.557 30.7873 318.677 30.8823C318.826 31.0213 318.961 31.1744 319.08 31.3393C319.119 31.3951 319.261 31.6319 319.483 32.0444L320.149 33.2289H318.714L318.243 32.3092C318.053 31.8675 317.781 31.4648 317.44 31.1219C317.208 30.9516 316.924 30.8659 316.635 30.8795H316.334V33.2484L315.151 33.1843ZM316.334 29.9152H316.791C317.206 29.9349 317.623 29.9097 318.033 29.8399C318.197 29.7975 318.34 29.6986 318.436 29.5612C318.535 29.4281 318.586 29.2662 318.58 29.1014C318.585 28.942 318.534 28.7859 318.436 28.6588C318.338 28.5316 318.199 28.441 318.042 28.4019C317.631 28.3267 317.213 28.2986 316.796 28.3183H316.328L316.334 29.9152Z",fill:"white"}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M94.1425 44.5244L98.128 23.926H102.587L100.394 36.1357C100.221 36.9782 100.126 37.8346 100.111 38.6941C100.111 39.1138 100.233 39.5248 100.463 39.8785C100.789 40.3626 101.269 40.7278 101.827 40.9181C102.633 41.1597 103.475 41.2671 104.318 41.2358H109.543L108.927 44.6721L94.1425 44.5244ZM118.2 27.7135H113.9L114.583 23.926H118.881L118.2 27.7135ZM115.168 44.7H110.856L113.593 29.4609H117.891L115.168 44.7ZM127.567 41.5396H129.688L131.274 32.7216H129.15C128.422 32.7059 127.693 32.7432 126.971 32.8331C126.574 32.9049 126.191 33.0385 125.836 33.2289C125.167 33.5797 124.6 34.0918 124.188 34.7171C123.74 35.4514 123.442 36.2646 123.312 37.1111C123.022 38.7387 123.178 39.885 123.78 40.5502C124.404 41.2079 125.658 41.5396 127.555 41.5396H127.567ZM133.322 44.1426C133.123 45.8834 132.329 47.5064 131.07 48.7466C129.749 49.7971 128.074 50.3214 126.378 50.2154H118.345L118.912 47.1246H126.231C126.913 47.1546 127.585 46.9583 128.14 46.5672C128.652 46.1696 128.988 45.5922 129.076 44.9564L129.118 44.7H125.799C124.569 44.754 123.337 44.6234 122.146 44.3126C121.416 44.0462 120.77 43.5976 120.271 43.0111C119.624 42.2837 119.187 41.3993 119.006 40.4499C118.787 39.3454 118.787 38.21 119.006 37.1055C119.21 35.9502 119.61 34.8367 120.189 33.8113C120.736 32.828 121.469 31.9567 122.35 31.2446C123.101 30.6107 123.977 30.1363 124.923 29.8511C126.09 29.5534 127.294 29.4193 128.5 29.4525H135.955L133.317 44.1426H133.322ZM140.357 23.9316H144.422L143.432 29.4609H147.074C149.344 29.4609 150.926 29.918 151.766 30.7819C152.606 31.6459 152.884 33.0867 152.535 35.046L150.796 44.7223H146.68L148.328 35.5253C148.444 35.1758 148.486 34.8067 148.452 34.4406C148.418 34.0745 148.308 33.7191 148.13 33.3961C147.844 33.1711 147.515 33.0057 147.162 32.9098C146.81 32.814 146.441 32.7898 146.079 32.8387H142.794L140.666 44.7251H136.647L140.368 23.9678L140.357 23.9316ZM155.553 29.4609H158.435L159.425 23.9316H163.518L162.54 29.4609H166.849L166.318 32.4847H161.989L160.88 38.6467C160.64 39.4241 160.698 40.2612 161.045 40.9989C161.36 41.456 162.006 41.6483 162.982 41.6483H164.667L164.117 44.686H160.367C159.764 44.7439 159.156 44.6626 158.591 44.4488C158.027 44.2349 157.52 43.8943 157.113 43.4542C156.767 42.9354 156.538 42.3502 156.44 41.7375C156.342 41.1249 156.378 40.4988 156.546 39.9008L157.896 32.4652H155.011L155.553 29.433V29.4609ZM169.265 29.4609L166.534 44.7H170.618L172.752 32.8136H176.036C176.77 32.7153 177.515 32.8979 178.116 33.3236C178.399 33.6581 178.456 34.4022 178.255 35.5532L176.607 44.7139H180.694L182.43 35.0348C182.789 33.0375 182.549 31.6069 181.71 30.7429C180.87 29.8789 179.286 29.447 176.958 29.447L169.265 29.4609ZM191.541 27.7246H187.25L187.953 23.9316H192.248L191.573 27.7191L191.541 27.7246ZM188.492 44.7251H184.197L186.949 29.4693H191.249L188.492 44.7251ZM194.764 29.4693H202.482C204.808 29.4693 206.392 29.9012 207.234 30.7652C208.075 31.6292 208.318 33.0589 207.963 35.0543L206.238 44.7334H202.145L203.793 35.5922C203.995 34.4551 203.948 33.7119 203.651 33.3626C203.052 32.9361 202.307 32.7552 201.575 32.8582H198.281L196.151 44.739H192.066L194.801 29.4999L194.764 29.4693ZM218.552 41.5563H220.691L222.271 32.7411H220.152C219.424 32.7244 218.696 32.7607 217.973 32.8498C217.577 32.9261 217.195 33.0595 216.839 33.2456C216.165 33.5952 215.592 34.1049 215.171 34.7282C214.727 35.458 214.433 36.2653 214.303 37.1055C214.008 38.7331 214.164 39.8795 214.771 40.5446C215.392 41.2051 216.646 41.5368 218.543 41.5368L218.552 41.5563ZM224.327 44.1593C224.128 45.9011 223.335 47.5257 222.078 48.7689C220.755 49.8165 219.082 50.3404 217.386 50.2377H209.344L209.912 47.1414H217.244C217.926 47.1727 218.599 46.9762 219.153 46.584C219.667 46.1861 220.003 45.6073 220.089 44.9703L220.138 44.7139H216.807C215.573 44.765 214.338 44.6296 213.145 44.3126C212.413 44.0487 211.765 43.5987 211.267 43.0083C210.631 42.2757 210.205 41.3897 210.034 40.4415C209.814 39.3371 209.814 38.2015 210.034 37.0972C210.246 35.9407 210.653 34.8273 211.239 33.803C211.787 32.821 212.521 31.9508 213.401 31.239C214.151 30.6051 215.027 30.1307 215.973 29.8455C217.129 29.552 218.321 29.4197 219.514 29.4525H226.963L224.336 44.1426L224.327 44.1593ZM239.855 27.5072C239.059 27.4652 238.262 27.5973 237.524 27.8942C236.786 28.1911 236.124 28.6453 235.586 29.224C234.569 30.3685 233.825 32.2553 233.356 34.8843C232.956 37.1891 233.047 38.7721 233.654 39.7002C234.261 40.6282 235.529 41.0937 237.407 41.0937H244.703L244.028 44.7167H236.548C235.256 44.7639 233.963 44.6307 232.71 44.321C231.632 43.9803 230.668 43.3603 229.919 42.5265C229.171 41.6927 228.665 40.6758 228.455 39.5831C228.162 37.9669 228.185 36.3109 228.523 34.7032C229.183 31.0151 230.479 28.308 232.412 26.582C234.345 24.8559 237.002 23.9817 240.383 23.9594H247.758L247.117 27.5128L239.855 27.5072ZM250.634 23.9511L246.913 44.7139H250.972L253.108 32.8275H256.39C256.752 32.7772 257.122 32.8006 257.474 32.8965C257.827 32.9924 258.156 33.1587 258.441 33.3849C258.618 33.7084 258.727 34.0637 258.762 34.4294C258.796 34.7952 258.756 35.1641 258.642 35.5142L256.994 44.7111H261.113L262.843 35.032C263.199 33.0793 262.944 31.6589 262.08 30.7708C261.229 29.8901 259.644 29.447 257.388 29.447H253.746L254.731 23.9065L250.634 23.9511ZM270.962 41.6343H276.09L276.649 38.46H271.827C271.117 38.4105 270.407 38.5461 269.768 38.8529C269.544 39.0046 269.357 39.2019 269.218 39.4313C269.08 39.6608 268.993 39.917 268.965 40.1823C268.902 40.3724 268.892 40.5753 268.933 40.7708C268.975 40.9663 269.068 41.1477 269.203 41.2971C269.735 41.5707 270.337 41.6814 270.933 41.6148L270.962 41.6343ZM267.677 29.4609H276.059C278.172 29.4609 279.684 29.9393 280.598 30.8962C281.5 31.8521 281.778 33.2651 281.449 35.1547L279.747 44.7H268.724C268.115 44.7574 267.501 44.6853 266.924 44.4886C266.346 44.2919 265.818 43.9752 265.376 43.5601C265.017 43.1103 264.771 42.5841 264.656 42.0236C264.541 41.4632 264.561 40.8841 264.716 40.3328C264.795 39.606 265.022 38.902 265.381 38.2622C265.741 37.6224 266.228 37.0596 266.812 36.6067C267.895 35.8635 269.55 35.4863 271.776 35.4752H277.166L277.236 35.0794C277.349 34.7512 277.364 34.3986 277.281 34.0622C277.197 33.7259 277.019 33.4196 276.766 33.1787C275.906 32.7181 274.925 32.5237 273.952 32.6213H267.144L267.711 29.4609H267.677ZM286.041 29.4609H292.912C294.519 29.4609 295.591 29.7461 296.128 30.3165C296.666 30.8869 296.811 31.8828 296.565 33.3041L296.094 35.8542H292.18L292.554 33.8782C292.618 33.6836 292.64 33.4784 292.621 33.275C292.602 33.0715 292.542 32.8738 292.444 32.6938C292.268 32.4903 291.794 32.39 291.025 32.39H289.607L287.414 44.6777H283.335L286.073 29.4386L286.041 29.4609ZM298.347 29.4609H301.251L302.247 23.9316H306.338L305.348 29.4609H309.676L309.143 32.4987H304.806L303.702 38.6579C303.463 39.4344 303.522 40.2702 303.867 41.0073C304.112 41.2609 304.416 41.4526 304.753 41.5661C305.09 41.6797 305.449 41.7117 305.801 41.6594H307.486L306.945 44.6972H303.192C302.589 44.7552 301.98 44.6743 301.414 44.4609C300.849 44.2476 300.341 43.9077 299.932 43.4681C299.585 42.9501 299.354 42.3649 299.256 41.7519C299.159 41.139 299.196 40.5125 299.365 39.9148L300.712 32.4847H297.825L298.347 29.4609Z",fill:"white"}),t.createElement("path",{d:"M61.0389 40.5669L51.5985 28.4966L54.2423 24.4695L61.0389 40.5669Z",fill:"#1A1A18"}),t.createElement("path",{d:"M67.3476 0H20.6876C13.8978 0 8.39362 5.40781 8.39362 12.0787V57.9213C8.39362 64.5922 13.8978 70 20.6876 70H67.3476C74.1374 70 79.6416 64.5922 79.6416 57.9213V12.0787C79.6416 5.40781 74.1374 0 67.3476 0Z",fill:"url(#paint0_radial_10_100)"}),t.createElement("path",{d:"M8.39362 53.7325L35.7871 17.1732L8.39362 31.618V53.7325Z",fill:"url(#paint1_radial_10_100)"}),t.createElement("path",{d:"M36.4225 55.1233L26.4602 41.2916L31.0102 36.7823L36.4225 55.1233Z",fill:"#1A1A18"}),t.createElement("path",{d:"M55.5982 10.2811L38.6578 27.1923L40.6463 31.5205L55.5982 10.2811Z",fill:"#1A1A18"}),t.createElement("path",{d:"M62.0374 43.9698L52.441 31.7016L55.1302 27.6076L62.0374 43.9698Z",fill:"#1A1A18"}),t.createElement("path",{d:"M68.1674 10.6768L62.8543 23.0788L55.5982 10.2811L40.6463 31.5205L35.7871 17.1732L4.60103 41.0881L0 67.4945L31.0102 36.7823L36.4225 55.1232L55.1302 27.5909L62.0374 43.9531L72.6351 15.8411L87.8083 3.46698L68.1674 10.6768Z",fill:"#FFCC00"}),t.createElement("path",{d:"M68.1673 10.6768L61.2374 20.2277L62.8543 23.0788L68.1673 10.6768Z",fill:"#1A1A18"}),t.createElement("path",{d:"M65.2768 64.284C65.2916 64.5299 65.2069 64.7715 65.0411 64.9563C64.8753 65.1411 64.6419 65.2541 64.3918 65.2705H60.9878C60.7344 65.2827 60.4864 65.1956 60.2982 65.0285C60.11 64.8613 59.9968 64.6277 59.9836 64.3787C59.9808 64.3472 59.9808 64.3155 59.9836 64.284V60.7557H61.2601V64.1808H64.0457V51.3608H65.3222L65.2768 64.284Z",fill:"white"}),t.createElement("path",{d:"M73.0605 64.284C73.0659 64.4161 73.0435 64.5479 72.9947 64.6712C72.9459 64.7944 72.8718 64.9064 72.7769 65.0002C72.6828 65.0953 72.569 65.1694 72.4432 65.2175C72.3174 65.2655 72.1826 65.2865 72.0479 65.2789H68.4879C68.3536 65.2861 68.2192 65.2655 68.0936 65.2184C67.9679 65.1712 67.8538 65.0987 67.7585 65.0054C67.6633 64.912 67.5891 64.8001 67.5408 64.6768C67.4924 64.5534 67.4711 64.4215 67.478 64.2895V60.7557H68.7545V64.1809H71.8124V60.8644L67.9007 56.2046C67.6336 55.9137 67.4834 55.5373 67.478 55.1455V52.3279C67.4714 52.1957 67.4933 52.0635 67.5421 51.9401C67.591 51.8167 67.6658 51.7048 67.7617 51.6117C67.8581 51.5197 67.9722 51.4476 68.0974 51.3997C68.2227 51.3518 68.3564 51.3292 68.4907 51.333H72.0507C72.1854 51.3258 72.3201 51.3469 72.4458 51.395C72.5716 51.443 72.6854 51.5169 72.7797 51.6117C72.8742 51.7058 72.9481 51.8179 72.9968 51.941C73.0456 52.0642 73.0683 52.1958 73.0634 52.3279V55.5552H71.8096V52.4255H68.746V55.3546L72.6776 59.9976C72.9286 60.2888 73.0654 60.6584 73.0634 61.04L73.0605 64.284Z",fill:"white"}),t.createElement("path",{d:"M218.755 19L220.421 11.412H223.151L223.529 9.662H216.081L215.689 11.412H218.419L216.753 19H218.755ZM231.145 19L233.203 9.662H231.201L230.389 13.33H225.993L226.791 9.662H224.803L222.745 19H224.733L225.601 15.08H230.011L229.143 19H231.145ZM239.593 19L239.957 17.278H235.351L235.827 15.108H240.349L240.727 13.4H236.219L236.653 11.37H241.259L241.651 9.662H235.043L232.985 19H239.593ZM251.269 19L253.327 9.662H250.457L246.873 15.598L245.921 9.662H243.205L241.147 19H243.135L244.633 12.168L245.767 19H246.635L250.765 12.168L249.267 19H251.269ZM259.732 19L260.096 17.278H255.49L255.966 15.108H260.488L260.866 13.4H256.358L256.792 11.37H261.398L261.79 9.662H255.182L253.124 19H259.732ZM261.104 17.432C261.888 18.454 263.498 19.168 265.332 19.168C267.642 19.168 269 17.698 269 16.046C269 14.422 267.348 13.792 266.046 13.33C265.164 13.008 264.45 12.714 264.45 12.21C264.45 11.692 264.982 11.23 265.752 11.23C266.676 11.23 267.824 11.622 268.482 12.42L269.714 11.034C268.888 10.068 267.488 9.522 266.004 9.522C263.694 9.522 262.364 11.02 262.364 12.434C262.364 14.1 263.988 14.716 265.29 15.178C266.172 15.5 266.886 15.794 266.886 16.354C266.886 16.858 266.48 17.432 265.486 17.432C264.198 17.432 262.98 16.858 262.322 15.99L261.104 17.432ZM279.871 19L280.235 17.278H275.629L276.105 15.108H280.627L281.005 13.4H276.497L276.931 11.37H281.537L281.929 9.662H275.321L273.263 19H279.871ZM283.483 9.662L281.425 19H285.093C289.475 19 291.141 16.13 291.141 13.68C291.141 11.258 289.167 9.662 287.095 9.662H283.483ZM283.805 17.25L285.093 11.412H286.717C288.103 11.412 289.069 12.448 289.069 13.806C289.069 15.668 287.711 17.25 285.457 17.25H283.805ZM293.462 19L295.52 9.662H293.532L291.474 19H293.462ZM299.473 19L301.139 11.412H303.869L304.247 9.662H296.799L296.407 11.412H299.137L297.471 19H299.473ZM303.652 14.982C303.652 17.544 305.654 19.168 308.244 19.168C311.324 19.168 313.662 16.732 313.662 13.68C313.662 11.132 311.66 9.508 309.084 9.508C306.004 9.508 303.652 11.93 303.652 14.982ZM311.59 13.82C311.59 15.822 310.148 17.404 308.356 17.404C306.858 17.404 305.724 16.438 305.724 14.856C305.724 12.854 307.152 11.272 308.958 11.272C310.456 11.272 311.59 12.252 311.59 13.82ZM321.469 19L320.181 15.542C321.693 15.262 322.841 13.988 322.841 12.294C322.841 10.67 321.469 9.662 319.957 9.662H315.967L313.909 19H315.897L316.625 15.654H318.179L319.271 19H321.469ZM317.017 13.946L317.577 11.37H319.565C320.209 11.37 320.755 11.832 320.755 12.49C320.755 13.33 320.139 13.946 319.089 13.946H317.017Z",fill:"#FFCC00"}))),WA||(WA=t.createElement("defs",null,t.createElement("radialGradient",{id:"paint0_radial_10_100",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(44.019 35.0014) scale(69.0467 67.8373)"},t.createElement("stop",{stopColor:"#8A8A8A"}),t.createElement("stop",{offset:.46,stopColor:"#4E4E4E"}),t.createElement("stop",{offset:.82,stopColor:"#262626"}),t.createElement("stop",{offset:1,stopColor:"#171717"})),t.createElement("radialGradient",{id:"paint1_radial_10_100",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(8.98647 26.0413) scale(30.7776 30.2385)"},t.createElement("stop",{offset:.25,stopColor:"#8A8A8A"}),t.createElement("stop",{offset:.5,stopColor:"#515151"}),t.createElement("stop",{offset:.77,stopColor:"#171717"})),t.createElement("clipPath",{id:"clip0_10_100"},t.createElement("rect",{width:323,height:70,fill:"white"})))))}const JA=t.forwardRef(qA);i.p;var KA,QA;function $A(){return $A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},$A.apply(this,arguments)}function tE(e,i){let{title:n,titleId:r,...s}=e;return t.createElement("svg",$A({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:i,"aria-labelledby":r},s),n?t.createElement("title",{id:r},n):null,KA||(KA=t.createElement("rect",{x:6.5,width:12,height:1,rx:.5,transform:"rotate(90 6.5 0)",fill:"#D9D9D9"})),QA||(QA=t.createElement("rect",{y:5.5,width:12,height:1,rx:.5,fill:"#D9D9D9"})))}const eE=t.forwardRef(tE);i.p;var iE;function nE(){return nE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},nE.apply(this,arguments)}function rE(e,i){let{title:n,titleId:r,...s}=e;return t.createElement("svg",nE({width:12,height:2,viewBox:"0 0 12 2",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:i,"aria-labelledby":r},s),n?t.createElement("title",{id:r},n):null,iE||(iE=t.createElement("rect",{y:.5,width:12,height:1,rx:.5,fill:"#D9D9D9"})))}const sE=t.forwardRef(rE);i.p;function oE(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function aE(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function lE(t,e){if(t){if("string"===typeof t)return oE(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?oE(t,e):void 0}}function hE(t){return function(t){if(Array.isArray(t))return oE(t)}(t)||aE(t)||lE(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cE(t){return cE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cE(t)}function uE(){uE=function(){return e};var t,e={},i=Object.prototype,n=i.hasOwnProperty,r=Object.defineProperty||function(t,e,i){t[e]=i.value},s="function"==typeof Symbol?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function h(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,i){return t[e]=i}}function c(t,e,i,n){var s=e&&e.prototype instanceof y?e:y,o=Object.create(s.prototype),a=new F(n||[]);return r(o,"_invoke",{value:C(t,i,a)}),o}function u(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var d="suspendedStart",f="suspendedYield",g="executing",p="completed",m={};function y(){}function v(){}function x(){}var b={};h(b,o,(function(){return this}));var S=Object.getPrototypeOf,A=S&&S(S(L([])));A&&A!==i&&n.call(A,o)&&(b=A);var E=x.prototype=y.prototype=Object.create(b);function w(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function i(r,s,o,a){var l=u(t[r],t,s);if("throw"!==l.type){var h=l.arg,c=h.value;return c&&"object"==cE(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){i("next",t,o,a)}),(function(t){i("throw",t,o,a)})):e.resolve(c).then((function(t){h.value=t,o(h)}),(function(t){return i("throw",t,o,a)}))}a(l.arg)}var s;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return s=s?s.then(r,r):r()}})}function C(e,i,n){var r=d;return function(s,o){if(r===g)throw new Error("Generator is already running");if(r===p){if("throw"===s)throw o;return{value:t,done:!0}}for(n.method=s,n.arg=o;;){var a=n.delegate;if(a){var l=M(a,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=g;var h=u(e,i,n);if("normal"===h.type){if(r=n.done?p:f,h.arg===m)continue;return{value:h.arg,done:n.done}}"throw"===h.type&&(r=p,n.method="throw",n.arg=h.arg)}}}function M(e,i){var n=i.method,r=e.iterator[n];if(r===t)return i.delegate=null,"throw"===n&&e.iterator.return&&(i.method="return",i.arg=t,M(e,i),"throw"===i.method)||"return"!==n&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var s=u(r,e.iterator,i.arg);if("throw"===s.type)return i.method="throw",i.arg=s.arg,i.delegate=null,m;var o=s.arg;return o?o.done?(i[e.resultName]=o.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,m):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function F(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function L(e){if(e||""===e){var i=e[o];if(i)return i.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function i(){for(;++r<e.length;)if(n.call(e,r))return i.value=e[r],i.done=!1,i;return i.value=t,i.done=!0,i};return s.next=s}}throw new TypeError(cE(e)+" is not iterable")}return v.prototype=x,r(E,"constructor",{value:x,configurable:!0}),r(x,"constructor",{value:v,configurable:!0}),v.displayName=h(x,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,h(t,l,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},w(k.prototype),h(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,i,n,r,s){void 0===s&&(s=Promise);var o=new k(c(t,i,n,r),s);return e.isGeneratorFunction(i)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},w(E),h(E,l,"Generator"),h(E,o,(function(){return this})),h(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),i=[];for(var n in e)i.push(n);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,F.prototype={constructor:F,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function r(n,r){return a.type="throw",a.arg=e,i.next=n,r&&(i.method="next",i.arg=t),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),h=n.call(o,"finallyLoc");if(l&&h){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,m):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),P(i),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;P(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,i,n){return this.delegate={iterator:L(e),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function dE(t,e,i,n,r,s,o){try{var a=t[s](o),l=a.value}catch(h){return void i(h)}a.done?e(l):Promise.resolve(l).then(n,r)}function fE(t){return function(){var e=this,i=arguments;return new Promise((function(n,r){var s=t.apply(e,i);function o(t){dE(s,n,r,o,a,"next",t)}function a(t){dE(s,n,r,o,a,"throw",t)}o(void 0)}))}}function gE(t){var e=function(t,e){if("object"!=cE(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=cE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==cE(e)?e:String(e)}function pE(t,e,i){return(e=gE(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function mE(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function yE(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?mE(Object(i),!0).forEach((function(e){pE(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):mE(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var vE,xE=i(292),bE=yE({},i.t(xE,2)),SE=bE.version,AE=bE.render,EE=bE.unmountComponentAtNode;try{Number((SE||"").split(".")[0])>=18&&(vE=bE.createRoot)}catch(Sn){}function wE(t){var e=bE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&"object"===cE(e)&&(e.usingClientEntryPoint=t)}var kE="__rc_react_root__";function CE(t,e){vE?function(t,e){wE(!0);var i=e[kE]||vE(e);wE(!1),i.render(t),e[kE]=i}(t,e):function(t,e){AE(t,e)}(t,e)}function ME(t){return TE.apply(this,arguments)}function TE(){return(TE=fE(uE().mark((function t(e){return uE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){var t;null===(t=e[kE])||void 0===t||t.unmount(),delete e[kE]})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function PE(t){EE(t)}function FE(){return(FE=fE(uE().mark((function t(e){return uE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===vE){t.next=2;break}return t.abrupt("return",ME(e));case 2:PE(e);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}const LE=t.createContext({}),RE="anticon",BE=t.createContext({getPrefixCls:(t,e)=>e||(t?"ant-".concat(t):"ant"),iconPrefixCls:RE}),{Consumer:zE}=BE;function IE(t){if(Array.isArray(t))return t}function DE(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function VE(t,e){return IE(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,s,o,a=[],l=!0,h=!1;try{if(s=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=s.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){h=!0,r=t}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(h)throw r}}return a}}(t,e)||lE(t,e)||DE()}const _E=function(t){for(var e,i=0,n=0,r=t.length;r>=4;++n,r-=4)e=1540483477*(65535&(e=255&t.charCodeAt(n)|(255&t.charCodeAt(++n))<<8|(255&t.charCodeAt(++n))<<16|(255&t.charCodeAt(++n))<<24))+(59797*(e>>>16)<<16),i=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&i)+(59797*(i>>>16)<<16);switch(r){case 3:i^=(255&t.charCodeAt(n+2))<<16;case 2:i^=(255&t.charCodeAt(n+1))<<8;case 1:i=1540483477*(65535&(i^=255&t.charCodeAt(n)))+(59797*(i>>>16)<<16)}return(((i=1540483477*(65535&(i^=i>>>13))+(59797*(i>>>16)<<16))^i>>>15)>>>0).toString(36)};function NE(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var OE="data-rc-order",HE="data-rc-priority",UE="rc-util-key",YE=new Map;function GE(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return t?t.startsWith("data-")?t:"data-".concat(t):UE}function jE(t){return t.attachTo?t.attachTo:document.querySelector("head")||document.body}function XE(t){return Array.from((YE.get(t)||t).children).filter((function(t){return"STYLE"===t.tagName}))}function WE(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!NE())return null;var i=e.csp,n=e.prepend,r=e.priority,s=void 0===r?0:r,o=function(t){return"queue"===t?"prependQueue":t?"prepend":"append"}(n),a="prependQueue"===o,l=document.createElement("style");l.setAttribute(OE,o),a&&s&&l.setAttribute(HE,"".concat(s)),null!==i&&void 0!==i&&i.nonce&&(l.nonce=null===i||void 0===i?void 0:i.nonce),l.innerHTML=t;var h=jE(e),c=h.firstChild;if(n){if(a){var u=XE(h).filter((function(t){if(!["prepend","prependQueue"].includes(t.getAttribute(OE)))return!1;var e=Number(t.getAttribute(HE)||0);return s>=e}));if(u.length)return h.insertBefore(l,u[u.length-1].nextSibling),l}h.insertBefore(l,c)}else h.appendChild(l);return l}function ZE(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return XE(jE(e)).find((function(i){return i.getAttribute(GE(e))===t}))}function qE(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=ZE(t,e);i&&jE(e).removeChild(i)}function JE(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){var i=YE.get(t);if(!i||!function(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var i=e;i;){if(i===t)return!0;i=i.parentNode}return!1}(document,i)){var n=WE("",e),r=n.parentNode;YE.set(t,r),t.removeChild(n)}}(jE(i),i);var n=ZE(e,i);if(n){var r,s,o;if(null!==(r=i.csp)&&void 0!==r&&r.nonce&&n.nonce!==(null===(s=i.csp)||void 0===s?void 0:s.nonce))n.nonce=null===(o=i.csp)||void 0===o?void 0:o.nonce;return n.innerHTML!==t&&(n.innerHTML=t),n}var a=WE(t,i);return a.setAttribute(GE(i),e),a}function KE(e,i,n){var r=t.useRef({});return"value"in r.current&&!n(r.current.condition,i)||(r.current.value=e(),r.current.condition=i),r.current.value}var QE={},$E=[];function tw(t,e){}function ew(t,e){}function iw(t,e,i){e||QE[i]||(t(!1,i),QE[i]=!0)}function nw(t,e){iw(tw,t,e)}nw.preMessage=function(t){$E.push(t)},nw.resetWarned=function(){QE={}},nw.noteOnce=function(t,e){iw(ew,t,e)};const rw=nw;const sw=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=new Set;return function t(e,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=n.has(e);if(rw(!o,"Warning: There may be circular references"),o)return!1;if(e===r)return!0;if(i&&s>1)return!1;n.add(e);var a=s+1;if(Array.isArray(e)){if(!Array.isArray(r)||e.length!==r.length)return!1;for(var l=0;l<e.length;l++)if(!t(e[l],r[l],a))return!1;return!0}if(e&&r&&"object"===cE(e)&&"object"===cE(r)){var h=Object.keys(e);return h.length===Object.keys(r).length&&h.every((function(i){return t(e[i],r[i],a)}))}return!1}(t,e)};function ow(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aw(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gE(n.key),n)}}function lw(t,e,i){return e&&aw(t.prototype,e),i&&aw(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}var hw="%";function cw(t){return t.join(hw)}var uw=function(){function t(e){ow(this,t),pE(this,"instanceId",void 0),pE(this,"cache",new Map),this.instanceId=e}return lw(t,[{key:"get",value:function(t){return this.opGet(cw(t))}},{key:"opGet",value:function(t){return this.cache.get(t)||null}},{key:"update",value:function(t,e){return this.opUpdate(cw(t),e)}},{key:"opUpdate",value:function(t,e){var i=e(this.cache.get(t));null===i?this.cache.delete(t):this.cache.set(t,i)}}]),t}();const dw=uw;var fw="data-token-hash",gw="data-css-hash",pw="__cssinjs_instance__";function mw(){var t=Math.random().toString(12).slice(2);if("undefined"!==typeof document&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(gw,"]"))||[],i=document.head.firstChild;Array.from(e).forEach((function(e){e[pw]=e[pw]||t,e[pw]===t&&document.head.insertBefore(e,i)}));var n={};Array.from(document.querySelectorAll("style[".concat(gw,"]"))).forEach((function(e){var i,r=e.getAttribute(gw);n[r]?e[pw]===t&&(null===(i=e.parentNode)||void 0===i||i.removeChild(e)):n[r]=!0}))}return new dw(t)}var yw=t.createContext({hashPriority:"low",cache:mw(),defaultCache:!0});const vw=yw;var xw=function(){function t(){ow(this,t),pE(this,"cache",void 0),pE(this,"keys",void 0),pE(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return lw(t,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(t){var e,i,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={map:this.cache};return t.forEach((function(t){var e;r?r=null===(e=r)||void 0===e||null===(e=e.map)||void 0===e?void 0:e.get(t):r=void 0})),null!==(e=r)&&void 0!==e&&e.value&&n&&(r.value[1]=this.cacheCallTimes++),null===(i=r)||void 0===i?void 0:i.value}},{key:"get",value:function(t){var e;return null===(e=this.internalGet(t,!0))||void 0===e?void 0:e[0]}},{key:"has",value:function(t){return!!this.internalGet(t)}},{key:"set",value:function(e,i){var n=this;if(!this.has(e)){if(this.size()+1>t.MAX_CACHE_SIZE+t.MAX_CACHE_OFFSET){var r=this.keys.reduce((function(t,e){var i=VE(t,2)[1];return n.internalGet(e)[1]<i?[e,n.internalGet(e)[1]]:t}),[this.keys[0],this.cacheCallTimes]),s=VE(r,1)[0];this.delete(s)}this.keys.push(e)}var o=this.cache;e.forEach((function(t,r){if(r===e.length-1)o.set(t,{value:[i,n.cacheCallTimes++]});else{var s=o.get(t);s?s.map||(s.map=new Map):o.set(t,{map:new Map}),o=o.get(t).map}}))}},{key:"deleteByPath",value:function(t,e){var i,n=t.get(e[0]);if(1===e.length)return n.map?t.set(e[0],{map:n.map}):t.delete(e[0]),null===(i=n.value)||void 0===i?void 0:i[0];var r=this.deleteByPath(n.map,e.slice(1));return n.map&&0!==n.map.size||n.value||t.delete(e[0]),r}},{key:"delete",value:function(t){if(this.has(t))return this.keys=this.keys.filter((function(e){return!function(t,e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}(e,t)})),this.deleteByPath(this.cache,t)}}]),t}();pE(xw,"MAX_CACHE_SIZE",20),pE(xw,"MAX_CACHE_OFFSET",5);var bw=0,Sw=function(){function t(e){ow(this,t),pE(this,"derivatives",void 0),pE(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=bw,0===e.length&&e.length,bw+=1}return lw(t,[{key:"getDerivativeToken",value:function(t){return this.derivatives.reduce((function(e,i){return i(t,e)}),void 0)}}]),t}(),Aw=new xw;function Ew(t){var e=Array.isArray(t)?t:[t];return Aw.has(e)||Aw.set(e,new Sw(e)),Aw.get(e)}var ww=new WeakMap,kw={};var Cw=new WeakMap;function Mw(t){var e=Cw.get(t)||"";return e||(Object.keys(t).forEach((function(i){var n=t[i];e+=i,n instanceof Sw?e+=n.id:n&&"object"===cE(n)?e+=Mw(n):e+=n})),Cw.set(t,e)),e}function Tw(t,e){return _E("".concat(e,"_").concat(Mw(t)))}var Pw="random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),Fw="_bAmBoO_";function Lw(t,e,i){if(NE()){var n,r;JE(t,Pw);var s=document.createElement("div");s.style.position="fixed",s.style.left="0",s.style.top="0",null===e||void 0===e||e(s),document.body.appendChild(s);var o=i?i(s):null===(n=getComputedStyle(s).content)||void 0===n?void 0:n.includes(Fw);return null===(r=s.parentNode)||void 0===r||r.removeChild(s),qE(Pw),o}return!1}var Rw=void 0;var Bw=NE();function zw(t){return"number"===typeof t?"".concat(t,"px"):t}function Iw(t,e,i){var n;if(arguments.length>4&&void 0!==arguments[4]&&arguments[4])return t;var r=yE(yE({},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),{},(pE(n={},fw,e),pE(n,gw,i),n)),s=Object.keys(r).map((function(t){var e=r[t];return e?"".concat(t,'="').concat(e,'"'):null})).filter((function(t){return t})).join(" ");return"<style ".concat(s,">").concat(t,"</style>")}var Dw=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"--".concat(e?"".concat(e,"-"):"").concat(t).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},Vw=function(t,e,i){return Object.keys(t).length?".".concat(e).concat(null!==i&&void 0!==i&&i.scope?".".concat(i.scope):"","{").concat(Object.entries(t).map((function(t){var e=VE(t,2),i=e[0],n=e[1];return"".concat(i,":").concat(n,";")})).join(""),"}"):""},_w=function(t,e,i){var n={},r={};return Object.entries(t).forEach((function(t){var e,s,o=VE(t,2),a=o[0],l=o[1];if(null!==i&&void 0!==i&&null!==(e=i.preserve)&&void 0!==e&&e[a])r[a]=l;else if(("string"===typeof l||"number"===typeof l)&&(null===i||void 0===i||null===(s=i.ignore)||void 0===s||!s[a])){var h,c=Dw(a,null===i||void 0===i?void 0:i.prefix);n[c]="number"!==typeof l||null!==i&&void 0!==i&&null!==(h=i.unitless)&&void 0!==h&&h[a]?String(l):"".concat(l,"px"),r[a]="var(".concat(c,")")}})),[r,Vw(n,e,{scope:null===i||void 0===i?void 0:i.scope})]},Nw=NE()?t.useLayoutEffect:t.useEffect,Ow=function(e,i){var n=t.useRef(!0);Nw((function(){return e(n.current)}),i),Nw((function(){return n.current=!1,function(){n.current=!0}}),[])},Hw=function(t,e){Ow((function(e){if(!e)return t()}),e)};const Uw=Ow;var Yw=yE({},e).useInsertionEffect;const Gw=Yw?function(t,e,i){return Yw((function(){return t(),e()}),i)}:function(e,i,n){t.useMemo(e,n),Uw((function(){return i(!0)}),n)};var jw="undefined"!==typeof yE({},e).useInsertionEffect?function(e){var i=[],n=!1;return t.useEffect((function(){return n=!1,function(){n=!0,i.length&&i.forEach((function(t){return t()}))}}),e),function(t){n||i.push(t)}}:function(){return function(t){t()}};const Xw=jw;const Ww=function(){return!1};function Zw(e,i,n,r,s){var o=t.useContext(vw).cache,a=cw([e].concat(hE(i))),l=Xw([a]),h=(Ww(),function(t){o.opUpdate(a,(function(e){var i=VE(e||[void 0,void 0],2),r=i[0];var s=[void 0===r?0:r,i[1]||n()];return t?t(s):s}))});t.useMemo((function(){h()}),[a]);var c=o.opGet(a)[1];return Gw((function(){null===s||void 0===s||s(c)}),(function(t){return h((function(e){var i=VE(e,2),n=i[0],r=i[1];return t&&0===n&&(null===s||void 0===s||s(c)),[n+1,r]})),function(){o.opUpdate(a,(function(e){var i=VE(e||[],2),n=i[0],s=void 0===n?0:n,h=i[1];return 0===s-1?(l((function(){!t&&o.opGet(a)||null===r||void 0===r||r(h,!1)})),null):[s-1,h]}))}}),[a]),c}var qw={},Jw="css",Kw=new Map;var Qw=0;function $w(t,e){Kw.set(t,(Kw.get(t)||0)-1);var i=Array.from(Kw.keys()),n=i.filter((function(t){return(Kw.get(t)||0)<=0}));i.length-n.length>Qw&&n.forEach((function(t){!function(t,e){"undefined"!==typeof document&&document.querySelectorAll("style[".concat(fw,'="').concat(t,'"]')).forEach((function(t){var i;t[pw]===e&&(null===(i=t.parentNode)||void 0===i||i.removeChild(t))}))}(t,e),Kw.delete(t)}))}var tk=function(t,e,i,n){var r=yE(yE({},i.getDerivativeToken(t)),e);return n&&(r=n(r)),r},ek="token";function ik(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,t.useContext)(vw),s=r.cache.instanceId,o=r.container,a=n.salt,l=void 0===a?"":a,h=n.override,c=void 0===h?qw:h,u=n.formatToken,d=n.getComputedToken,f=n.cssVar,g=function(t,e){for(var i=ww,n=0;n<e.length;n+=1){var r=e[n];i.has(r)||i.set(r,new WeakMap),i=i.get(r)}return i.has(kw)||i.set(kw,t()),i.get(kw)}((function(){return Object.assign.apply(Object,[{}].concat(hE(i)))}),i),p=Mw(g),m=Mw(c),y=f?Mw(f):"",v=Zw(ek,[l,e.id,p,m,y],(function(){var t,i=d?d(g,c,e):tk(g,c,e,u),n=yE({},i),r="";if(f){var s=VE(_w(i,f.key,{prefix:f.prefix,ignore:f.ignore,unitless:f.unitless,preserve:f.preserve}),2);i=s[0],r=s[1]}var o=Tw(i,l);i._tokenKey=o,n._tokenKey=Tw(n,l);var a=null!==(t=null===f||void 0===f?void 0:f.key)&&void 0!==t?t:o;i._themeKey=a,function(t){Kw.set(t,(Kw.get(t)||0)+1)}(a);var h="".concat(Jw,"-").concat(_E(o));return i._hashId=h,[i,h,n,r,(null===f||void 0===f?void 0:f.key)||""]}),(function(t){$w(t[0]._themeKey,s)}),(function(t){var e=VE(t,4),i=e[0],n=e[3];if(f&&n){var r=JE(n,_E("css-variables-".concat(i._themeKey)),{mark:gw,prepend:"queue",attachTo:o,priority:-999});r[pw]=s,r.setAttribute(fw,i._themeKey)}}));return v}function nk(){return nk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},nk.apply(this,arguments)}const rk={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var sk="comm",ok="rule",ak="decl",lk="@import",hk="@keyframes",ck="@layer",uk=Math.abs,dk=String.fromCharCode;Object.assign;function fk(t){return t.trim()}function gk(t,e,i){return t.replace(e,i)}function pk(t,e,i){return t.indexOf(e,i)}function mk(t,e){return 0|t.charCodeAt(e)}function yk(t,e,i){return t.slice(e,i)}function vk(t){return t.length}function xk(t,e){return e.push(t),t}function bk(t,e){for(var i="",n=0;n<t.length;n++)i+=e(t[n],n,t,e)||"";return i}function Sk(t,e,i,n){switch(t.type){case ck:if(t.children.length)break;case lk:case ak:return t.return=t.return||t.value;case sk:return"";case hk:return t.return=t.value+"{"+bk(t.children,n)+"}";case ok:if(!vk(t.value=t.props.join(",")))return""}return vk(i=bk(t.children,n))?t.return=t.value+"{"+i+"}":""}var Ak=1,Ek=1,wk=0,kk=0,Ck=0,Mk="";function Tk(t,e,i,n,r,s,o,a){return{value:t,root:e,parent:i,type:n,props:r,children:s,line:Ak,column:Ek,length:o,return:"",siblings:a}}function Pk(){return Ck=kk>0?mk(Mk,--kk):0,Ek--,10===Ck&&(Ek=1,Ak--),Ck}function Fk(){return Ck=kk<wk?mk(Mk,kk++):0,Ek++,10===Ck&&(Ek=1,Ak++),Ck}function Lk(){return mk(Mk,kk)}function Rk(){return kk}function Bk(t,e){return yk(Mk,t,e)}function zk(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ik(t){return Ak=Ek=1,wk=vk(Mk=t),kk=0,[]}function Dk(t){return Mk="",t}function Vk(t){return fk(Bk(kk-1,Ok(91===t?t+2:40===t?t+1:t)))}function _k(t){for(;(Ck=Lk())&&Ck<33;)Fk();return zk(t)>2||zk(Ck)>3?"":" "}function Nk(t,e){for(;--e&&Fk()&&!(Ck<48||Ck>102||Ck>57&&Ck<65||Ck>70&&Ck<97););return Bk(t,Rk()+(e<6&&32==Lk()&&32==Fk()))}function Ok(t){for(;Fk();)switch(Ck){case t:return kk;case 34:case 39:34!==t&&39!==t&&Ok(Ck);break;case 40:41===t&&Ok(t);break;case 92:Fk()}return kk}function Hk(t,e){for(;Fk()&&t+Ck!==57&&(t+Ck!==84||47!==Lk()););return"/*"+Bk(e,kk-1)+"*"+dk(47===t?t:Fk())}function Uk(t){for(;!zk(Lk());)Fk();return Bk(t,kk)}function Yk(t){return Dk(Gk("",null,null,null,[""],t=Ik(t),0,[0],t))}function Gk(t,e,i,n,r,s,o,a,l){for(var h=0,c=0,u=o,d=0,f=0,g=0,p=1,m=1,y=1,v=0,x="",b=r,S=s,A=n,E=x;m;)switch(g=v,v=Fk()){case 40:if(108!=g&&58==mk(E,u-1)){-1!=pk(E+=gk(Vk(v),"&","&\f"),"&\f",uk(h?a[h-1]:0))&&(y=-1);break}case 34:case 39:case 91:E+=Vk(v);break;case 9:case 10:case 13:case 32:E+=_k(g);break;case 92:E+=Nk(Rk()-1,7);continue;case 47:switch(Lk()){case 42:case 47:xk(Xk(Hk(Fk(),Rk()),e,i,l),l);break;default:E+="/"}break;case 123*p:a[h++]=vk(E)*y;case 125*p:case 59:case 0:switch(v){case 0:case 125:m=0;case 59+c:-1==y&&(E=gk(E,/\f/g,"")),f>0&&vk(E)-u&&xk(f>32?Wk(E+";",n,i,u-1,l):Wk(gk(E," ","")+";",n,i,u-2,l),l);break;case 59:E+=";";default:if(xk(A=jk(E,e,i,h,c,r,a,x,b=[],S=[],u,s),s),123===v)if(0===c)Gk(E,e,A,A,b,s,u,a,S);else switch(99===d&&110===mk(E,3)?100:d){case 100:case 108:case 109:case 115:Gk(t,A,A,n&&xk(jk(t,A,A,0,0,r,a,x,r,b=[],u,S),S),r,S,u,a,n?b:S);break;default:Gk(E,A,A,A,[""],S,0,a,S)}}h=c=f=0,p=y=1,x=E="",u=o;break;case 58:u=1+vk(E),f=g;default:if(p<1)if(123==v)--p;else if(125==v&&0==p++&&125==Pk())continue;switch(E+=dk(v),v*p){case 38:y=c>0?1:(E+="\f",-1);break;case 44:a[h++]=(vk(E)-1)*y,y=1;break;case 64:45===Lk()&&(E+=Vk(Fk())),d=Lk(),c=u=vk(x=E+=Uk(Rk())),v++;break;case 45:45===g&&2==vk(E)&&(p=0)}}return s}function jk(t,e,i,n,r,s,o,a,l,h,c,u){for(var d=r-1,f=0===r?s:[""],g=function(t){return t.length}(f),p=0,m=0,y=0;p<n;++p)for(var v=0,x=yk(t,d+1,d=uk(m=o[p])),b=t;v<g;++v)(b=fk(m>0?f[v]+" "+x:gk(x,/&\f/g,f[v])))&&(l[y++]=b);return Tk(t,e,i,0===r?ok:a,l,h,c,u)}function Xk(t,e,i,n){return Tk(t,e,i,sk,dk(Ck),yk(t,2,-2),0,n)}function Wk(t,e,i,n,r){return Tk(t,e,i,ak,yk(t,0,n),yk(t,n+1,-1),n,r)}var Zk,qk="data-ant-cssinjs-cache-path",Jk="_FILE_STYLE__";var Kk=!0;function Qk(t){return function(){if(!Zk&&(Zk={},NE())){var t=document.createElement("div");t.className=qk,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);var e=getComputedStyle(t).content||"";(e=e.replace(/^"/,"").replace(/"$/,"")).split(";").forEach((function(t){var e=VE(t.split(":"),2),i=e[0],n=e[1];Zk[i]=n}));var i,n=document.querySelector("style[".concat(qk,"]"));n&&(Kk=!1,null===(i=n.parentNode)||void 0===i||i.removeChild(n)),document.body.removeChild(t)}}(),!!Zk[t]}var $k="_multi_value_";function tC(t){return bk(Yk(t),Sk).replace(/\{%%%\:[^;];}/g,";")}var eC=function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0,parentSelectors:[]},r=n.root,s=n.injectHash,o=n.parentSelectors,a=i.hashId,l=i.layer,h=(i.path,i.hashPriority),c=i.transformers,u=void 0===c?[]:c,d=(i.linters,""),f={};function g(e){var n=e.getName(a);if(!f[n]){var r=VE(t(e.style,i,{root:!1,parentSelectors:o}),1)[0];f[n]="@keyframes ".concat(e.getName(a)).concat(r)}}var p=function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.forEach((function(e){Array.isArray(e)?t(e,i):e&&i.push(e)})),i}(Array.isArray(e)?e:[e]);if(p.forEach((function(e){var n="string"!==typeof e||r?e:{};if("string"===typeof n)d+="".concat(n,"\n");else if(n._keyframe)g(n);else{var l=u.reduce((function(t,e){var i;return(null===e||void 0===e||null===(i=e.visit)||void 0===i?void 0:i.call(e,t))||t}),n);Object.keys(l).forEach((function(e){var n=l[e];if("object"!==cE(n)||!n||"animationName"===e&&n._keyframe||function(t){return"object"===cE(t)&&t&&("_skip_check_"in t||$k in t)}(n)){var c;function S(t,e){var i=t.replace(/[A-Z]/g,(function(t){return"-".concat(t.toLowerCase())})),n=e;rk[t]||"number"!==typeof n||0===n||(n="".concat(n,"px")),"animationName"===t&&null!==e&&void 0!==e&&e._keyframe&&(g(e),n=e.getName(a)),d+="".concat(i,":").concat(n,";")}var u=null!==(c=null===n||void 0===n?void 0:n.value)&&void 0!==c?c:n;"object"===cE(n)&&null!==n&&void 0!==n&&n[$k]&&Array.isArray(u)?u.forEach((function(t){S(e,t)})):S(e,u)}else{var p=!1,m=e.trim(),y=!1;(r||s)&&a?m.startsWith("@")?p=!0:m=function(t,e,i){if(!e)return t;var n=".".concat(e),r="low"===i?":where(".concat(n,")"):n,s=t.split(",").map((function(t){var e,i=t.trim().split(/\s+/),n=i[0]||"",s=(null===(e=n.match(/^\w+/))||void 0===e?void 0:e[0])||"";return[n="".concat(s).concat(r).concat(n.slice(s.length))].concat(hE(i.slice(1))).join(" ")}));return s.join(",")}(e,a,h):!r||a||"&"!==m&&""!==m||(m="",y=!0);var v=VE(t(n,i,{root:y,injectHash:p,parentSelectors:[].concat(hE(o),[m])}),2),x=v[0],b=v[1];f=yE(yE({},f),b),d+="".concat(m).concat(x)}}))}})),r){if(l&&(void 0===Rw&&(Rw=Lw("@layer ".concat(Pw," { .").concat(Pw,' { content: "').concat(Fw,'"!important; } }'),(function(t){t.className=Pw}))),Rw)){var m=l.split(","),y=m[m.length-1].trim();d="@layer ".concat(y," {").concat(d,"}"),m.length>1&&(d="@layer ".concat(l,"{%%%:%}").concat(d))}}else d="{".concat(d,"}");return[d,f]};function iC(t,e){return _E("".concat(t.join("%")).concat(e))}function nC(){return null}var rC="style";function sC(e,i){var n=e.token,r=e.path,s=e.hashId,o=e.layer,a=e.nonce,l=e.clientOnly,h=e.order,c=void 0===h?0:h,u=t.useContext(vw),d=u.autoClear,f=(u.mock,u.defaultCache),g=u.hashPriority,p=u.container,m=u.ssrInline,y=u.transformers,v=u.linters,x=u.cache,b=n._tokenKey,S=[b].concat(hE(r)),A=Bw;var E=Zw(rC,S,(function(){var t=S.join("|");if(Qk(t)){var e=function(t){var e=Zk[t],i=null;if(e&&NE())if(Kk)i=Jk;else{var n=document.querySelector("style[".concat(gw,'="').concat(Zk[t],'"]'));n?i=n.innerHTML:delete Zk[t]}return[i,e]}(t),n=VE(e,2),a=n[0],h=n[1];if(a)return[a,b,h,{},l,c]}var u=i(),d=VE(eC(u,{hashId:s,hashPriority:g,layer:o,path:r.join("-"),transformers:y,linters:v}),2),f=d[0],p=d[1],m=tC(f),x=iC(S,m);return[m,b,x,p,l,c]}),(function(t,e){var i=VE(t,3)[2];(e||d)&&Bw&&qE(i,{mark:gw})}),(function(t){var e=VE(t,4),i=e[0],n=(e[1],e[2]),r=e[3];if(A&&i!==Jk){var s={mark:gw,prepend:"queue",attachTo:p,priority:c},o="function"===typeof a?a():a;o&&(s.csp={nonce:o});var l=JE(i,n,s);l[pw]=x.instanceId,l.setAttribute(fw,b),Object.keys(r).forEach((function(t){JE(tC(r[t]),"_effect-".concat(t),s)}))}})),w=VE(E,3),k=w[0],C=w[1],M=w[2];return function(e){var i,n;m&&!A&&f?i=t.createElement("style",nk({},(pE(n={},fw,C),pE(n,gw,M),n),{dangerouslySetInnerHTML:{__html:k}})):i=t.createElement(nC,null);return t.createElement(t.Fragment,null,i,e)}}var oC="cssVar";const aC=function(e,i){var n=e.key,r=e.prefix,s=e.unitless,o=e.ignore,a=e.token,l=e.scope,h=void 0===l?"":l,c=(0,t.useContext)(vw),u=c.cache.instanceId,d=c.container,f=a._tokenKey,g=[].concat(hE(e.path),[n,h,f]),p=Zw(oC,g,(function(){var t=i(),e=VE(_w(t,n,{prefix:r,unitless:s,ignore:o,scope:h}),2),a=e[0],l=e[1];return[a,l,iC(g,l),n]}),(function(t){var e=VE(t,3)[2];Bw&&qE(e,{mark:gw})}),(function(t){var e=VE(t,3),i=e[1],r=e[2];if(i){var s=JE(i,r,{mark:gw,prepend:"queue",attachTo:d,priority:-999});s[pw]=u,s.setAttribute(fw,n)}}));return p};var lC;pE(lC={},rC,(function(t,e,i){var n=VE(t,6),r=n[0],s=n[1],o=n[2],a=n[3],l=n[4],h=n[5],c=(i||{}).plain;if(l)return null;var u=r,d={"data-rc-order":"prependQueue","data-rc-priority":"".concat(h)};return u=Iw(r,s,o,d,c),a&&Object.keys(a).forEach((function(t){if(!e[t]){e[t]=!0;var i=tC(a[t]);u+=Iw(i,s,"_effect-".concat(t),d,c)}})),[h,o,u]})),pE(lC,ek,(function(t,e,i){var n=VE(t,5),r=n[2],s=n[3],o=n[4],a=(i||{}).plain;if(!s)return null;var l=r._tokenKey;return[-999,l,Iw(s,o,l,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},a)]})),pE(lC,oC,(function(t,e,i){var n=VE(t,4),r=n[1],s=n[2],o=n[3],a=(i||{}).plain;if(!r)return null;return[-999,s,Iw(r,o,s,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},a)]}));var hC=function(){function t(e,i){ow(this,t),pE(this,"name",void 0),pE(this,"style",void 0),pE(this,"_keyframe",!0),this.name=e,this.style=i}return lw(t,[{key:"getName",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t?"".concat(t,"-").concat(this.name):this.name}}]),t}();const cC=hC;function uC(t){return t.notSplit=!0,t}uC(["borderTop","borderBottom"]),uC(["borderTop"]),uC(["borderBottom"]),uC(["borderLeft","borderRight"]),uC(["borderLeft"]),uC(["borderRight"]);const dC=(0,t.createContext)({});function fC(t){return IE(t)||aE(t)||lE(t)||DE()}function gC(t,e){for(var i=t,n=0;n<e.length;n+=1){if(null===i||void 0===i)return;i=i[e[n]]}return i}function pC(t,e,i,n){if(!e.length)return i;var r,s=fC(e),o=s[0],a=s.slice(1);return r=t||"number"!==typeof o?Array.isArray(t)?hE(t):yE({},t):[],n&&void 0===i&&1===a.length?delete r[o][a[0]]:r[o]=pC(r[o],a,i,n),r}function mC(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.length&&n&&void 0===i&&!gC(t,e.slice(0,-1))?t:pC(t,e,i,n)}function yC(t){return Array.isArray(t)?[]:{}}var vC="undefined"===typeof Reflect?Object.keys:Reflect.ownKeys;function xC(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=yC(e[0]);return e.forEach((function(t){!function e(i,r){var s,o=new Set(r),a=gC(t,i),l=Array.isArray(a);if(l||"object"===cE(s=a)&&null!==s&&Object.getPrototypeOf(s)===Object.prototype){if(!o.has(a)){o.add(a);var h=gC(n,i);l?n=mC(n,i,[]):h&&"object"===cE(h)||(n=mC(n,i,yC(a))),vC(a).forEach((function(t){e([].concat(hE(i),[t]),o)}))}}else n=mC(n,i,a)}([])})),n}function bC(){}const SC=t.createContext({}),AC=()=>{const t=()=>{};return t.deprecated=bC,t},EC=(0,t.createContext)(void 0);const wC={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};const kC={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},CC={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},MC={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},kC),timePickerLocale:Object.assign({},CC)},TC="${label} is not a valid ${type}",PC={locale:"en",Pagination:wC,DatePicker:MC,TimePicker:CC,Calendar:MC,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:TC,method:TC,array:TC,object:TC,number:TC,date:TC,boolean:TC,integer:TC,float:TC,regexp:TC,email:TC,url:TC,hex:TC},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty"}};let FC=Object.assign({},PC.Modal),LC=[];const RC=()=>LC.reduce(((t,e)=>Object.assign(Object.assign({},t),e)),PC.Modal);const BC=(0,t.createContext)(void 0);const zC=e=>{const{locale:i={},children:n,_ANT_MARK__:r}=e;t.useEffect((()=>{const t=function(t){if(t){const e=Object.assign({},t);return LC.push(e),FC=RC(),()=>{LC=LC.filter((t=>t!==e)),FC=RC()}}FC=Object.assign({},PC.Modal)}(i&&i.Modal);return t}),[i]);const s=t.useMemo((()=>Object.assign(Object.assign({},i),{exist:!0})),[i]);return t.createElement(BC.Provider,{value:s},n)};function IC(t,e){(function(t){return"string"===typeof t&&-1!==t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var i=function(t){return"string"===typeof t&&-1!==t.indexOf("%")}(t);return t=360===e?t:Math.min(e,Math.max(0,parseFloat(t))),i&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:t=360===e?(t<0?t%e+e:t%e)/parseFloat(String(e)):t%e/parseFloat(String(e))}function DC(t){return Math.min(1,Math.max(0,t))}function VC(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function _C(t){return t<=1?"".concat(100*Number(t),"%"):t}function NC(t){return 1===t.length?"0"+t:String(t)}function OC(t,e,i){t=IC(t,255),e=IC(e,255),i=IC(i,255);var n=Math.max(t,e,i),r=Math.min(t,e,i),s=0,o=0,a=(n+r)/2;if(n===r)o=0,s=0;else{var l=n-r;switch(o=a>.5?l/(2-n-r):l/(n+r),n){case t:s=(e-i)/l+(e<i?6:0);break;case e:s=(i-t)/l+2;break;case i:s=(t-e)/l+4}s/=6}return{h:s,s:o,l:a}}function HC(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*i*(e-t):i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function UC(t,e,i){t=IC(t,255),e=IC(e,255),i=IC(i,255);var n=Math.max(t,e,i),r=Math.min(t,e,i),s=0,o=n,a=n-r,l=0===n?0:a/n;if(n===r)s=0;else{switch(n){case t:s=(e-i)/a+(e<i?6:0);break;case e:s=(i-t)/a+2;break;case i:s=(t-e)/a+4}s/=6}return{h:s,s:l,v:o}}function YC(t,e,i,n){var r=[NC(Math.round(t).toString(16)),NC(Math.round(e).toString(16)),NC(Math.round(i).toString(16))];return n&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function GC(t){return Math.round(255*parseFloat(t)).toString(16)}function jC(t){return XC(t)/255}function XC(t){return parseInt(t,16)}var WC={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function ZC(t){var e={r:0,g:0,b:0},i=1,n=null,r=null,s=null,o=!1,a=!1;return"string"===typeof t&&(t=function(t){if(t=t.trim().toLowerCase(),0===t.length)return!1;var e=!1;if(WC[t])t=WC[t],e=!0;else if("transparent"===t)return{r:0,g:0,b:0,a:0,format:"name"};var i=QC.rgb.exec(t);if(i)return{r:i[1],g:i[2],b:i[3]};if(i=QC.rgba.exec(t),i)return{r:i[1],g:i[2],b:i[3],a:i[4]};if(i=QC.hsl.exec(t),i)return{h:i[1],s:i[2],l:i[3]};if(i=QC.hsla.exec(t),i)return{h:i[1],s:i[2],l:i[3],a:i[4]};if(i=QC.hsv.exec(t),i)return{h:i[1],s:i[2],v:i[3]};if(i=QC.hsva.exec(t),i)return{h:i[1],s:i[2],v:i[3],a:i[4]};if(i=QC.hex8.exec(t),i)return{r:XC(i[1]),g:XC(i[2]),b:XC(i[3]),a:jC(i[4]),format:e?"name":"hex8"};if(i=QC.hex6.exec(t),i)return{r:XC(i[1]),g:XC(i[2]),b:XC(i[3]),format:e?"name":"hex"};if(i=QC.hex4.exec(t),i)return{r:XC(i[1]+i[1]),g:XC(i[2]+i[2]),b:XC(i[3]+i[3]),a:jC(i[4]+i[4]),format:e?"name":"hex8"};if(i=QC.hex3.exec(t),i)return{r:XC(i[1]+i[1]),g:XC(i[2]+i[2]),b:XC(i[3]+i[3]),format:e?"name":"hex"};return!1}(t)),"object"===typeof t&&($C(t.r)&&$C(t.g)&&$C(t.b)?(e=function(t,e,i){return{r:255*IC(t,255),g:255*IC(e,255),b:255*IC(i,255)}}(t.r,t.g,t.b),o=!0,a="%"===String(t.r).substr(-1)?"prgb":"rgb"):$C(t.h)&&$C(t.s)&&$C(t.v)?(n=_C(t.s),r=_C(t.v),e=function(t,e,i){t=6*IC(t,360),e=IC(e,100),i=IC(i,100);var n=Math.floor(t),r=t-n,s=i*(1-e),o=i*(1-r*e),a=i*(1-(1-r)*e),l=n%6;return{r:255*[i,o,s,s,a,i][l],g:255*[a,i,i,o,s,s][l],b:255*[s,s,a,i,i,o][l]}}(t.h,n,r),o=!0,a="hsv"):$C(t.h)&&$C(t.s)&&$C(t.l)&&(n=_C(t.s),s=_C(t.l),e=function(t,e,i){var n,r,s;if(t=IC(t,360),e=IC(e,100),i=IC(i,100),0===e)r=i,s=i,n=i;else{var o=i<.5?i*(1+e):i+e-i*e,a=2*i-o;n=HC(a,o,t+1/3),r=HC(a,o,t),s=HC(a,o,t-1/3)}return{r:255*n,g:255*r,b:255*s}}(t.h,n,s),o=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(i=t.a)),i=VC(i),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:i}}var qC="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),JC="[\\s|\\(]+(".concat(qC,")[,|\\s]+(").concat(qC,")[,|\\s]+(").concat(qC,")\\s*\\)?"),KC="[\\s|\\(]+(".concat(qC,")[,|\\s]+(").concat(qC,")[,|\\s]+(").concat(qC,")[,|\\s]+(").concat(qC,")\\s*\\)?"),QC={CSS_UNIT:new RegExp(qC),rgb:new RegExp("rgb"+JC),rgba:new RegExp("rgba"+KC),hsl:new RegExp("hsl"+JC),hsla:new RegExp("hsla"+KC),hsv:new RegExp("hsv"+JC),hsva:new RegExp("hsva"+KC),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function $C(t){return Boolean(QC.CSS_UNIT.exec(String(t)))}var tM=2,eM=.16,iM=.05,nM=.05,rM=.15,sM=5,oM=4,aM=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function lM(t){var e=UC(t.r,t.g,t.b);return{h:360*e.h,s:e.s,v:e.v}}function hM(t){var e=t.r,i=t.g,n=t.b;return"#".concat(YC(e,i,n,!1))}function cM(t,e,i){var n;return(n=Math.round(t.h)>=60&&Math.round(t.h)<=240?i?Math.round(t.h)-tM*e:Math.round(t.h)+tM*e:i?Math.round(t.h)+tM*e:Math.round(t.h)-tM*e)<0?n+=360:n>=360&&(n-=360),n}function uM(t,e,i){return 0===t.h&&0===t.s?t.s:((n=i?t.s-eM*e:e===oM?t.s+eM:t.s+iM*e)>1&&(n=1),i&&e===sM&&n>.1&&(n=.1),n<.06&&(n=.06),Number(n.toFixed(2)));var n}function dM(t,e,i){var n;return(n=i?t.v+nM*e:t.v-rM*e)>1&&(n=1),Number(n.toFixed(2))}function fM(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[],n=ZC(t),r=sM;r>0;r-=1){var s=lM(n),o=hM(ZC({h:cM(s,r,!0),s:uM(s,r,!0),v:dM(s,r,!0)}));i.push(o)}i.push(hM(n));for(var a=1;a<=oM;a+=1){var l=lM(n),h=hM(ZC({h:cM(l,a),s:uM(l,a),v:dM(l,a)}));i.push(h)}return"dark"===e.theme?aM.map((function(t){var n=t.index,r=t.opacity,s=hM(function(t,e,i){var n=i/100;return{r:(e.r-t.r)*n+t.r,g:(e.g-t.g)*n+t.g,b:(e.b-t.b)*n+t.b}}(ZC(e.backgroundColor||"#141414"),ZC(i[n]),100*r));return s})):i}var gM={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},pM={},mM={};Object.keys(gM).forEach((function(t){pM[t]=fM(gM[t]),pM[t].primary=pM[t][5],mM[t]=fM(gM[t],{theme:"dark",backgroundColor:"#141414"}),mM[t].primary=mM[t][5]}));pM.red,pM.volcano,pM.gold,pM.orange,pM.yellow,pM.lime,pM.green,pM.cyan;var yM=pM.blue;pM.geekblue,pM.purple,pM.magenta,pM.grey,pM.grey;const vM=t=>{const{controlHeight:e}=t;return{controlHeightSM:.75*e,controlHeightXS:.5*e,controlHeightLG:1.25*e}};const xM={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},bM=Object.assign(Object.assign({},xM),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});var SM=function(){function t(e,i){var n;if(void 0===e&&(e=""),void 0===i&&(i={}),e instanceof t)return e;"number"===typeof e&&(e=function(t){return{r:t>>16,g:(65280&t)>>8,b:255&t}}(e)),this.originalInput=e;var r=ZC(e);this.originalInput=e,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(n=i.format)&&void 0!==n?n:r.format,this.gradientType=i.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},t.prototype.getLuminance=function(){var t=this.toRgb(),e=t.r/255,i=t.g/255,n=t.b/255;return.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(t){return this.a=VC(t),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){return 0===this.toHsl().s},t.prototype.toHsv=function(){var t=UC(this.r,this.g,this.b);return{h:360*t.h,s:t.s,v:t.v,a:this.a}},t.prototype.toHsvString=function(){var t=UC(this.r,this.g,this.b),e=Math.round(360*t.h),i=Math.round(100*t.s),n=Math.round(100*t.v);return 1===this.a?"hsv(".concat(e,", ").concat(i,"%, ").concat(n,"%)"):"hsva(".concat(e,", ").concat(i,"%, ").concat(n,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var t=OC(this.r,this.g,this.b);return{h:360*t.h,s:t.s,l:t.l,a:this.a}},t.prototype.toHslString=function(){var t=OC(this.r,this.g,this.b),e=Math.round(360*t.h),i=Math.round(100*t.s),n=Math.round(100*t.l);return 1===this.a?"hsl(".concat(e,", ").concat(i,"%, ").concat(n,"%)"):"hsla(".concat(e,", ").concat(i,"%, ").concat(n,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(t){return void 0===t&&(t=!1),YC(this.r,this.g,this.b,t)},t.prototype.toHexString=function(t){return void 0===t&&(t=!1),"#"+this.toHex(t)},t.prototype.toHex8=function(t){return void 0===t&&(t=!1),function(t,e,i,n,r){var s=[NC(Math.round(t).toString(16)),NC(Math.round(e).toString(16)),NC(Math.round(i).toString(16)),NC(GC(n))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}(this.r,this.g,this.b,this.a,t)},t.prototype.toHex8String=function(t){return void 0===t&&(t=!1),"#"+this.toHex8(t)},t.prototype.toHexShortString=function(t){return void 0===t&&(t=!1),1===this.a?this.toHexString(t):this.toHex8String(t)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var t=Math.round(this.r),e=Math.round(this.g),i=Math.round(this.b);return 1===this.a?"rgb(".concat(t,", ").concat(e,", ").concat(i,")"):"rgba(".concat(t,", ").concat(e,", ").concat(i,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var t=function(t){return"".concat(Math.round(100*IC(t,255)),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var t=function(t){return Math.round(100*IC(t,255))};return 1===this.a?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var t="#"+YC(this.r,this.g,this.b,!1),e=0,i=Object.entries(WC);e<i.length;e++){var n=i[e],r=n[0];if(t===n[1])return r}return!1},t.prototype.toString=function(t){var e=Boolean(t);t=null!==t&&void 0!==t?t:this.format;var i=!1,n=this.a<1&&this.a>=0;return e||!n||!t.startsWith("hex")&&"name"!==t?("rgb"===t&&(i=this.toRgbString()),"prgb"===t&&(i=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(i=this.toHexString()),"hex3"===t&&(i=this.toHexString(!0)),"hex4"===t&&(i=this.toHex8String(!0)),"hex8"===t&&(i=this.toHex8String()),"name"===t&&(i=this.toName()),"hsl"===t&&(i=this.toHslString()),"hsv"===t&&(i=this.toHsvString()),i||this.toHexString()):"name"===t&&0===this.a?this.toName():this.toRgbString()},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){void 0===e&&(e=10);var i=this.toHsl();return i.l+=e/100,i.l=DC(i.l),new t(i)},t.prototype.brighten=function(e){void 0===e&&(e=10);var i=this.toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(-e/100*255))),i.g=Math.max(0,Math.min(255,i.g-Math.round(-e/100*255))),i.b=Math.max(0,Math.min(255,i.b-Math.round(-e/100*255))),new t(i)},t.prototype.darken=function(e){void 0===e&&(e=10);var i=this.toHsl();return i.l-=e/100,i.l=DC(i.l),new t(i)},t.prototype.tint=function(t){return void 0===t&&(t=10),this.mix("white",t)},t.prototype.shade=function(t){return void 0===t&&(t=10),this.mix("black",t)},t.prototype.desaturate=function(e){void 0===e&&(e=10);var i=this.toHsl();return i.s-=e/100,i.s=DC(i.s),new t(i)},t.prototype.saturate=function(e){void 0===e&&(e=10);var i=this.toHsl();return i.s+=e/100,i.s=DC(i.s),new t(i)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var i=this.toHsl(),n=(i.h+e)%360;return i.h=n<0?360+n:n,new t(i)},t.prototype.mix=function(e,i){void 0===i&&(i=50);var n=this.toRgb(),r=new t(e).toRgb(),s=i/100;return new t({r:(r.r-n.r)*s+n.r,g:(r.g-n.g)*s+n.g,b:(r.b-n.b)*s+n.b,a:(r.a-n.a)*s+n.a})},t.prototype.analogous=function(e,i){void 0===e&&(e=6),void 0===i&&(i=30);var n=this.toHsl(),r=360/i,s=[this];for(n.h=(n.h-(r*e>>1)+720)%360;--e;)n.h=(n.h+r)%360,s.push(new t(n));return s},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){void 0===e&&(e=6);for(var i=this.toHsv(),n=i.h,r=i.s,s=i.v,o=[],a=1/e;e--;)o.push(new t({h:n,s:r,v:s})),s=(s+a)%1;return o},t.prototype.splitcomplement=function(){var e=this.toHsl(),i=e.h;return[this,new t({h:(i+72)%360,s:e.s,l:e.l}),new t({h:(i+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var i=this.toRgb(),n=new t(e).toRgb(),r=i.a+n.a*(1-i.a);return new t({r:(i.r*i.a+n.r*n.a*(1-i.a))/r,g:(i.g*i.a+n.g*n.a*(1-i.a))/r,b:(i.b*i.a+n.b*n.a*(1-i.a))/r,a:r})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var i=this.toHsl(),n=i.h,r=[this],s=360/e,o=1;o<e;o++)r.push(new t({h:(n+o*s)%360,s:i.s,l:i.l}));return r},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();const AM=t=>{let e=t,i=t,n=t,r=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?i=4:t<8&&t>=7?i=5:t<14&&t>=8?i=6:t<16&&t>=14?i=7:t>=16&&(i=8),t<6&&t>=2?n=1:t>=6&&(n=2),t>4&&t<8?r=4:t>=8&&(r=6),{borderRadius:t,borderRadiusXS:n,borderRadiusSM:i,borderRadiusLG:e,borderRadiusOuter:r}};const EM=(t,e)=>new SM(t).setAlpha(e).toRgbString(),wM=(t,e)=>new SM(t).darken(e).toHexString(),kM=t=>{const e=fM(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},CM=(t,e)=>{const i=t||"#fff",n=e||"#000";return{colorBgBase:i,colorTextBase:n,colorText:EM(n,.88),colorTextSecondary:EM(n,.65),colorTextTertiary:EM(n,.45),colorTextQuaternary:EM(n,.25),colorFill:EM(n,.15),colorFillSecondary:EM(n,.06),colorFillTertiary:EM(n,.04),colorFillQuaternary:EM(n,.02),colorBgLayout:wM(i,4),colorBgContainer:wM(i,0),colorBgElevated:wM(i,0),colorBgSpotlight:EM(n,.85),colorBgBlur:"transparent",colorBorder:wM(i,15),colorBorderSecondary:wM(i,6)}};const MM=t=>{const e=function(t){const e=new Array(10).fill(null).map(((e,i)=>{const n=i-1,r=t*Math.pow(2.71828,n/5),s=i>1?Math.floor(r):Math.ceil(r);return 2*Math.floor(s/2)}));return e[1]=t,e.map((t=>{return{size:t,lineHeight:(e=t,(e+8)/e)};var e}))}(t),i=e.map((t=>t.size)),n=e.map((t=>t.lineHeight)),r=i[1],s=i[0],o=i[2],a=n[1],l=n[0],h=n[2];return{fontSizeSM:s,fontSize:r,fontSizeLG:o,fontSizeXL:i[3],fontSizeHeading1:i[6],fontSizeHeading2:i[5],fontSizeHeading3:i[4],fontSizeHeading4:i[3],fontSizeHeading5:i[2],lineHeight:a,lineHeightLG:h,lineHeightSM:l,fontHeight:Math.round(a*r),fontHeightLG:Math.round(h*o),fontHeightSM:Math.round(l*s),lineHeightHeading1:n[6],lineHeightHeading2:n[5],lineHeightHeading3:n[4],lineHeightHeading4:n[3],lineHeightHeading5:n[2]}};const TM=Ew((function(t){const e=Object.keys(xM).map((e=>{const i=fM(t[e]);return new Array(10).fill(1).reduce(((t,n,r)=>(t["".concat(e,"-").concat(r+1)]=i[r],t["".concat(e).concat(r+1)]=i[r],t)),{})})).reduce(((t,e)=>t=Object.assign(Object.assign({},t),e)),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),e),function(t,e){let{generateColorPalettes:i,generateNeutralColorPalettes:n}=e;const{colorSuccess:r,colorWarning:s,colorError:o,colorInfo:a,colorPrimary:l,colorBgBase:h,colorTextBase:c}=t,u=i(l),d=i(r),f=i(s),g=i(o),p=i(a),m=n(h,c),y=i(t.colorLink||t.colorInfo);return Object.assign(Object.assign({},m),{colorPrimaryBg:u[1],colorPrimaryBgHover:u[2],colorPrimaryBorder:u[3],colorPrimaryBorderHover:u[4],colorPrimaryHover:u[5],colorPrimary:u[6],colorPrimaryActive:u[7],colorPrimaryTextHover:u[8],colorPrimaryText:u[9],colorPrimaryTextActive:u[10],colorSuccessBg:d[1],colorSuccessBgHover:d[2],colorSuccessBorder:d[3],colorSuccessBorderHover:d[4],colorSuccessHover:d[4],colorSuccess:d[6],colorSuccessActive:d[7],colorSuccessTextHover:d[8],colorSuccessText:d[9],colorSuccessTextActive:d[10],colorErrorBg:g[1],colorErrorBgHover:g[2],colorErrorBorder:g[3],colorErrorBorderHover:g[4],colorErrorHover:g[5],colorError:g[6],colorErrorActive:g[7],colorErrorTextHover:g[8],colorErrorText:g[9],colorErrorTextActive:g[10],colorWarningBg:f[1],colorWarningBgHover:f[2],colorWarningBorder:f[3],colorWarningBorderHover:f[4],colorWarningHover:f[4],colorWarning:f[6],colorWarningActive:f[7],colorWarningTextHover:f[8],colorWarningText:f[9],colorWarningTextActive:f[10],colorInfoBg:p[1],colorInfoBgHover:p[2],colorInfoBorder:p[3],colorInfoBorderHover:p[4],colorInfoHover:p[4],colorInfo:p[6],colorInfoActive:p[7],colorInfoTextHover:p[8],colorInfoText:p[9],colorInfoTextActive:p[10],colorLinkHover:y[4],colorLink:y[6],colorLinkActive:y[7],colorBgMask:new SM("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}(t,{generateColorPalettes:kM,generateNeutralColorPalettes:CM})),MM(t.fontSize)),function(t){const{sizeUnit:e,sizeStep:i}=t;return{sizeXXL:e*(i+8),sizeXL:e*(i+4),sizeLG:e*(i+2),sizeMD:e*(i+1),sizeMS:e*i,size:e*i,sizeSM:e*(i-1),sizeXS:e*(i-2),sizeXXS:e*(i-3)}}(t)),vM(t)),function(t){const{motionUnit:e,motionBase:i,borderRadius:n,lineWidth:r}=t;return Object.assign({motionDurationFast:"".concat((i+e).toFixed(1),"s"),motionDurationMid:"".concat((i+2*e).toFixed(1),"s"),motionDurationSlow:"".concat((i+3*e).toFixed(1),"s"),lineWidthBold:r+1},AM(n))}(t))})),PM={token:bM,override:{override:bM},hashed:!0},FM=t.createContext(PM),LM="-ant-".concat(Date.now(),"-").concat(Math.random());function RM(t,e){const i=function(t,e){const i={},n=(t,e)=>{let i=t.clone();return i=(null===e||void 0===e?void 0:e(i))||i,i.toRgbString()},r=(t,e)=>{const r=new SM(t),s=fM(r.toRgbString());i["".concat(e,"-color")]=n(r),i["".concat(e,"-color-disabled")]=s[1],i["".concat(e,"-color-hover")]=s[4],i["".concat(e,"-color-active")]=s[6],i["".concat(e,"-color-outline")]=r.clone().setAlpha(.2).toRgbString(),i["".concat(e,"-color-deprecated-bg")]=s[0],i["".concat(e,"-color-deprecated-border")]=s[2]};if(e.primaryColor){r(e.primaryColor,"primary");const t=new SM(e.primaryColor),s=fM(t.toRgbString());s.forEach(((t,e)=>{i["primary-".concat(e+1)]=t})),i["primary-color-deprecated-l-35"]=n(t,(t=>t.lighten(35))),i["primary-color-deprecated-l-20"]=n(t,(t=>t.lighten(20))),i["primary-color-deprecated-t-20"]=n(t,(t=>t.tint(20))),i["primary-color-deprecated-t-50"]=n(t,(t=>t.tint(50))),i["primary-color-deprecated-f-12"]=n(t,(t=>t.setAlpha(.12*t.getAlpha())));const o=new SM(s[0]);i["primary-color-active-deprecated-f-30"]=n(o,(t=>t.setAlpha(.3*t.getAlpha()))),i["primary-color-active-deprecated-d-02"]=n(o,(t=>t.darken(2)))}e.successColor&&r(e.successColor,"success"),e.warningColor&&r(e.warningColor,"warning"),e.errorColor&&r(e.errorColor,"error"),e.infoColor&&r(e.infoColor,"info");const s=Object.keys(i).map((e=>"--".concat(t,"-").concat(e,": ").concat(i[e],";")));return"\n  :root {\n    ".concat(s.join("\n"),"\n  }\n  ").trim()}(t,e);NE()&&JE(i,"".concat(LM,"-dynamic-theme"))}const BM=t.createContext(!1),zM=e=>{let{children:i,disabled:n}=e;const r=t.useContext(BM);return t.createElement(BM.Provider,{value:null!==n&&void 0!==n?n:r},i)},IM=BM,DM=t.createContext(void 0),VM=e=>{let{children:i,size:n}=e;const r=t.useContext(DM);return t.createElement(DM.Provider,{value:n||r},i)},_M=DM;const NM=function(){return{componentDisabled:(0,t.useContext)(IM),componentSize:(0,t.useContext)(_M)}},OM=Object.assign({},e),{useId:HM}=OM,UM="undefined"===typeof HM?()=>"":HM;var YM=i(264),GM=i.n(YM);function jM(t){return t instanceof HTMLElement||t instanceof SVGElement}function XM(e){return jM(e)?e:e instanceof t.Component?xE.findDOMNode(e):null}var WM=i(411);function ZM(t,e){"function"===typeof t?t(e):"object"===cE(t)&&t&&"current"in t&&(t.current=e)}function qM(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e.filter((function(t){return t}));return n.length<=1?n[0]:function(t){e.forEach((function(e){ZM(e,t)}))}}function JM(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return KE((function(){return qM.apply(void 0,e)}),e,(function(t,e){return t.length!==e.length||t.every((function(t,i){return t!==e[i]}))}))}function KM(t){var e,i,n=(0,WM.isMemo)(t)?t.type.type:t.type;return!!("function"!==typeof n||null!==(e=n.prototype)&&void 0!==e&&e.render)&&!!("function"!==typeof t||null!==(i=t.prototype)&&void 0!==i&&i.render)}function QM(t,e){if(null==t)return{};var i,n,r=function(t,e){if(null==t)return{};var i,n,r={},s=Object.keys(t);for(n=0;n<s.length;n++)i=s[n],e.indexOf(i)>=0||(r[i]=t[i]);return r}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)i=s[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}var $M=["children"],tT=t.createContext({});function eT(e){var i=e.children,n=QM(e,$M);return t.createElement(tT.Provider,{value:n},i)}function iT(t,e){return iT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},iT(t,e)}function nT(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iT(t,e)}function rT(t){return rT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rT(t)}function sT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(sT=function(){return!!t})()}function oT(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aT(t,e){if(e&&("object"===cE(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return oT(t)}function lT(t){var e=sT();return function(){var i,n=rT(t);if(e){var r=rT(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return aT(this,i)}}const hT=function(t){nT(i,t);var e=lT(i);function i(){return ow(this,i),e.apply(this,arguments)}return lw(i,[{key:"render",value:function(){return this.props.children}}]),i}(t.Component);function cT(e){var i=t.useRef(!1),n=VE(t.useState(e),2),r=n[0],s=n[1];return t.useEffect((function(){return i.current=!1,function(){i.current=!0}}),[]),[r,function(t,e){e&&i.current||s(t)}]}var uT="none",dT="appear",fT="enter",gT="leave",pT="none",mT="prepare",yT="start",vT="active",xT="end",bT="prepared";function ST(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit".concat(t)]="webkit".concat(e),i["Moz".concat(t)]="moz".concat(e),i["ms".concat(t)]="MS".concat(e),i["O".concat(t)]="o".concat(e.toLowerCase()),i}var AT=function(t,e){var i={animationend:ST("Animation","AnimationEnd"),transitionend:ST("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete i.animationend.animation,"TransitionEvent"in e||delete i.transitionend.transition),i}(NE(),"undefined"!==typeof window?window:{}),ET={};if(NE()){var wT=document.createElement("div");ET=wT.style}var kT={};function CT(t){if(kT[t])return kT[t];var e=AT[t];if(e)for(var i=Object.keys(e),n=i.length,r=0;r<n;r+=1){var s=i[r];if(Object.prototype.hasOwnProperty.call(e,s)&&s in ET)return kT[t]=e[s],kT[t]}return""}var MT=CT("animationend"),TT=CT("transitionend"),PT=!(!MT||!TT),FT=MT||"animationend",LT=TT||"transitionend";function RT(t,e){if(!t)return null;if("object"===cE(t)){var i=e.replace(/-\w/g,(function(t){return t[1].toUpperCase()}));return t[i]}return"".concat(t,"-").concat(e)}const BT=function(e){var i=(0,t.useRef)(),n=(0,t.useRef)(e);n.current=e;var r=t.useCallback((function(t){n.current(t)}),[]);function s(t){t&&(t.removeEventListener(LT,r),t.removeEventListener(FT,r))}return t.useEffect((function(){return function(){s(i.current)}}),[]),[function(t){i.current&&i.current!==t&&s(i.current),t&&t!==i.current&&(t.addEventListener(LT,r),t.addEventListener(FT,r),i.current=t)},s]};const zT=NE()?t.useLayoutEffect:t.useEffect;var IT=function(t){return+setTimeout(t,16)},DT=function(t){return clearTimeout(t)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(IT=function(t){return window.requestAnimationFrame(t)},DT=function(t){return window.cancelAnimationFrame(t)});var VT=0,_T=new Map;function NT(t){_T.delete(t)}var OT=function(t){var e=VT+=1;return function i(n){if(0===n)NT(e),t();else{var r=IT((function(){i(n-1)}));_T.set(e,r)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),e};OT.cancel=function(t){var e=_T.get(t);return NT(t),DT(e)};const HT=OT;var UT=[mT,yT,vT,xT],YT=[mT,bT],GT=!1,jT=!0;function XT(t){return t===vT||t===xT}const WT=function(e,i,n){var r=VE(cT(pT),2),s=r[0],o=r[1],a=function(){var e=t.useRef(null);function i(){HT.cancel(e.current)}return t.useEffect((function(){return function(){i()}}),[]),[function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;i();var s=HT((function(){r<=1?n({isCanceled:function(){return s!==e.current}}):t(n,r-1)}));e.current=s},i]}(),l=VE(a,2),h=l[0],c=l[1];var u=i?YT:UT;return zT((function(){if(s!==pT&&s!==xT){var t=u.indexOf(s),e=u[t+1],i=n(s);i===GT?o(e,!0):e&&h((function(t){function n(){t.isCanceled()||o(e,!0)}!0===i?n():Promise.resolve(i).then(n)}))}}),[e,s]),t.useEffect((function(){return function(){c()}}),[]),[function(){o(mT,!0)},s]};const ZT=function(e){var i=e;"object"===cE(e)&&(i=e.transitionSupport);var n=t.forwardRef((function(e,n){var r=e.visible,s=void 0===r||r,o=e.removeOnLeave,a=void 0===o||o,l=e.forceRender,h=e.children,c=e.motionName,u=e.leavedClassName,d=e.eventProps,f=function(t,e){return!(!t.motionName||!i||!1===e)}(e,t.useContext(tT).motion),g=(0,t.useRef)(),p=(0,t.useRef)();var m=function(e,i,n,r){var s=r.motionEnter,o=void 0===s||s,a=r.motionAppear,l=void 0===a||a,h=r.motionLeave,c=void 0===h||h,u=r.motionDeadline,d=r.motionLeaveImmediately,f=r.onAppearPrepare,g=r.onEnterPrepare,p=r.onLeavePrepare,m=r.onAppearStart,y=r.onEnterStart,v=r.onLeaveStart,x=r.onAppearActive,b=r.onEnterActive,S=r.onLeaveActive,A=r.onAppearEnd,E=r.onEnterEnd,w=r.onLeaveEnd,k=r.onVisibleChanged,C=VE(cT(),2),M=C[0],T=C[1],P=VE(cT(uT),2),F=P[0],L=P[1],R=VE(cT(null),2),B=R[0],z=R[1],I=(0,t.useRef)(!1),D=(0,t.useRef)(null);function V(){return n()}var _=(0,t.useRef)(!1);function N(){L(uT,!0),z(null,!0)}function O(t){var e=V();if(!t||t.deadline||t.target===e){var i,n=_.current;F===dT&&n?i=null===A||void 0===A?void 0:A(e,t):F===fT&&n?i=null===E||void 0===E?void 0:E(e,t):F===gT&&n&&(i=null===w||void 0===w?void 0:w(e,t)),F!==uT&&n&&!1!==i&&N()}}var H=VE(BT(O),1)[0],U=function(t){var e,i,n;switch(t){case dT:return pE(e={},mT,f),pE(e,yT,m),pE(e,vT,x),e;case fT:return pE(i={},mT,g),pE(i,yT,y),pE(i,vT,b),i;case gT:return pE(n={},mT,p),pE(n,yT,v),pE(n,vT,S),n;default:return{}}},Y=t.useMemo((function(){return U(F)}),[F]),G=VE(WT(F,!e,(function(t){if(t===mT){var e=Y[mT];return e?e(V()):GT}var i;return X in Y&&z((null===(i=Y[X])||void 0===i?void 0:i.call(Y,V(),null))||null),X===vT&&(H(V()),u>0&&(clearTimeout(D.current),D.current=setTimeout((function(){O({deadline:!0})}),u))),X===bT&&N(),jT})),2),j=G[0],X=G[1],W=XT(X);_.current=W,zT((function(){T(i);var t,n=I.current;I.current=!0,!n&&i&&l&&(t=dT),n&&i&&o&&(t=fT),(n&&!i&&c||!n&&d&&!i&&c)&&(t=gT);var r=U(t);t&&(e||r[mT])?(L(t),j()):L(uT)}),[i]),(0,t.useEffect)((function(){(F===dT&&!l||F===fT&&!o||F===gT&&!c)&&L(uT)}),[l,o,c]),(0,t.useEffect)((function(){return function(){I.current=!1,clearTimeout(D.current)}}),[]);var Z=t.useRef(!1);(0,t.useEffect)((function(){M&&(Z.current=!0),void 0!==M&&F===uT&&((Z.current||M)&&(null===k||void 0===k||k(M)),Z.current=!0)}),[M,F]);var q=B;return Y[mT]&&X===yT&&(q=yE({transition:"none"},q)),[F,X,q,null!==M&&void 0!==M?M:i]}(f,s,(function(){try{return g.current instanceof HTMLElement?g.current:XM(p.current)}catch(Sn){return null}}),e),y=VE(m,4),v=y[0],x=y[1],b=y[2],S=y[3],A=t.useRef(S);S&&(A.current=!0);var E,w=t.useCallback((function(t){g.current=t,ZM(n,t)}),[n]),k=yE(yE({},d),{},{visible:s});if(h)if(v===uT)E=S?h(yE({},k),w):!a&&A.current&&u?h(yE(yE({},k),{},{className:u}),w):l||!a&&!u?h(yE(yE({},k),{},{style:{display:"none"}}),w):null;else{var C,M;x===mT?M="prepare":XT(x)?M="active":x===yT&&(M="start");var T=RT(c,"".concat(v,"-").concat(M));E=h(yE(yE({},k),{},{className:GM()(RT(c,v),(C={},pE(C,T,T&&M),pE(C,c,"string"===typeof c),C)),style:b}),w)}else E=null;t.isValidElement(E)&&KM(E)&&(E.ref||(E=t.cloneElement(E,{ref:w})));return t.createElement(hT,{ref:p},E)}));return n.displayName="CSSMotion",n}(PT);var qT="add",JT="keep",KT="remove",QT="removed";function $T(t){var e;return yE(yE({},e=t&&"object"===cE(t)&&"key"in t?t:{key:t}),{},{key:String(e.key)})}function tP(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map($T)}var eP=["component","children","onVisibleChanged","onAllRemoved"],iP=["status"],nP=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];const rP=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ZT,n=function(e){nT(r,e);var n=lT(r);function r(){var t;ow(this,r);for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return pE(oT(t=n.call.apply(n,[this].concat(i))),"state",{keyEntities:[]}),pE(oT(t),"removeKey",(function(e){var i=t.state.keyEntities.map((function(t){return t.key!==e?t:yE(yE({},t),{},{status:QT})}));return t.setState({keyEntities:i}),i.filter((function(t){return t.status!==QT})).length})),t}return lw(r,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,s=r.component,o=r.children,a=r.onVisibleChanged,l=r.onAllRemoved,h=QM(r,eP),c=s||t.Fragment,u={};return nP.forEach((function(t){u[t]=h[t],delete h[t]})),delete h.keys,t.createElement(c,h,n.map((function(n,r){var s=n.status,h=QM(n,iP),c=s===qT||s===JT;return t.createElement(i,nk({},u,{key:h.key,visible:c,eventProps:h,onVisibleChanged:function(t){(null===a||void 0===a||a(t,{key:h.key}),t)||0===e.removeKey(h.key)&&l&&l()}}),(function(t,e){return o(yE(yE({},t),{},{index:r}),e)}))})))}}],[{key:"getDerivedStateFromProps",value:function(t,e){var i=t.keys,n=e.keyEntities,r=tP(i),s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=[],n=0,r=e.length,s=tP(t),o=tP(e);s.forEach((function(t){for(var e=!1,s=n;s<r;s+=1){var a=o[s];if(a.key===t.key){n<s&&(i=i.concat(o.slice(n,s).map((function(t){return yE(yE({},t),{},{status:qT})}))),n=s),i.push(yE(yE({},a),{},{status:JT})),n+=1,e=!0;break}}e||i.push(yE(yE({},t),{},{status:KT}))})),n<r&&(i=i.concat(o.slice(n).map((function(t){return yE(yE({},t),{},{status:qT})}))));var a={};return i.forEach((function(t){var e=t.key;a[e]=(a[e]||0)+1})),Object.keys(a).filter((function(t){return a[t]>1})).forEach((function(t){(i=i.filter((function(e){var i=e.key,n=e.status;return i!==t||n!==KT}))).forEach((function(e){e.key===t&&(e.status=JT)}))})),i}(n,r);return{keyEntities:s.filter((function(t){var e=n.find((function(e){var i=e.key;return t.key===i}));return!e||e.status!==QT||t.status!==KT}))}}}]),r}(t.Component);return pE(n,"defaultProps",{component:"div"}),n}(PT),sP=ZT,oP="5.14.0";function aP(t){return t>=0&&t<=255}const lP=function(t,e){const{r:i,g:n,b:r,a:s}=new SM(t).toRgb();if(s<1)return t;const{r:o,g:a,b:l}=new SM(e).toRgb();for(let h=.01;h<=1;h+=.01){const t=Math.round((i-o*(1-h))/h),e=Math.round((n-a*(1-h))/h),s=Math.round((r-l*(1-h))/h);if(aP(t)&&aP(e)&&aP(s))return new SM({r:t,g:e,b:s,a:Math.round(100*h)/100}).toRgbString()}return new SM({r:i,g:n,b:r,a:1}).toRgbString()};var hP=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i};function cP(t){const{override:e}=t,i=hP(t,["override"]),n=Object.assign({},e);Object.keys(bM).forEach((t=>{delete n[t]}));const r=Object.assign(Object.assign({},i),n),s=1200,o=1600;if(!1===r.motion){const t="0s";r.motionDurationFast=t,r.motionDurationMid=t,r.motionDurationSlow=t}return Object.assign(Object.assign(Object.assign({},r),{colorFillContent:r.colorFillSecondary,colorFillContentHover:r.colorFill,colorFillAlter:r.colorFillQuaternary,colorBgContainerDisabled:r.colorFillTertiary,colorBorderBg:r.colorBgContainer,colorSplit:lP(r.colorBorderSecondary,r.colorBgContainer),colorTextPlaceholder:r.colorTextQuaternary,colorTextDisabled:r.colorTextQuaternary,colorTextHeading:r.colorText,colorTextLabel:r.colorTextSecondary,colorTextDescription:r.colorTextTertiary,colorTextLightSolid:r.colorWhite,colorHighlight:r.colorError,colorBgTextHover:r.colorFillSecondary,colorBgTextActive:r.colorFill,colorIcon:r.colorTextTertiary,colorIconHover:r.colorText,colorErrorOutline:lP(r.colorErrorBg,r.colorBgContainer),colorWarningOutline:lP(r.colorWarningBg,r.colorBgContainer),fontSizeIcon:r.fontSizeSM,lineWidthFocus:4*r.lineWidth,lineWidth:r.lineWidth,controlOutlineWidth:2*r.lineWidth,controlInteractiveSize:r.controlHeight/2,controlItemBgHover:r.colorFillTertiary,controlItemBgActive:r.colorPrimaryBg,controlItemBgActiveHover:r.colorPrimaryBgHover,controlItemBgActiveDisabled:r.colorFill,controlTmpOutline:r.colorFillQuaternary,controlOutline:lP(r.colorPrimaryBg,r.colorBgContainer),lineType:r.lineType,borderRadius:r.borderRadius,borderRadiusXS:r.borderRadiusXS,borderRadiusSM:r.borderRadiusSM,borderRadiusLG:r.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:r.sizeXXS,paddingXS:r.sizeXS,paddingSM:r.sizeSM,padding:r.size,paddingMD:r.sizeMD,paddingLG:r.sizeLG,paddingXL:r.sizeXL,paddingContentHorizontalLG:r.sizeLG,paddingContentVerticalLG:r.sizeMS,paddingContentHorizontal:r.sizeMS,paddingContentVertical:r.sizeSM,paddingContentHorizontalSM:r.size,paddingContentVerticalSM:r.sizeXS,marginXXS:r.sizeXXS,marginXS:r.sizeXS,marginSM:r.sizeSM,margin:r.size,marginMD:r.sizeMD,marginLG:r.sizeLG,marginXL:r.sizeXL,marginXXL:r.sizeXXL,boxShadow:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:s,screenXLMin:s,screenXLMax:1599,screenXXL:o,screenXXLMin:o,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:"\n      0 1px 2px -2px ".concat(new SM("rgba(0, 0, 0, 0.16)").toRgbString(),",\n      0 3px 6px 0 ").concat(new SM("rgba(0, 0, 0, 0.12)").toRgbString(),",\n      0 5px 12px 4px ").concat(new SM("rgba(0, 0, 0, 0.09)").toRgbString(),"\n    "),boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),n)}var uP=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i};const dP={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0},fP={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},gP={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},pP=(t,e,i)=>{const n=i.getDerivativeToken(t),{override:r}=e,s=uP(e,["override"]);let o=Object.assign(Object.assign({},n),{override:r});return o=cP(o),s&&Object.entries(s).forEach((t=>{let[e,i]=t;const{theme:n}=i,r=uP(i,["theme"]);let s=r;n&&(s=pP(Object.assign(Object.assign({},o),r),{override:r},n)),o[e]=s})),o};function mP(){const{token:e,hashed:i,theme:n,override:r,cssVar:s}=t.useContext(FM),o="".concat(oP,"-").concat(i||""),a=n||TM,[l,h,c]=ik(a,[bM,e],{salt:o,override:r,getComputedToken:pP,formatToken:cP,cssVar:s&&{prefix:s.prefix,key:s.key,unitless:dP,ignore:fP,preserve:gP}});return[a,c,i?h:"",l,s]}function yP(e){const{children:i}=e,[,n]=mP(),{motion:r}=n,s=t.useRef(!1);return s.current=s.current||!1===r,s.current?t.createElement(eT,{motion:r},i):i}const vP=()=>null,xP={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},bP=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:e?"inherit":t.fontFamily}},SP=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:"color ".concat(t.motionDurationSlow),"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active,\n  &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),AP=(t,e,i)=>{const{fontFamily:n,fontSize:r}=t,s='[class^="'.concat(e,'"], [class*=" ').concat(e,'"]');return{[i?".".concat(i):s]:{fontFamily:n,fontSize:r,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[s]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}},EP=t=>({outline:"".concat(zw(t.lineWidthFocus)," solid ").concat(t.colorPrimaryBorder),outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),wP=t=>({"&:focus-visible":Object.assign({},EP(t))}),kP=(t,e)=>{const[i,n]=mP();return sC({theme:i,token:n,hashId:"",path:["ant-design-icons",t],nonce:()=>null===e||void 0===e?void 0:e.nonce},(()=>[{[".".concat(t)]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{[".".concat(t," .").concat(t,"-icon")]:{display:"block"}})}]))};var CP=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i};const MP=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let TP,PP,FP,LP;function RP(){return TP||"ant"}function BP(){return PP||RE}const zP=()=>({getPrefixCls:(t,e)=>e||(t?"".concat(RP(),"-").concat(t):RP()),getIconPrefixCls:BP,getRootPrefixCls:()=>TP||RP(),getTheme:()=>FP,holderRender:LP}),IP=e=>{const{children:i,csp:n,autoInsertSpaceInButton:r,alert:s,anchor:o,form:a,locale:l,componentSize:h,direction:c,space:u,virtual:d,dropdownMatchSelectWidth:f,popupMatchSelectWidth:g,popupOverflow:p,legacyLocale:m,parentContext:y,iconPrefixCls:v,theme:x,componentDisabled:b,segmented:S,statistic:A,spin:E,calendar:w,carousel:k,cascader:C,collapse:M,typography:T,checkbox:P,descriptions:F,divider:L,drawer:R,skeleton:B,steps:z,image:I,layout:D,list:V,mentions:_,modal:N,progress:O,result:H,slider:U,breadcrumb:Y,menu:G,pagination:j,input:X,empty:W,badge:Z,radio:q,rate:J,switch:K,transfer:Q,avatar:$,message:tt,tag:et,table:it,card:nt,tabs:rt,timeline:st,timePicker:ot,upload:at,notification:lt,tree:ht,colorPicker:ct,datePicker:ut,rangePicker:dt,flex:ft,wave:gt,dropdown:pt,warning:mt,tour:yt}=e,vt=t.useCallback(((t,i)=>{const{prefixCls:n}=e;if(i)return i;const r=n||y.getPrefixCls("");return t?"".concat(r,"-").concat(t):r}),[y.getPrefixCls,e.prefixCls]),xt=v||y.iconPrefixCls||RE,bt=n||y.csp;kP(xt,bt);const St=function(t,e){AC("ConfigProvider");const i=t||{},n=!1!==i.inherit&&e?e:PM,r=UM();return KE((()=>{var s,o;if(!t)return e;const a=Object.assign({},n.components);Object.keys(t.components||{}).forEach((e=>{a[e]=Object.assign(Object.assign({},a[e]),t.components[e])}));const l="css-var-".concat(r.replace(/:/g,"")),h=(null!==(s=i.cssVar)&&void 0!==s?s:n.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:"ant"},"object"===typeof n.cssVar?n.cssVar:{}),"object"===typeof i.cssVar?i.cssVar:{}),{key:"object"===typeof i.cssVar&&(null===(o=i.cssVar)||void 0===o?void 0:o.key)||l});return Object.assign(Object.assign(Object.assign({},n),i),{token:Object.assign(Object.assign({},n.token),i.token),components:a,cssVar:h})}),[i,n],((t,e)=>t.some(((t,i)=>{const n=e[i];return!sw(t,n,!0)}))))}(x,y.theme);const At={csp:bt,autoInsertSpaceInButton:r,alert:s,anchor:o,locale:l||m,direction:c,space:u,virtual:d,popupMatchSelectWidth:null!==g&&void 0!==g?g:f,popupOverflow:p,getPrefixCls:vt,iconPrefixCls:xt,theme:St,segmented:S,statistic:A,spin:E,calendar:w,carousel:k,cascader:C,collapse:M,typography:T,checkbox:P,descriptions:F,divider:L,drawer:R,skeleton:B,steps:z,image:I,input:X,layout:D,list:V,mentions:_,modal:N,progress:O,result:H,slider:U,breadcrumb:Y,menu:G,pagination:j,empty:W,badge:Z,radio:q,rate:J,switch:K,transfer:Q,avatar:$,message:tt,tag:et,table:it,card:nt,tabs:rt,timeline:st,timePicker:ot,upload:at,notification:lt,tree:ht,colorPicker:ct,datePicker:ut,rangePicker:dt,flex:ft,wave:gt,dropdown:pt,warning:mt,tour:yt},Et=Object.assign({},y);Object.keys(At).forEach((t=>{void 0!==At[t]&&(Et[t]=At[t])})),MP.forEach((t=>{const i=e[t];i&&(Et[t]=i)}));const wt=KE((()=>Et),Et,((t,e)=>{const i=Object.keys(t),n=Object.keys(e);return i.length!==n.length||i.some((i=>t[i]!==e[i]))})),kt=t.useMemo((()=>({prefixCls:xt,csp:bt})),[xt,bt]);let Ct=t.createElement(t.Fragment,null,t.createElement(vP,{dropdownMatchSelectWidth:f}),i);const Mt=t.useMemo((()=>{var t,e,i,n;return xC((null===(t=PC.Form)||void 0===t?void 0:t.defaultValidateMessages)||{},(null===(i=null===(e=wt.locale)||void 0===e?void 0:e.Form)||void 0===i?void 0:i.defaultValidateMessages)||{},(null===(n=wt.form)||void 0===n?void 0:n.validateMessages)||{},(null===a||void 0===a?void 0:a.validateMessages)||{})}),[wt,null===a||void 0===a?void 0:a.validateMessages]);Object.keys(Mt).length>0&&(Ct=t.createElement(EC.Provider,{value:Mt},Ct)),l&&(Ct=t.createElement(zC,{locale:l,_ANT_MARK__:"internalMark"},Ct)),(xt||bt)&&(Ct=t.createElement(dC.Provider,{value:kt},Ct)),h&&(Ct=t.createElement(VM,{size:h},Ct)),Ct=t.createElement(yP,null,Ct);const Tt=t.useMemo((()=>{const t=St||{},{algorithm:e,token:i,components:n,cssVar:r}=t,s=CP(t,["algorithm","token","components","cssVar"]),o=e&&(!Array.isArray(e)||e.length>0)?Ew(e):TM,a={};Object.entries(n||{}).forEach((t=>{let[e,i]=t;const n=Object.assign({},i);"algorithm"in n&&(!0===n.algorithm?n.theme=o:(Array.isArray(n.algorithm)||"function"===typeof n.algorithm)&&(n.theme=Ew(n.algorithm)),delete n.algorithm),a[e]=n}));const l=Object.assign(Object.assign({},bM),i);return Object.assign(Object.assign({},s),{theme:o,token:l,components:a,override:Object.assign({override:l},a),cssVar:r})}),[St]);return x&&(Ct=t.createElement(FM.Provider,{value:Tt},Ct)),wt.warning&&(Ct=t.createElement(SC.Provider,{value:wt.warning},Ct)),void 0!==b&&(Ct=t.createElement(zM,{disabled:b},Ct)),t.createElement(BE.Provider,{value:wt},Ct)},DP=e=>{const i=t.useContext(BE),n=t.useContext(BC);return t.createElement(IP,Object.assign({parentContext:i,legacyLocale:n},e))};DP.ConfigContext=BE,DP.SizeContext=_M,DP.config=t=>{const{prefixCls:e,iconPrefixCls:i,theme:n,holderRender:r}=t;void 0!==e&&(TP=e),void 0!==i&&(PP=i),"holderRender"in t&&(LP=r),n&&(!function(t){return Object.keys(t).some((t=>t.endsWith("Color")))}(n)?FP=n:RM(RP(),n))},DP.useConfig=NM,Object.defineProperty(DP,"SizeContext",{get:()=>_M});const VP=DP;const _P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function NP(t){var e;return null===t||void 0===t||null===(e=t.getRootNode)||void 0===e?void 0:e.call(t)}function OP(t){return function(t){return NP(t)instanceof ShadowRoot}(t)?NP(t):null}function HP(t){return"object"===cE(t)&&"string"===typeof t.name&&"string"===typeof t.theme&&("object"===cE(t.icon)||"function"===typeof t.icon)}function UP(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).reduce((function(e,i){var n,r=t[i];if("class"===i)e.className=r,delete e.class;else delete e[i],e[(n=i,n.replace(/-(.)/g,(function(t,e){return e.toUpperCase()})))]=r;return e}),{})}function YP(e,i,n){return n?t.createElement(e.tag,yE(yE({key:i},UP(e.attrs)),n),(e.children||[]).map((function(t,n){return YP(t,"".concat(i,"-").concat(e.tag,"-").concat(n))}))):t.createElement(e.tag,yE({key:i},UP(e.attrs)),(e.children||[]).map((function(t,n){return YP(t,"".concat(i,"-").concat(e.tag,"-").concat(n))})))}function GP(t){return fM(t)[0]}function jP(t){return t?Array.isArray(t)?t:[t]:[]}var XP=["icon","className","onClick","style","primaryColor","secondaryColor"],WP={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var ZP=function(e){var i=e.icon,n=e.className,r=e.onClick,s=e.style,o=e.primaryColor,a=e.secondaryColor,l=QM(e,XP),h=t.useRef(),c=WP;if(o&&(c={primaryColor:o,secondaryColor:a||GP(o)}),function(e){var i=(0,t.useContext)(dC),n=i.csp,r=i.prefixCls,s="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";r&&(s=s.replace(/anticon/g,r)),(0,t.useEffect)((function(){var t=OP(e.current);JE(s,"@ant-design-icons",{prepend:!0,csp:n,attachTo:t})}),[])}(h),function(t,e){rw(t,"[@ant-design/icons] ".concat(e))}(HP(i),"icon should be icon definiton, but got ".concat(i)),!HP(i))return null;var u=i;return u&&"function"===typeof u.icon&&(u=yE(yE({},u),{},{icon:u.icon(c.primaryColor,c.secondaryColor)})),YP(u.icon,"svg-".concat(u.name),yE(yE({className:n,onClick:r,style:s,"data-icon":u.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:h}))};ZP.displayName="IconReact",ZP.getTwoToneColors=function(){return yE({},WP)},ZP.setTwoToneColors=function(t){var e=t.primaryColor,i=t.secondaryColor;WP.primaryColor=e,WP.secondaryColor=i||GP(e),WP.calculated=!!i};const qP=ZP;function JP(t){var e=VE(jP(t),2),i=e[0],n=e[1];return qP.setTwoToneColors({primaryColor:i,secondaryColor:n})}var KP=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];JP(yM.primary);var QP=t.forwardRef((function(e,i){var n=e.className,r=e.icon,s=e.spin,o=e.rotate,a=e.tabIndex,l=e.onClick,h=e.twoToneColor,c=QM(e,KP),u=t.useContext(dC),d=u.prefixCls,f=void 0===d?"anticon":d,g=u.rootClassName,p=GM()(g,f,pE(pE({},"".concat(f,"-").concat(r.name),!!r.name),"".concat(f,"-spin"),!!s||"loading"===r.name),n),m=a;void 0===m&&l&&(m=-1);var y=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,v=VE(jP(h),2),x=v[0],b=v[1];return t.createElement("span",nk({role:"img","aria-label":r.name},c,{ref:i,tabIndex:m,onClick:l,className:p}),t.createElement(qP,{icon:r,primaryColor:x,secondaryColor:b,style:y}))}));QP.displayName="AntdIcon",QP.getTwoToneColor=function(){var t=qP.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor},QP.setTwoToneColor=JP;const $P=QP;var tF=function(e,i){return t.createElement($P,nk({},e,{ref:i,icon:_P}))};const eF=t.forwardRef(tF);const iF={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};var nF=function(e,i){return t.createElement($P,nk({},e,{ref:i,icon:iF}))};const rF=t.forwardRef(nF);const sF={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};var oF=function(e,i){return t.createElement($P,nk({},e,{ref:i,icon:sF}))};const aF=t.forwardRef(oF);const lF={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};var hF=function(e,i){return t.createElement($P,nk({},e,{ref:i,icon:lF}))};const cF=t.forwardRef(hF);const uF={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};var dF=function(e,i){return t.createElement($P,nk({},e,{ref:i,icon:uF}))};const fF=t.forwardRef(dF);var gF={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var e=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||e>=gF.F1&&e<=gF.F12)return!1;switch(e){case gF.ALT:case gF.CAPS_LOCK:case gF.CONTEXT_MENU:case gF.CTRL:case gF.DOWN:case gF.END:case gF.ESC:case gF.HOME:case gF.INSERT:case gF.LEFT:case gF.MAC_FF_META:case gF.META:case gF.NUMLOCK:case gF.NUM_CENTER:case gF.PAGE_DOWN:case gF.PAGE_UP:case gF.PAUSE:case gF.PRINT_SCREEN:case gF.RIGHT:case gF.SHIFT:case gF.UP:case gF.WIN_KEY:case gF.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=gF.ZERO&&t<=gF.NINE)return!0;if(t>=gF.NUM_ZERO&&t<=gF.NUM_MULTIPLY)return!0;if(t>=gF.A&&t<=gF.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===t)return!0;switch(t){case gF.SPACE:case gF.QUESTION_MARK:case gF.NUM_PLUS:case gF.NUM_MINUS:case gF.NUM_PERIOD:case gF.NUM_DIVISION:case gF.SEMICOLON:case gF.DASH:case gF.EQUALS:case gF.COMMA:case gF.PERIOD:case gF.SLASH:case gF.APOSTROPHE:case gF.SINGLE_QUOTE:case gF.OPEN_SQUARE_BRACKET:case gF.BACKSLASH:case gF.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const pF=gF;var mF=t.forwardRef((function(e,i){var n=e.prefixCls,r=e.style,s=e.className,o=e.duration,a=void 0===o?4.5:o,l=e.eventKey,h=e.content,c=e.closable,u=e.closeIcon,d=void 0===u?"x":u,f=e.props,g=e.onClick,p=e.onNoticeClose,m=e.times,y=e.hovering,v=VE(t.useState(!1),2),x=v[0],b=v[1],S=y||x,A=function(){p(l)};t.useEffect((function(){if(!S&&a>0){var t=setTimeout((function(){A()}),1e3*a);return function(){clearTimeout(t)}}}),[a,S,m]);var E="".concat(n,"-notice");return t.createElement("div",nk({},f,{ref:i,className:GM()(E,s,pE({},"".concat(E,"-closable"),c)),style:r,onMouseEnter:function(t){var e;b(!0),null===f||void 0===f||null===(e=f.onMouseEnter)||void 0===e||e.call(f,t)},onMouseLeave:function(t){var e;b(!1),null===f||void 0===f||null===(e=f.onMouseLeave)||void 0===e||e.call(f,t)},onClick:g}),t.createElement("div",{className:"".concat(E,"-content")},h),c&&t.createElement("a",{tabIndex:0,className:"".concat(E,"-close"),onKeyDown:function(t){"Enter"!==t.key&&"Enter"!==t.code&&t.keyCode!==pF.ENTER||A()},onClick:function(t){t.preventDefault(),t.stopPropagation(),A()}},d))}));const yF=mF;var vF=t.createContext({});const xF=function(e){var i=e.children,n=e.classNames;return t.createElement(vF.Provider,{value:{classNames:n}},i)};const bF=function(t){var e,i,n,r={offset:8,threshold:3,gap:16};t&&"object"===cE(t)&&(r.offset=null!==(e=t.offset)&&void 0!==e?e:8,r.threshold=null!==(i=t.threshold)&&void 0!==i?i:3,r.gap=null!==(n=t.gap)&&void 0!==n?n:16);return[!!t,r]};var SF=["className","style","classNames","styles"];const AF=function(e){var i,n=e.configList,r=e.placement,s=e.prefixCls,o=e.className,a=e.style,l=e.motion,h=e.onAllNoticeRemoved,c=e.onNoticeClose,u=e.stack,d=(0,t.useContext)(vF).classNames,f=(0,t.useRef)({}),g=VE((0,t.useState)(null),2),p=g[0],m=g[1],y=VE((0,t.useState)([]),2),v=y[0],x=y[1],b=n.map((function(t){return{config:t,key:String(t.key)}})),S=VE(bF(u),2),A=S[0],E=S[1],w=E.offset,k=E.threshold,C=E.gap,M=A&&(v.length>0||b.length<=k),T="function"===typeof l?l(r):l;return(0,t.useEffect)((function(){A&&v.length>1&&x((function(t){return t.filter((function(t){return b.some((function(e){var i=e.key;return t===i}))}))}))}),[v,b,A]),(0,t.useEffect)((function(){var t,e;A&&f.current[null===(t=b[b.length-1])||void 0===t?void 0:t.key]&&m(f.current[null===(e=b[b.length-1])||void 0===e?void 0:e.key])}),[b,A]),t.createElement(rP,nk({key:r,className:GM()(s,"".concat(s,"-").concat(r),null===d||void 0===d?void 0:d.list,o,(i={},pE(i,"".concat(s,"-stack"),!!A),pE(i,"".concat(s,"-stack-expanded"),M),i)),style:a,keys:b,motionAppear:!0},T,{onAllRemoved:function(){h(r)}}),(function(e,i){var n=e.config,o=e.className,a=e.style,l=e.index,h=n,u=h.key,g=h.times,m=String(u),y=n,S=y.className,E=y.style,k=y.classNames,T=y.styles,P=QM(y,SF),F=b.findIndex((function(t){return t.key===m})),L={};if(A){var R=b.length-1-(F>-1?F:l-1),B="top"===r||"bottom"===r?"-50%":"0";if(R>0){var z,I,D;L.height=M?null===(z=f.current[m])||void 0===z?void 0:z.offsetHeight:null===p||void 0===p?void 0:p.offsetHeight;for(var V=0,_=0;_<R;_++){var N;V+=(null===(N=f.current[b[b.length-1-_].key])||void 0===N?void 0:N.offsetHeight)+C}var O=(M?V:R*w)*(r.startsWith("top")?1:-1),H=!M&&null!==p&&void 0!==p&&p.offsetWidth&&null!==(I=f.current[m])&&void 0!==I&&I.offsetWidth?((null===p||void 0===p?void 0:p.offsetWidth)-2*w*(R<3?R:3))/(null===(D=f.current[m])||void 0===D?void 0:D.offsetWidth):1;L.transform="translate3d(".concat(B,", ").concat(O,"px, 0) scaleX(").concat(H,")")}else L.transform="translate3d(".concat(B,", 0, 0)")}return t.createElement("div",{ref:i,className:GM()("".concat(s,"-notice-wrapper"),o,null===k||void 0===k?void 0:k.wrapper),style:yE(yE(yE({},a),L),null===T||void 0===T?void 0:T.wrapper),onMouseEnter:function(){return x((function(t){return t.includes(m)?t:[].concat(hE(t),[m])}))},onMouseLeave:function(){return x((function(t){return t.filter((function(t){return t!==m}))}))}},t.createElement(yF,nk({},P,{ref:function(t){F>-1?f.current[m]=t:delete f.current[m]},prefixCls:s,classNames:k,styles:T,className:GM()(S,null===d||void 0===d?void 0:d.notice),style:E,times:g,key:u,eventKey:u,onNoticeClose:c,hovering:A&&v.length>0})))}))};var EF=t.forwardRef((function(e,i){var n=e.prefixCls,r=void 0===n?"rc-notification":n,s=e.container,o=e.motion,a=e.maxCount,l=e.className,h=e.style,c=e.onAllRemoved,u=e.stack,d=e.renderNotifications,f=VE(t.useState([]),2),g=f[0],p=f[1],m=function(t){var e,i=g.find((function(e){return e.key===t}));null===i||void 0===i||null===(e=i.onClose)||void 0===e||e.call(i),p((function(e){return e.filter((function(e){return e.key!==t}))}))};t.useImperativeHandle(i,(function(){return{open:function(t){p((function(e){var i,n=hE(e),r=n.findIndex((function(e){return e.key===t.key})),s=yE({},t);r>=0?(s.times=((null===(i=e[r])||void 0===i?void 0:i.times)||0)+1,n[r]=s):(s.times=0,n.push(s));return a>0&&n.length>a&&(n=n.slice(-a)),n}))},close:function(t){m(t)},destroy:function(){p([])}}}));var y=VE(t.useState({}),2),v=y[0],x=y[1];t.useEffect((function(){var t={};g.forEach((function(e){var i=e.placement,n=void 0===i?"topRight":i;n&&(t[n]=t[n]||[],t[n].push(e))})),Object.keys(v).forEach((function(e){t[e]=t[e]||[]})),x(t)}),[g]);var b=function(t){x((function(e){var i=yE({},e);return(i[t]||[]).length||delete i[t],i}))},S=t.useRef(!1);if(t.useEffect((function(){Object.keys(v).length>0?S.current=!0:S.current&&(null===c||void 0===c||c(),S.current=!1)}),[v]),!s)return null;var A=Object.keys(v);return(0,xE.createPortal)(t.createElement(t.Fragment,null,A.map((function(e){var i=v[e],n=t.createElement(AF,{key:e,configList:i,placement:e,prefixCls:r,className:null===l||void 0===l?void 0:l(e),style:null===h||void 0===h?void 0:h(e),motion:o,onNoticeClose:m,onAllNoticeRemoved:b,stack:u});return d?d(n,{prefixCls:r,key:e}):n}))),s)}));const wF=EF;var kF=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],CF=function(){return document.body},MF=0;function TF(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.getContainer,n=void 0===i?CF:i,r=e.motion,s=e.prefixCls,o=e.maxCount,a=e.className,l=e.style,h=e.onAllRemoved,c=e.stack,u=e.renderNotifications,d=QM(e,kF),f=VE(t.useState(),2),g=f[0],p=f[1],m=t.useRef(),y=t.createElement(wF,{container:g,ref:m,prefixCls:s,motion:r,maxCount:o,className:a,style:l,onAllRemoved:h,stack:c,renderNotifications:u}),v=VE(t.useState([]),2),x=v[0],b=v[1],S=t.useMemo((function(){return{open:function(t){var e=function(){for(var t={},e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.forEach((function(e){e&&Object.keys(e).forEach((function(i){var n=e[i];void 0!==n&&(t[i]=n)}))})),t}(d,t);null!==e.key&&void 0!==e.key||(e.key="rc-notification-".concat(MF),MF+=1),b((function(t){return[].concat(hE(t),[{type:"open",config:e}])}))},close:function(t){b((function(e){return[].concat(hE(e),[{type:"close",key:t}])}))},destroy:function(){b((function(t){return[].concat(hE(t),[{type:"destroy"}])}))}}}),[]);return t.useEffect((function(){p(n())})),t.useEffect((function(){m.current&&x.length&&(x.forEach((function(t){switch(t.type){case"open":m.current.open(t.config);break;case"close":m.current.close(t.key);break;case"destroy":m.current.destroy()}})),b((function(t){return t.filter((function(t){return!x.includes(t)}))})))}),[x]),[S,y]}const PF=t.createContext(void 0),FF=100,LF={Modal:FF,Drawer:FF,Popover:FF,Popconfirm:FF,Tooltip:FF,Tour:FF},RF={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function BF(e,i){const[,n]=mP(),r=t.useContext(PF),s=function(t){return t in LF}(e);if(void 0!==i)return[i,i];let o=null!==r&&void 0!==r?r:0;return s?(o+=(r?0:n.zIndexPopupBase)+LF[e],o=Math.min(o,n.zIndexPopupBase+1e3)):o+=RF[e],[void 0===r?i:o,o]}function zF(e){var i=t.useRef();i.current=e;var n=t.useCallback((function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null===(t=i.current)||void 0===t?void 0:t.call.apply(t,[i].concat(n))}),[]);return n}function IF(t){return void 0!==t}function DF(t,e){var i=e||{},n=i.defaultValue,r=i.value,s=i.onChange,o=i.postState,a=VE(cT((function(){return IF(r)?r:IF(n)?"function"===typeof n?n():n:"function"===typeof t?t():t})),2),l=a[0],h=a[1],c=void 0!==r?r:l,u=o?o(c):c,d=zF(s),f=VE(cT([c]),2),g=f[0],p=f[1];return Hw((function(){var t=g[0];l!==t&&d(l,t)}),[g]),Hw((function(){IF(r)||h(r)}),[r]),[u,zF((function(t,e){h(t,e),p([c],e)}))]}const VF=lw((function t(){ow(this,t)}));let _F=function(t){function e(t){var i;return ow(this,e),i=function(t,e,i){return e=rT(e),aT(t,sT()?Reflect.construct(e,i||[],rT(t).constructor):e.apply(t,i))}(this,e),i.result=0,t instanceof e?i.result=t.result:"number"===typeof t&&(i.result=t),i}return nT(e,t),lw(e,[{key:"add",value:function(t){return t instanceof e?this.result+=t.result:"number"===typeof t&&(this.result+=t),this}},{key:"sub",value:function(t){return t instanceof e?this.result-=t.result:"number"===typeof t&&(this.result-=t),this}},{key:"mul",value:function(t){return t instanceof e?this.result*=t.result:"number"===typeof t&&(this.result*=t),this}},{key:"div",value:function(t){return t instanceof e?this.result/=t.result:"number"===typeof t&&(this.result/=t),this}},{key:"equal",value:function(){return this.result}}]),e}(VF);const NF="CALC_UNIT";function OF(t){return"number"===typeof t?"".concat(t).concat(NF):t}let HF=function(t){function e(t){var i;return ow(this,e),i=function(t,e,i){return e=rT(e),aT(t,sT()?Reflect.construct(e,i||[],rT(t).constructor):e.apply(t,i))}(this,e),i.result="",t instanceof e?i.result="(".concat(t.result,")"):"number"===typeof t?i.result=OF(t):"string"===typeof t&&(i.result=t),i}return nT(e,t),lw(e,[{key:"add",value:function(t){return t instanceof e?this.result="".concat(this.result," + ").concat(t.getResult()):"number"!==typeof t&&"string"!==typeof t||(this.result="".concat(this.result," + ").concat(OF(t))),this.lowPriority=!0,this}},{key:"sub",value:function(t){return t instanceof e?this.result="".concat(this.result," - ").concat(t.getResult()):"number"!==typeof t&&"string"!==typeof t||(this.result="".concat(this.result," - ").concat(OF(t))),this.lowPriority=!0,this}},{key:"mul",value:function(t){return this.lowPriority&&(this.result="(".concat(this.result,")")),t instanceof e?this.result="".concat(this.result," * ").concat(t.getResult(!0)):"number"!==typeof t&&"string"!==typeof t||(this.result="".concat(this.result," * ").concat(t)),this.lowPriority=!1,this}},{key:"div",value:function(t){return this.lowPriority&&(this.result="(".concat(this.result,")")),t instanceof e?this.result="".concat(this.result," / ").concat(t.getResult(!0)):"number"!==typeof t&&"string"!==typeof t||(this.result="".concat(this.result," / ").concat(t)),this.lowPriority=!1,this}},{key:"getResult",value:function(t){return this.lowPriority||t?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(t){const{unit:e=!0}=t||{},i=new RegExp("".concat(NF),"g");return this.result=this.result.replace(i,e?"px":""),"undefined"!==typeof this.lowPriority?"calc(".concat(this.result,")"):this.result}}]),e}(VF);const UF=t=>{const e="css"===t?HF:_F;return t=>new e(t)};const YF="undefined"!==typeof CSSINJS_STATISTIC;let GF=!0;function jF(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(!YF)return Object.assign.apply(Object,[{}].concat(e));GF=!1;const n={};return e.forEach((t=>{Object.keys(t).forEach((e=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:()=>t[e]})}))})),GF=!0,n}const XF={};function WF(){}const ZF=t=>{let e,i=t,n=WF;return YF&&"undefined"!==typeof Proxy&&(e=new Set,i=new Proxy(t,{get:(t,i)=>(GF&&e.add(i),t[i])}),n=(t,i)=>{var n;XF[t]={global:Array.from(e),component:Object.assign(Object.assign({},null===(n=XF[t])||void 0===n?void 0:n.component),i)}}),{token:i,keys:e,flush:n}},qF=(t,e,i)=>{var n;return"function"===typeof i?i(jF(e,null!==(n=e[t])&&void 0!==n?n:{})):null!==i&&void 0!==i?i:{}},JF=(t,e,i,n)=>{const r=Object.assign({},e[t]);if(null===n||void 0===n?void 0:n.deprecatedTokens){const{deprecatedTokens:t}=n;t.forEach((t=>{let[e,i]=t;var n;((null===r||void 0===r?void 0:r[e])||(null===r||void 0===r?void 0:r[i]))&&(null!==(n=r[i])&&void 0!==n||(r[i]=null===r||void 0===r?void 0:r[e]))}))}const s=Object.assign(Object.assign({},i),r);return Object.keys(s).forEach((t=>{s[t]===e[t]&&delete s[t]})),s};function KF(e,i,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=Array.isArray(e)?e:[e,e],[o]=s,a=s.join("-");return function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const[l,h,c,u,d]=mP(),{getPrefixCls:f,iconPrefixCls:g,csp:p}=(0,t.useContext)(BE),m=f(),y=d?"css":"js",v=UF(y),{max:x,min:b}=function(t){return"js"===t?{max:Math.max,min:Math.min}:{max:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return"max(".concat(e.map((t=>zw(t))).join(","),")")},min:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return"min(".concat(e.map((t=>zw(t))).join(","),")")}}}(y),S={theme:l,token:u,hashId:c,nonce:()=>null===p||void 0===p?void 0:p.nonce,clientOnly:r.clientOnly,order:r.order||-999};sC(Object.assign(Object.assign({},S),{clientOnly:!1,path:["Shared",m]}),(()=>[{"&":SP(u)}])),kP(g,p);const A=sC(Object.assign(Object.assign({},S),{path:[a,e,g]}),(()=>{if(!1===r.injectStyle)return[];const{token:t,flush:a}=ZF(u),l=qF(o,h,n),f=".".concat(e),p=JF(o,h,l,{deprecatedTokens:r.deprecatedTokens});d&&Object.keys(l).forEach((t=>{l[t]="var(".concat(Dw(t,((t,e)=>"".concat([e,t.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-")))(o,d.prefix)),")")}));const y=jF(t,{componentCls:f,prefixCls:e,iconCls:".".concat(g),antCls:".".concat(m),calc:v,max:x,min:b},d?l:p),S=i(y,{hashId:c,prefixCls:e,rootPrefixCls:m,iconPrefixCls:g});return a(o,p),[!1===r.resetStyle?null:AP(y,e,s),S]}));return[A,c]}}const QF=(e,i,n,r)=>{const s=KF(e,i,n,r),o=((e,i,n)=>{function r(t){return"".concat(e).concat(t.slice(0,1).toUpperCase()).concat(t.slice(1))}const{unitless:s={},injectStyle:o=!0}=null!==n&&void 0!==n?n:{},a={[r("zIndexPopup")]:!0};Object.keys(s).forEach((t=>{a[r(t)]=s[t]}));const l=t=>{let{rootCls:s,cssVar:o}=t;const[,l]=mP();return aC({path:[e],prefix:o.prefix,key:null===o||void 0===o?void 0:o.key,unitless:Object.assign(Object.assign({},dP),a),ignore:fP,token:l,scope:s},(()=>{const t=qF(e,l,i),s=JF(e,l,t,{deprecatedTokens:null===n||void 0===n?void 0:n.deprecatedTokens});return Object.keys(t).forEach((t=>{s[r(t)]=s[t],delete s[t]})),s})),null};return i=>{const[,,,,n]=mP();return[r=>o&&n?t.createElement(t.Fragment,null,t.createElement(l,{rootCls:i,cssVar:n,component:e}),r):r,null===n||void 0===n?void 0:n.key]}})(Array.isArray(e)?e[0]:e,n,r);return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;const[,i]=s(t,e),[n,r]=o(e);return[n,i,r]}},$F=t=>{const{componentCls:e,iconCls:i,boxShadow:n,colorText:r,colorSuccess:s,colorError:o,colorWarning:a,colorInfo:l,fontSizeLG:h,motionEaseInOutCirc:c,motionDurationSlow:u,marginXS:d,paddingXS:f,borderRadiusLG:g,zIndexPopup:p,contentPadding:m,contentBg:y}=t,v="".concat(e,"-notice"),x=new cC("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:f,transform:"translateY(0)",opacity:1}}),b=new cC("MessageMoveOut",{"0%":{maxHeight:t.height,padding:f,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),S={padding:f,textAlign:"center",["".concat(e,"-custom-content > ").concat(i)]:{verticalAlign:"text-bottom",marginInlineEnd:d,fontSize:h},["".concat(v,"-content")]:{display:"inline-block",padding:m,background:y,borderRadius:g,boxShadow:n,pointerEvents:"all"},["".concat(e,"-success > ").concat(i)]:{color:s},["".concat(e,"-error > ").concat(i)]:{color:o},["".concat(e,"-warning > ").concat(i)]:{color:a},["".concat(e,"-info > ").concat(i,",\n      ").concat(e,"-loading > ").concat(i)]:{color:l}};return[{[e]:Object.assign(Object.assign({},bP(t)),{color:r,position:"fixed",top:d,width:"100%",pointerEvents:"none",zIndex:p,["".concat(e,"-move-up")]:{animationFillMode:"forwards"},["\n        ".concat(e,"-move-up-appear,\n        ").concat(e,"-move-up-enter\n      ")]:{animationName:x,animationDuration:u,animationPlayState:"paused",animationTimingFunction:c},["\n        ".concat(e,"-move-up-appear").concat(e,"-move-up-appear-active,\n        ").concat(e,"-move-up-enter").concat(e,"-move-up-enter-active\n      ")]:{animationPlayState:"running"},["".concat(e,"-move-up-leave")]:{animationName:b,animationDuration:u,animationPlayState:"paused",animationTimingFunction:c},["".concat(e,"-move-up-leave").concat(e,"-move-up-leave-active")]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[e]:{["".concat(v,"-wrapper")]:Object.assign({},S)}},{["".concat(e,"-notice-pure-panel")]:Object.assign(Object.assign({},S),{padding:0,textAlign:"start"})}]},tL=QF("Message",(t=>{const e=jF(t,{height:150});return[$F(e)]}),(t=>({zIndexPopup:t.zIndexPopupBase+1e3+10,contentBg:t.colorBgElevated,contentPadding:"".concat((t.controlHeightLG-t.fontSize*t.lineHeight)/2,"px ").concat(t.paddingSM,"px")}))),eL=t=>{const[,,,,e]=mP();return e?"".concat(t,"-css-var"):""};var iL=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i};const nL={info:t.createElement(cF,null),success:t.createElement(eF,null),error:t.createElement(rF,null),warning:t.createElement(aF,null),loading:t.createElement(fF,null)},rL=e=>{let{prefixCls:i,type:n,icon:r,children:s}=e;return t.createElement("div",{className:GM()("".concat(i,"-custom-content"),"".concat(i,"-").concat(n))},r||nL[n],t.createElement("span",null,s))},sL=e=>{const{prefixCls:i,className:n,type:r,icon:s,content:o}=e,a=iL(e,["prefixCls","className","type","icon","content"]),{getPrefixCls:l}=t.useContext(BE),h=i||l("message"),c=eL(h),[u,d,f]=tL(h,c);return u(t.createElement(yF,Object.assign({},a,{prefixCls:h,className:GM()(n,d,"".concat(h,"-notice-pure-panel"),f,c),eventKey:"pure",duration:null,content:t.createElement(rL,{prefixCls:h,type:r,icon:s},o)})))};const oL={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};var aL=function(e,i){return t.createElement($P,nk({},e,{ref:i,icon:oL}))};const lL=t.forwardRef(aL);function hL(t){let e;const i=new Promise((i=>{e=t((()=>{i(!0)}))})),n=()=>{null===e||void 0===e||e()};return n.then=(t,e)=>i.then(t,e),n.promise=i,n}var cL=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i};const uL=3,dL=e=>{let{children:i,prefixCls:n}=e;const r=eL(n),[s,o,a]=tL(n,r);return s(t.createElement(xF,{classNames:{list:GM()(o,a,r)}},i))},fL=(e,i)=>{let{prefixCls:n,key:r}=i;return t.createElement(dL,{prefixCls:n,key:r},e)},gL=t.forwardRef(((e,i)=>{const{top:n,prefixCls:r,getContainer:s,maxCount:o,duration:a=uL,rtl:l,transitionName:h,onAllRemoved:c}=e,{getPrefixCls:u,getPopupContainer:d,message:f,direction:g}=t.useContext(BE),p=r||u("message"),m=t.createElement("span",{className:"".concat(p,"-close-x")},t.createElement(lL,{className:"".concat(p,"-close-icon")})),[y,v]=TF({prefixCls:p,style:()=>({left:"50%",transform:"translateX(-50%)",top:null!==n&&void 0!==n?n:8}),className:()=>GM()({["".concat(p,"-rtl")]:null!==l&&void 0!==l?l:"rtl"===g}),motion:()=>function(t,e){return{motionName:null!==e&&void 0!==e?e:"".concat(t,"-move-up")}}(p,h),closable:!1,closeIcon:m,duration:a,getContainer:()=>(null===s||void 0===s?void 0:s())||(null===d||void 0===d?void 0:d())||document.body,maxCount:o,onAllRemoved:c,renderNotifications:fL});return t.useImperativeHandle(i,(()=>Object.assign(Object.assign({},y),{prefixCls:p,message:f}))),v}));let pL=0;function mL(e){const i=t.useRef(null),n=(AC("Message"),t.useMemo((()=>{const e=t=>{var e;null===(e=i.current)||void 0===e||e.close(t)},n=n=>{if(!i.current){const t=()=>{};return t.then=()=>{},t}const{open:r,prefixCls:s,message:o}=i.current,a="".concat(s,"-notice"),{content:l,icon:h,type:c,key:u,className:d,style:f,onClose:g}=n,p=cL(n,["content","icon","type","key","className","style","onClose"]);let m=u;return void 0!==m&&null!==m||(pL+=1,m="antd-message-".concat(pL)),hL((i=>(r(Object.assign(Object.assign({},p),{key:m,content:t.createElement(rL,{prefixCls:s,type:c,icon:h},l),placement:"top",className:GM()(c&&"".concat(a,"-").concat(c),d,null===o||void 0===o?void 0:o.className),style:Object.assign(Object.assign({},null===o||void 0===o?void 0:o.style),f),onClose:()=>{null===g||void 0===g||g(),i()}})),()=>{e(m)})))},r={open:n,destroy:t=>{var n;void 0!==t?e(t):null===(n=i.current)||void 0===n||n.destroy()}};return["info","success","warning","error","loading"].forEach((t=>{r[t]=(e,i,r)=>{let s,o,a;s=e&&"object"===typeof e&&"content"in e?e:{content:e},"function"===typeof i?a=i:(o=i,a=r);const l=Object.assign(Object.assign({onClose:a,duration:o},s),{type:t});return n(l)}})),r}),[]));return[n,t.createElement(gL,Object.assign({key:"message-holder"},e,{ref:i}))]}let yL=null,vL=t=>t(),xL=[],bL={};function SL(){const{getContainer:t,duration:e,rtl:i,maxCount:n,top:r}=bL,s=(null===t||void 0===t?void 0:t())||document.body;return{getContainer:()=>s,duration:e,rtl:i,maxCount:n,top:r}}const AL=t.forwardRef(((e,i)=>{const{messageConfig:n,sync:r}=e,{getPrefixCls:s}=(0,t.useContext)(BE),o=bL.prefixCls||s("message"),a=(0,t.useContext)(LE),[l,h]=mL(Object.assign(Object.assign(Object.assign({},n),{prefixCls:o}),a.message));return t.useImperativeHandle(i,(()=>{const t=Object.assign({},l);return Object.keys(t).forEach((e=>{t[e]=function(){return r(),l[e].apply(l,arguments)}})),{instance:t,sync:r}})),h})),EL=t.forwardRef(((e,i)=>{const[n,r]=t.useState(SL),s=()=>{r(SL)};t.useEffect(s,[]);const o=zP(),a=o.getRootPrefixCls(),l=o.getIconPrefixCls(),h=o.getTheme(),c=t.createElement(AL,{ref:i,sync:s,messageConfig:n});return t.createElement(VP,{prefixCls:a,iconPrefixCls:l,theme:h},o.holderRender?o.holderRender(c):c)}));function wL(){if(!yL){const e=document.createDocumentFragment(),i={fragment:e};return yL=i,void vL((()=>{CE(t.createElement(EL,{ref:t=>{const{instance:e,sync:n}=t||{};Promise.resolve().then((()=>{!i.instance&&e&&(i.instance=e,i.sync=n,wL())}))}}),e)}))}yL.instance&&(xL.forEach((t=>{const{type:e,skipped:i}=t;if(!i)switch(e){case"open":vL((()=>{const e=yL.instance.open(Object.assign(Object.assign({},bL),t.config));null===e||void 0===e||e.then(t.resolve),t.setCloseFn(e)}));break;case"destroy":vL((()=>{null===yL||void 0===yL||yL.instance.destroy(t.key)}));break;default:vL((()=>{var i;const n=(i=yL.instance)[e].apply(i,hE(t.args));null===n||void 0===n||n.then(t.resolve),t.setCloseFn(n)}))}})),xL=[])}const kL={open:function(t){const e=hL((e=>{let i;const n={type:"open",config:t,resolve:e,setCloseFn:t=>{i=t}};return xL.push(n),()=>{i?vL((()=>{i()})):n.skipped=!0}}));return wL(),e},destroy:function(t){xL.push({type:"destroy",key:t}),wL()},config:function(t){bL=Object.assign(Object.assign({},bL),t),vL((()=>{var t;null===(t=null===yL||void 0===yL?void 0:yL.sync)||void 0===t||t.call(yL)}))},useMessage:function(t){return mL(t)},_InternalPanelDoNotUseOrYouWillBeFired:sL},CL=kL;["success","info","warning","error","loading"].forEach((t=>{CL[t]=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return function(t,e){zP();const i=hL((i=>{let n;const r={type:t,args:e,resolve:i,setCloseFn:t=>{n=t}};return xL.push(r),()=>{n?vL((()=>{n()})):r.skipped=!0}}));return wL(),i}(t,i)}}));const ML=CL,TL=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===t||void 0===t?void 0:t.substr(0,4))};const PL=function(e){var i=e.className,n=e.customizeIcon,r=e.customizeIconProps,s=e.children,o=e.onMouseDown,a=e.onClick,l="function"===typeof n?n(r):n;return t.createElement("span",{className:i,onMouseDown:function(t){t.preventDefault(),null===o||void 0===o||o(t)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},void 0!==l?l:t.createElement("span",{className:GM()(i.split(/\s+/).map((function(t){return"".concat(t,"-icon")})))},s))};var FL=t.createContext(null);function LL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,i=t.useRef(null),n=t.useRef(null);return t.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return i.current},function(t){(t||null===i.current)&&(i.current=t),window.clearTimeout(n.current),n.current=window.setTimeout((function(){i.current=null}),e)}]}var RL="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/);function BL(t,e){return 0===t.indexOf(e)}function zL(t){var e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=!1===i?{aria:!0,data:!0,attr:!0}:!0===i?{aria:!0}:yE({},i);var n={};return Object.keys(t).forEach((function(i){(e.aria&&("role"===i||BL(i,"aria-"))||e.data&&BL(i,"data-")||e.attr&&RL.includes(i))&&(n[i]=t[i])})),n}function IL(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return t.Children.forEach(e,(function(t){(void 0!==t&&null!==t||i.keepEmpty)&&(Array.isArray(t)?n=n.concat(IL(t)):(0,WM.isFragment)(t)&&t.props?n=n.concat(IL(t.props.children,i)):n.push(t))})),n}var DL=t.createContext(null);var VL=function(){if("undefined"!==typeof Map)return Map;function t(t,e){var i=-1;return t.some((function(t,n){return t[0]===e&&(i=n,!0)})),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var i=t(this.__entries__,e),n=this.__entries__[i];return n&&n[1]},e.prototype.set=function(e,i){var n=t(this.__entries__,e);~n?this.__entries__[n][1]=i:this.__entries__.push([e,i])},e.prototype.delete=function(e){var i=this.__entries__,n=t(i,e);~n&&i.splice(n,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var i=0,n=this.__entries__;i<n.length;i++){var r=n[i];t.call(e,r[1],r[0])}},e}()}(),_L="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,NL="undefined"!==typeof i.g&&i.g.Math===Math?i.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),OL="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(NL):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var HL=["top","right","bottom","left","width","height","size","weight"],UL="undefined"!==typeof MutationObserver,YL=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var i=!1,n=!1,r=0;function s(){i&&(i=!1,t()),n&&a()}function o(){OL(s)}function a(){var t=Date.now();if(i){if(t-r<2)return;n=!0}else i=!0,n=!1,setTimeout(o,e);r=t}return a}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,i=e.indexOf(t);~i&&e.splice(i,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){_L&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),UL?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){_L&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,i=void 0===e?"":e;HL.some((function(t){return!!~i.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),GL=function(t,e){for(var i=0,n=Object.keys(e);i<n.length;i++){var r=n[i];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},jL=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||NL},XL=QL(0,0,0,0);function WL(t){return parseFloat(t)||0}function ZL(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.reduce((function(e,i){return e+WL(t["border-"+i+"-width"])}),0)}function qL(t){var e=t.clientWidth,i=t.clientHeight;if(!e&&!i)return XL;var n=jL(t).getComputedStyle(t),r=function(t){for(var e={},i=0,n=["top","right","bottom","left"];i<n.length;i++){var r=n[i],s=t["padding-"+r];e[r]=WL(s)}return e}(n),s=r.left+r.right,o=r.top+r.bottom,a=WL(n.width),l=WL(n.height);if("border-box"===n.boxSizing&&(Math.round(a+s)!==e&&(a-=ZL(n,"left","right")+s),Math.round(l+o)!==i&&(l-=ZL(n,"top","bottom")+o)),!function(t){return t===jL(t).document.documentElement}(t)){var h=Math.round(a+s)-e,c=Math.round(l+o)-i;1!==Math.abs(h)&&(a-=h),1!==Math.abs(c)&&(l-=c)}return QL(r.left,r.top,a,l)}var JL="undefined"!==typeof SVGGraphicsElement?function(t){return t instanceof jL(t).SVGGraphicsElement}:function(t){return t instanceof jL(t).SVGElement&&"function"===typeof t.getBBox};function KL(t){return _L?JL(t)?function(t){var e=t.getBBox();return QL(0,0,e.width,e.height)}(t):qL(t):XL}function QL(t,e,i,n){return{x:t,y:e,width:i,height:n}}var $L=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=QL(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=KL(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),tR=function(t,e){var i=function(t){var e=t.x,i=t.y,n=t.width,r=t.height,s="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(s.prototype);return GL(o,{x:e,y:i,width:n,height:r,top:i,right:e+n,bottom:r+i,left:e}),o}(e);GL(this,{target:t,contentRect:i})},eR=function(){function t(t,e,i){if(this.activeObservations_=[],this.observations_=new VL,"function"!==typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=i}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof jL(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new $L(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof jL(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new tR(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),iR="undefined"!==typeof WeakMap?new WeakMap:new VL,nR=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=YL.getInstance(),n=new eR(e,i,this);iR.set(this,n)};["observe","unobserve","disconnect"].forEach((function(t){nR.prototype[t]=function(){var e;return(e=iR.get(this))[t].apply(e,arguments)}}));const rR="undefined"!==typeof NL.ResizeObserver?NL.ResizeObserver:nR;var sR=new Map;var oR=new rR((function(t){t.forEach((function(t){var e,i=t.target;null===(e=sR.get(i))||void 0===e||e.forEach((function(t){return t(i)}))}))}));var aR=function(t){nT(i,t);var e=lT(i);function i(){return ow(this,i),e.apply(this,arguments)}return lw(i,[{key:"render",value:function(){return this.props.children}}]),i}(t.Component);function lR(e,i){var n=e.children,r=e.disabled,s=t.useRef(null),o=t.useRef(null),a=t.useContext(DL),l="function"===typeof n,h=l?n(s):n,c=t.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!l&&t.isValidElement(h)&&KM(h),d=JM(u?h.ref:null,s),f=function(){var t;return XM(s.current)||(s.current&&"object"===cE(s.current)?XM(null===(t=s.current)||void 0===t?void 0:t.nativeElement):null)||XM(o.current)};t.useImperativeHandle(i,(function(){return f()}));var g=t.useRef(e);g.current=e;var p=t.useCallback((function(t){var e=g.current,i=e.onResize,n=e.data,r=t.getBoundingClientRect(),s=r.width,o=r.height,l=t.offsetWidth,h=t.offsetHeight,u=Math.floor(s),d=Math.floor(o);if(c.current.width!==u||c.current.height!==d||c.current.offsetWidth!==l||c.current.offsetHeight!==h){var f={width:u,height:d,offsetWidth:l,offsetHeight:h};c.current=f;var p=l===Math.round(s)?s:l,m=h===Math.round(o)?o:h,y=yE(yE({},f),{},{offsetWidth:p,offsetHeight:m});null===a||void 0===a||a(y,t,n),i&&Promise.resolve().then((function(){i(y,t)}))}}),[]);return t.useEffect((function(){var t,e,i=f();return i&&!r&&(t=i,e=p,sR.has(t)||(sR.set(t,new Set),oR.observe(t)),sR.get(t).add(e)),function(){return function(t,e){sR.has(t)&&(sR.get(t).delete(e),sR.get(t).size||(oR.unobserve(t),sR.delete(t)))}(i,p)}}),[s.current,r]),t.createElement(aR,{ref:o},u?t.cloneElement(h,{ref:d}):h)}const hR=t.forwardRef(lR);function cR(e,i){var n=e.children;return("function"===typeof n?[n]:IL(n)).map((function(n,r){var s=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return t.createElement(hR,nk({},e,{key:s,ref:0===r?i:void 0}),n)}))}var uR=t.forwardRef(cR);uR.Collection=function(e){var i=e.children,n=e.onBatchResize,r=t.useRef(0),s=t.useRef([]),o=t.useContext(DL),a=t.useCallback((function(t,e,i){r.current+=1;var a=r.current;s.current.push({size:t,element:e,data:i}),Promise.resolve().then((function(){a===r.current&&(null===n||void 0===n||n(s.current),s.current=[])})),null===o||void 0===o||o(t,e,i)}),[n,o]);return t.createElement(DL.Provider,{value:a},i)};const dR=uR;var fR=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],gR=void 0;function pR(e,i){var n=e.prefixCls,r=e.invalidate,s=e.item,o=e.renderItem,a=e.responsive,l=e.responsiveDisabled,h=e.registerSize,c=e.itemKey,u=e.className,d=e.style,f=e.children,g=e.display,p=e.order,m=e.component,y=void 0===m?"div":m,v=QM(e,fR),x=a&&!g;function b(t){h(c,t)}t.useEffect((function(){return function(){b(null)}}),[]);var S,A=o&&s!==gR?o(s):f;r||(S={opacity:x?0:1,height:x?0:gR,overflowY:x?"hidden":gR,order:a?p:gR,pointerEvents:x?"none":gR,position:x?"absolute":gR});var E={};x&&(E["aria-hidden"]=!0);var w=t.createElement(y,nk({className:GM()(!r&&n,u),style:yE(yE({},S),d)},E,v,{ref:i}),A);return a&&(w=t.createElement(dR,{onResize:function(t){b(t.offsetWidth)},disabled:l},w)),w}var mR=t.forwardRef(pR);mR.displayName="Item";const yR=mR;function vR(){var e=t.useRef(null);return function(t){e.current||(e.current=[],function(t){if("undefined"===typeof MessageChannel)HT(t);else{var e=new MessageChannel;e.port1.onmessage=function(){return t()},e.port2.postMessage(void 0)}}((function(){(0,xE.unstable_batchedUpdates)((function(){e.current.forEach((function(t){t()})),e.current=null}))}))),e.current.push(t)}}function xR(e,i){var n=VE(t.useState(i),2),r=n[0],s=n[1];return[r,zF((function(t){e((function(){s(t)}))}))]}var bR=t.createContext(null),SR=["component"],AR=["className"],ER=["className"],wR=function(e,i){var n=t.useContext(bR);if(!n){var r=e.component,s=void 0===r?"div":r,o=QM(e,SR);return t.createElement(s,nk({},o,{ref:i}))}var a=n.className,l=QM(n,AR),h=e.className,c=QM(e,ER);return t.createElement(bR.Provider,{value:null},t.createElement(yR,nk({ref:i,className:GM()(a,h)},l,c)))},kR=t.forwardRef(wR);kR.displayName="RawItem";const CR=kR;var MR=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],TR="responsive",PR="invalidate";function FR(t){return"+ ".concat(t.length," ...")}function LR(e,i){var n=e.prefixCls,r=void 0===n?"rc-overflow":n,s=e.data,o=void 0===s?[]:s,a=e.renderItem,l=e.renderRawItem,h=e.itemKey,c=e.itemWidth,u=void 0===c?10:c,d=e.ssr,f=e.style,g=e.className,p=e.maxCount,m=e.renderRest,y=e.renderRawRest,v=e.suffix,x=e.component,b=void 0===x?"div":x,S=e.itemComponent,A=e.onVisibleChange,E=QM(e,MR),w="full"===d,k=vR(),C=VE(xR(k,null),2),M=C[0],T=C[1],P=M||0,F=VE(xR(k,new Map),2),L=F[0],R=F[1],B=VE(xR(k,0),2),z=B[0],I=B[1],D=VE(xR(k,0),2),V=D[0],_=D[1],N=VE(xR(k,0),2),O=N[0],H=N[1],U=VE((0,t.useState)(null),2),Y=U[0],G=U[1],j=VE((0,t.useState)(null),2),X=j[0],W=j[1],Z=t.useMemo((function(){return null===X&&w?Number.MAX_SAFE_INTEGER:X||0}),[X,M]),q=VE((0,t.useState)(!1),2),J=q[0],K=q[1],Q="".concat(r,"-item"),$=Math.max(z,V),tt=p===TR,et=o.length&&tt,it=p===PR,nt=et||"number"===typeof p&&o.length>p,rt=(0,t.useMemo)((function(){var t=o;return et?t=null===M&&w?o:o.slice(0,Math.min(o.length,P/u)):"number"===typeof p&&(t=o.slice(0,p)),t}),[o,u,M,p,et]),st=(0,t.useMemo)((function(){return et?o.slice(Z+1):o.slice(rt.length)}),[o,rt,et,Z]),ot=(0,t.useCallback)((function(t,e){var i;return"function"===typeof h?h(t):null!==(i=h&&(null===t||void 0===t?void 0:t[h]))&&void 0!==i?i:e}),[h]),at=(0,t.useCallback)(a||function(t){return t},[a]);function lt(t,e,i){(X!==t||void 0!==e&&e!==Y)&&(W(t),i||(K(t<o.length-1),null===A||void 0===A||A(t)),void 0!==e&&G(e))}function ht(t,e){R((function(i){var n=new Map(i);return null===e?n.delete(t):n.set(t,e),n}))}function ct(t){return L.get(ot(rt[t],t))}Uw((function(){if(P&&"number"===typeof $&&rt){var t=O,e=rt.length,i=e-1;if(!e)return void lt(0,null);for(var n=0;n<e;n+=1){var r=ct(n);if(w&&(r=r||0),void 0===r){lt(n-1,void 0,!0);break}if(t+=r,0===i&&t<=P||n===i-1&&t+ct(i)<=P){lt(i,null);break}if(t+$>P){lt(n-1,t-r-O+V);break}}v&&ct(0)+O>P&&G(null)}}),[P,L,V,O,ot,rt]);var ut=J&&!!st.length,dt={};null!==Y&&et&&(dt={position:"absolute",left:Y,top:0});var ft,gt={prefixCls:Q,responsive:et,component:S,invalidate:it},pt=l?function(e,i){var n=ot(e,i);return t.createElement(bR.Provider,{key:n,value:yE(yE({},gt),{},{order:i,item:e,itemKey:n,registerSize:ht,display:i<=Z})},l(e,i))}:function(e,i){var n=ot(e,i);return t.createElement(yR,nk({},gt,{order:i,key:n,item:e,renderItem:at,itemKey:n,registerSize:ht,display:i<=Z}))},mt={order:ut?Z:Number.MAX_SAFE_INTEGER,className:"".concat(Q,"-rest"),registerSize:function(t,e){_(e),I(V)},display:ut};if(y)y&&(ft=t.createElement(bR.Provider,{value:yE(yE({},gt),mt)},y(st)));else{var yt=m||FR;ft=t.createElement(yR,nk({},gt,mt),"function"===typeof yt?yt(st):yt)}var vt=t.createElement(b,nk({className:GM()(!it&&r,g),style:f,ref:i},E),rt.map(pt),nt?ft:null,v&&t.createElement(yR,nk({},gt,{responsive:tt,responsiveDisabled:!et,order:Z,className:"".concat(Q,"-suffix"),registerSize:function(t,e){H(e)},display:!0,style:dt}),v));return tt&&(vt=t.createElement(dR,{onResize:function(t,e){T(e.clientWidth)},disabled:!et},vt)),vt}var RR=t.forwardRef(LR);RR.displayName="Overflow",RR.Item=CR,RR.RESPONSIVE=TR,RR.INVALIDATE=PR;const BR=RR;var zR=function(e,i){var n,r=e.prefixCls,s=e.id,o=e.inputElement,a=e.disabled,l=e.tabIndex,h=e.autoFocus,c=e.autoComplete,u=e.editable,d=e.activeDescendantId,f=e.value,g=e.maxLength,p=e.onKeyDown,m=e.onMouseDown,y=e.onChange,v=e.onPaste,x=e.onCompositionStart,b=e.onCompositionEnd,S=e.open,A=e.attrs,E=o||t.createElement("input",null),w=E,k=w.ref,C=w.props,M=C.onKeyDown,T=C.onChange,P=C.onMouseDown,F=C.onCompositionStart,L=C.onCompositionEnd,R=C.style;return E.props,E=t.cloneElement(E,yE(yE(yE({type:"search"},C),{},{id:s,ref:qM(i,k),disabled:a,tabIndex:l,autoComplete:c||"off",autoFocus:h,className:GM()("".concat(r,"-selection-search-input"),null===(n=E)||void 0===n||null===(n=n.props)||void 0===n?void 0:n.className),role:"combobox","aria-expanded":S||!1,"aria-haspopup":"listbox","aria-owns":"".concat(s,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(s,"_list"),"aria-activedescendant":S?d:void 0},A),{},{value:u?f:"",maxLength:g,readOnly:!u,unselectable:u?null:"on",style:yE(yE({},R),{},{opacity:u?null:0}),onKeyDown:function(t){p(t),M&&M(t)},onMouseDown:function(t){m(t),P&&P(t)},onChange:function(t){y(t),T&&T(t)},onCompositionStart:function(t){x(t),F&&F(t)},onCompositionEnd:function(t){b(t),L&&L(t)},onPaste:v}))};const IR=t.forwardRef(zR);function DR(t){return Array.isArray(t)?t:void 0!==t?[t]:[]}var VR="undefined"!==typeof window&&window.document&&window.document.documentElement;function _R(t){return["string","number"].includes(cE(t))}function NR(t){var e=void 0;return t&&(_R(t.title)?e=t.title.toString():_R(t.label)&&(e=t.label.toString())),e}function OR(t){var e;return null!==(e=t.key)&&void 0!==e?e:t.value}var HR=function(t){t.preventDefault(),t.stopPropagation()};const UR=function(e){var i,n,r=e.id,s=e.prefixCls,o=e.values,a=e.open,l=e.searchValue,h=e.autoClearSearchValue,c=e.inputRef,u=e.placeholder,d=e.disabled,f=e.mode,g=e.showSearch,p=e.autoFocus,m=e.autoComplete,y=e.activeDescendantId,v=e.tabIndex,x=e.removeIcon,b=e.maxTagCount,S=e.maxTagTextLength,A=e.maxTagPlaceholder,E=void 0===A?function(t){return"+ ".concat(t.length," ...")}:A,w=e.tagRender,k=e.onToggleOpen,C=e.onRemove,M=e.onInputChange,T=e.onInputPaste,P=e.onInputKeyDown,F=e.onInputMouseDown,L=e.onInputCompositionStart,R=e.onInputCompositionEnd,B=t.useRef(null),z=VE((0,t.useState)(0),2),I=z[0],D=z[1],V=VE((0,t.useState)(!1),2),_=V[0],N=V[1],O="".concat(s,"-selection"),H=a||"multiple"===f&&!1===h||"tags"===f?l:"",U="tags"===f||"multiple"===f&&!1===h||g&&(a||_);i=function(){D(B.current.scrollWidth)},n=[H],VR?t.useLayoutEffect(i,n):t.useEffect(i,n);var Y=function(e,i,n,r,s){return t.createElement("span",{title:NR(e),className:GM()("".concat(O,"-item"),pE({},"".concat(O,"-item-disabled"),n))},t.createElement("span",{className:"".concat(O,"-item-content")},i),r&&t.createElement(PL,{className:"".concat(O,"-item-remove"),onMouseDown:HR,onClick:s,customizeIcon:x},"\xd7"))},G=t.createElement("div",{className:"".concat(O,"-search"),style:{width:I},onFocus:function(){N(!0)},onBlur:function(){N(!1)}},t.createElement(IR,{ref:c,open:a,prefixCls:s,id:r,inputElement:null,disabled:d,autoFocus:p,autoComplete:m,editable:U,activeDescendantId:y,value:H,onKeyDown:P,onMouseDown:F,onChange:M,onPaste:T,onCompositionStart:L,onCompositionEnd:R,tabIndex:v,attrs:zL(e,!0)}),t.createElement("span",{ref:B,className:"".concat(O,"-search-mirror"),"aria-hidden":!0},H,"\xa0")),j=t.createElement(BR,{prefixCls:"".concat(O,"-overflow"),data:o,renderItem:function(e){var i=e.disabled,n=e.label,r=e.value,s=!d&&!i,o=n;if("number"===typeof S&&("string"===typeof n||"number"===typeof n)){var l=String(o);l.length>S&&(o="".concat(l.slice(0,S),"..."))}var h=function(t){t&&t.stopPropagation(),C(e)};return"function"===typeof w?function(e,i,n,r,s){return t.createElement("span",{onMouseDown:function(t){HR(t),k(!a)}},w({label:i,value:e,disabled:n,closable:r,onClose:s}))}(r,o,i,s,h):Y(e,o,i,s,h)},renderRest:function(t){var e="function"===typeof E?E(t):E;return Y({title:e},e,!1)},suffix:G,itemKey:OR,maxCount:b});return t.createElement(t.Fragment,null,j,!o.length&&!H&&t.createElement("span",{className:"".concat(O,"-placeholder")},u))};const YR=function(e){var i=e.inputElement,n=e.prefixCls,r=e.id,s=e.inputRef,o=e.disabled,a=e.autoFocus,l=e.autoComplete,h=e.activeDescendantId,c=e.mode,u=e.open,d=e.values,f=e.placeholder,g=e.tabIndex,p=e.showSearch,m=e.searchValue,y=e.activeValue,v=e.maxLength,x=e.onInputKeyDown,b=e.onInputMouseDown,S=e.onInputChange,A=e.onInputPaste,E=e.onInputCompositionStart,w=e.onInputCompositionEnd,k=e.title,C=VE(t.useState(!1),2),M=C[0],T=C[1],P="combobox"===c,F=P||p,L=d[0],R=m||"";P&&y&&!M&&(R=y),t.useEffect((function(){P&&T(!1)}),[P,y]);var B=!("combobox"!==c&&!u&&!p)&&!!R,z=void 0===k?NR(L):k,I=t.useMemo((function(){return L?null:t.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:B?{visibility:"hidden"}:void 0},f)}),[L,B,f,n]);return t.createElement(t.Fragment,null,t.createElement("span",{className:"".concat(n,"-selection-search")},t.createElement(IR,{ref:s,prefixCls:n,id:r,open:u,inputElement:i,disabled:o,autoFocus:a,autoComplete:l,editable:F,activeDescendantId:h,value:R,onKeyDown:x,onMouseDown:b,onChange:function(t){T(!0),S(t)},onPaste:A,onCompositionStart:E,onCompositionEnd:w,tabIndex:g,attrs:zL(e,!0),maxLength:P?v:void 0})),!P&&L?t.createElement("span",{className:"".concat(n,"-selection-item"),title:z,style:B?{visibility:"hidden"}:void 0},L.label):null,I)};var GR=function(e,i){var n=(0,t.useRef)(null),r=(0,t.useRef)(!1),s=e.prefixCls,o=e.open,a=e.mode,l=e.showSearch,h=e.tokenWithEnter,c=e.autoClearSearchValue,u=e.onSearch,d=e.onSearchSubmit,f=e.onToggleOpen,g=e.onInputKeyDown,p=e.domRef;t.useImperativeHandle(i,(function(){return{focus:function(){n.current.focus()},blur:function(){n.current.blur()}}}));var m=VE(LL(0),2),y=m[0],v=m[1],x=(0,t.useRef)(null),b=function(t){!1!==u(t,!0,r.current)&&f(!0)},S={inputRef:n,onInputKeyDown:function(t){var e,i=t.which;i!==pF.UP&&i!==pF.DOWN||t.preventDefault(),g&&g(t),i!==pF.ENTER||"tags"!==a||r.current||o||null===d||void 0===d||d(t.target.value),e=i,[pF.ESC,pF.SHIFT,pF.BACKSPACE,pF.TAB,pF.WIN_KEY,pF.ALT,pF.META,pF.WIN_KEY_RIGHT,pF.CTRL,pF.SEMICOLON,pF.EQUALS,pF.CAPS_LOCK,pF.CONTEXT_MENU,pF.F1,pF.F2,pF.F3,pF.F4,pF.F5,pF.F6,pF.F7,pF.F8,pF.F9,pF.F10,pF.F11,pF.F12].includes(e)||f(!0)},onInputMouseDown:function(){v(!0)},onInputChange:function(t){var e=t.target.value;if(h&&x.current&&/[\r\n]/.test(x.current)){var i=x.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");e=e.replace(i,x.current)}x.current=null,b(e)},onInputPaste:function(t){var e=t.clipboardData,i=null===e||void 0===e?void 0:e.getData("text");x.current=i||""},onInputCompositionStart:function(){r.current=!0},onInputCompositionEnd:function(t){r.current=!1,"combobox"!==a&&b(t.target.value)}},A="multiple"===a||"tags"===a?t.createElement(UR,nk({},e,S)):t.createElement(YR,nk({},e,S));return t.createElement("div",{ref:p,className:"".concat(s,"-selector"),onClick:function(t){t.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus())},onMouseDown:function(t){var e=y();t.target===n.current||e||"combobox"===a||t.preventDefault(),("combobox"===a||l&&e)&&o||(o&&!1!==c&&u("",!0,!1),f())}},A)};const jR=t.forwardRef(GR);const XR=t.createContext(null);var WR,ZR=[];function qR(t){var e=t.match(/^(.*)px$/),i=Number(null===e||void 0===e?void 0:e[1]);return Number.isNaN(i)?function(t){if("undefined"===typeof document)return 0;if(t||void 0===WR){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var i=document.createElement("div"),n=i.style;n.position="absolute",n.top="0",n.left="0",n.pointerEvents="none",n.visibility="hidden",n.width="200px",n.height="150px",n.overflow="hidden",i.appendChild(e),document.body.appendChild(i);var r=e.offsetWidth;i.style.overflow="scroll";var s=e.offsetWidth;r===s&&(s=i.clientWidth),document.body.removeChild(i),WR=r-s}return WR}():i}var JR="rc-util-locker-".concat(Date.now()),KR=0;function QR(e){var i=!!e,n=VE(t.useState((function(){return KR+=1,"".concat(JR,"_").concat(KR)})),1)[0];Uw((function(){if(i){var t=function(t){if("undefined"===typeof document||!t||!(t instanceof Element))return{width:0,height:0};var e=getComputedStyle(t,"::-webkit-scrollbar"),i=e.width,n=e.height;return{width:qR(i),height:qR(n)}}(document.body).width,e=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;JE("\nhtml body {\n  overflow-y: hidden;\n  ".concat(e?"width: calc(100% - ".concat(t,"px);"):"","\n}"),n)}else qE(n);return function(){qE(n)}}),[i,n])}var $R=!1;var tB=function(t){return!1!==t&&(NE()&&t?"string"===typeof t?document.querySelector(t):"function"===typeof t?t():t:null)},eB=t.forwardRef((function(e,i){var n=e.open,r=e.autoLock,s=e.getContainer,o=(e.debug,e.autoDestroy),a=void 0===o||o,l=e.children,h=VE(t.useState(n),2),c=h[0],u=h[1],d=c||n;t.useEffect((function(){(a||n)&&u(n)}),[n,a]);var f=VE(t.useState((function(){return tB(s)})),2),g=f[0],p=f[1];t.useEffect((function(){var t=tB(s);p(null!==t&&void 0!==t?t:null)}));var m=function(e,i){var n=VE(t.useState((function(){return NE()?document.createElement("div"):null})),1)[0],r=t.useRef(!1),s=t.useContext(XR),o=VE(t.useState(ZR),2),a=o[0],l=o[1],h=s||(r.current?void 0:function(t){l((function(e){return[t].concat(hE(e))}))});function c(){n.parentElement||document.body.appendChild(n),r.current=!0}function u(){var t;null===(t=n.parentElement)||void 0===t||t.removeChild(n),r.current=!1}return Uw((function(){return e?s?s(c):c():u(),u}),[e]),Uw((function(){a.length&&(a.forEach((function(t){return t()})),l(ZR))}),[a]),[n,h]}(d&&!g),y=VE(m,2),v=y[0],x=y[1],b=null!==g&&void 0!==g?g:v;QR(r&&n&&NE()&&(b===v||b===document.body));var S=null;l&&KM(l)&&i&&(S=l.ref);var A=JM(S,i);if(!d||!NE()||void 0===g)return null;var E,w=!1===b||("boolean"===typeof E&&($R=E),$R),k=l;return i&&(k=t.cloneElement(l,{ref:A})),t.createElement(XR.Provider,{value:x},w?k:(0,xE.createPortal)(k,b))}));const iB=eB;var nB=0;var rB=yE({},e).useId;const sB=rB?function(t){var e=rB();return t||e}:function(e){var i=VE(t.useState("ssr-id"),2),n=i[0],r=i[1];return t.useEffect((function(){var t=nB;nB+=1,r("rc_unique_".concat(t))}),[]),e||n};function oB(e){var i=e.prefixCls,n=e.align,r=e.arrow,s=e.arrowPos,o=r||{},a=o.className,l=o.content,h=s.x,c=void 0===h?0:h,u=s.y,d=void 0===u?0:u,f=t.useRef();if(!n||!n.points)return null;var g={position:"absolute"};if(!1!==n.autoArrow){var p=n.points[0],m=n.points[1],y=p[0],v=p[1],x=m[0],b=m[1];y!==x&&["t","b"].includes(y)?"t"===y?g.top=0:g.bottom=0:g.top=d,v!==b&&["l","r"].includes(v)?"l"===v?g.left=0:g.right=0:g.left=c}return t.createElement("div",{ref:f,className:GM()("".concat(i,"-arrow"),a),style:g},l)}function aB(e){var i=e.prefixCls,n=e.open,r=e.zIndex,s=e.mask,o=e.motion;return s?t.createElement(sP,nk({},o,{motionAppear:!0,visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return t.createElement("div",{style:{zIndex:r},className:GM()("".concat(i,"-mask"),n)})})):null}var lB=t.memo((function(t){return t.children}),(function(t,e){return e.cache}));const hB=lB;var cB=t.forwardRef((function(e,i){var n=e.popup,r=e.className,s=e.prefixCls,o=e.style,a=e.target,l=e.onVisibleChanged,h=e.open,c=e.keepDom,u=e.fresh,d=e.onClick,f=e.mask,g=e.arrow,p=e.arrowPos,m=e.align,y=e.motion,v=e.maskMotion,x=e.forceRender,b=e.getPopupContainer,S=e.autoDestroy,A=e.portal,E=e.zIndex,w=e.onMouseEnter,k=e.onMouseLeave,C=e.onPointerEnter,M=e.ready,T=e.offsetX,P=e.offsetY,F=e.offsetR,L=e.offsetB,R=e.onAlign,B=e.onPrepare,z=e.stretch,I=e.targetWidth,D=e.targetHeight,V="function"===typeof n?n():n,_=h||c,N=(null===b||void 0===b?void 0:b.length)>0,O=VE(t.useState(!b||!N),2),H=O[0],U=O[1];if(Uw((function(){!H&&N&&a&&U(!0)}),[H,N,a]),!H)return null;var Y="auto",G={left:"-1000vw",top:"-1000vh",right:Y,bottom:Y};if(M||!h){var j,X=m.points,W=m.dynamicInset||(null===(j=m._experimental)||void 0===j?void 0:j.dynamicInset),Z=W&&"r"===X[0][1],q=W&&"b"===X[0][0];Z?(G.right=F,G.left=Y):(G.left=T,G.right=Y),q?(G.bottom=L,G.top=Y):(G.top=P,G.bottom=Y)}var J={};return z&&(z.includes("height")&&D?J.height=D:z.includes("minHeight")&&D&&(J.minHeight=D),z.includes("width")&&I?J.width=I:z.includes("minWidth")&&I&&(J.minWidth=I)),h||(J.pointerEvents="none"),t.createElement(A,{open:x||_,getContainer:b&&function(){return b(a)},autoDestroy:S},t.createElement(aB,{prefixCls:s,open:h,zIndex:E,mask:f,motion:v}),t.createElement(dR,{onResize:R,disabled:!h},(function(e){return t.createElement(sP,nk({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:x,leavedClassName:"".concat(s,"-hidden")},y,{onAppearPrepare:B,onEnterPrepare:B,visible:h,onVisibleChanged:function(t){var e;null===y||void 0===y||null===(e=y.onVisibleChanged)||void 0===e||e.call(y,t),l(t)}}),(function(n,a){var l=n.className,c=n.style,f=GM()(s,l,r);return t.createElement("div",{ref:qM(e,i,a),className:f,style:yE(yE(yE(yE({"--arrow-x":"".concat(p.x||0,"px"),"--arrow-y":"".concat(p.y||0,"px")},G),J),c),{},{boxSizing:"border-box",zIndex:E},o),onMouseEnter:w,onMouseLeave:k,onPointerEnter:C,onClick:d},g&&t.createElement(oB,{prefixCls:s,arrow:g,arrowPos:p,align:m}),t.createElement(hB,{cache:!h&&!u},V))}))})))}));const uB=cB;var dB=t.forwardRef((function(e,i){var n=e.children,r=e.getTriggerDOMNode,s=KM(n),o=t.useCallback((function(t){ZM(i,r?r(t):t)}),[r]),a=JM(o,n.ref);return s?t.cloneElement(n,{ref:a}):n}));const fB=dB;const gB=t.createContext(null);function pB(t){return t?Array.isArray(t)?t:[t]:[]}const mB=function(t){if(!t)return!1;if(t instanceof Element){if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox(),i=e.width,n=e.height;if(i||n)return!0}if(t.getBoundingClientRect){var r=t.getBoundingClientRect(),s=r.width,o=r.height;if(s||o)return!0}}return!1};function yB(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function vB(t,e,i,n){return e||(i?{motionName:"".concat(t,"-").concat(i)}:n?{motionName:n}:null)}function xB(t){return t.ownerDocument.defaultView}function bB(t){for(var e=[],i=null===t||void 0===t?void 0:t.parentElement,n=["hidden","scroll","clip","auto"];i;){var r=xB(i).getComputedStyle(i);[r.overflowX,r.overflowY,r.overflow].some((function(t){return n.includes(t)}))&&e.push(i),i=i.parentElement}return e}function SB(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(t)?e:t}function AB(t){return SB(parseFloat(t),0)}function EB(t,e){var i=yE({},t);return(e||[]).forEach((function(t){if(!(t instanceof HTMLBodyElement||t instanceof HTMLHtmlElement)){var e=xB(t).getComputedStyle(t),n=e.overflow,r=e.overflowClipMargin,s=e.borderTopWidth,o=e.borderBottomWidth,a=e.borderLeftWidth,l=e.borderRightWidth,h=t.getBoundingClientRect(),c=t.offsetHeight,u=t.clientHeight,d=t.offsetWidth,f=t.clientWidth,g=AB(s),p=AB(o),m=AB(a),y=AB(l),v=SB(Math.round(h.width/d*1e3)/1e3),x=SB(Math.round(h.height/c*1e3)/1e3),b=(d-f-m-y)*v,S=(c-u-g-p)*x,A=g*x,E=p*x,w=m*v,k=y*v,C=0,M=0;if("clip"===n){var T=AB(r);C=T*v,M=T*x}var P=h.x+w-C,F=h.y+A-M,L=P+h.width+2*C-w-k-b,R=F+h.height+2*M-A-E-S;i.left=Math.max(i.left,P),i.top=Math.max(i.top,F),i.right=Math.min(i.right,L),i.bottom=Math.min(i.bottom,R)}})),i}function wB(t){var e="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=e.match(/^(.*)\%$/);return i?t*(parseFloat(i[1])/100):parseFloat(e)}function kB(t,e){var i=VE(e||[],2),n=i[0],r=i[1];return[wB(t.width,n),wB(t.height,r)]}function CB(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[t[0],t[1]]}function MB(t,e){var i,n=e[0],r=e[1];return i="t"===n?t.y:"b"===n?t.y+t.height:t.y+t.height/2,{x:"l"===r?t.x:"r"===r?t.x+t.width:t.x+t.width/2,y:i}}function TB(t,e){var i={t:"b",b:"t",l:"r",r:"l"};return t.map((function(t,n){return n===e?i[t]||"c":t})).join("")}var PB=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const FB=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iB,i=t.forwardRef((function(i,n){var r=i.prefixCls,s=void 0===r?"rc-trigger-popup":r,o=i.children,a=i.action,l=void 0===a?"hover":a,h=i.showAction,c=i.hideAction,u=i.popupVisible,d=i.defaultPopupVisible,f=i.onPopupVisibleChange,g=i.afterPopupVisibleChange,p=i.mouseEnterDelay,m=i.mouseLeaveDelay,y=void 0===m?.1:m,v=i.focusDelay,x=i.blurDelay,b=i.mask,S=i.maskClosable,A=void 0===S||S,E=i.getPopupContainer,w=i.forceRender,k=i.autoDestroy,C=i.destroyPopupOnHide,M=i.popup,T=i.popupClassName,P=i.popupStyle,F=i.popupPlacement,L=i.builtinPlacements,R=void 0===L?{}:L,B=i.popupAlign,z=i.zIndex,I=i.stretch,D=i.getPopupClassNameFromAlign,V=i.fresh,_=i.alignPoint,N=i.onPopupClick,O=i.onPopupAlign,H=i.arrow,U=i.popupMotion,Y=i.maskMotion,G=i.popupTransitionName,j=i.popupAnimation,X=i.maskTransitionName,W=i.maskAnimation,Z=i.className,q=i.getTriggerDOMNode,J=QM(i,PB),K=k||C||!1,Q=VE(t.useState(!1),2),$=Q[0],tt=Q[1];Uw((function(){tt(TL())}),[]);var et=t.useRef({}),it=t.useContext(gB),nt=t.useMemo((function(){return{registerSubPopup:function(t,e){et.current[t]=e,null===it||void 0===it||it.registerSubPopup(t,e)}}}),[it]),rt=sB(),st=VE(t.useState(null),2),ot=st[0],at=st[1],lt=zF((function(t){jM(t)&&ot!==t&&at(t),null===it||void 0===it||it.registerSubPopup(rt,t)})),ht=VE(t.useState(null),2),ct=ht[0],ut=ht[1],dt=t.useRef(null),ft=zF((function(t){jM(t)&&ct!==t&&(ut(t),dt.current=t)})),gt=t.Children.only(o),pt=(null===gt||void 0===gt?void 0:gt.props)||{},mt={},yt=zF((function(t){var e,i,n=ct;return(null===n||void 0===n?void 0:n.contains(t))||(null===(e=OP(n))||void 0===e?void 0:e.host)===t||t===n||(null===ot||void 0===ot?void 0:ot.contains(t))||(null===(i=OP(ot))||void 0===i?void 0:i.host)===t||t===ot||Object.values(et.current).some((function(e){return(null===e||void 0===e?void 0:e.contains(t))||t===e}))})),vt=vB(s,U,j,G),xt=vB(s,Y,W,X),bt=VE(t.useState(d||!1),2),St=bt[0],At=bt[1],Et=null!==u&&void 0!==u?u:St,wt=zF((function(t){void 0===u&&At(t)}));Uw((function(){At(u||!1)}),[u]);var kt=t.useRef(Et);kt.current=Et;var Ct=t.useRef([]);Ct.current=[];var Mt=zF((function(t){var e;wt(t),(null!==(e=Ct.current[Ct.current.length-1])&&void 0!==e?e:Et)!==t&&(Ct.current.push(t),null===f||void 0===f||f(t))})),Tt=t.useRef(),Pt=function(){clearTimeout(Tt.current)},Ft=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Pt(),0===e?Mt(t):Tt.current=setTimeout((function(){Mt(t)}),1e3*e)};t.useEffect((function(){return Pt}),[]);var Lt=VE(t.useState(!1),2),Rt=Lt[0],Bt=Lt[1];Uw((function(t){t&&!Et||Bt(!0)}),[Et]);var zt=VE(t.useState(null),2),It=zt[0],Dt=zt[1],Vt=VE(t.useState([0,0]),2),_t=Vt[0],Nt=Vt[1],Ot=function(t){Nt([t.clientX,t.clientY])},Ht=function(e,i,n,r,s,o,a){var l=VE(t.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:s[r]||{}}),2),h=l[0],c=l[1],u=t.useRef(0),d=t.useMemo((function(){return i?bB(i):[]}),[i]),f=t.useRef({});e||(f.current={});var g=zF((function(){if(i&&n&&e){var t,l,h,u=i,g=u.ownerDocument,p=xB(u).getComputedStyle(u),m=p.width,y=p.height,v=p.position,x=u.style.left,b=u.style.top,S=u.style.right,A=u.style.bottom,E=u.style.overflow,w=yE(yE({},s[r]),o),k=g.createElement("div");if(null===(t=u.parentElement)||void 0===t||t.appendChild(k),k.style.left="".concat(u.offsetLeft,"px"),k.style.top="".concat(u.offsetTop,"px"),k.style.position=v,k.style.height="".concat(u.offsetHeight,"px"),k.style.width="".concat(u.offsetWidth,"px"),u.style.left="0",u.style.top="0",u.style.right="auto",u.style.bottom="auto",u.style.overflow="hidden",Array.isArray(n))h={x:n[0],y:n[1],width:0,height:0};else{var C=n.getBoundingClientRect();h={x:C.x,y:C.y,width:C.width,height:C.height}}var M=u.getBoundingClientRect(),T=g.documentElement,P=T.clientWidth,F=T.clientHeight,L=T.scrollWidth,R=T.scrollHeight,B=T.scrollTop,z=T.scrollLeft,I=M.height,D=M.width,V=h.height,_=h.width,N={left:0,top:0,right:P,bottom:F},O={left:-z,top:-B,right:L-z,bottom:R-B},H=w.htmlRegion,U="visible",Y="visibleFirst";"scroll"!==H&&H!==Y&&(H=U);var G=H===Y,j=EB(O,d),X=EB(N,d),W=H===U?X:j,Z=G?X:W;u.style.left="auto",u.style.top="auto",u.style.right="0",u.style.bottom="0";var q=u.getBoundingClientRect();u.style.left=x,u.style.top=b,u.style.right=S,u.style.bottom=A,u.style.overflow=E,null===(l=u.parentElement)||void 0===l||l.removeChild(k);var J=SB(Math.round(D/parseFloat(m)*1e3)/1e3),K=SB(Math.round(I/parseFloat(y)*1e3)/1e3);if(0===J||0===K||jM(n)&&!mB(n))return;var Q=w.offset,$=w.targetOffset,tt=VE(kB(M,Q),2),et=tt[0],it=tt[1],nt=VE(kB(h,$),2),rt=nt[0],st=nt[1];h.x-=rt,h.y-=st;var ot=VE(w.points||[],2),at=ot[0],lt=CB(ot[1]),ht=CB(at),ct=MB(h,lt),ut=MB(M,ht),dt=yE({},w),ft=ct.x-ut.x+et,gt=ct.y-ut.y+it;function ae(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:W,n=M.x+t,r=M.y+e,s=n+D,o=r+I,a=Math.max(n,i.left),l=Math.max(r,i.top),h=Math.min(s,i.right),c=Math.min(o,i.bottom);return Math.max(0,(h-a)*(c-l))}var pt,mt,yt,vt,xt=ae(ft,gt),bt=ae(ft,gt,X),St=MB(h,["t","l"]),At=MB(M,["t","l"]),Et=MB(h,["b","r"]),wt=MB(M,["b","r"]),kt=w.overflow||{},Ct=kt.adjustX,Mt=kt.adjustY,Tt=kt.shiftX,Pt=kt.shiftY,Ft=function(t){return"boolean"===typeof t?t:t>=0};function le(){pt=M.y+gt,mt=pt+I,yt=M.x+ft,vt=yt+D}le();var Lt=Ft(Mt),Rt=ht[0]===lt[0];if(Lt&&"t"===ht[0]&&(mt>Z.bottom||f.current.bt)){var Bt=gt;Rt?Bt-=I-V:Bt=St.y-wt.y-it;var zt=ae(ft,Bt),It=ae(ft,Bt,X);zt>xt||zt===xt&&(!G||It>=bt)?(f.current.bt=!0,gt=Bt,it=-it,dt.points=[TB(ht,0),TB(lt,0)]):f.current.bt=!1}if(Lt&&"b"===ht[0]&&(pt<Z.top||f.current.tb)){var Dt=gt;Rt?Dt+=I-V:Dt=Et.y-At.y-it;var Vt=ae(ft,Dt),_t=ae(ft,Dt,X);Vt>xt||Vt===xt&&(!G||_t>=bt)?(f.current.tb=!0,gt=Dt,it=-it,dt.points=[TB(ht,0),TB(lt,0)]):f.current.tb=!1}var Nt=Ft(Ct),Ot=ht[1]===lt[1];if(Nt&&"l"===ht[1]&&(vt>Z.right||f.current.rl)){var Ht=ft;Ot?Ht-=D-_:Ht=St.x-wt.x-et;var Ut=ae(Ht,gt),Yt=ae(Ht,gt,X);Ut>xt||Ut===xt&&(!G||Yt>=bt)?(f.current.rl=!0,ft=Ht,et=-et,dt.points=[TB(ht,1),TB(lt,1)]):f.current.rl=!1}if(Nt&&"r"===ht[1]&&(yt<Z.left||f.current.lr)){var Gt=ft;Ot?Gt+=D-_:Gt=Et.x-At.x-et;var jt=ae(Gt,gt),Xt=ae(Gt,gt,X);jt>xt||jt===xt&&(!G||Xt>=bt)?(f.current.lr=!0,ft=Gt,et=-et,dt.points=[TB(ht,1),TB(lt,1)]):f.current.lr=!1}le();var Wt=!0===Tt?0:Tt;"number"===typeof Wt&&(yt<X.left&&(ft-=yt-X.left-et,h.x+_<X.left+Wt&&(ft+=h.x-X.left+_-Wt)),vt>X.right&&(ft-=vt-X.right-et,h.x>X.right-Wt&&(ft+=h.x-X.right+Wt)));var Zt=!0===Pt?0:Pt;"number"===typeof Zt&&(pt<X.top&&(gt-=pt-X.top-it,h.y+V<X.top+Zt&&(gt+=h.y-X.top+V-Zt)),mt>X.bottom&&(gt-=mt-X.bottom-it,h.y>X.bottom-Zt&&(gt+=h.y-X.bottom+Zt)));var qt=M.x+ft,Jt=qt+D,Kt=M.y+gt,Qt=Kt+I,$t=h.x,te=$t+_,ee=h.y,ie=ee+V,ne=(Math.max(qt,$t)+Math.min(Jt,te))/2-qt,re=(Math.max(Kt,ee)+Math.min(Qt,ie))/2-Kt;null===a||void 0===a||a(i,dt);var se=q.right-M.x-(ft+M.width),oe=q.bottom-M.y-(gt+M.height);c({ready:!0,offsetX:ft/J,offsetY:gt/K,offsetR:se/J,offsetB:oe/K,arrowX:ne/J,arrowY:re/K,scaleX:J,scaleY:K,align:dt})}})),p=function(){c((function(t){return yE(yE({},t),{},{ready:!1})}))};return Uw(p,[r]),Uw((function(){e||p()}),[e]),[h.ready,h.offsetX,h.offsetY,h.offsetR,h.offsetB,h.arrowX,h.arrowY,h.scaleX,h.scaleY,h.align,function(){u.current+=1;var t=u.current;Promise.resolve().then((function(){u.current===t&&g()}))}]}(Et,ot,_?_t:ct,F,R,B,O),Ut=VE(Ht,11),Yt=Ut[0],Gt=Ut[1],jt=Ut[2],Xt=Ut[3],Wt=Ut[4],Zt=Ut[5],qt=Ut[6],Jt=Ut[7],Kt=Ut[8],Qt=Ut[9],$t=Ut[10],te=function(e,i,n,r){return t.useMemo((function(){var t=pB(null!==n&&void 0!==n?n:i),s=pB(null!==r&&void 0!==r?r:i),o=new Set(t),a=new Set(s);return e&&(o.has("hover")&&(o.delete("hover"),o.add("click")),a.has("hover")&&(a.delete("hover"),a.add("click"))),[o,a]}),[e,i,n,r])}($,l,h,c),ee=VE(te,2),ie=ee[0],ne=ee[1],re=ie.has("click"),se=ne.has("click")||ne.has("contextMenu"),oe=zF((function(){Rt||$t()}));!function(t,e,i,n,r){Uw((function(){if(t&&e&&i){var s=i,o=bB(e),a=bB(s),l=xB(s),h=new Set([l].concat(hE(o),hE(a)));function c(){n(),r()}return h.forEach((function(t){t.addEventListener("scroll",c,{passive:!0})})),l.addEventListener("resize",c,{passive:!0}),n(),function(){h.forEach((function(t){t.removeEventListener("scroll",c),l.removeEventListener("resize",c)}))}}}),[t,e,i])}(Et,ct,ot,oe,(function(){kt.current&&_&&se&&Ft(!1)})),Uw((function(){oe()}),[_t,F]),Uw((function(){!Et||null!==R&&void 0!==R&&R[F]||oe()}),[JSON.stringify(B)]);var ae=t.useMemo((function(){var t=function(t,e,i,n){for(var r=i.points,s=Object.keys(t),o=0;o<s.length;o+=1){var a,l=s[o];if(yB(null===(a=t[l])||void 0===a?void 0:a.points,r,n))return"".concat(e,"-placement-").concat(l)}return""}(R,s,Qt,_);return GM()(t,null===D||void 0===D?void 0:D(Qt))}),[Qt,D,R,s,_]);t.useImperativeHandle(n,(function(){return{nativeElement:dt.current,forceAlign:oe}}));var le=VE(t.useState(0),2),he=le[0],ce=le[1],ue=VE(t.useState(0),2),de=ue[0],fe=ue[1],ge=function(){if(I&&ct){var t=ct.getBoundingClientRect();ce(t.width),fe(t.height)}};function pe(t,e,i,n){mt[t]=function(r){var s;null===n||void 0===n||n(r),Ft(e,i);for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];null===(s=pt[t])||void 0===s||s.call.apply(s,[pt,r].concat(a))}}Uw((function(){It&&($t(),It(),Dt(null))}),[It]),(re||se)&&(mt.onClick=function(t){var e;kt.current&&se?Ft(!1):!kt.current&&re&&(Ot(t),Ft(!0));for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];null===(e=pt.onClick)||void 0===e||e.call.apply(e,[pt,t].concat(n))}),function(e,i,n,r,s,o,a,l){var h=t.useRef(e),c=t.useRef(!1);h.current!==e&&(c.current=!0,h.current=e),t.useEffect((function(){var t=HT((function(){c.current=!1}));return function(){HT.cancel(t)}}),[e]),t.useEffect((function(){if(i&&r&&(!s||o)){var t=function(){var t=!1;return[function(e){var i=e.target;t=a(i)},function(e){var i=e.target;c.current||!h.current||t||a(i)||l(!1)}]},e=VE(t(),2),u=e[0],d=e[1],f=VE(t(),2),g=f[0],p=f[1],m=xB(r);m.addEventListener("mousedown",u,!0),m.addEventListener("click",d,!0),m.addEventListener("contextmenu",d,!0);var y=OP(n);return y&&(y.addEventListener("mousedown",g,!0),y.addEventListener("click",p,!0),y.addEventListener("contextmenu",p,!0)),function(){m.removeEventListener("mousedown",u,!0),m.removeEventListener("click",d,!0),m.removeEventListener("contextmenu",d,!0),y&&(y.removeEventListener("mousedown",g,!0),y.removeEventListener("click",p,!0),y.removeEventListener("contextmenu",p,!0))}}}),[i,n,r,s,o])}(Et,se,ct,ot,b,A,yt,Ft);var me,ye,ve=ie.has("hover"),xe=ne.has("hover");ve&&(pe("onMouseEnter",!0,p,(function(t){Ot(t)})),pe("onPointerEnter",!0,p,(function(t){Ot(t)})),me=function(t){(Et||Rt)&&null!==ot&&void 0!==ot&&ot.contains(t.target)&&Ft(!0,p)},_&&(mt.onMouseMove=function(t){var e;null===(e=pt.onMouseMove)||void 0===e||e.call(pt,t)})),xe&&(pe("onMouseLeave",!1,y),pe("onPointerLeave",!1,y),ye=function(){Ft(!1,y)}),ie.has("focus")&&pe("onFocus",!0,v),ne.has("focus")&&pe("onBlur",!1,x),ie.has("contextMenu")&&(mt.onContextMenu=function(t){var e;kt.current&&ne.has("contextMenu")?Ft(!1):(Ot(t),Ft(!0)),t.preventDefault();for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];null===(e=pt.onContextMenu)||void 0===e||e.call.apply(e,[pt,t].concat(n))}),Z&&(mt.className=GM()(pt.className,Z));var be=yE(yE({},pt),mt),Se={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(t){J[t]&&(Se[t]=function(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];null===(e=be[t])||void 0===e||e.call.apply(e,[be].concat(n)),J[t].apply(J,n)})}));var Ae=t.cloneElement(gt,yE(yE({},be),Se)),Ee={x:Zt,y:qt},we=H?yE({},!0!==H?H:{}):null;return t.createElement(t.Fragment,null,t.createElement(dR,{disabled:!Et,ref:ft,onResize:function(){ge(),oe()}},t.createElement(fB,{getTriggerDOMNode:q},Ae)),t.createElement(gB.Provider,{value:nt},t.createElement(uB,{portal:e,ref:lt,prefixCls:s,popup:M,className:GM()(T,ae),style:P,target:ct,onMouseEnter:me,onMouseLeave:ye,onPointerEnter:me,zIndex:z,open:Et,keepDom:Rt,fresh:V,onClick:N,mask:b,motion:vt,maskMotion:xt,onVisibleChanged:function(t){Bt(!1),$t(),null===g||void 0===g||g(t)},onPrepare:function(){return new Promise((function(t){ge(),Dt((function(){return t}))}))},forceRender:w,autoDestroy:K,getPopupContainer:E,align:Qt,arrow:we,arrowPos:Ee,ready:Yt,offsetX:Gt,offsetY:jt,offsetR:Xt,offsetB:Wt,onAlign:oe,stretch:I,targetWidth:he/Jt,targetHeight:de/Kt})))}));return i}(iB);var LB=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],RB=function(e,i){var n=e.prefixCls,r=(e.disabled,e.visible),s=e.children,o=e.popupElement,a=e.animation,l=e.transitionName,h=e.dropdownStyle,c=e.dropdownClassName,u=e.direction,d=void 0===u?"ltr":u,f=e.placement,g=e.builtinPlacements,p=e.dropdownMatchSelectWidth,m=e.dropdownRender,y=e.dropdownAlign,v=e.getPopupContainer,x=e.empty,b=e.getTriggerDOMNode,S=e.onPopupVisibleChange,A=e.onPopupMouseEnter,E=QM(e,LB),w="".concat(n,"-dropdown"),k=o;m&&(k=m(o));var C=t.useMemo((function(){return g||function(t){var e=!0===t?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:e,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:e,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:e,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:e,adjustY:1},htmlRegion:"scroll"}}}(p)}),[g,p]),M=a?"".concat(w,"-").concat(a):l,T="number"===typeof p,P=t.useMemo((function(){return T?null:!1===p?"minWidth":"width"}),[p,T]),F=h;T&&(F=yE(yE({},F),{},{width:p}));var L=t.useRef(null);return t.useImperativeHandle(i,(function(){return{getPopupElement:function(){return L.current}}})),t.createElement(FB,nk({},E,{showAction:S?["click"]:[],hideAction:S?["click"]:[],popupPlacement:f||("rtl"===d?"bottomRight":"bottomLeft"),builtinPlacements:C,prefixCls:w,popupTransitionName:M,popup:t.createElement("div",{ref:L,onMouseEnter:A},k),stretch:P,popupAlign:y,popupVisible:r,getPopupContainer:v,popupClassName:GM()(c,pE({},"".concat(w,"-empty"),x)),popupStyle:F,getTriggerDOMNode:b,onPopupVisibleChange:S}),s)};const BB=t.forwardRef(RB);function zB(t,e){var i,n=t.key;return"value"in t&&(i=t.value),null!==n&&void 0!==n?n:void 0!==i?i:"rc-index-key-".concat(e)}function IB(t,e){var i=t||{},n=i.label||(e?"children":"label");return{label:n,value:i.value||"value",options:i.options||"options",groupLabel:i.groupLabel||n}}function DB(t){var e=yE({},t);return"props"in e||Object.defineProperty(e,"props",{get:function(){return rw(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}const VB=t.createContext(null);var _B=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],NB=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],OB=function(t){return"tags"===t||"multiple"===t},HB=t.forwardRef((function(e,i){var n,r,s=e.id,o=e.prefixCls,a=e.className,l=e.showSearch,h=e.tagRender,c=e.direction,u=e.omitDomProps,d=e.displayValues,f=e.onDisplayValuesChange,g=e.emptyOptions,p=e.notFoundContent,m=void 0===p?"Not Found":p,y=e.onClear,v=e.mode,x=e.disabled,b=e.loading,S=e.getInputElement,A=e.getRawInputElement,E=e.open,w=e.defaultOpen,k=e.onDropdownVisibleChange,C=e.activeValue,M=e.onActiveValueChange,T=e.activeDescendantId,P=e.searchValue,F=e.autoClearSearchValue,L=e.onSearch,R=e.onSearchSplit,B=e.tokenSeparators,z=e.allowClear,I=e.suffixIcon,D=e.clearIcon,V=e.OptionList,_=e.animation,N=e.transitionName,O=e.dropdownStyle,H=e.dropdownClassName,U=e.dropdownMatchSelectWidth,Y=e.dropdownRender,G=e.dropdownAlign,j=e.placement,X=e.builtinPlacements,W=e.getPopupContainer,Z=e.showAction,q=void 0===Z?[]:Z,J=e.onFocus,K=e.onBlur,Q=e.onKeyUp,$=e.onKeyDown,tt=e.onMouseDown,et=QM(e,_B),it=OB(v),nt=(void 0!==l?l:it)||"combobox"===v,rt=yE({},et);NB.forEach((function(t){delete rt[t]})),null===u||void 0===u||u.forEach((function(t){delete rt[t]}));var st=VE(t.useState(!1),2),ot=st[0],at=st[1];t.useEffect((function(){at(TL())}),[]);var lt=t.useRef(null),ht=t.useRef(null),ct=t.useRef(null),ut=t.useRef(null),dt=t.useRef(null),ft=t.useRef(!1),gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=VE(t.useState(!1),2),n=i[0],r=i[1],s=t.useRef(null),o=function(){window.clearTimeout(s.current)};return t.useEffect((function(){return o}),[]),[n,function(t,i){o(),s.current=window.setTimeout((function(){r(t),i&&i()}),e)},o]}(),pt=VE(gt,3),mt=pt[0],yt=pt[1],vt=pt[2];t.useImperativeHandle(i,(function(){var t,e;return{focus:null===(t=ut.current)||void 0===t?void 0:t.focus,blur:null===(e=ut.current)||void 0===e?void 0:e.blur,scrollTo:function(t){var e;return null===(e=dt.current)||void 0===e?void 0:e.scrollTo(t)}}}));var xt=t.useMemo((function(){var t;if("combobox"!==v)return P;var e=null===(t=d[0])||void 0===t?void 0:t.value;return"string"===typeof e||"number"===typeof e?String(e):""}),[P,v,d]),bt="combobox"===v&&"function"===typeof S&&S()||null,St="function"===typeof A&&A(),At=JM(ht,null===St||void 0===St||null===(n=St.props)||void 0===n?void 0:n.ref),Et=VE(t.useState(!1),2),wt=Et[0],kt=Et[1];Uw((function(){kt(!0)}),[]);var Ct=VE(DF(!1,{defaultValue:w,value:E}),2),Mt=Ct[0],Tt=Ct[1],Pt=!!wt&&Mt,Ft=!m&&g;(x||Ft&&Pt&&"combobox"===v)&&(Pt=!1);var Lt=!Ft&&Pt,Rt=t.useCallback((function(t){var e=void 0!==t?t:!Pt;x||(Tt(e),Pt!==e&&(null===k||void 0===k||k(e)))}),[x,Pt,Tt,k]),Bt=t.useMemo((function(){return(B||[]).some((function(t){return["\n","\r\n"].includes(t)}))}),[B]),zt=t.useContext(VB)||{},It=zt.maxCount,Dt=zt.rawValues,Vt=function(t,e,i){if(!((null===Dt||void 0===Dt?void 0:Dt.size)>=It)){var n=!0,r=t;null===M||void 0===M||M(null);var s=function(t,e,i){if(!e||!e.length)return null;var n=!1,r=function t(e,i){var r=fC(i),s=r[0],o=r.slice(1);if(!s)return[e];var a=e.split(s);return n=n||a.length>1,a.reduce((function(e,i){return[].concat(hE(e),hE(t(i,o)))}),[]).filter(Boolean)}(t,e);return n?"undefined"!==typeof i?r.slice(0,i):r:null}(t,B,It&&It-Dt.size),o=i?null:s;return"combobox"!==v&&o&&(r="",null===R||void 0===R||R(o),Rt(!1),n=!1),L&&xt!==r&&L(r,{source:e?"typing":"effect"}),n}};t.useEffect((function(){Pt||it||"combobox"===v||Vt("",!1,!1)}),[Pt]),t.useEffect((function(){Mt&&x&&Tt(!1),x&&!ft.current&&yt(!1)}),[x]);var _t=VE(LL(),2),Nt=_t[0],Ot=_t[1],Ht=t.useRef(!1),Ut=[];t.useEffect((function(){return function(){Ut.forEach((function(t){return clearTimeout(t)})),Ut.splice(0,Ut.length)}}),[]);var Yt,Gt=VE(t.useState({}),2)[1];St&&(Yt=function(t){Rt(t)}),function(e,i,n,r){var s=t.useRef(null);s.current={open:i,triggerOpen:n,customizedTrigger:r},t.useEffect((function(){function t(t){var i;if(null===(i=s.current)||void 0===i||!i.customizedTrigger){var n=t.target;n.shadowRoot&&t.composed&&(n=t.composedPath()[0]||n),s.current.open&&e().filter((function(t){return t})).every((function(t){return!t.contains(n)&&t!==n}))&&s.current.triggerOpen(!1)}}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}((function(){var t;return[lt.current,null===(t=ct.current)||void 0===t?void 0:t.getPopupElement()]}),Lt,Rt,!!St);var jt,Xt=t.useMemo((function(){return yE(yE({},e),{},{notFoundContent:m,open:Pt,triggerOpen:Lt,id:s,showSearch:nt,multiple:it,toggleOpen:Rt})}),[e,m,Lt,Pt,s,nt,it,Rt]),Wt=!!I||b;Wt&&(jt=t.createElement(PL,{className:GM()("".concat(o,"-arrow"),pE({},"".concat(o,"-arrow-loading"),b)),customizeIcon:I,customizeIconProps:{loading:b,searchValue:xt,open:Pt,focused:mt,showSearch:nt}}));var Zt,qt=function(e,i,n,r,s){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,h=t.useMemo((function(){return"object"===cE(r)?r.clearIcon:s||void 0}),[r,s]);return{allowClear:t.useMemo((function(){return!(o||!r||!n.length&&!a||"combobox"===l&&""===a)}),[r,o,n.length,a,l]),clearIcon:t.createElement(PL,{className:"".concat(e,"-clear"),onMouseDown:i,customizeIcon:h},"\xd7")}}(o,(function(){var t;null===y||void 0===y||y(),null===(t=ut.current)||void 0===t||t.focus(),f([],{type:"clear",values:d}),Vt("",!1,!1)}),d,z,D,x,xt,v),Jt=qt.allowClear,Kt=qt.clearIcon,Qt=t.createElement(V,{ref:dt}),$t=GM()(o,a,(pE(r={},"".concat(o,"-focused"),mt),pE(r,"".concat(o,"-multiple"),it),pE(r,"".concat(o,"-single"),!it),pE(r,"".concat(o,"-allow-clear"),z),pE(r,"".concat(o,"-show-arrow"),Wt),pE(r,"".concat(o,"-disabled"),x),pE(r,"".concat(o,"-loading"),b),pE(r,"".concat(o,"-open"),Pt),pE(r,"".concat(o,"-customize-input"),bt),pE(r,"".concat(o,"-show-search"),nt),r)),te=t.createElement(BB,{ref:ct,disabled:x,prefixCls:o,visible:Lt,popupElement:Qt,animation:_,transitionName:N,dropdownStyle:O,dropdownClassName:H,direction:c,dropdownMatchSelectWidth:U,dropdownRender:Y,dropdownAlign:G,placement:j,builtinPlacements:X,getPopupContainer:W,empty:g,getTriggerDOMNode:function(){return ht.current},onPopupVisibleChange:Yt,onPopupMouseEnter:function(){Gt({})}},St?t.cloneElement(St,{ref:At}):t.createElement(jR,nk({},e,{domRef:ht,prefixCls:o,inputElement:bt,ref:ut,id:s,showSearch:nt,autoClearSearchValue:F,mode:v,activeDescendantId:T,tagRender:h,values:d,open:Pt,onToggleOpen:Rt,activeValue:C,searchValue:xt,onSearch:Vt,onSearchSubmit:function(t){t&&t.trim()&&L(t,{source:"submit"})},onRemove:function(t){var e=d.filter((function(e){return e!==t}));f(e,{type:"remove",values:[t]})},tokenWithEnter:Bt})));return Zt=St?te:t.createElement("div",nk({className:$t},rt,{ref:lt,onMouseDown:function(t){var e,i=t.target,n=null===(e=ct.current)||void 0===e?void 0:e.getPopupElement();if(n&&n.contains(i)){var r=setTimeout((function(){var t,e=Ut.indexOf(r);-1!==e&&Ut.splice(e,1),vt(),ot||n.contains(document.activeElement)||null===(t=ut.current)||void 0===t||t.focus()}));Ut.push(r)}for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];null===tt||void 0===tt||tt.apply(void 0,[t].concat(o))},onKeyDown:function(t){var e,i=Nt(),n=t.which;if(n===pF.ENTER&&("combobox"!==v&&t.preventDefault(),Pt||Rt(!0)),Ot(!!xt),n===pF.BACKSPACE&&!i&&it&&!xt&&d.length){for(var r=hE(d),s=null,o=r.length-1;o>=0;o-=1){var a=r[o];if(!a.disabled){r.splice(o,1),s=a;break}}s&&f(r,{type:"remove",values:[s]})}for(var l=arguments.length,h=new Array(l>1?l-1:0),c=1;c<l;c++)h[c-1]=arguments[c];Pt&&(null===(e=dt.current)||void 0===e||e.onKeyDown.apply(e,[t].concat(h))),null===$||void 0===$||$.apply(void 0,[t].concat(h))},onKeyUp:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var r;Pt&&(null===(r=dt.current)||void 0===r||r.onKeyUp.apply(r,[t].concat(i))),null===Q||void 0===Q||Q.apply(void 0,[t].concat(i))},onFocus:function(){yt(!0),x||(J&&!Ht.current&&J.apply(void 0,arguments),q.includes("focus")&&Rt(!0)),Ht.current=!0},onBlur:function(){ft.current=!0,yt(!1,(function(){Ht.current=!1,ft.current=!1,Rt(!1)})),x||(xt&&("tags"===v?L(xt,{source:"submit"}):"multiple"===v&&L("",{source:"blur"})),K&&K.apply(void 0,arguments))}}),mt&&!Pt&&t.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(d.map((function(t){var e=t.label,i=t.value;return["number","string"].includes(cE(e))?e:i})).join(", "))),te,jt,Jt&&Kt),t.createElement(FL.Provider,{value:Xt},Zt)}));const UB=HB;var YB=function(){return null};YB.isSelectOptGroup=!0;const GB=YB;var jB=function(){return null};jB.isSelectOption=!0;const XB=jB;function WB(t,e){var i=yE({},t);return Array.isArray(e)&&e.forEach((function(t){delete i[t]})),i}var ZB=t.forwardRef((function(e,i){var n=e.height,r=e.offsetY,s=e.offsetX,o=e.children,a=e.prefixCls,l=e.onInnerResize,h=e.innerProps,c=e.rtl,u=e.extra,d={},f={display:"flex",flexDirection:"column"};return void 0!==r&&(d={height:n,position:"relative",overflow:"hidden"},f=yE(yE({},f),{},pE(pE(pE(pE(pE({transform:"translateY(".concat(r,"px)")},c?"marginRight":"marginLeft",-s),"position","absolute"),"left",0),"right",0),"top",0))),t.createElement("div",{style:d},t.createElement(dR,{onResize:function(t){t.offsetHeight&&l&&l()}},t.createElement("div",nk({style:f,className:GM()(pE({},"".concat(a,"-holder-inner"),a)),ref:i},h),o,u)))}));ZB.displayName="Filler";const qB=ZB;function JB(t,e){return("touches"in t?t.touches[0]:t)[e?"pageX":"pageY"]}var KB=t.forwardRef((function(e,i){var n=e.prefixCls,r=e.rtl,s=e.scrollOffset,o=e.scrollRange,a=e.onStartMove,l=e.onStopMove,h=e.onScroll,c=e.horizontal,u=e.spinSize,d=e.containerSize,f=e.style,g=e.thumbStyle,p=VE(t.useState(!1),2),m=p[0],y=p[1],v=VE(t.useState(null),2),x=v[0],b=v[1],S=VE(t.useState(null),2),A=S[0],E=S[1],w=!r,k=t.useRef(),C=t.useRef(),M=VE(t.useState(!1),2),T=M[0],P=M[1],F=t.useRef(),L=function(){clearTimeout(F.current),P(!0),F.current=setTimeout((function(){P(!1)}),3e3)},R=o-d||0,B=d-u||0,z=t.useMemo((function(){return 0===s||0===R?0:s/R*B}),[s,R,B]),I=t.useRef({top:z,dragging:m,pageY:x,startTop:A});I.current={top:z,dragging:m,pageY:x,startTop:A};var D=function(t){y(!0),b(JB(t,c)),E(I.current.top),a(),t.stopPropagation(),t.preventDefault()};t.useEffect((function(){var t=function(t){t.preventDefault()},e=k.current,i=C.current;return e.addEventListener("touchstart",t),i.addEventListener("touchstart",D),function(){e.removeEventListener("touchstart",t),i.removeEventListener("touchstart",D)}}),[]);var V=t.useRef();V.current=R;var _=t.useRef();_.current=B,t.useEffect((function(){if(m){var t,e=function(e){var i=I.current,n=i.dragging,r=i.pageY,s=i.startTop;if(HT.cancel(t),n){var o=JB(e,c)-r,a=s;!w&&c?a-=o:a+=o;var l=V.current,u=_.current,d=u?a/u:0,f=Math.ceil(d*l);f=Math.max(f,0),f=Math.min(f,l),t=HT((function(){h(f,c)}))}},i=function(){y(!1),l()};return window.addEventListener("mousemove",e),window.addEventListener("touchmove",e),window.addEventListener("mouseup",i),window.addEventListener("touchend",i),function(){window.removeEventListener("mousemove",e),window.removeEventListener("touchmove",e),window.removeEventListener("mouseup",i),window.removeEventListener("touchend",i),HT.cancel(t)}}}),[m]),t.useEffect((function(){L()}),[s]),t.useImperativeHandle(i,(function(){return{delayHidden:L}}));var N="".concat(n,"-scrollbar"),O={position:"absolute",visibility:T?null:"hidden"},H={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return c?(O.height=8,O.left=0,O.right=0,O.bottom=0,H.height="100%",H.width=u,w?H.left=z:H.right=z):(O.width=8,O.top=0,O.bottom=0,w?O.right=0:O.left=0,H.width="100%",H.height=u,H.top=z),t.createElement("div",{ref:k,className:GM()(N,pE(pE(pE({},"".concat(N,"-horizontal"),c),"".concat(N,"-vertical"),!c),"".concat(N,"-visible"),T)),style:yE(yE({},O),f),onMouseDown:function(t){t.stopPropagation(),t.preventDefault()},onMouseMove:L},t.createElement("div",{ref:C,className:GM()("".concat(N,"-thumb"),pE({},"".concat(N,"-thumb-moving"),m)),style:yE(yE({},H),g),onMouseDown:D}))}));const QB=KB;function $B(e){var i=e.children,n=e.setRef,r=t.useCallback((function(t){n(t)}),[]);return t.cloneElement(i,{ref:r})}const tz=function(){function t(){ow(this,t),pE(this,"maps",void 0),pE(this,"id",0),this.maps=Object.create(null)}return lw(t,[{key:"set",value:function(t,e){this.maps[t]=e,this.id+=1}},{key:"get",value:function(t){return this.maps[t]}}]),t}();var ez=10;function iz(e,i,n){var r=VE(t.useState(e),2),s=r[0],o=r[1],a=VE(t.useState(null),2),l=a[0],h=a[1];return t.useEffect((function(){var t=function(t,e,i){var n,r,s=t.length,o=e.length;if(0===s&&0===o)return null;s<o?(n=t,r=e):(n=e,r=t);var a={__EMPTY_ITEM__:!0};function l(t){return void 0!==t?i(t):a}for(var h=null,c=1!==Math.abs(s-o),u=0;u<r.length;u+=1){var d=l(n[u]);if(d!==l(r[u])){h=u,c=c||d!==l(r[u+1]);break}}return null===h?null:{index:h,multiple:c}}(s||[],e||[],i);void 0!==(null===t||void 0===t?void 0:t.index)&&(null===n||void 0===n||n(t.index),h(e[t.index])),o(e)}),[e]),[l]}const nz="object"===("undefined"===typeof navigator?"undefined":cE(navigator))&&/Firefox/i.test(navigator.userAgent),rz=function(e,i){var n=(0,t.useRef)(!1),r=(0,t.useRef)(null);var s=(0,t.useRef)({top:e,bottom:i});return s.current.top=e,s.current.bottom=i,function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t<0&&s.current.top||t>0&&s.current.bottom;return e&&i?(clearTimeout(r.current),n.current=!1):i&&!n.current||(clearTimeout(r.current),n.current=!0,r.current=setTimeout((function(){n.current=!1}),50)),!n.current&&i}};function sz(e,i,n,r,s){var o=(0,t.useRef)(0),a=(0,t.useRef)(null),l=(0,t.useRef)(null),h=(0,t.useRef)(!1),c=rz(i,n);var u=(0,t.useRef)(null),d=(0,t.useRef)(null);return[function(t){if(e){HT.cancel(d.current),d.current=HT((function(){u.current=null}),2);var i=t.deltaX,n=t.deltaY,f=t.shiftKey,g=i,p=n;("sx"===u.current||!u.current&&f&&n&&!i)&&(g=n,p=0,u.current="sx");var m=Math.abs(g),y=Math.abs(p);null===u.current&&(u.current=r&&m>y?"x":"y"),"y"===u.current?function(t,e){HT.cancel(a.current),o.current+=e,l.current=e,c(e)||(nz||t.preventDefault(),a.current=HT((function(){var t=h.current?10:1;s(o.current*t),o.current=0})))}(t,p):function(t,e){s(e,!0),nz||t.preventDefault()}(t,g)}},function(t){e&&(h.current=t.detail===l.current)}]}var oz=14/15;var az=20;function lz(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=t/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)*t;return isNaN(e)&&(e=0),e=Math.max(e,az),Math.floor(e)}var hz=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],cz=[],uz={overflowY:"auto",overflowAnchor:"none"};function dz(e,i){var n=e.prefixCls,r=void 0===n?"rc-virtual-list":n,s=e.className,o=e.height,a=e.itemHeight,l=e.fullHeight,h=void 0===l||l,c=e.style,u=e.data,d=e.children,f=e.itemKey,g=e.virtual,p=e.direction,m=e.scrollWidth,y=e.component,v=void 0===y?"div":y,x=e.onScroll,b=e.onVirtualScroll,S=e.onVisibleChange,A=e.innerProps,E=e.extraRender,w=e.styles,k=QM(e,hz),C=!(!1===g||!o||!a),M=C&&u&&(a*u.length>o||!!m),T="rtl"===p,P=GM()(r,pE({},"".concat(r,"-rtl"),T),s),F=u||cz,L=(0,t.useRef)(),R=(0,t.useRef)(),B=VE((0,t.useState)(0),2),z=B[0],I=B[1],D=VE((0,t.useState)(0),2),V=D[0],_=D[1],N=VE((0,t.useState)(!1),2),O=N[0],H=N[1],U=function(){H(!0)},Y=function(){H(!1)},G=t.useCallback((function(t){return"function"===typeof f?f(t):null===t||void 0===t?void 0:t[f]}),[f]),j={getKey:G};function X(t){I((function(e){var i=function(t){var e=t;Number.isNaN(pt.current)||(e=Math.min(e,pt.current));return e=Math.max(e,0),e}("function"===typeof t?t(e):t);return L.current.scrollTop=i,i}))}var W=(0,t.useRef)({start:0,end:F.length}),Z=(0,t.useRef)(),q=VE(iz(F,G),1)[0];Z.current=q;var J=function(e,i,n){var r=VE(t.useState(0),2),s=r[0],o=r[1],a=(0,t.useRef)(new Map),l=(0,t.useRef)(new tz),h=(0,t.useRef)();function c(){HT.cancel(h.current)}function u(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];c();var e=function(){a.current.forEach((function(t,e){if(t&&t.offsetParent){var i=XM(t),n=i.offsetHeight;l.current.get(e)!==n&&l.current.set(e,i.offsetHeight)}})),o((function(t){return t+1}))};t?e():h.current=HT(e)}return(0,t.useEffect)((function(){return c}),[]),[function(t,r){var s=e(t),o=a.current.get(s);r?(a.current.set(s,r),u()):a.current.delete(s),!o!==!r&&(r?null===i||void 0===i||i(t):null===n||void 0===n||n(t))},u,l.current,s]}(G,null,null),K=VE(J,4),Q=K[0],$=K[1],tt=K[2],et=K[3],it=t.useMemo((function(){if(!C)return{scrollHeight:void 0,start:0,end:F.length-1,offset:void 0};var t;if(!M)return{scrollHeight:(null===(t=R.current)||void 0===t?void 0:t.offsetHeight)||0,start:0,end:F.length-1,offset:void 0};for(var e,i,n,r=0,s=F.length,l=0;l<s;l+=1){var h=F[l],c=G(h),u=tt.get(c),d=r+(void 0===u?a:u);d>=z&&void 0===e&&(e=l,i=r),d>z+o&&void 0===n&&(n=l),r=d}return void 0===e&&(e=0,i=0,n=Math.ceil(o/a)),void 0===n&&(n=F.length-1),{scrollHeight:r,start:e,end:n=Math.min(n+1,F.length-1),offset:i}}),[M,C,z,F,et,o]),nt=it.scrollHeight,rt=it.start,st=it.end,ot=it.offset;W.current.start=rt,W.current.end=st;var at=VE(t.useState({width:0,height:o}),2),lt=at[0],ht=at[1],ct=(0,t.useRef)(),ut=(0,t.useRef)(),dt=t.useMemo((function(){return lz(lt.width,m)}),[lt.width,m]),ft=t.useMemo((function(){return lz(lt.height,nt)}),[lt.height,nt]),gt=nt-o,pt=(0,t.useRef)(gt);pt.current=gt;var mt=z<=0,yt=z>=gt,vt=rz(mt,yt),xt=function(){return{x:T?-V:V,y:z}},bt=(0,t.useRef)(xt()),St=zF((function(){if(b){var t=xt();bt.current.x===t.x&&bt.current.y===t.y||(b(t),bt.current=t)}}));function At(t,e){var i=t;e?((0,xE.flushSync)((function(){_(i)})),St()):X(i)}var Et=function(t){var e=t,i=m-lt.width;return e=Math.max(e,0),e=Math.min(e,i)},wt=zF((function(t,e){e?((0,xE.flushSync)((function(){_((function(e){return Et(e+(T?-t:t))}))})),St()):X((function(e){return e+t}))})),kt=VE(sz(C,mt,yt,!!m,wt),2),Ct=kt[0],Mt=kt[1];!function(e,i,n){var r,s=(0,t.useRef)(!1),o=(0,t.useRef)(0),a=(0,t.useRef)(null),l=(0,t.useRef)(null),h=function(t){if(s.current){var e=Math.ceil(t.touches[0].pageY),i=o.current-e;o.current=e,n(i)&&t.preventDefault(),clearInterval(l.current),l.current=setInterval((function(){(!n(i*=oz,!0)||Math.abs(i)<=.1)&&clearInterval(l.current)}),16)}},c=function(){s.current=!1,r()},u=function(t){r(),1!==t.touches.length||s.current||(s.current=!0,o.current=Math.ceil(t.touches[0].pageY),a.current=t.target,a.current.addEventListener("touchmove",h),a.current.addEventListener("touchend",c))};r=function(){a.current&&(a.current.removeEventListener("touchmove",h),a.current.removeEventListener("touchend",c))},Uw((function(){return e&&i.current.addEventListener("touchstart",u),function(){var t;null===(t=i.current)||void 0===t||t.removeEventListener("touchstart",u),r(),clearInterval(l.current)}}),[e])}(C,L,(function(t,e){return!vt(t,e)&&(Ct({preventDefault:function(){},deltaY:t}),!0)})),Uw((function(){function t(t){C&&t.preventDefault()}var e=L.current;return e.addEventListener("wheel",Ct),e.addEventListener("DOMMouseScroll",Mt),e.addEventListener("MozMousePixelScroll",t),function(){e.removeEventListener("wheel",Ct),e.removeEventListener("DOMMouseScroll",Mt),e.removeEventListener("MozMousePixelScroll",t)}}),[C]),Uw((function(){m&&_((function(t){return Et(t)}))}),[lt.width,m]);var Tt=function(){var t,e;null===(t=ct.current)||void 0===t||t.delayHidden(),null===(e=ut.current)||void 0===e||e.delayHidden()},Pt=function(e,i,n,r,s,o,a,l){var h=t.useRef(),c=VE(t.useState(null),2),u=c[0],d=c[1];return Uw((function(){if(u&&u.times<ez){if(!e.current)return void d((function(t){return yE({},t)}));o();var t=u.targetAlign,l=u.originAlign,h=u.index,c=u.offset,f=e.current.clientHeight,g=!1,p=t,m=null;if(f){for(var y=t||l,v=0,x=0,b=0,S=Math.min(i.length-1,h),A=0;A<=S;A+=1){var E=s(i[A]);x=v;var w=n.get(E);v=b=x+(void 0===w?r:w)}for(var k="top"===y?c:f-c,C=S;C>=0;C-=1){var M=s(i[C]),T=n.get(M);if(void 0===T){g=!0;break}if((k-=T)<=0)break}switch(y){case"top":m=x-c;break;case"bottom":m=b-f+c;break;default:var P=e.current.scrollTop;x<P?p="top":b>P+f&&(p="bottom")}null!==m&&a(m),m!==u.lastTop&&(g=!0)}g&&d(yE(yE({},u),{},{times:u.times+1,targetAlign:p,lastTop:m}))}}),[u,e.current]),function(t){if(null!==t&&void 0!==t){if(HT.cancel(h.current),"number"===typeof t)a(t);else if(t&&"object"===cE(t)){var e,n=t.align;e="index"in t?t.index:i.findIndex((function(e){return s(e)===t.key}));var r=t.offset;d({times:0,index:e,offset:void 0===r?0:r,originAlign:n})}}else l()}}(L,F,tt,a,G,(function(){return $(!0)}),X,Tt);t.useImperativeHandle(i,(function(){return{getScrollInfo:xt,scrollTo:function(t){var e;(e=t)&&"object"===cE(e)&&("left"in e||"top"in e)?(void 0!==t.left&&_(Et(t.left)),Pt(t.top)):Pt(t)}}})),Uw((function(){if(S){var t=F.slice(rt,st+1);S(t,F)}}),[rt,st,F]);var Ft=function(e,i,n,r){var s=VE(t.useMemo((function(){return[new Map,[]]}),[e,n.id,r]),2),o=s[0],a=s[1];return function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,l=o.get(t),h=o.get(s);if(void 0===l||void 0===h)for(var c=e.length,u=a.length;u<c;u+=1){var d,f=e[u],g=i(f);o.set(g,u);var p=null!==(d=n.get(g))&&void 0!==d?d:r;if(a[u]=(a[u-1]||0)+p,g===t&&(l=u),g===s&&(h=u),void 0!==l&&void 0!==h)break}return{top:a[l-1]||0,bottom:a[h]}}}(F,G,tt,a),Lt=null===E||void 0===E?void 0:E({start:rt,end:st,virtual:M,offsetX:V,offsetY:ot,rtl:T,getSize:Ft}),Rt=function(e,i,n,r,s,o,a){var l=a.getKey;return e.slice(i,n+1).map((function(e,n){var a=o(e,i+n,{style:{width:r}}),h=l(e);return t.createElement($B,{key:h,setRef:function(t){return s(e,t)}},a)}))}(F,rt,st,m,Q,d,j),Bt=null;o&&(Bt=yE(pE({},h?"height":"maxHeight",o),uz),C&&(Bt.overflowY="hidden",m&&(Bt.overflowX="hidden"),O&&(Bt.pointerEvents="none")));var zt={};return T&&(zt.dir="rtl"),t.createElement("div",nk({style:yE(yE({},c),{},{position:"relative"}),className:P},zt,k),t.createElement(dR,{onResize:function(t){ht({width:t.width||t.offsetWidth,height:t.height||t.offsetHeight})}},t.createElement(v,{className:"".concat(r,"-holder"),style:Bt,ref:L,onScroll:function(t){var e=t.currentTarget.scrollTop;e!==z&&X(e),null===x||void 0===x||x(t),St()},onMouseEnter:Tt},t.createElement(qB,{prefixCls:r,height:nt,offsetX:V,offsetY:ot,scrollWidth:m,onInnerResize:$,ref:R,innerProps:A,rtl:T,extra:Lt},Rt))),M&&nt>o&&t.createElement(QB,{ref:ct,prefixCls:r,scrollOffset:z,scrollRange:nt,rtl:T,onScroll:At,onStartMove:U,onStopMove:Y,spinSize:ft,containerSize:lt.height,style:null===w||void 0===w?void 0:w.verticalScrollBar,thumbStyle:null===w||void 0===w?void 0:w.verticalScrollBarThumb}),M&&m>lt.width&&t.createElement(QB,{ref:ut,prefixCls:r,scrollOffset:V,scrollRange:m,rtl:T,onScroll:At,onStartMove:U,onStopMove:Y,spinSize:dt,containerSize:lt.width,horizontal:!0,style:null===w||void 0===w?void 0:w.horizontalScrollBar,thumbStyle:null===w||void 0===w?void 0:w.horizontalScrollBarThumb}))}var fz=t.forwardRef(dz);fz.displayName="List";const gz=fz;var pz=["disabled","title","children","style","className"];function mz(t){return"string"===typeof t||"number"===typeof t}var yz=function(e,i){var n=t.useContext(FL),r=n.prefixCls,s=n.id,o=n.open,a=n.multiple,l=n.mode,h=n.searchValue,c=n.toggleOpen,u=n.notFoundContent,d=n.onPopupScroll,f=t.useContext(VB),g=f.maxCount,p=f.flattenOptions,m=f.onActiveValue,y=f.defaultActiveFirstOption,v=f.onSelect,x=f.menuItemSelectedIcon,b=f.rawValues,S=f.fieldNames,A=f.virtual,E=f.direction,w=f.listHeight,k=f.listItemHeight,C=f.optionRender,M="".concat(r,"-item"),T=KE((function(){return p}),[o,p],(function(t,e){return e[0]&&t[1]!==e[1]})),P=t.useRef(null),F=t.useMemo((function(){return a&&"undefined"!==typeof g&&(null===b||void 0===b?void 0:b.size)>=g}),[a,g,null===b||void 0===b?void 0:b.size]),L=function(t){t.preventDefault()},R=function(t){var e;null===(e=P.current)||void 0===e||e.scrollTo("number"===typeof t?{index:t}:t)},B=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=T.length,n=0;n<i;n+=1){var r=(t+n*e+i)%i,s=T[r]||{},o=s.group,a=s.data;if(!o&&(null===a||void 0===a||!a.disabled)&&!F)return r}return-1},z=VE(t.useState((function(){return B(0)})),2),I=z[0],D=z[1],V=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];D(t);var i={source:e?"keyboard":"mouse"},n=T[t];n?m(n.value,t,i):m(null,-1,i)};(0,t.useEffect)((function(){V(!1!==y?B(0):-1)}),[T.length,h]);var _=t.useCallback((function(t){return b.has(t)&&"combobox"!==l}),[l,hE(b).toString(),b.size]);(0,t.useEffect)((function(){var t,e=setTimeout((function(){if(!a&&o&&1===b.size){var t=Array.from(b)[0],e=T.findIndex((function(e){return e.data.value===t}));-1!==e&&(V(e),R(e))}}));o&&(null===(t=P.current)||void 0===t||t.scrollTo(void 0));return function(){return clearTimeout(e)}}),[o,h]);var N=function(t){void 0!==t&&v(t,{selected:!b.has(t)}),a||c(!1)};if(t.useImperativeHandle(i,(function(){return{onKeyDown:function(t){var e=t.which,i=t.ctrlKey;switch(e){case pF.N:case pF.P:case pF.UP:case pF.DOWN:var n=0;if(e===pF.UP?n=-1:e===pF.DOWN?n=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&i&&(e===pF.N?n=1:e===pF.P&&(n=-1)),0!==n){var r=B(I+n,n);R(r),V(r,!0)}break;case pF.ENTER:var s,a=T[I];!a||null!==a&&void 0!==a&&null!==(s=a.data)&&void 0!==s&&s.disabled||F?N(void 0):N(a.value),o&&t.preventDefault();break;case pF.ESC:c(!1),o&&t.stopPropagation()}},onKeyUp:function(){},scrollTo:function(t){R(t)}}})),0===T.length)return t.createElement("div",{role:"listbox",id:"".concat(s,"_list"),className:"".concat(M,"-empty"),onMouseDown:L},u);var O=Object.keys(S).map((function(t){return S[t]})),H=function(t){return t.label};function U(t,e){return{role:t.group?"presentation":"option",id:"".concat(s,"_list_").concat(e)}}var Y=function(e){var i=T[e];if(!i)return null;var n=i.data||{},r=n.value,s=i.group,o=zL(n,!0),a=H(i);return i?t.createElement("div",nk({"aria-label":"string"!==typeof a||s?null:a},o,{key:e},U(i,e),{"aria-selected":_(r)}),r):null},G={role:"listbox",id:"".concat(s,"_list")};return t.createElement(t.Fragment,null,A&&t.createElement("div",nk({},G,{style:{height:0,width:0,overflow:"hidden"}}),Y(I-1),Y(I),Y(I+1)),t.createElement(gz,{itemKey:"key",ref:P,data:T,height:w,itemHeight:k,fullHeight:!1,onMouseDown:L,onScroll:d,virtual:A,direction:E,innerProps:A?null:G},(function(e,i){var n,r=e.group,s=e.groupOption,o=e.data,a=e.label,l=e.value,h=o.key;if(r){var c,u=null!==(c=o.title)&&void 0!==c?c:mz(a)?a.toString():void 0;return t.createElement("div",{className:GM()(M,"".concat(M,"-group")),title:u},void 0!==a?a:h)}var d=o.disabled,f=o.title,g=(o.children,o.style),p=o.className,m=WB(QM(o,pz),O),y=_(l),v=d||!y&&F,b="".concat(M,"-option"),S=GM()(M,b,p,(pE(n={},"".concat(b,"-grouped"),s),pE(n,"".concat(b,"-active"),I===i&&!v),pE(n,"".concat(b,"-disabled"),v),pE(n,"".concat(b,"-selected"),y),n)),E=H(e),w=!x||"function"===typeof x||y,k="number"===typeof E?E:E||l,T=mz(k)?k.toString():void 0;return void 0!==f&&(T=f),t.createElement("div",nk({},zL(m),A?{}:U(e,i),{"aria-selected":y,className:S,title:T,onMouseMove:function(){I===i||v||V(i)},onClick:function(){v||N(l)},style:g}),t.createElement("div",{className:"".concat(b,"-content")},"function"===typeof C?C(e,{index:i}):k),t.isValidElement(x)||y,w&&t.createElement(PL,{className:"".concat(M,"-option-state"),customizeIcon:x,customizeIconProps:{value:l,disabled:v,isSelected:y}},y?"\u2713":null))})))};const vz=t.forwardRef(yz);function xz(t,e){return DR(t).join("").toUpperCase().includes(e)}var bz=0,Sz=NE();function Az(e){var i=VE(t.useState(),2),n=i[0],r=i[1];return t.useEffect((function(){r("rc_select_".concat(function(){var t;return Sz?(t=bz,bz+=1):t="TEST_OR_SSR",t}()))}),[]),e||n}var Ez=["children","value"],wz=["children"];function kz(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return IL(e).map((function(e,n){if(!t.isValidElement(e)||!e.type)return null;var r=e,s=r.type.isSelectOptGroup,o=r.key,a=r.props,l=a.children,h=QM(a,wz);return i||!s?function(t){var e=t,i=e.key,n=e.props,r=n.children,s=n.value;return yE({key:i,value:void 0!==s?s:i,children:r},QM(n,Ez))}(e):yE(yE({key:"__RC_SELECT_GRP__".concat(null===o?n:o,"__"),label:o},h),{},{options:kz(l)})})).filter((function(t){return t}))}const Cz=function(e,i,n,r,s){return t.useMemo((function(){var t=e;!e&&(t=kz(i));var o=new Map,a=new Map,l=function(t,e,i){i&&"string"===typeof i&&t.set(e[i],e)};return function t(e){for(var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],h=0;h<e.length;h+=1){var c=e[h];!c[n.options]||i?(o.set(c[n.value],c),l(a,c,n.label),l(a,c,r),l(a,c,s)):t(c[n.options],!0)}}(t),{options:t,valueOptions:o,labelOptions:a}}),[e,i,n,r,s])};function Mz(e){var i=t.useRef();i.current=e;var n=t.useCallback((function(){return i.current.apply(i,arguments)}),[]);return n}var Tz=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange","maxCount"],Pz=["inputValue"];var Fz=t.forwardRef((function(e,i){var n=e.id,r=e.mode,s=e.prefixCls,o=void 0===s?"rc-select":s,a=e.backfill,l=e.fieldNames,h=e.inputValue,c=e.searchValue,u=e.onSearch,d=e.autoClearSearchValue,f=void 0===d||d,g=e.onSelect,p=e.onDeselect,m=e.dropdownMatchSelectWidth,y=void 0===m||m,v=e.filterOption,x=e.filterSort,b=e.optionFilterProp,S=e.optionLabelProp,A=e.options,E=e.optionRender,w=e.children,k=e.defaultActiveFirstOption,C=e.menuItemSelectedIcon,M=e.virtual,T=e.direction,P=e.listHeight,F=void 0===P?200:P,L=e.listItemHeight,R=void 0===L?20:L,B=e.value,z=e.defaultValue,I=e.labelInValue,D=e.onChange,V=e.maxCount,_=QM(e,Tz),N=Az(n),O=OB(r),H=!(A||!w),U=t.useMemo((function(){return(void 0!==v||"combobox"!==r)&&v}),[v,r]),Y=t.useMemo((function(){return IB(l,H)}),[JSON.stringify(l),H]),G=VE(DF("",{value:void 0!==c?c:h,postState:function(t){return t||""}}),2),j=G[0],X=G[1],W=Cz(A,w,Y,b,S),Z=W.valueOptions,q=W.labelOptions,J=W.options,K=t.useCallback((function(t){return DR(t).map((function(t){var e,i,n,r,s,o;(function(t){return!t||"object"!==cE(t)})(t)?e=t:(n=t.key,i=t.label,e=null!==(o=t.value)&&void 0!==o?o:n);var a,l=Z.get(e);l&&(void 0===i&&(i=null===l||void 0===l?void 0:l[S||Y.label]),void 0===n&&(n=null!==(a=null===l||void 0===l?void 0:l.key)&&void 0!==a?a:e),r=null===l||void 0===l?void 0:l.disabled,s=null===l||void 0===l?void 0:l.title);return{label:i,value:e,key:n,disabled:r,title:s}}))}),[Y,S,Z]),Q=VE(DF(z,{value:B}),2),$=Q[0],tt=Q[1],et=t.useMemo((function(){var t,e=K(O&&null===$?[]:$);return"combobox"===r&&function(t){return!t&&0!==t}(null===(t=e[0])||void 0===t?void 0:t.value)?[]:e}),[$,K,r,O]),it=function(e,i){var n=t.useRef({values:new Map,options:new Map});return[t.useMemo((function(){var t=n.current,r=t.values,s=t.options,o=e.map((function(t){var e;return void 0===t.label?yE(yE({},t),{},{label:null===(e=r.get(t.value))||void 0===e?void 0:e.label}):t})),a=new Map,l=new Map;return o.forEach((function(t){a.set(t.value,t),l.set(t.value,i.get(t.value)||s.get(t.value))})),n.current.values=a,n.current.options=l,o}),[e,i]),t.useCallback((function(t){return i.get(t)||n.current.options.get(t)}),[i])]}(et,Z),nt=VE(it,2),rt=nt[0],st=nt[1],ot=t.useMemo((function(){if(!r&&1===rt.length){var t=rt[0];if(null===t.value&&(null===t.label||void 0===t.label))return[]}return rt.map((function(t){var e;return yE(yE({},t),{},{label:null!==(e=t.label)&&void 0!==e?e:t.value})}))}),[r,rt]),at=t.useMemo((function(){return new Set(rt.map((function(t){return t.value})))}),[rt]);t.useEffect((function(){if("combobox"===r){var t,e=null===(t=rt[0])||void 0===t?void 0:t.value;X(function(t){return void 0!==t&&null!==t}(e)?String(e):"")}}),[rt]);var lt=Mz((function(t,e){var i,n=null!==e&&void 0!==e?e:t;return pE(i={},Y.value,t),pE(i,Y.label,n),i})),ht=t.useMemo((function(){if("tags"!==r)return J;var t=hE(J);return hE(rt).sort((function(t,e){return t.value<e.value?-1:1})).forEach((function(e){var i=e.value;(function(t){return Z.has(t)})(i)||t.push(lt(i,e.label))})),t}),[lt,J,Z,rt,r]),ct=function(e,i,n,r,s){return t.useMemo((function(){if(!n||!1===r)return e;var t=i.options,o=i.label,a=i.value,l=[],h="function"===typeof r,c=n.toUpperCase(),u=h?r:function(e,i){return s?xz(i[s],c):i[t]?xz(i["children"!==o?o:"label"],c):xz(i[a],c)},d=h?function(t){return DB(t)}:function(t){return t};return e.forEach((function(e){if(e[t])if(u(n,d(e)))l.push(e);else{var i=e[t].filter((function(t){return u(n,d(t))}));i.length&&l.push(yE(yE({},e),{},pE({},t,i)))}else u(n,d(e))&&l.push(e)})),l}),[e,r,s,n,i])}(ht,Y,j,U,b),ut=t.useMemo((function(){return"tags"!==r||!j||ct.some((function(t){return t[b||"value"]===j}))||ct.some((function(t){return t[Y.value]===j}))?ct:[lt(j)].concat(hE(ct))}),[lt,b,r,ct,j,Y]),dt=t.useMemo((function(){return x?hE(ut).sort((function(t,e){return x(t,e)})):ut}),[ut,x]),ft=t.useMemo((function(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.fieldNames,n=e.childrenAsData,r=[],s=IB(i,!1),o=s.label,a=s.value,l=s.options,h=s.groupLabel;return function t(e,i){Array.isArray(e)&&e.forEach((function(e){if(i||!(l in e)){var s=e[a];r.push({key:zB(e,r.length),groupOption:i,data:e,label:e[o],value:s})}else{var c=e[h];void 0===c&&n&&(c=e.label),r.push({key:zB(e,r.length),group:!0,data:e,label:c}),t(e[l],!0)}}))}(t,!1),r}(dt,{fieldNames:Y,childrenAsData:H})}),[dt,Y,H]),gt=function(t){var e=K(t);if(tt(e),D&&(e.length!==rt.length||e.some((function(t,e){var i;return(null===(i=rt[e])||void 0===i?void 0:i.value)!==(null===t||void 0===t?void 0:t.value)})))){var i=I?e:e.map((function(t){return t.value})),n=e.map((function(t){return DB(st(t.value))}));D(O?i:i[0],O?n:n[0])}},pt=VE(t.useState(null),2),mt=pt[0],yt=pt[1],vt=VE(t.useState(0),2),xt=vt[0],bt=vt[1],St=void 0!==k?k:"combobox"!==r,At=t.useCallback((function(t,e){var i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).source,n=void 0===i?"keyboard":i;bt(e),a&&"combobox"===r&&null!==t&&"keyboard"===n&&yt(String(t))}),[a,r]),Et=function(t,e,i){var n=function(){var e,i=st(t);return[I?{label:null===i||void 0===i?void 0:i[Y.label],value:t,key:null!==(e=null===i||void 0===i?void 0:i.key)&&void 0!==e?e:t}:t,DB(i)]};if(e&&g){var r=VE(n(),2),s=r[0],o=r[1];g(s,o)}else if(!e&&p&&"clear"!==i){var a=VE(n(),2),l=a[0],h=a[1];p(l,h)}},wt=Mz((function(t,e){var i,n=!O||e.selected;i=n?O?[].concat(hE(rt),[t]):[t]:rt.filter((function(e){return e.value!==t})),gt(i),Et(t,n),"combobox"===r?yt(""):OB&&!f||(X(""),yt(""))})),kt=t.useMemo((function(){var t=!1!==M&&!1!==y;return yE(yE({},W),{},{flattenOptions:ft,onActiveValue:At,defaultActiveFirstOption:St,onSelect:wt,menuItemSelectedIcon:C,rawValues:at,fieldNames:Y,virtual:t,direction:T,listHeight:F,listItemHeight:R,childrenAsData:H,maxCount:V,optionRender:E})}),[V,W,ft,At,St,wt,C,at,Y,M,y,T,F,R,H,E]);return t.createElement(VB.Provider,{value:kt},t.createElement(UB,nk({},_,{id:N,prefixCls:o,ref:i,omitDomProps:Pz,mode:r,displayValues:ot,onDisplayValuesChange:function(t,e){gt(t);var i=e.type,n=e.values;"remove"!==i&&"clear"!==i||n.forEach((function(t){Et(t.value,!1,i)}))},direction:T,searchValue:j,onSearch:function(t,e){if(X(t),yt(null),"submit"!==e.source)"blur"!==e.source&&("combobox"===r&&gt(t),null===u||void 0===u||u(t));else{var i=(t||"").trim();if(i){var n=Array.from(new Set([].concat(hE(at),[i])));gt(n),Et(i,!0),X("")}}},autoClearSearchValue:f,onSearchSplit:function(t){var e=t;"tags"!==r&&(e=t.map((function(t){var e=q.get(t);return null===e||void 0===e?void 0:e.value})).filter((function(t){return void 0!==t})));var i=Array.from(new Set([].concat(hE(at),hE(e))));gt(i),i.forEach((function(t){Et(t,!0)}))},dropdownMatchSelectWidth:y,OptionList:vz,emptyOptions:!ft.length,activeValue:mt,activeDescendantId:"".concat(N,"_list_").concat(xt)})))}));var Lz=Fz;Lz.Option=XB,Lz.OptGroup=GB;const Rz=Lz,Bz=(t,e,i)=>void 0!==i?i:"".concat(t,"-").concat(e);const zz=(e,i,n,r)=>function(e){return i=>t.createElement(VP,{theme:{token:{motion:!1,zIndexPopupBase:0}}},t.createElement(e,Object.assign({},i)))}((s=>{const{prefixCls:o,style:a}=s,l=t.useRef(null),[h,c]=t.useState(0),[u,d]=t.useState(0),[f,g]=DF(!1,{value:s.open}),{getPrefixCls:p}=t.useContext(BE),m=p(i||"select",o);t.useEffect((()=>{if(g(!0),"undefined"!==typeof ResizeObserver){const t=new ResizeObserver((t=>{const e=t[0].target;c(e.offsetHeight+8),d(e.offsetWidth)})),e=setInterval((()=>{var i;const r=n?".".concat(n(m)):".".concat(m,"-dropdown"),s=null===(i=l.current)||void 0===i?void 0:i.querySelector(r);s&&(clearInterval(e),t.observe(s))}),10);return()=>{clearInterval(e),t.disconnect()}}}),[]);let y=Object.assign(Object.assign({},s),{style:Object.assign(Object.assign({},a),{margin:0}),open:f,visible:f,getPopupContainer:()=>l.current});r&&(y=r(y));const v={paddingBottom:h,position:"relative",minWidth:u};return t.createElement("div",{ref:l,style:v},t.createElement(e,Object.assign({},y)))}));function Iz(t,e,i){return GM()({["".concat(t,"-status-success")]:"success"===e,["".concat(t,"-status-warning")]:"warning"===e,["".concat(t,"-status-error")]:"error"===e,["".concat(t,"-status-validating")]:"validating"===e,["".concat(t,"-has-feedback")]:i})}const Dz=(t,e)=>e||t,Vz=(e,i)=>{const n=t.useContext(BC),r=t.useMemo((()=>{var t;const r=i||PC[e],s=null!==(t=null===n||void 0===n?void 0:n[e])&&void 0!==t?t:{};return Object.assign(Object.assign({},"function"===typeof r?r():r),s||{})}),[e,i,n]);return[r,t.useMemo((()=>{const t=null===n||void 0===n?void 0:n.locale;return(null===n||void 0===n?void 0:n.exist)&&!t?PC.locale:t}),[n])]};const _z=()=>{const[,e]=mP(),i=new SM(e.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return t.createElement("svg",{style:i,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},t.createElement("g",{fill:"none",fillRule:"evenodd"},t.createElement("g",{transform:"translate(24 31.67)"},t.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),t.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),t.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),t.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),t.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),t.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),t.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},t.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),t.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))};const Nz=()=>{const[,e]=mP(),{colorFill:i,colorFillTertiary:n,colorFillQuaternary:r,colorBgContainer:s}=e,{borderColor:o,shadowColor:a,contentColor:l}=(0,t.useMemo)((()=>({borderColor:new SM(i).onBackground(s).toHexShortString(),shadowColor:new SM(n).onBackground(s).toHexShortString(),contentColor:new SM(r).onBackground(s).toHexShortString()})),[i,n,r,s]);return t.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},t.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},t.createElement("ellipse",{fill:a,cx:"32",cy:"33",rx:"32",ry:"7"}),t.createElement("g",{fillRule:"nonzero",stroke:o},t.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),t.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:l}))))},Oz=t=>{const{componentCls:e,margin:i,marginXS:n,marginXL:r,fontSize:s,lineHeight:o}=t;return{[e]:{marginInline:n,fontSize:s,lineHeight:o,textAlign:"center",["".concat(e,"-image")]:{height:t.emptyImgHeight,marginBottom:n,opacity:t.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},["".concat(e,"-description")]:{color:t.colorText},["".concat(e,"-footer")]:{marginTop:i},"&-normal":{marginBlock:r,color:t.colorTextDisabled,["".concat(e,"-description")]:{color:t.colorTextDisabled},["".concat(e,"-image")]:{height:t.emptyImgHeightMD}},"&-small":{marginBlock:n,color:t.colorTextDisabled,["".concat(e,"-image")]:{height:t.emptyImgHeightSM}}}}},Hz=QF("Empty",(t=>{const{componentCls:e,controlHeightLG:i,calc:n}=t,r=jF(t,{emptyImgCls:"".concat(e,"-img"),emptyImgHeight:n(i).mul(2.5).equal(),emptyImgHeightMD:i,emptyImgHeightSM:n(i).mul(.875).equal()});return[Oz(r)]}));var Uz=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i};const Yz=t.createElement(_z,null),Gz=t.createElement(Nz,null),jz=e=>{var{className:i,rootClassName:n,prefixCls:r,image:s=Yz,description:o,children:a,imageStyle:l,style:h}=e,c=Uz(e,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:u,direction:d,empty:f}=t.useContext(BE),g=u("empty",r),[p,m,y]=Hz(g),[v]=Vz("Empty"),x="undefined"!==typeof o?o:null===v||void 0===v?void 0:v.description,b="string"===typeof x?x:"empty";let S=null;return S="string"===typeof s?t.createElement("img",{alt:b,src:s}):s,p(t.createElement("div",Object.assign({className:GM()(m,y,g,null===f||void 0===f?void 0:f.className,{["".concat(g,"-normal")]:s===Gz,["".concat(g,"-rtl")]:"rtl"===d},i,n),style:Object.assign(Object.assign({},null===f||void 0===f?void 0:f.style),h)},c),t.createElement("div",{className:"".concat(g,"-image"),style:l},S),x&&t.createElement("div",{className:"".concat(g,"-description")},x),a&&t.createElement("div",{className:"".concat(g,"-footer")},a)))};jz.PRESENTED_IMAGE_DEFAULT=Yz,jz.PRESENTED_IMAGE_SIMPLE=Gz;const Xz=jz,Wz=e=>{const{componentName:i}=e,{getPrefixCls:n}=(0,t.useContext)(BE),r=n("empty");switch(i){case"Table":case"List":return t.createElement(Xz,{image:Xz.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return t.createElement(Xz,{image:Xz.PRESENTED_IMAGE_SIMPLE,className:"".concat(r,"-small")});default:return t.createElement(Xz,null)}},Zz=e=>{const i=t.useContext(_M);return t.useMemo((()=>e?"string"===typeof e?null!==e&&void 0!==e?e:i:e instanceof Function?e(i):i:i),[e,i])};var qz="RC_FORM_INTERNAL_HOOKS",Jz=function(){rw(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")};const Kz=t.createContext({getFieldValue:Jz,getFieldsValue:Jz,getFieldError:Jz,getFieldWarning:Jz,getFieldsError:Jz,isFieldsTouched:Jz,isFieldTouched:Jz,isFieldValidating:Jz,isFieldsValidating:Jz,resetFields:Jz,setFields:Jz,setFieldValue:Jz,setFieldsValue:Jz,validateFields:Jz,submit:Jz,getInternalHooks:function(){return Jz(),{dispatch:Jz,initEntityValue:Jz,registerField:Jz,useSubscribe:Jz,setInitialValues:Jz,destroyForm:Jz,setCallbacks:Jz,registerWatch:Jz,getFields:Jz,setValidateMessages:Jz,setPreserve:Jz,getInitialValue:Jz}}});const Qz=t.createContext(null);function $z(t){return void 0===t||null===t?[]:Array.isArray(t)?t:[t]}function tI(){return tI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},tI.apply(this,arguments)}function eI(t){return eI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},eI(t)}function iI(t,e){return iI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},iI(t,e)}function nI(t,e,i){return nI=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Sn){return!1}}()?Reflect.construct.bind():function(t,e,i){var n=[null];n.push.apply(n,e);var r=new(Function.bind.apply(t,n));return i&&iI(r,i.prototype),r},nI.apply(null,arguments)}function rI(t){var e="function"===typeof Map?new Map:void 0;return rI=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return nI(t,arguments,eI(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),iI(i,t)},rI(t)}var sI=/%[sdj%]/g;function oI(t){if(!t||!t.length)return null;var e={};return t.forEach((function(t){var i=t.field;e[i]=e[i]||[],e[i].push(t)})),e}function aI(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var r=0,s=i.length;if("function"===typeof t)return t.apply(null,i);if("string"===typeof t){var o=t.replace(sI,(function(t){if("%%"===t)return"%";if(r>=s)return t;switch(t){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":try{return JSON.stringify(i[r++])}catch(e){return"[Circular]"}break;default:return t}}));return o}return t}function lI(t,e){return void 0===t||null===t||(!("array"!==e||!Array.isArray(t)||t.length)||!(!function(t){return"string"===t||"url"===t||"hex"===t||"email"===t||"date"===t||"pattern"===t}(e)||"string"!==typeof t||t))}function hI(t,e,i){var n=0,r=t.length;!function s(o){if(o&&o.length)i(o);else{var a=n;n+=1,a<r?e(t[a],s):i([])}}([])}var cI=function(t){var e,i;function n(e,i){var n;return(n=t.call(this,"Async Validation Error")||this).errors=e,n.fields=i,n}return i=t,(e=n).prototype=Object.create(i.prototype),e.prototype.constructor=e,iI(e,i),n}(rI(Error));function uI(t,e,i,n,r){if(e.first){var s=new Promise((function(e,s){var o=function(t){var e=[];return Object.keys(t).forEach((function(i){e.push.apply(e,t[i]||[])})),e}(t);hI(o,i,(function(t){return n(t),t.length?s(new cI(t,oI(t))):e(r)}))}));return s.catch((function(t){return t})),s}var o=!0===e.firstFields?Object.keys(t):e.firstFields||[],a=Object.keys(t),l=a.length,h=0,c=[],u=new Promise((function(e,s){var u=function(t){if(c.push.apply(c,t),++h===l)return n(c),c.length?s(new cI(c,oI(c))):e(r)};a.length||(n(c),e(r)),a.forEach((function(e){var n=t[e];-1!==o.indexOf(e)?hI(n,i,u):function(t,e,i){var n=[],r=0,s=t.length;function o(t){n.push.apply(n,t||[]),++r===s&&i(n)}t.forEach((function(t){e(t,o)}))}(n,i,u)}))}));return u.catch((function(t){return t})),u}function dI(t,e){return function(i){var n,r;return n=t.fullFields?function(t,e){for(var i=t,n=0;n<e.length;n++){if(void 0==i)return i;i=i[e[n]]}return i}(e,t.fullFields):e[i.field||t.fullField],(r=i)&&void 0!==r.message?(i.field=i.field||t.fullField,i.fieldValue=n,i):{message:"function"===typeof i?i():i,fieldValue:n,field:i.field||t.fullField}}}function fI(t,e){if(e)for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];"object"===typeof n&&"object"===typeof t[i]?t[i]=tI({},t[i],n):t[i]=n}return t}var gI,pI=function(t,e,i,n,r,s){!t.required||i.hasOwnProperty(t.field)&&!lI(e,s||t.type)||n.push(aI(r.messages.required,t.fullField))},mI=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,yI=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,vI={integer:function(t){return vI.number(t)&&parseInt(t,10)===t},float:function(t){return vI.number(t)&&!vI.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch(Sn){return!1}},date:function(t){return"function"===typeof t.getTime&&"function"===typeof t.getMonth&&"function"===typeof t.getYear&&!isNaN(t.getTime())},number:function(t){return!isNaN(t)&&"number"===typeof t},object:function(t){return"object"===typeof t&&!vI.array(t)},method:function(t){return"function"===typeof t},email:function(t){return"string"===typeof t&&t.length<=320&&!!t.match(mI)},url:function(t){return"string"===typeof t&&t.length<=2048&&!!t.match(function(){if(gI)return gI;var t="[a-fA-F\\d:]",e=function(e){return e&&e.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},i="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",r=("\n(?:\n(?:"+n+":){7}(?:"+n+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+n+":){6}(?:"+i+"|:"+n+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+n+":){5}(?::"+i+"|(?::"+n+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+n+":){4}(?:(?::"+n+"){0,1}:"+i+"|(?::"+n+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+n+":){3}(?:(?::"+n+"){0,2}:"+i+"|(?::"+n+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+n+":){2}(?:(?::"+n+"){0,3}:"+i+"|(?::"+n+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+n+":){1}(?:(?::"+n+"){0,4}:"+i+"|(?::"+n+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+n+"){0,5}:"+i+"|(?::"+n+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=new RegExp("(?:^"+i+"$)|(?:^"+r+"$)"),o=new RegExp("^"+i+"$"),a=new RegExp("^"+r+"$"),l=function(t){return t&&t.exact?s:new RegExp("(?:"+e(t)+i+e(t)+")|(?:"+e(t)+r+e(t)+")","g")};l.v4=function(t){return t&&t.exact?o:new RegExp(""+e(t)+i+e(t),"g")},l.v6=function(t){return t&&t.exact?a:new RegExp(""+e(t)+r+e(t),"g")};var h=l.v4().source,c=l.v6().source;return gI=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+h+"|"+c+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(t){return"string"===typeof t&&!!t.match(yI)}},xI="enum",bI={required:pI,whitespace:function(t,e,i,n,r){(/^\s+$/.test(e)||""===e)&&n.push(aI(r.messages.whitespace,t.fullField))},type:function(t,e,i,n,r){if(t.required&&void 0===e)pI(t,e,i,n,r);else{var s=t.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(s)>-1?vI[s](e)||n.push(aI(r.messages.types[s],t.fullField,t.type)):s&&typeof e!==t.type&&n.push(aI(r.messages.types[s],t.fullField,t.type))}},range:function(t,e,i,n,r){var s="number"===typeof t.len,o="number"===typeof t.min,a="number"===typeof t.max,l=e,h=null,c="number"===typeof e,u="string"===typeof e,d=Array.isArray(e);if(c?h="number":u?h="string":d&&(h="array"),!h)return!1;d&&(l=e.length),u&&(l=e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),s?l!==t.len&&n.push(aI(r.messages[h].len,t.fullField,t.len)):o&&!a&&l<t.min?n.push(aI(r.messages[h].min,t.fullField,t.min)):a&&!o&&l>t.max?n.push(aI(r.messages[h].max,t.fullField,t.max)):o&&a&&(l<t.min||l>t.max)&&n.push(aI(r.messages[h].range,t.fullField,t.min,t.max))},enum:function(t,e,i,n,r){t[xI]=Array.isArray(t[xI])?t[xI]:[],-1===t[xI].indexOf(e)&&n.push(aI(r.messages[xI],t.fullField,t[xI].join(", ")))},pattern:function(t,e,i,n,r){if(t.pattern)if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(e)||n.push(aI(r.messages.pattern.mismatch,t.fullField,e,t.pattern));else if("string"===typeof t.pattern){new RegExp(t.pattern).test(e)||n.push(aI(r.messages.pattern.mismatch,t.fullField,e,t.pattern))}}},SI=function(t,e,i,n,r){var s=t.type,o=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(lI(e,s)&&!t.required)return i();bI.required(t,e,n,o,r,s),lI(e,s)||bI.type(t,e,n,o,r)}i(o)},AI={string:function(t,e,i,n,r){var s=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(lI(e,"string")&&!t.required)return i();bI.required(t,e,n,s,r,"string"),lI(e,"string")||(bI.type(t,e,n,s,r),bI.range(t,e,n,s,r),bI.pattern(t,e,n,s,r),!0===t.whitespace&&bI.whitespace(t,e,n,s,r))}i(s)},method:function(t,e,i,n,r){var s=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(lI(e)&&!t.required)return i();bI.required(t,e,n,s,r),void 0!==e&&bI.type(t,e,n,s,r)}i(s)},number:function(t,e,i,n,r){var s=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(""===e&&(e=void 0),lI(e)&&!t.required)return i();bI.required(t,e,n,s,r),void 0!==e&&(bI.type(t,e,n,s,r),bI.range(t,e,n,s,r))}i(s)},boolean:function(t,e,i,n,r){var s=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(lI(e)&&!t.required)return i();bI.required(t,e,n,s,r),void 0!==e&&bI.type(t,e,n,s,r)}i(s)},regexp:function(t,e,i,n,r){var s=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(lI(e)&&!t.required)return i();bI.required(t,e,n,s,r),lI(e)||bI.type(t,e,n,s,r)}i(s)},integer:function(t,e,i,n,r){var s=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(lI(e)&&!t.required)return i();bI.required(t,e,n,s,r),void 0!==e&&(bI.type(t,e,n,s,r),bI.range(t,e,n,s,r))}i(s)},float:function(t,e,i,n,r){var s=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(lI(e)&&!t.required)return i();bI.required(t,e,n,s,r),void 0!==e&&(bI.type(t,e,n,s,r),bI.range(t,e,n,s,r))}i(s)},array:function(t,e,i,n,r){var s=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if((void 0===e||null===e)&&!t.required)return i();bI.required(t,e,n,s,r,"array"),void 0!==e&&null!==e&&(bI.type(t,e,n,s,r),bI.range(t,e,n,s,r))}i(s)},object:function(t,e,i,n,r){var s=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(lI(e)&&!t.required)return i();bI.required(t,e,n,s,r),void 0!==e&&bI.type(t,e,n,s,r)}i(s)},enum:function(t,e,i,n,r){var s=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(lI(e)&&!t.required)return i();bI.required(t,e,n,s,r),void 0!==e&&bI.enum(t,e,n,s,r)}i(s)},pattern:function(t,e,i,n,r){var s=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(lI(e,"string")&&!t.required)return i();bI.required(t,e,n,s,r),lI(e,"string")||bI.pattern(t,e,n,s,r)}i(s)},date:function(t,e,i,n,r){var s=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(lI(e,"date")&&!t.required)return i();var o;if(bI.required(t,e,n,s,r),!lI(e,"date"))o=e instanceof Date?e:new Date(e),bI.type(t,o,n,s,r),o&&bI.range(t,o.getTime(),n,s,r)}i(s)},url:SI,hex:SI,email:SI,required:function(t,e,i,n,r){var s=[],o=Array.isArray(e)?"array":typeof e;bI.required(t,e,n,s,r,o),i(s)},any:function(t,e,i,n,r){var s=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(lI(e)&&!t.required)return i();bI.required(t,e,n,s,r)}i(s)}};function EI(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var wI=EI(),kI=function(){function t(t){this.rules=null,this._messages=wI,this.define(t)}var e=t.prototype;return e.define=function(t){var e=this;if(!t)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof t||Array.isArray(t))throw new Error("Rules must be an object");this.rules={},Object.keys(t).forEach((function(i){var n=t[i];e.rules[i]=Array.isArray(n)?n:[n]}))},e.messages=function(t){return t&&(this._messages=fI(EI(),t)),this._messages},e.validate=function(e,i,n){var r=this;void 0===i&&(i={}),void 0===n&&(n=function(){});var s=e,o=i,a=n;if("function"===typeof o&&(a=o,o={}),!this.rules||0===Object.keys(this.rules).length)return a&&a(null,s),Promise.resolve(s);if(o.messages){var l=this.messages();l===wI&&(l=EI()),fI(l,o.messages),o.messages=l}else o.messages=this.messages();var h={};(o.keys||Object.keys(this.rules)).forEach((function(t){var i=r.rules[t],n=s[t];i.forEach((function(i){var o=i;"function"===typeof o.transform&&(s===e&&(s=tI({},s)),n=s[t]=o.transform(n)),(o="function"===typeof o?{validator:o}:tI({},o)).validator=r.getValidationMethod(o),o.validator&&(o.field=t,o.fullField=o.fullField||t,o.type=r.getType(o),h[t]=h[t]||[],h[t].push({rule:o,value:n,source:s,field:t}))}))}));var c={};return uI(h,o,(function(e,i){var n,r=e.rule,a=("object"===r.type||"array"===r.type)&&("object"===typeof r.fields||"object"===typeof r.defaultField);function l(t,e){return tI({},e,{fullField:r.fullField+"."+t,fullFields:r.fullFields?[].concat(r.fullFields,[t]):[t]})}function h(n){void 0===n&&(n=[]);var h=Array.isArray(n)?n:[n];!o.suppressWarning&&h.length&&t.warning("async-validator:",h),h.length&&void 0!==r.message&&(h=[].concat(r.message));var u=h.map(dI(r,s));if(o.first&&u.length)return c[r.field]=1,i(u);if(a){if(r.required&&!e.value)return void 0!==r.message?u=[].concat(r.message).map(dI(r,s)):o.error&&(u=[o.error(r,aI(o.messages.required,r.field))]),i(u);var d={};r.defaultField&&Object.keys(e.value).map((function(t){d[t]=r.defaultField})),d=tI({},d,e.rule.fields);var f={};Object.keys(d).forEach((function(t){var e=d[t],i=Array.isArray(e)?e:[e];f[t]=i.map(l.bind(null,t))}));var g=new t(f);g.messages(o.messages),e.rule.options&&(e.rule.options.messages=o.messages,e.rule.options.error=o.error),g.validate(e.value,e.rule.options||o,(function(t){var e=[];u&&u.length&&e.push.apply(e,u),t&&t.length&&e.push.apply(e,t),i(e.length?e:null)}))}else i(u)}if(a=a&&(r.required||!r.required&&e.value),r.field=e.field,r.asyncValidator)n=r.asyncValidator(r,e.value,h,e.source,o);else if(r.validator){try{n=r.validator(r,e.value,h,e.source,o)}catch(u){null==console.error||console.error(u),o.suppressValidatorError||setTimeout((function(){throw u}),0),h(u.message)}!0===n?h():!1===n?h("function"===typeof r.message?r.message(r.fullField||r.field):r.message||(r.fullField||r.field)+" fails"):n instanceof Array?h(n):n instanceof Error&&h(n.message)}n&&n.then&&n.then((function(){return h()}),(function(t){return h(t)}))}),(function(t){!function(t){var e=[],i={};function n(t){var i;Array.isArray(t)?e=(i=e).concat.apply(i,t):e.push(t)}for(var r=0;r<t.length;r++)n(t[r]);e.length?(i=oI(e),a(e,i)):a(null,s)}(t)}),s)},e.getType=function(t){if(void 0===t.type&&t.pattern instanceof RegExp&&(t.type="pattern"),"function"!==typeof t.validator&&t.type&&!AI.hasOwnProperty(t.type))throw new Error(aI("Unknown rule type %s",t.type));return t.type||"string"},e.getValidationMethod=function(t){if("function"===typeof t.validator)return t.validator;var e=Object.keys(t),i=e.indexOf("message");return-1!==i&&e.splice(i,1),1===e.length&&"required"===e[0]?AI.required:AI[this.getType(t)]||void 0},t}();kI.register=function(t,e){if("function"!==typeof e)throw new Error("Cannot register a validator by type, validator is not a function");AI[t]=e},kI.warning=function(){},kI.messages=wI,kI.validators=AI;var CI="'${name}' is not a valid ${type}",MI={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:CI,method:CI,array:CI,object:CI,number:CI,date:CI,boolean:CI,integer:CI,float:CI,regexp:CI,email:CI,url:CI,hex:CI},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},TI=kI;function PI(t,e){return t.replace(/\$\{\w+\}/g,(function(t){var i=t.slice(2,-1);return e[i]}))}var FI="CODE_LOGIC_ERROR";function LI(t,e,i,n,r){return RI.apply(this,arguments)}function RI(){return RI=fE(uE().mark((function e(i,n,r,s,o){var a,l,h,c,u,d,f,g,p;return uE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(a=yE({},r)).ruleIndex,TI.warning=function(){},a.validator&&(l=a.validator,a.validator=function(){try{return l.apply(void 0,arguments)}catch(t){return console.error(t),Promise.reject(FI)}}),h=null,a&&"array"===a.type&&a.defaultField&&(h=a.defaultField,delete a.defaultField),c=new TI(pE({},i,[a])),u=xC(MI,s.validateMessages),c.messages(u),d=[],e.prev=10,e.next=13,Promise.resolve(c.validate(pE({},i,n),yE({},s)));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),e.t0.errors&&(d=e.t0.errors.map((function(e,i){var n=e.message,r=n===FI?u.default:n;return t.isValidElement(r)?t.cloneElement(r,{key:"error_".concat(i)}):r})));case 18:if(d.length||!h){e.next=23;break}return e.next=21,Promise.all(n.map((function(t,e){return LI("".concat(i,".").concat(e),t,h,s,o)})));case 21:return f=e.sent,e.abrupt("return",f.reduce((function(t,e){return[].concat(hE(t),hE(e))}),[]));case 23:return g=yE(yE({},r),{},{name:i,enum:(r.enum||[]).join(", ")},o),p=d.map((function(t){return"string"===typeof t?PI(t,g):t})),e.abrupt("return",p);case 26:case"end":return e.stop()}}),e,null,[[10,15]])}))),RI.apply(this,arguments)}function BI(t,e,i,n,r,s){var o,a=t.join("."),l=i.map((function(t,e){var i=t.validator,n=yE(yE({},t),{},{ruleIndex:e});return i&&(n.validator=function(t,e,n){var r=!1,s=i(t,e,(function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];Promise.resolve().then((function(){rw(!r,"Your validator function has already return a promise. `callback` will be ignored."),r||n.apply(void 0,e)}))}));r=s&&"function"===typeof s.then&&"function"===typeof s.catch,rw(r,"`callback` is deprecated. Please return a promise instead."),r&&s.then((function(){n()})).catch((function(t){n(t||" ")}))}),n})).sort((function(t,e){var i=t.warningOnly,n=t.ruleIndex,r=e.warningOnly,s=e.ruleIndex;return!!i===!!r?n-s:i?1:-1}));if(!0===r)o=new Promise(function(){var t=fE(uE().mark((function t(i,r){var o,h,c;return uE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=0;case 1:if(!(o<l.length)){t.next=12;break}return h=l[o],t.next=5,LI(a,e,h,n,s);case 5:if(!(c=t.sent).length){t.next=9;break}return r([{errors:c,rule:h}]),t.abrupt("return");case 9:o+=1,t.next=1;break;case 12:i([]);case 13:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}());else{var h=l.map((function(t){return LI(a,e,t,n,s).then((function(e){return{errors:e,rule:t}}))}));o=(r?function(t){return II.apply(this,arguments)}(h):function(t){return zI.apply(this,arguments)}(h)).then((function(t){return Promise.reject(t)}))}return o.catch((function(t){return t})),o}function zI(){return(zI=fE(uE().mark((function t(e){return uE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(e).then((function(t){var e;return(e=[]).concat.apply(e,hE(t))})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function II(){return(II=fE(uE().mark((function t(e){var i;return uE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=0,t.abrupt("return",new Promise((function(t){e.forEach((function(n){n.then((function(n){n.errors.length&&t([n]),(i+=1)===e.length&&t([])}))}))})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function DI(t){return $z(t)}function VI(t,e){var i={};return e.forEach((function(e){var n=gC(t,e);i=mC(i,e,n)})),i}function _I(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t&&t.some((function(t){return NI(e,t,i)}))}function NI(t,e){return!(!t||!e)&&(!(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&t.length!==e.length)&&e.every((function(e,i){return t[i]===e})))}function OI(t){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&"object"===cE(e.target)&&t in e.target?e.target[t]:e}function HI(t,e,i){var n=t.length;if(e<0||e>=n||i<0||i>=n)return t;var r=t[e],s=e-i;return s>0?[].concat(hE(t.slice(0,i)),[r],hE(t.slice(i,e)),hE(t.slice(e+1,n))):s<0?[].concat(hE(t.slice(0,e)),hE(t.slice(e+1,i+1)),[r],hE(t.slice(i+1,n))):t}var UI=["name"],YI=[];function GI(t,e,i,n,r,s){return"function"===typeof t?t(e,i,"source"in s?{source:s.source}:{}):n!==r}var jI=function(e){nT(n,e);var i=lT(n);function n(e){var r;(ow(this,n),pE(oT(r=i.call(this,e)),"state",{resetCount:0}),pE(oT(r),"cancelRegisterFunc",null),pE(oT(r),"mounted",!1),pE(oT(r),"touched",!1),pE(oT(r),"dirty",!1),pE(oT(r),"validatePromise",void 0),pE(oT(r),"prevValidating",void 0),pE(oT(r),"errors",YI),pE(oT(r),"warnings",YI),pE(oT(r),"cancelRegister",(function(){var t=r.props,e=t.preserve,i=t.isListField,n=t.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(i,e,DI(n)),r.cancelRegisterFunc=null})),pE(oT(r),"getNamePath",(function(){var t=r.props,e=t.name,i=t.fieldContext.prefixName;return void 0!==e?[].concat(hE(void 0===i?[]:i),hE(e)):[]})),pE(oT(r),"getRules",(function(){var t=r.props,e=t.rules,i=void 0===e?[]:e,n=t.fieldContext;return i.map((function(t){return"function"===typeof t?t(n):t}))})),pE(oT(r),"refresh",(function(){r.mounted&&r.setState((function(t){return{resetCount:t.resetCount+1}}))})),pE(oT(r),"metaCache",null),pE(oT(r),"triggerMetaEvent",(function(t){var e=r.props.onMetaChange;if(e){var i=yE(yE({},r.getMeta()),{},{destroy:t});sw(r.metaCache,i)||e(i),r.metaCache=i}else r.metaCache=null})),pE(oT(r),"onStoreChange",(function(t,e,i){var n=r.props,s=n.shouldUpdate,o=n.dependencies,a=void 0===o?[]:o,l=n.onReset,h=i.store,c=r.getNamePath(),u=r.getValue(t),d=r.getValue(h),f=e&&_I(e,c);switch("valueUpdate"===i.type&&"external"===i.source&&u!==d&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=YI,r.warnings=YI,r.triggerMetaEvent()),i.type){case"reset":if(!e||f)return r.touched=!1,r.dirty=!1,r.validatePromise=void 0,r.errors=YI,r.warnings=YI,r.triggerMetaEvent(),null===l||void 0===l||l(),void r.refresh();break;case"remove":if(s)return void r.reRender();break;case"setField":var g=i.data;if(f)return"touched"in g&&(r.touched=g.touched),"validating"in g&&!("originRCField"in g)&&(r.validatePromise=g.validating?Promise.resolve([]):null),"errors"in g&&(r.errors=g.errors||YI),"warnings"in g&&(r.warnings=g.warnings||YI),r.dirty=!0,r.triggerMetaEvent(),void r.reRender();if("value"in g&&_I(e,c,!0))return void r.reRender();if(s&&!c.length&&GI(s,t,h,u,d,i))return void r.reRender();break;case"dependenciesUpdate":if(a.map(DI).some((function(t){return _I(i.relatedFields,t)})))return void r.reRender();break;default:if(f||(!a.length||c.length||s)&&GI(s,t,h,u,d,i))return void r.reRender()}!0===s&&r.reRender()})),pE(oT(r),"validateRules",(function(t){var e=r.getNamePath(),i=r.getValue(),n=t||{},s=n.triggerName,o=n.validateOnly,a=void 0!==o&&o,l=Promise.resolve().then(fE(uE().mark((function n(){var o,a,h,c,u,d,f;return uE().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.mounted){n.next=2;break}return n.abrupt("return",[]);case 2:if(o=r.props,a=o.validateFirst,h=void 0!==a&&a,c=o.messageVariables,u=o.validateDebounce,d=r.getRules(),s&&(d=d.filter((function(t){return t})).filter((function(t){var e=t.validateTrigger;return!e||$z(e).includes(s)}))),!u||!s){n.next=10;break}return n.next=8,new Promise((function(t){setTimeout(t,u)}));case 8:if(r.validatePromise===l){n.next=10;break}return n.abrupt("return",[]);case 10:return(f=BI(e,i,d,t,h,c)).catch((function(t){return t})).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:YI;if(r.validatePromise===l){var e;r.validatePromise=null;var i=[],n=[];null===(e=t.forEach)||void 0===e||e.call(t,(function(t){var e=t.rule.warningOnly,r=t.errors,s=void 0===r?YI:r;e?n.push.apply(n,hE(s)):i.push.apply(i,hE(s))})),r.errors=i,r.warnings=n,r.triggerMetaEvent(),r.reRender()}})),n.abrupt("return",f);case 13:case"end":return n.stop()}}),n)}))));return a||(r.validatePromise=l,r.dirty=!0,r.errors=YI,r.warnings=YI,r.triggerMetaEvent(),r.reRender()),l})),pE(oT(r),"isFieldValidating",(function(){return!!r.validatePromise})),pE(oT(r),"isFieldTouched",(function(){return r.touched})),pE(oT(r),"isFieldDirty",(function(){return!(!r.dirty&&void 0===r.props.initialValue)||void 0!==(0,r.props.fieldContext.getInternalHooks(qz).getInitialValue)(r.getNamePath())})),pE(oT(r),"getErrors",(function(){return r.errors})),pE(oT(r),"getWarnings",(function(){return r.warnings})),pE(oT(r),"isListField",(function(){return r.props.isListField})),pE(oT(r),"isList",(function(){return r.props.isList})),pE(oT(r),"isPreserve",(function(){return r.props.preserve})),pE(oT(r),"getMeta",(function(){return r.prevValidating=r.isFieldValidating(),{touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath(),validated:null===r.validatePromise}})),pE(oT(r),"getOnlyChild",(function(e){if("function"===typeof e){var i=r.getMeta();return yE(yE({},r.getOnlyChild(e(r.getControlled(),i,r.props.fieldContext))),{},{isFunction:!0})}var n=IL(e);return 1===n.length&&t.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}})),pE(oT(r),"getValue",(function(t){var e=r.props.fieldContext.getFieldsValue,i=r.getNamePath();return gC(t||e(!0),i)})),pE(oT(r),"getControlled",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=r.props,i=e.trigger,n=e.validateTrigger,s=e.getValueFromEvent,o=e.normalize,a=e.valuePropName,l=e.getValueProps,h=e.fieldContext,c=void 0!==n?n:h.validateTrigger,u=r.getNamePath(),d=h.getInternalHooks,f=h.getFieldsValue,g=d(qz).dispatch,p=r.getValue(),m=l||function(t){return pE({},a,t)},y=t[i],v=yE(yE({},t),m(p));return v[i]=function(){var t;r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];t=s?s.apply(void 0,i):OI.apply(void 0,[a].concat(i)),o&&(t=o(t,p,f(!0))),g({type:"updateValue",namePath:u,value:t}),y&&y.apply(void 0,i)},$z(c||[]).forEach((function(t){var e=v[t];v[t]=function(){e&&e.apply(void 0,arguments);var i=r.props.rules;i&&i.length&&g({type:"validateField",namePath:u,triggerName:t})}})),v})),e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(qz).initEntityValue)(oT(r));return r}return lw(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.shouldUpdate,i=t.fieldContext;if(this.mounted=!0,i){var n=(0,i.getInternalHooks)(qz).registerField;this.cancelRegisterFunc=n(this)}!0===e&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,i=this.state.resetCount,n=this.props.children,r=this.getOnlyChild(n),s=r.child;return r.isFunction?e=s:t.isValidElement(s)?e=t.cloneElement(s,this.getControlled(s.props)):(rw(!s,"`children` of Field is not validate ReactElement."),e=s),t.createElement(t.Fragment,{key:i},e)}}]),n}(t.Component);pE(jI,"contextType",Kz),pE(jI,"defaultProps",{trigger:"onChange",valuePropName:"value"});const XI=function(e){var i=e.name,n=QM(e,UI),r=t.useContext(Kz),s=t.useContext(Qz),o=void 0!==i?DI(i):void 0,a="keep";return n.isListField||(a="_".concat((o||[]).join("_"))),t.createElement(jI,nk({key:a,name:o,isListField:!!s},n,{fieldContext:r}))};const WI=function(e){var i=e.name,n=e.initialValue,r=e.children,s=e.rules,o=e.validateTrigger,a=e.isListField,l=t.useContext(Kz),h=t.useContext(Qz),c=t.useRef({keys:[],id:0}).current,u=t.useMemo((function(){var t=DI(l.prefixName)||[];return[].concat(hE(t),hE(DI(i)))}),[l.prefixName,i]),d=t.useMemo((function(){return yE(yE({},l),{},{prefixName:u})}),[l,u]),f=t.useMemo((function(){return{getKey:function(t){var e=u.length,i=t[e];return[c.keys[i],t.slice(e+1)]}}}),[u]);return"function"!==typeof r?(rw(!1,"Form.List only accepts function as children."),null):t.createElement(Qz.Provider,{value:f},t.createElement(Kz.Provider,{value:d},t.createElement(XI,{name:[],shouldUpdate:function(t,e,i){return"internal"!==i.source&&t!==e},rules:s,validateTrigger:o,initialValue:n,isList:!0,isListField:null!==a&&void 0!==a?a:!!h},(function(t,e){var i=t.value,n=void 0===i?[]:i,s=t.onChange,o=l.getFieldValue,a=function(){return o(u||[])||[]},h={add:function(t,e){var i=a();e>=0&&e<=i.length?(c.keys=[].concat(hE(c.keys.slice(0,e)),[c.id],hE(c.keys.slice(e))),s([].concat(hE(i.slice(0,e)),[t],hE(i.slice(e))))):(c.keys=[].concat(hE(c.keys),[c.id]),s([].concat(hE(i),[t]))),c.id+=1},remove:function(t){var e=a(),i=new Set(Array.isArray(t)?t:[t]);i.size<=0||(c.keys=c.keys.filter((function(t,e){return!i.has(e)})),s(e.filter((function(t,e){return!i.has(e)}))))},move:function(t,e){if(t!==e){var i=a();t<0||t>=i.length||e<0||e>=i.length||(c.keys=HI(c.keys,t,e),s(HI(i,t,e)))}}},d=n||[];return Array.isArray(d)||(d=[]),r(d.map((function(t,e){var i=c.keys[e];return void 0===i&&(c.keys[e]=c.id,i=c.keys[e],c.id+=1),{name:e,key:i,isListField:!0}})),h,e)}))))};var ZI="__@field_split__";function qI(t){return t.map((function(t){return"".concat(cE(t),":").concat(t)})).join(ZI)}var JI=function(){function t(){ow(this,t),pE(this,"kvs",new Map)}return lw(t,[{key:"set",value:function(t,e){this.kvs.set(qI(t),e)}},{key:"get",value:function(t){return this.kvs.get(qI(t))}},{key:"update",value:function(t,e){var i=e(this.get(t));i?this.set(t,i):this.delete(t)}},{key:"delete",value:function(t){this.kvs.delete(qI(t))}},{key:"map",value:function(t){return hE(this.kvs.entries()).map((function(e){var i=VE(e,2),n=i[0],r=i[1],s=n.split(ZI);return t({key:s.map((function(t){var e=VE(t.match(/^([^:]*):(.*)$/),3),i=e[1],n=e[2];return"number"===i?Number(n):n})),value:r})}))}},{key:"toJSON",value:function(){var t={};return this.map((function(e){var i=e.key,n=e.value;return t[i.join(".")]=n,null})),t}}]),t}();const KI=JI;var QI=["name"],$I=lw((function t(e){var i=this;ow(this,t),pE(this,"formHooked",!1),pE(this,"forceRootUpdate",void 0),pE(this,"subscribable",!0),pE(this,"store",{}),pE(this,"fieldEntities",[]),pE(this,"initialValues",{}),pE(this,"callbacks",{}),pE(this,"validateMessages",null),pE(this,"preserve",null),pE(this,"lastValidatePromise",null),pE(this,"getForm",(function(){return{getFieldValue:i.getFieldValue,getFieldsValue:i.getFieldsValue,getFieldError:i.getFieldError,getFieldWarning:i.getFieldWarning,getFieldsError:i.getFieldsError,isFieldsTouched:i.isFieldsTouched,isFieldTouched:i.isFieldTouched,isFieldValidating:i.isFieldValidating,isFieldsValidating:i.isFieldsValidating,resetFields:i.resetFields,setFields:i.setFields,setFieldValue:i.setFieldValue,setFieldsValue:i.setFieldsValue,validateFields:i.validateFields,submit:i.submit,_init:!0,getInternalHooks:i.getInternalHooks}})),pE(this,"getInternalHooks",(function(t){return t===qz?(i.formHooked=!0,{dispatch:i.dispatch,initEntityValue:i.initEntityValue,registerField:i.registerField,useSubscribe:i.useSubscribe,setInitialValues:i.setInitialValues,destroyForm:i.destroyForm,setCallbacks:i.setCallbacks,setValidateMessages:i.setValidateMessages,getFields:i.getFields,setPreserve:i.setPreserve,getInitialValue:i.getInitialValue,registerWatch:i.registerWatch}):(rw(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)})),pE(this,"useSubscribe",(function(t){i.subscribable=t})),pE(this,"prevWithoutPreserves",null),pE(this,"setInitialValues",(function(t,e){if(i.initialValues=t||{},e){var n,r=xC(t,i.store);null===(n=i.prevWithoutPreserves)||void 0===n||n.map((function(e){var i=e.key;r=mC(r,i,gC(t,i))})),i.prevWithoutPreserves=null,i.updateStore(r)}})),pE(this,"destroyForm",(function(){var t=new KI;i.getFieldEntities(!0).forEach((function(e){i.isMergedPreserve(e.isPreserve())||t.set(e.getNamePath(),!0)})),i.prevWithoutPreserves=t})),pE(this,"getInitialValue",(function(t){var e=gC(i.initialValues,t);return t.length?xC(e):e})),pE(this,"setCallbacks",(function(t){i.callbacks=t})),pE(this,"setValidateMessages",(function(t){i.validateMessages=t})),pE(this,"setPreserve",(function(t){i.preserve=t})),pE(this,"watchList",[]),pE(this,"registerWatch",(function(t){return i.watchList.push(t),function(){i.watchList=i.watchList.filter((function(e){return e!==t}))}})),pE(this,"notifyWatch",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(i.watchList.length){var e=i.getFieldsValue(),n=i.getFieldsValue(!0);i.watchList.forEach((function(i){i(e,n,t)}))}})),pE(this,"timeoutId",null),pE(this,"warningUnhooked",(function(){0})),pE(this,"updateStore",(function(t){i.store=t})),pE(this,"getFieldEntities",(function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?i.fieldEntities.filter((function(t){return t.getNamePath().length})):i.fieldEntities})),pE(this,"getFieldsMap",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=new KI;return i.getFieldEntities(t).forEach((function(t){var i=t.getNamePath();e.set(i,t)})),e})),pE(this,"getFieldEntitiesForNamePathList",(function(t){if(!t)return i.getFieldEntities(!0);var e=i.getFieldsMap(!0);return t.map((function(t){var i=DI(t);return e.get(i)||{INVALIDATE_NAME_PATH:DI(t)}}))})),pE(this,"getFieldsValue",(function(t,e){var n,r,s;if(i.warningUnhooked(),!0===t||Array.isArray(t)?(n=t,r=e):t&&"object"===cE(t)&&(s=t.strict,r=t.filter),!0===n&&!r)return i.store;var o=i.getFieldEntitiesForNamePathList(Array.isArray(n)?n:null),a=[];return o.forEach((function(t){var e,i,o,l,h="INVALIDATE_NAME_PATH"in t?t.INVALIDATE_NAME_PATH:t.getNamePath();if(s){if(null!==(o=(l=t).isList)&&void 0!==o&&o.call(l))return}else if(!n&&null!==(e=(i=t).isListField)&&void 0!==e&&e.call(i))return;if(r){var c="getMeta"in t?t.getMeta():null;r(c)&&a.push(h)}else a.push(h)})),VI(i.store,a.map(DI))})),pE(this,"getFieldValue",(function(t){i.warningUnhooked();var e=DI(t);return gC(i.store,e)})),pE(this,"getFieldsError",(function(t){return i.warningUnhooked(),i.getFieldEntitiesForNamePathList(t).map((function(e,i){return e&&!("INVALIDATE_NAME_PATH"in e)?{name:e.getNamePath(),errors:e.getErrors(),warnings:e.getWarnings()}:{name:DI(t[i]),errors:[],warnings:[]}}))})),pE(this,"getFieldError",(function(t){i.warningUnhooked();var e=DI(t);return i.getFieldsError([e])[0].errors})),pE(this,"getFieldWarning",(function(t){i.warningUnhooked();var e=DI(t);return i.getFieldsError([e])[0].warnings})),pE(this,"isFieldsTouched",(function(){i.warningUnhooked();for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,s=e[0],o=e[1],a=!1;0===e.length?r=null:1===e.length?Array.isArray(s)?(r=s.map(DI),a=!1):(r=null,a=s):(r=s.map(DI),a=o);var l=i.getFieldEntities(!0),h=function(t){return t.isFieldTouched()};if(!r)return a?l.every(h):l.some(h);var c=new KI;r.forEach((function(t){c.set(t,[])})),l.forEach((function(t){var e=t.getNamePath();r.forEach((function(i){i.every((function(t,i){return e[i]===t}))&&c.update(i,(function(e){return[].concat(hE(e),[t])}))}))}));var u=function(t){return t.some(h)},d=c.map((function(t){return t.value}));return a?d.every(u):d.some(u)})),pE(this,"isFieldTouched",(function(t){return i.warningUnhooked(),i.isFieldsTouched([t])})),pE(this,"isFieldsValidating",(function(t){i.warningUnhooked();var e=i.getFieldEntities();if(!t)return e.some((function(t){return t.isFieldValidating()}));var n=t.map(DI);return e.some((function(t){var e=t.getNamePath();return _I(n,e)&&t.isFieldValidating()}))})),pE(this,"isFieldValidating",(function(t){return i.warningUnhooked(),i.isFieldsValidating([t])})),pE(this,"resetWithFieldInitialValue",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new KI,n=i.getFieldEntities(!0);n.forEach((function(t){var i=t.props.initialValue,n=t.getNamePath();if(void 0!==i){var r=e.get(n)||new Set;r.add({entity:t,value:i}),e.set(n,r)}}));var r;t.entities?r=t.entities:t.namePathList?(r=[],t.namePathList.forEach((function(t){var i,n=e.get(t);n&&(i=r).push.apply(i,hE(hE(n).map((function(t){return t.entity}))))}))):r=n,r.forEach((function(n){if(void 0!==n.props.initialValue){var r=n.getNamePath();if(void 0!==i.getInitialValue(r))rw(!1,"Form already set 'initialValues' with path '".concat(r.join("."),"'. Field can not overwrite it."));else{var s=e.get(r);if(s&&s.size>1)rw(!1,"Multiple Field with path '".concat(r.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(s){var o=i.getFieldValue(r);n.isListField()||t.skipExist&&void 0!==o||i.updateStore(mC(i.store,r,hE(s)[0].value))}}}}))})),pE(this,"resetFields",(function(t){i.warningUnhooked();var e=i.store;if(!t)return i.updateStore(xC(i.initialValues)),i.resetWithFieldInitialValue(),i.notifyObservers(e,null,{type:"reset"}),void i.notifyWatch();var n=t.map(DI);n.forEach((function(t){var e=i.getInitialValue(t);i.updateStore(mC(i.store,t,e))})),i.resetWithFieldInitialValue({namePathList:n}),i.notifyObservers(e,n,{type:"reset"}),i.notifyWatch(n)})),pE(this,"setFields",(function(t){i.warningUnhooked();var e=i.store,n=[];t.forEach((function(t){var r=t.name,s=QM(t,QI),o=DI(r);n.push(o),"value"in s&&i.updateStore(mC(i.store,o,s.value)),i.notifyObservers(e,[o],{type:"setField",data:t})})),i.notifyWatch(n)})),pE(this,"getFields",(function(){return i.getFieldEntities(!0).map((function(t){var e=t.getNamePath(),n=yE(yE({},t.getMeta()),{},{name:e,value:i.getFieldValue(e)});return Object.defineProperty(n,"originRCField",{value:!0}),n}))})),pE(this,"initEntityValue",(function(t){var e=t.props.initialValue;if(void 0!==e){var n=t.getNamePath();void 0===gC(i.store,n)&&i.updateStore(mC(i.store,n,e))}})),pE(this,"isMergedPreserve",(function(t){var e=void 0!==t?t:i.preserve;return null===e||void 0===e||e})),pE(this,"registerField",(function(t){i.fieldEntities.push(t);var e=t.getNamePath();if(i.notifyWatch([e]),void 0!==t.props.initialValue){var n=i.store;i.resetWithFieldInitialValue({entities:[t],skipExist:!0}),i.notifyObservers(n,[t.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(n,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(i.fieldEntities=i.fieldEntities.filter((function(e){return e!==t})),!i.isMergedPreserve(r)&&(!n||s.length>1)){var o=n?void 0:i.getInitialValue(e);if(e.length&&i.getFieldValue(e)!==o&&i.fieldEntities.every((function(t){return!NI(t.getNamePath(),e)}))){var a=i.store;i.updateStore(mC(a,e,o,!0)),i.notifyObservers(a,[e],{type:"remove"}),i.triggerDependenciesUpdate(a,e)}}i.notifyWatch([e])}})),pE(this,"dispatch",(function(t){switch(t.type){case"updateValue":var e=t.namePath,n=t.value;i.updateValue(e,n);break;case"validateField":var r=t.namePath,s=t.triggerName;i.validateFields([r],{triggerName:s})}})),pE(this,"notifyObservers",(function(t,e,n){if(i.subscribable){var r=yE(yE({},n),{},{store:i.getFieldsValue(!0)});i.getFieldEntities().forEach((function(i){(0,i.onStoreChange)(t,e,r)}))}else i.forceRootUpdate()})),pE(this,"triggerDependenciesUpdate",(function(t,e){var n=i.getDependencyChildrenFields(e);return n.length&&i.validateFields(n),i.notifyObservers(t,n,{type:"dependenciesUpdate",relatedFields:[e].concat(hE(n))}),n})),pE(this,"updateValue",(function(t,e){var n=DI(t),r=i.store;i.updateStore(mC(i.store,n,e)),i.notifyObservers(r,[n],{type:"valueUpdate",source:"internal"}),i.notifyWatch([n]);var s=i.triggerDependenciesUpdate(r,n),o=i.callbacks.onValuesChange;o&&o(VI(i.store,[n]),i.getFieldsValue());i.triggerOnFieldsChange([n].concat(hE(s)))})),pE(this,"setFieldsValue",(function(t){i.warningUnhooked();var e=i.store;if(t){var n=xC(i.store,t);i.updateStore(n)}i.notifyObservers(e,null,{type:"valueUpdate",source:"external"}),i.notifyWatch()})),pE(this,"setFieldValue",(function(t,e){i.setFields([{name:t,value:e}])})),pE(this,"getDependencyChildrenFields",(function(t){var e=new Set,n=[],r=new KI;i.getFieldEntities().forEach((function(t){(t.props.dependencies||[]).forEach((function(e){var i=DI(e);r.update(i,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return e.add(t),e}))}))}));return function t(i){(r.get(i)||new Set).forEach((function(i){if(!e.has(i)){e.add(i);var r=i.getNamePath();i.isFieldDirty()&&r.length&&(n.push(r),t(r))}}))}(t),n})),pE(this,"triggerOnFieldsChange",(function(t,e){var n=i.callbacks.onFieldsChange;if(n){var r=i.getFields();if(e){var s=new KI;e.forEach((function(t){var e=t.name,i=t.errors;s.set(e,i)})),r.forEach((function(t){t.errors=s.get(t.name)||t.errors}))}var o=r.filter((function(e){var i=e.name;return _I(t,i)}));o.length&&n(o,r)}})),pE(this,"validateFields",(function(t,e){var n,r;i.warningUnhooked(),Array.isArray(t)||"string"===typeof t||"string"===typeof e?(n=t,r=e):r=t;var s=!!n,o=s?n.map(DI):[],a=[],l=String(Date.now()),h=new Set,c=r||{},u=c.recursive,d=c.dirty;i.getFieldEntities(!0).forEach((function(t){if(s||o.push(t.getNamePath()),t.props.rules&&t.props.rules.length&&(!d||t.isFieldDirty())){var e=t.getNamePath();if(h.add(e.join(l)),!s||_I(o,e,u)){var n=t.validateRules(yE({validateMessages:yE(yE({},MI),i.validateMessages)},r));a.push(n.then((function(){return{name:e,errors:[],warnings:[]}})).catch((function(t){var i,n=[],r=[];return null===(i=t.forEach)||void 0===i||i.call(t,(function(t){var e=t.rule.warningOnly,i=t.errors;e?r.push.apply(r,hE(i)):n.push.apply(n,hE(i))})),n.length?Promise.reject({name:e,errors:n,warnings:r}):{name:e,errors:n,warnings:r}})))}}}));var f=function(t){var e=!1,i=t.length,n=[];return t.length?new Promise((function(r,s){t.forEach((function(t,o){t.catch((function(t){return e=!0,t})).then((function(t){i-=1,n[o]=t,i>0||(e&&s(n),r(n))}))}))})):Promise.resolve([])}(a);i.lastValidatePromise=f,f.catch((function(t){return t})).then((function(t){var e=t.map((function(t){return t.name}));i.notifyObservers(i.store,e,{type:"validateFinish"}),i.triggerOnFieldsChange(e,t)}));var g=f.then((function(){return i.lastValidatePromise===f?Promise.resolve(i.getFieldsValue(o)):Promise.reject([])})).catch((function(t){var e=t.filter((function(t){return t&&t.errors.length}));return Promise.reject({values:i.getFieldsValue(o),errorFields:e,outOfDate:i.lastValidatePromise!==f})}));g.catch((function(t){return t}));var p=o.filter((function(t){return h.has(t.join(l))}));return i.triggerOnFieldsChange(p),g})),pE(this,"submit",(function(){i.warningUnhooked(),i.validateFields().then((function(t){var e=i.callbacks.onFinish;if(e)try{e(t)}catch(n){console.error(n)}})).catch((function(t){var e=i.callbacks.onFinishFailed;e&&e(t)}))})),this.forceRootUpdate=e}));const tD=function(e){var i=t.useRef(),n=VE(t.useState({}),2)[1];if(!i.current)if(e)i.current=e;else{var r=new $I((function(){n({})}));i.current=r.getForm()}return[i.current]};var eD=t.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}});const iD=eD;var nD=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"];const rD=function(e,i){var n=e.name,r=e.initialValues,s=e.fields,o=e.form,a=e.preserve,l=e.children,h=e.component,c=void 0===h?"form":h,u=e.validateMessages,d=e.validateTrigger,f=void 0===d?"onChange":d,g=e.onValuesChange,p=e.onFieldsChange,m=e.onFinish,y=e.onFinishFailed,v=QM(e,nD),x=t.useContext(iD),b=VE(tD(o),1)[0],S=b.getInternalHooks(qz),A=S.useSubscribe,E=S.setInitialValues,w=S.setCallbacks,k=S.setValidateMessages,C=S.setPreserve,M=S.destroyForm;t.useImperativeHandle(i,(function(){return b})),t.useEffect((function(){return x.registerForm(n,b),function(){x.unregisterForm(n)}}),[x,b,n]),k(yE(yE({},x.validateMessages),u)),w({onValuesChange:g,onFieldsChange:function(t){if(x.triggerFormChange(n,t),p){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];p.apply(void 0,[t].concat(i))}},onFinish:function(t){x.triggerFormFinish(n,t),m&&m(t)},onFinishFailed:y}),C(a);var T,P=t.useRef(null);E(r,!P.current),P.current||(P.current=!0),t.useEffect((function(){return M}),[]);var F="function"===typeof l;F?T=l(b.getFieldsValue(!0),b):T=l;A(!F);var L=t.useRef();t.useEffect((function(){(function(t,e){if(t===e)return!0;if(!t&&e||t&&!e)return!1;if(!t||!e||"object"!==cE(t)||"object"!==cE(e))return!1;var i=Object.keys(t),n=Object.keys(e);return hE(new Set([].concat(i,n))).every((function(i){var n=t[i],r=e[i];return"function"===typeof n&&"function"===typeof r||n===r}))})(L.current||[],s||[])||b.setFields(s||[]),L.current=s}),[s,b]);var R=t.useMemo((function(){return yE(yE({},b),{},{validateTrigger:f})}),[b,f]),B=t.createElement(Qz.Provider,{value:null},t.createElement(Kz.Provider,{value:R},T));return!1===c?B:t.createElement(c,nk({},v,{onSubmit:function(t){t.preventDefault(),t.stopPropagation(),b.submit()},onReset:function(t){var e;t.preventDefault(),b.resetFields(),null===(e=v.onReset)||void 0===e||e.call(v,t)}}),B)};function sD(t){try{return JSON.stringify(t)}catch(e){return Math.random()}}var oD=function(){};const aD=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=i[0],s=i[1],o=void 0===s?{}:s,a=function(t){return t&&!!t._init}(o)?{form:o}:o,l=a.form,h=VE((0,t.useState)(),2),c=h[0],u=h[1],d=(0,t.useMemo)((function(){return sD(c)}),[c]),f=(0,t.useRef)(d);f.current=d;var g=(0,t.useContext)(Kz),p=l||g,m=p&&p._init,y=DI(r),v=(0,t.useRef)(y);return v.current=y,oD(y),(0,t.useEffect)((function(){if(m){var t=p.getFieldsValue,e=(0,p.getInternalHooks)(qz).registerWatch,i=function(t,e){var i=a.preserve?e:t;return"function"===typeof r?r(i):gC(i,v.current)},n=e((function(t,e){var n=i(t,e),r=sD(n);f.current!==r&&(f.current=r,u(n))})),s=i(t(),t(!0));return c!==s&&u(s),n}}),[m]),c};var lD=t.forwardRef(rD);lD.FormProvider=function(e){var i=e.validateMessages,n=e.onFormChange,r=e.onFormFinish,s=e.children,o=t.useContext(eD),a=t.useRef({});return t.createElement(eD.Provider,{value:yE(yE({},o),{},{validateMessages:yE(yE({},o.validateMessages),i),triggerFormChange:function(t,e){n&&n(t,{changedFields:e,forms:a.current}),o.triggerFormChange(t,e)},triggerFormFinish:function(t,e){r&&r(t,{values:e,forms:a.current}),o.triggerFormFinish(t,e)},registerForm:function(t,e){t&&(a.current=yE(yE({},a.current),{},pE({},t,e))),o.registerForm(t,e)},unregisterForm:function(t){var e=yE({},a.current);delete e[t],a.current=e,o.unregisterForm(t)}})},s)},lD.Field=XI,lD.List=WI,lD.useForm=tD,lD.useWatch=aD;const hD=t.createContext({});const cD=(0,t.createContext)(void 0),uD=["outlined","borderless","filled"],dD=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const n=(0,t.useContext)(cD);let r;r="undefined"!==typeof e?e:!1===i?"borderless":null!==n&&void 0!==n?n:"outlined";return[r,uD.includes(r)]};const fD=t.createContext(null);const gD=function(t,e){return t||(t=>{const e={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:"scroll"===t?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},e),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},e),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},e),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},e),{points:["br","tr"],offset:[0,-4]})}})(e)};function pD(t,e,i){const{focusElCls:n,focus:r,borderElCls:s}=i,o=s?"> *":"",a=["hover",r?"focus":null,"active"].filter(Boolean).map((t=>"&:".concat(t," ").concat(o))).join(",");return{["&-item:not(".concat(e,"-last-item)")]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[a]:{zIndex:2}},n?{["&".concat(n)]:{zIndex:2}}:{}),{["&[disabled] ".concat(o)]:{zIndex:0}})}}function mD(t,e,i){const{borderElCls:n}=i,r=n?"> ".concat(n):"";return{["&-item:not(".concat(e,"-first-item):not(").concat(e,"-last-item) ").concat(r)]:{borderRadius:0},["&-item:not(".concat(e,"-last-item)").concat(e,"-first-item")]:{["& ".concat(r,", &").concat(t,"-sm ").concat(r,", &").concat(t,"-lg ").concat(r)]:{borderStartEndRadius:0,borderEndEndRadius:0}},["&-item:not(".concat(e,"-first-item)").concat(e,"-last-item")]:{["& ".concat(r,", &").concat(t,"-sm ").concat(r,", &").concat(t,"-lg ").concat(r)]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function yD(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{focus:!0};const{componentCls:i}=t,n="".concat(i,"-compact");return{[n]:Object.assign(Object.assign({},pD(t,n,e)),mD(i,n,e))}}const vD=t=>({animationDuration:t,animationFillMode:"both"}),xD=t=>({animationDuration:t,animationFillMode:"both"}),bD=function(t,e,i,n){const r=arguments.length>4&&void 0!==arguments[4]&&arguments[4]?"&":"";return{["\n      ".concat(r).concat(t,"-enter,\n      ").concat(r).concat(t,"-appear\n    ")]:Object.assign(Object.assign({},vD(n)),{animationPlayState:"paused"}),["".concat(r).concat(t,"-leave")]:Object.assign(Object.assign({},xD(n)),{animationPlayState:"paused"}),["\n      ".concat(r).concat(t,"-enter").concat(t,"-enter-active,\n      ").concat(r).concat(t,"-appear").concat(t,"-appear-active\n    ")]:{animationName:e,animationPlayState:"running"},["".concat(r).concat(t,"-leave").concat(t,"-leave-active")]:{animationName:i,animationPlayState:"running",pointerEvents:"none"}}},SD=new cC("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),AD=new cC("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),ED=new cC("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),wD=new cC("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),kD=new cC("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),CD=new cC("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),MD=new cC("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),TD=new cC("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),PD={"slide-up":{inKeyframes:SD,outKeyframes:AD},"slide-down":{inKeyframes:ED,outKeyframes:wD},"slide-left":{inKeyframes:kD,outKeyframes:CD},"slide-right":{inKeyframes:MD,outKeyframes:TD}},FD=(t,e)=>{const{antCls:i}=t,n="".concat(i,"-").concat(e),{inKeyframes:r,outKeyframes:s}=PD[e];return[bD(n,r,s,t.motionDurationMid),{["\n      ".concat(n,"-enter,\n      ").concat(n,"-appear\n    ")]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:t.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},["".concat(n,"-leave")]:{animationTimingFunction:t.motionEaseInQuint}}]},LD=new cC("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),RD=new cC("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),BD=new cC("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),zD=new cC("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),ID=new cC("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),DD=new cC("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),VD={"move-up":{inKeyframes:new cC("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),outKeyframes:new cC("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}})},"move-down":{inKeyframes:LD,outKeyframes:RD},"move-left":{inKeyframes:BD,outKeyframes:zD},"move-right":{inKeyframes:ID,outKeyframes:DD}},_D=(t,e)=>{const{antCls:i}=t,n="".concat(i,"-").concat(e),{inKeyframes:r,outKeyframes:s}=VD[e];return[bD(n,r,s,t.motionDurationMid),{["\n        ".concat(n,"-enter,\n        ").concat(n,"-appear\n      ")]:{opacity:0,animationTimingFunction:t.motionEaseOutCirc},["".concat(n,"-leave")]:{animationTimingFunction:t.motionEaseInOutCirc}}]},ND=t=>{const{optionHeight:e,optionFontSize:i,optionLineHeight:n,optionPadding:r}=t;return{position:"relative",display:"block",minHeight:e,padding:r,color:t.colorText,fontWeight:"normal",fontSize:i,lineHeight:n,boxSizing:"border-box"}},OD=t=>{const{antCls:e,componentCls:i}=t,n="".concat(i,"-item"),r="&".concat(e,"-slide-up-enter").concat(e,"-slide-up-enter-active"),s="&".concat(e,"-slide-up-appear").concat(e,"-slide-up-appear-active"),o="&".concat(e,"-slide-up-leave").concat(e,"-slide-up-leave-active"),a="".concat(i,"-dropdown-placement-");return[{["".concat(i,"-dropdown")]:Object.assign(Object.assign({},bP(t)),{position:"absolute",top:-9999,zIndex:t.zIndexPopup,boxSizing:"border-box",padding:t.paddingXXS,overflow:"hidden",fontSize:t.fontSize,fontVariant:"initial",backgroundColor:t.colorBgElevated,borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary,["\n          ".concat(r).concat(a,"bottomLeft,\n          ").concat(s).concat(a,"bottomLeft\n        ")]:{animationName:SD},["\n          ".concat(r).concat(a,"topLeft,\n          ").concat(s).concat(a,"topLeft,\n          ").concat(r).concat(a,"topRight,\n          ").concat(s).concat(a,"topRight\n        ")]:{animationName:ED},["".concat(o).concat(a,"bottomLeft")]:{animationName:AD},["\n          ".concat(o).concat(a,"topLeft,\n          ").concat(o).concat(a,"topRight\n        ")]:{animationName:wD},"&-hidden":{display:"none"},["".concat(n)]:Object.assign(Object.assign({},ND(t)),{cursor:"pointer",transition:"background ".concat(t.motionDurationSlow," ease"),borderRadius:t.borderRadiusSM,"&-group":{color:t.colorTextDescription,fontSize:t.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},xP),"&-state":{flex:"none",display:"flex",alignItems:"center"},["&-active:not(".concat(n,"-option-disabled)")]:{backgroundColor:t.optionActiveBg},["&-selected:not(".concat(n,"-option-disabled)")]:{color:t.optionSelectedColor,fontWeight:t.optionSelectedFontWeight,backgroundColor:t.optionSelectedBg,["".concat(n,"-option-state")]:{color:t.colorPrimary},["&:has(+ ".concat(n,"-option-selected:not(").concat(n,"-option-disabled))")]:{borderEndStartRadius:0,borderEndEndRadius:0,["& + ".concat(n,"-option-selected:not(").concat(n,"-option-disabled)")]:{borderStartStartRadius:0,borderStartEndRadius:0}}},"&-disabled":{["&".concat(n,"-option-selected")]:{backgroundColor:t.colorBgContainerDisabled},color:t.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:t.calc(t.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},ND(t)),{color:t.colorTextDisabled})}),"&-rtl":{direction:"rtl"}})},FD(t,"slide-up"),FD(t,"slide-down"),_D(t,"move-up"),_D(t,"move-down")]},HD=(t,e)=>{const{componentCls:i,iconCls:n}=t,r="".concat(i,"-selection-overflow"),s=t.multipleSelectItemHeight,o=(t=>{const{multipleSelectItemHeight:e,selectHeight:i,lineWidth:n}=t;return t.calc(i).sub(e).div(2).sub(n).equal()})(t),a=e?"".concat(i,"-").concat(e):"";return{["".concat(i,"-multiple").concat(a)]:{[r]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}},["".concat(i,"-selector")]:{display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",paddingInline:t.calc(2).mul(2).equal(),paddingBlock:t.calc(o).sub(2).equal(),borderRadius:t.borderRadius,["".concat(i,"-disabled&")]:{background:t.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:"".concat(zw(2)," 0"),lineHeight:zw(s),visibility:"hidden",content:'"\\a0"'}},["".concat(i,"-selection-item")]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:s,marginTop:2,marginBottom:2,lineHeight:zw(t.calc(s).sub(t.calc(t.lineWidth).mul(2)).equal()),borderRadius:t.borderRadiusSM,cursor:"default",transition:"font-size ".concat(t.motionDurationSlow,", line-height ").concat(t.motionDurationSlow,", height ").concat(t.motionDurationSlow),marginInlineEnd:t.calc(2).mul(2).equal(),paddingInlineStart:t.paddingXS,paddingInlineEnd:t.calc(t.paddingXS).div(2).equal(),["".concat(i,"-disabled&")]:{color:t.multipleItemColorDisabled,borderColor:t.multipleItemBorderColorDisabled,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:t.calc(t.paddingXS).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{display:"inline-flex",alignItems:"center",color:t.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",["> ".concat(n)]:{verticalAlign:"-0.2em"},"&:hover":{color:t.colorIconHover}})},["".concat(r,"-item + ").concat(r,"-item")]:{["".concat(i,"-selection-search")]:{marginInlineStart:0}},["".concat(r,"-item-suffix")]:{height:"100%"},["".concat(i,"-selection-search")]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:t.calc(t.inputPaddingHorizontalBase).sub(o).equal(),"\n          &-input,\n          &-mirror\n        ":{height:s,fontFamily:t.fontFamily,lineHeight:zw(s),transition:"all ".concat(t.motionDurationSlow)},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},["".concat(i,"-selection-placeholder")]:{position:"absolute",top:"50%",insetInlineStart:t.inputPaddingHorizontalBase,insetInlineEnd:t.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:"all ".concat(t.motionDurationSlow)}}}};function UD(t,e){const{componentCls:i}=t,n=e?"".concat(i,"-").concat(e):"",r={["".concat(i,"-multiple").concat(n)]:{fontSize:t.fontSize,["".concat(i,"-selector")]:{["".concat(i,"-show-search&")]:{cursor:"text"}},["\n        &".concat(i,"-show-arrow ").concat(i,"-selector,\n        &").concat(i,"-allow-clear ").concat(i,"-selector\n      ")]:{paddingInlineEnd:t.calc(t.fontSizeIcon).add(t.controlPaddingHorizontal).equal()}}};return[HD(t,e),r]}const YD=t=>{const{componentCls:e}=t,i=jF(t,{selectHeight:t.controlHeightSM,multipleSelectItemHeight:t.controlHeightXS,borderRadius:t.borderRadiusSM,borderRadiusSM:t.borderRadiusXS}),n=jF(t,{fontSize:t.fontSizeLG,selectHeight:t.controlHeightLG,multipleSelectItemHeight:t.multipleItemHeightLG,borderRadius:t.borderRadiusLG,borderRadiusSM:t.borderRadius});return[UD(t),UD(i,"sm"),{["".concat(e,"-multiple").concat(e,"-sm")]:{["".concat(e,"-selection-placeholder")]:{insetInline:t.calc(t.controlPaddingHorizontalSM).sub(t.lineWidth).equal()},["".concat(e,"-selection-search")]:{marginInlineStart:2}}},UD(n,"lg")]};function GD(t,e){const{componentCls:i,inputPaddingHorizontalBase:n,borderRadius:r}=t,s=t.calc(t.controlHeight).sub(t.calc(t.lineWidth).mul(2)).equal(),o=e?"".concat(i,"-").concat(e):"";return{["".concat(i,"-single").concat(o)]:{fontSize:t.fontSize,height:t.controlHeight,["".concat(i,"-selector")]:Object.assign(Object.assign({},bP(t,!0)),{display:"flex",borderRadius:r,["".concat(i,"-selection-search")]:{position:"absolute",top:0,insetInlineStart:n,insetInlineEnd:n,bottom:0,"&-input":{width:"100%",WebkitAppearance:"textfield"}},["\n          ".concat(i,"-selection-item,\n          ").concat(i,"-selection-placeholder\n        ")]:{padding:0,lineHeight:zw(s),transition:"all ".concat(t.motionDurationSlow,", visibility 0s"),alignSelf:"center"},["".concat(i,"-selection-placeholder")]:{transition:"none",pointerEvents:"none"},[["&:after","".concat(i,"-selection-item:empty:after"),"".concat(i,"-selection-placeholder:empty:after")].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),["\n        &".concat(i,"-show-arrow ").concat(i,"-selection-item,\n        &").concat(i,"-show-arrow ").concat(i,"-selection-placeholder\n      ")]:{paddingInlineEnd:t.showArrowPaddingInlineEnd},["&".concat(i,"-open ").concat(i,"-selection-item")]:{color:t.colorTextPlaceholder},["&:not(".concat(i,"-customize-input)")]:{["".concat(i,"-selector")]:{width:"100%",height:"100%",padding:"0 ".concat(zw(n)),["".concat(i,"-selection-search-input")]:{height:s},"&:after":{lineHeight:zw(s)}}},["&".concat(i,"-customize-input")]:{["".concat(i,"-selector")]:{"&:after":{display:"none"},["".concat(i,"-selection-search")]:{position:"static",width:"100%"},["".concat(i,"-selection-placeholder")]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:"0 ".concat(zw(n)),"&:after":{display:"none"}}}}}}}function jD(t){const{componentCls:e}=t,i=t.calc(t.controlPaddingHorizontalSM).sub(t.lineWidth).equal();return[GD(t),GD(jF(t,{controlHeight:t.controlHeightSM,borderRadius:t.borderRadiusSM}),"sm"),{["".concat(e,"-single").concat(e,"-sm")]:{["&:not(".concat(e,"-customize-input)")]:{["".concat(e,"-selection-search")]:{insetInlineStart:i,insetInlineEnd:i},["".concat(e,"-selector")]:{padding:"0 ".concat(zw(i))},["&".concat(e,"-show-arrow ").concat(e,"-selection-search")]:{insetInlineEnd:t.calc(i).add(t.calc(t.fontSize).mul(1.5)).equal()},["\n            &".concat(e,"-show-arrow ").concat(e,"-selection-item,\n            &").concat(e,"-show-arrow ").concat(e,"-selection-placeholder\n          ")]:{paddingInlineEnd:t.calc(t.fontSize).mul(1.5).equal()}}}},GD(jF(t,{controlHeight:t.singleItemHeightLG,fontSize:t.fontSizeLG,borderRadius:t.borderRadiusLG}),"lg")]}const XD=(t,e)=>{const{componentCls:i,antCls:n,controlOutlineWidth:r}=t;return{["&:not(".concat(i,"-customize-input) ").concat(i,"-selector")]:{border:"".concat(zw(t.lineWidth)," ").concat(t.lineType," ").concat(e.borderColor),background:t.selectorBg},["&:not(".concat(i,"-disabled):not(").concat(i,"-customize-input):not(").concat(n,"-pagination-size-changer)")]:{["&:hover ".concat(i,"-selector")]:{borderColor:e.hoverBorderHover},["".concat(i,"-focused& ").concat(i,"-selector")]:{borderColor:e.activeBorderColor,boxShadow:"0 0 0 ".concat(zw(r)," ").concat(e.activeShadowColor),outline:0}}}},WD=(t,e)=>({["&".concat(t.componentCls,"-status-").concat(e.status)]:Object.assign({},XD(t,e))}),ZD=t=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},XD(t,{borderColor:t.colorBorder,hoverBorderHover:t.colorPrimaryHover,activeBorderColor:t.colorPrimary,activeShadowColor:t.controlOutline})),WD(t,{status:"error",borderColor:t.colorError,hoverBorderHover:t.colorErrorHover,activeBorderColor:t.colorError,activeShadowColor:t.colorErrorOutline})),WD(t,{status:"warning",borderColor:t.colorWarning,hoverBorderHover:t.colorWarningHover,activeBorderColor:t.colorWarning,activeShadowColor:t.colorWarningOutline})),{["&".concat(t.componentCls,"-disabled")]:{["&:not(".concat(t.componentCls,"-customize-input) ").concat(t.componentCls,"-selector")]:{background:t.colorBgContainerDisabled,color:t.colorTextDisabled}},["&".concat(t.componentCls,"-multiple ").concat(t.componentCls,"-selection-item")]:{background:t.multipleItemBg,border:"".concat(zw(t.lineWidth)," ").concat(t.lineType," ").concat(t.multipleItemBorderColor)}})}),qD=(t,e)=>{const{componentCls:i,antCls:n}=t;return{["&:not(".concat(i,"-customize-input) ").concat(i,"-selector")]:{background:e.bg,border:"".concat(zw(t.lineWidth)," ").concat(t.lineType," transparent"),color:e.color},["&:not(".concat(i,"-disabled):not(").concat(i,"-customize-input):not(").concat(n,"-pagination-size-changer)")]:{["&:hover ".concat(i,"-selector")]:{background:e.hoverBg},["".concat(i,"-focused& ").concat(i,"-selector")]:{background:t.selectorBg,borderColor:e.activeBorderColor,outline:0}}}},JD=(t,e)=>({["&".concat(t.componentCls,"-status-").concat(e.status)]:Object.assign({},qD(t,e))}),KD=t=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},qD(t,{bg:t.colorFillTertiary,hoverBg:t.colorFillSecondary,activeBorderColor:t.colorPrimary,color:t.colorText})),JD(t,{status:"error",bg:t.colorErrorBg,hoverBg:t.colorErrorBgHover,activeBorderColor:t.colorError,color:t.colorError})),JD(t,{status:"warning",bg:t.colorWarningBg,hoverBg:t.colorWarningBgHover,activeBorderColor:t.colorWarning,color:t.colorWarning})),{["&".concat(t.componentCls,"-disabled")]:{["&:not(".concat(t.componentCls,"-customize-input) ").concat(t.componentCls,"-selector")]:{borderColor:t.colorBorder,background:t.colorBgContainerDisabled,color:t.colorTextDisabled}},["&".concat(t.componentCls,"-multiple ").concat(t.componentCls,"-selection-item")]:{background:t.colorBgContainer,border:"".concat(zw(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorSplit)}})}),QD=t=>({"&-borderless":{["".concat(t.componentCls,"-selector")]:{background:"transparent",borderColor:"transparent"},["&".concat(t.componentCls,"-disabled")]:{["&:not(".concat(t.componentCls,"-customize-input) ").concat(t.componentCls,"-selector")]:{color:t.colorTextDisabled}},["&".concat(t.componentCls,"-multiple ").concat(t.componentCls,"-selection-item")]:{background:t.multipleItemBg,border:"".concat(zw(t.lineWidth)," ").concat(t.lineType," ").concat(t.multipleItemBorderColor)}}}),$D=t=>({[t.componentCls]:Object.assign(Object.assign(Object.assign({},ZD(t)),KD(t)),QD(t))}),tV=t=>{const{componentCls:e}=t;return{position:"relative",transition:"all ".concat(t.motionDurationMid," ").concat(t.motionEaseInOut),input:{cursor:"pointer"},["".concat(e,"-show-search&")]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},["".concat(e,"-disabled&")]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},eV=t=>{const{componentCls:e}=t;return{["".concat(e,"-selection-search-input")]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},iV=t=>{const{antCls:e,componentCls:i,inputPaddingHorizontalBase:n,iconCls:r}=t;return{[i]:Object.assign(Object.assign({},bP(t)),{position:"relative",display:"inline-block",cursor:"pointer",["&:not(".concat(i,"-customize-input) ").concat(i,"-selector")]:Object.assign(Object.assign({},tV(t)),eV(t)),["".concat(i,"-selection-item")]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},xP),{["> ".concat(e,"-typography")]:{display:"inline"}}),["".concat(i,"-selection-placeholder")]:Object.assign(Object.assign({},xP),{flex:1,color:t.colorTextPlaceholder,pointerEvents:"none"}),["".concat(i,"-arrow")]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:n,height:t.fontSizeIcon,marginTop:t.calc(t.fontSizeIcon).mul(-1).div(2).equal(),color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:"opacity ".concat(t.motionDurationSlow," ease"),[r]:{verticalAlign:"top",transition:"transform ".concat(t.motionDurationSlow),"> svg":{verticalAlign:"top"},["&:not(".concat(i,"-suffix)")]:{pointerEvents:"auto"}},["".concat(i,"-disabled &")]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),["".concat(i,"-clear")]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:n,zIndex:1,display:"inline-block",width:t.fontSizeIcon,height:t.fontSizeIcon,marginTop:t.calc(t.fontSizeIcon).mul(-1).div(2).equal(),color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:"color ".concat(t.motionDurationMid," ease, opacity ").concat(t.motionDurationSlow," ease"),textRendering:"auto","&:before":{display:"block"},"&:hover":{color:t.colorTextTertiary}},"&:hover":{["".concat(i,"-clear")]:{opacity:1},["".concat(i,"-arrow:not(:last-child)")]:{opacity:0}}}),["".concat(i,"-has-feedback")]:{["".concat(i,"-clear")]:{insetInlineEnd:t.calc(n).add(t.fontSize).add(t.paddingXS).equal()}}}},nV=t=>{const{componentCls:e}=t;return[{[e]:{["&".concat(e,"-in-form-item")]:{width:"100%"}}},iV(t),jD(t),YD(t),OD(t),{["".concat(e,"-rtl")]:{direction:"rtl"}},yD(t,{borderElCls:"".concat(e,"-selector"),focusElCls:"".concat(e,"-focused")})]},rV=QF("Select",((t,e)=>{let{rootPrefixCls:i}=e;const n=jF(t,{rootPrefixCls:i,inputPaddingHorizontalBase:t.calc(t.paddingSM).sub(1).equal(),multipleSelectItemHeight:t.multipleItemHeight,selectHeight:t.controlHeight});return[nV(n),$D(n)]}),(t=>{const{fontSize:e,lineHeight:i,controlHeight:n,controlPaddingHorizontal:r,zIndexPopupBase:s,colorText:o,fontWeightStrong:a,controlItemBgActive:l,controlItemBgHover:h,colorBgContainer:c,colorFillSecondary:u,controlHeightLG:d,controlHeightSM:f,colorBgContainerDisabled:g,colorTextDisabled:p}=t;return{zIndexPopup:s+50,optionSelectedColor:o,optionSelectedFontWeight:a,optionSelectedBg:l,optionActiveBg:h,optionPadding:"".concat((n-e*i)/2,"px ").concat(r,"px"),optionFontSize:e,optionLineHeight:i,optionHeight:n,selectorBg:c,clearBg:c,singleItemHeightLG:d,multipleItemBg:u,multipleItemBorderColor:"transparent",multipleItemHeight:f,multipleItemHeightLG:n,multipleSelectorBgDisabled:g,multipleItemColorDisabled:p,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(1.25*t.fontSize)}}),{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}});const sV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};var oV=function(e,i){return t.createElement($P,nk({},e,{ref:i,icon:sV}))};const aV=t.forwardRef(oV);const lV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};var hV=function(e,i){return t.createElement($P,nk({},e,{ref:i,icon:lV}))};const cV=t.forwardRef(hV);const uV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};var dV=function(e,i){return t.createElement($P,nk({},e,{ref:i,icon:uV}))};const fV=t.forwardRef(dV);var gV=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i};const pV="SECRET_COMBOBOX_MODE_DO_NOT_USE",mV=(e,i)=>{var n;const{prefixCls:r,bordered:s,className:o,rootClassName:a,getPopupContainer:l,popupClassName:h,dropdownClassName:c,listHeight:u=256,placement:d,listItemHeight:f,size:g,disabled:p,notFoundContent:m,status:y,builtinPlacements:v,dropdownMatchSelectWidth:x,popupMatchSelectWidth:b,direction:S,style:A,allowClear:E,variant:w,dropdownStyle:k,transitionName:C,tagRender:M,maxCount:T}=e,P=gV(e,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount"]),{getPopupContainer:F,getPrefixCls:L,renderEmpty:R,direction:B,virtual:z,popupMatchSelectWidth:I,popupOverflow:D,select:V}=t.useContext(BE),[,_]=mP(),N=null!==f&&void 0!==f?f:null===_||void 0===_?void 0:_.controlHeight,O=L("select",r),H=L(),U=null!==S&&void 0!==S?S:B,{compactSize:Y,compactItemClassnames:G}=((e,i)=>{const n=t.useContext(fD),r=t.useMemo((()=>{if(!n)return"";const{compactDirection:t,isFirstItem:r,isLastItem:s}=n,o="vertical"===t?"-vertical-":"-";return GM()("".concat(e,"-compact").concat(o,"item"),{["".concat(e,"-compact").concat(o,"first-item")]:r,["".concat(e,"-compact").concat(o,"last-item")]:s,["".concat(e,"-compact").concat(o,"item-rtl")]:"rtl"===i})}),[e,i,n]);return{compactSize:null===n||void 0===n?void 0:n.compactSize,compactDirection:null===n||void 0===n?void 0:n.compactDirection,compactItemClassnames:r}})(O,U),[j,X]=dD(w,s),W=eL(O),[Z,q,J]=rV(O,W),K=t.useMemo((()=>{const{mode:t}=e;if("combobox"!==t)return t===pV?"combobox":t}),[e.mode]),Q="multiple"===K||"tags"===K,$=function(t,e){return void 0!==e?e:null!==t}(e.suffixIcon,e.showArrow),tt=null!==(n=null!==b&&void 0!==b?b:x)&&void 0!==n?n:I,{status:et,hasFeedback:it,isFormItemInput:nt,feedbackIcon:rt}=t.useContext(hD),st=Dz(et,y);let ot;ot=void 0!==m?m:"combobox"===K?null:(null===R||void 0===R?void 0:R("Select"))||t.createElement(Wz,{componentName:"Select"});const{suffixIcon:at,itemIcon:lt,removeIcon:ht,clearIcon:ct}=function(e){let{suffixIcon:i,clearIcon:n,menuItemSelectedIcon:r,removeIcon:s,loading:o,multiple:a,hasFeedback:l,prefixCls:h,showSuffixIcon:c,feedbackIcon:u,showArrow:d,componentName:f}=e;const g=null!==n&&void 0!==n?n:t.createElement(rF,null),p=e=>null!==i||l||d?t.createElement(t.Fragment,null,!1!==c&&e,l&&u):null;let m=null;if(void 0!==i)m=p(i);else if(o)m=p(t.createElement(fF,{spin:!0}));else{const e="".concat(h,"-suffix");m=i=>{let{open:n,showSearch:r}=i;return p(n&&r?t.createElement(fV,{className:e}):t.createElement(cV,{className:e}))}}let y=null;y=void 0!==r?r:a?t.createElement(aV,null):null;let v=null;return v=void 0!==s?s:t.createElement(lL,null),{clearIcon:g,suffixIcon:m,itemIcon:y,removeIcon:v}}(Object.assign(Object.assign({},P),{multiple:Q,hasFeedback:it,feedbackIcon:rt,showSuffixIcon:$,prefixCls:O,componentName:"Select"})),ut=!0===E?{clearIcon:ct}:E,dt=WB(P,["suffixIcon","itemIcon"]),ft=GM()(h||c,{["".concat(O,"-dropdown-").concat(U)]:"rtl"===U},a,J,W,q),gt=Zz((t=>{var e;return null!==(e=null!==g&&void 0!==g?g:Y)&&void 0!==e?e:t})),pt=t.useContext(IM),mt=null!==p&&void 0!==p?p:pt,yt=GM()({["".concat(O,"-lg")]:"large"===gt,["".concat(O,"-sm")]:"small"===gt,["".concat(O,"-rtl")]:"rtl"===U,["".concat(O,"-").concat(j)]:X,["".concat(O,"-in-form-item")]:nt},Iz(O,st,it),G,null===V||void 0===V?void 0:V.className,o,a,J,W,q),vt=t.useMemo((()=>void 0!==d?d:"rtl"===U?"bottomRight":"bottomLeft"),[d,U]);const[xt]=BF("SelectLike",null===k||void 0===k?void 0:k.zIndex);return Z(t.createElement(Rz,Object.assign({ref:i,virtual:z,showSearch:null===V||void 0===V?void 0:V.showSearch},dt,{style:Object.assign(Object.assign({},null===V||void 0===V?void 0:V.style),A),dropdownMatchSelectWidth:tt,transitionName:Bz(H,"slide-up",C),builtinPlacements:gD(v,D),listHeight:u,listItemHeight:N,mode:K,prefixCls:O,placement:vt,direction:U,suffixIcon:at,menuItemSelectedIcon:lt,removeIcon:ht,allowClear:ut,notFoundContent:ot,className:yt,getPopupContainer:l||F,dropdownClassName:ft,disabled:mt,dropdownStyle:Object.assign(Object.assign({},k),{zIndex:xt}),maxCount:Q?T:void 0,tagRender:Q?M:void 0})))};const yV=t.forwardRef(mV),vV=zz(yV);yV.SECRET_COMBOBOX_MODE_DO_NOT_USE=pV,yV.Option=XB,yV.OptGroup=GB,yV._InternalPanelDoNotUseOrYouWillBeFired=vV;const xV=yV;var bV=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],SV=t.forwardRef((function(e,i){var n,r=e.prefixCls,s=void 0===r?"rc-switch":r,o=e.className,a=e.checked,l=e.defaultChecked,h=e.disabled,c=e.loadingIcon,u=e.checkedChildren,d=e.unCheckedChildren,f=e.onClick,g=e.onChange,p=e.onKeyDown,m=QM(e,bV),y=VE(DF(!1,{value:a,defaultValue:l}),2),v=y[0],x=y[1];function b(t,e){var i=v;return h||(x(i=t),null===g||void 0===g||g(i,e)),i}var S=GM()(s,o,(pE(n={},"".concat(s,"-checked"),v),pE(n,"".concat(s,"-disabled"),h),n));return t.createElement("button",nk({},m,{type:"button",role:"switch","aria-checked":v,disabled:h,className:S,ref:i,onKeyDown:function(t){t.which===pF.LEFT?b(!1,t):t.which===pF.RIGHT&&b(!0,t),null===p||void 0===p||p(t)},onClick:function(t){var e=b(!v,t);null===f||void 0===f||f(e,t)}}),c,t.createElement("span",{className:"".concat(s,"-inner")},t.createElement("span",{className:"".concat(s,"-inner-checked")},u),t.createElement("span",{className:"".concat(s,"-inner-unchecked")},d)))}));SV.displayName="Switch";const AV=SV,{isValidElement:EV}=e;function wV(e,i){return function(e,i,n){return EV(e)?t.cloneElement(e,"function"===typeof n?n(e.props||{}):n):i}(e,e,i)}const kV=t=>{const{componentCls:e,colorPrimary:i}=t;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:"var(--wave-color, ".concat(i,")"),boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:["box-shadow 0.4s ".concat(t.motionEaseOutCirc),"opacity 2s ".concat(t.motionEaseOutCirc)].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:["box-shadow 0.3s ".concat(t.motionEaseInOut),"opacity 0.35s ".concat(t.motionEaseInOut)].join(",")}}}}},CV=KF("Wave",(t=>[kV(t)]));function MV(t){return t&&"#fff"!==t&&"#ffffff"!==t&&"rgb(255, 255, 255)"!==t&&"rgba(255, 255, 255, 1)"!==t&&function(t){const e=(t||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(e&&e[1]&&e[2]&&e[3])||!(e[1]===e[2]&&e[2]===e[3])}(t)&&!/rgba\((?:\d*, ){3}0\)/.test(t)&&"transparent"!==t}const TV="ant-wave-target";function PV(t){return Number.isNaN(t)?0:t}const FV=e=>{const{className:i,target:n,component:r}=e,s=t.useRef(null),[o,a]=t.useState(null),[l,h]=t.useState([]),[c,u]=t.useState(0),[d,f]=t.useState(0),[g,p]=t.useState(0),[m,y]=t.useState(0),[v,x]=t.useState(!1),b={left:c,top:d,width:g,height:m,borderRadius:l.map((t=>"".concat(t,"px"))).join(" ")};function S(){const t=getComputedStyle(n);a(function(t){const{borderTopColor:e,borderColor:i,backgroundColor:n}=getComputedStyle(t);return MV(e)?e:MV(i)?i:MV(n)?n:null}(n));const e="static"===t.position,{borderLeftWidth:i,borderTopWidth:r}=t;u(e?n.offsetLeft:PV(-parseFloat(i))),f(e?n.offsetTop:PV(-parseFloat(r))),p(n.offsetWidth),y(n.offsetHeight);const{borderTopLeftRadius:s,borderTopRightRadius:o,borderBottomLeftRadius:l,borderBottomRightRadius:c}=t;h([s,o,c,l].map((t=>PV(parseFloat(t)))))}if(o&&(b["--wave-color"]=o),t.useEffect((()=>{if(n){const t=HT((()=>{S(),x(!0)}));let e;return"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(S),e.observe(n)),()=>{HT.cancel(t),null===e||void 0===e||e.disconnect()}}}),[]),!v)return null;const A=("Checkbox"===r||"Radio"===r)&&(null===n||void 0===n?void 0:n.classList.contains(TV));return t.createElement(sP,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(t,e)=>{var i;if(e.deadline||"opacity"===e.propertyName){const t=null===(i=s.current)||void 0===i?void 0:i.parentElement;(function(t){return FE.apply(this,arguments)})(t).then((()=>{null===t||void 0===t||t.remove()}))}return!1}},(e=>{let{className:n}=e;return t.createElement("div",{ref:s,className:GM()(i,{"wave-quick":A},n),style:b})}))},LV=(e,i)=>{var n;const{component:r}=i;if("Checkbox"===r&&!(null===(n=e.querySelector("input"))||void 0===n?void 0:n.checked))return;const s=document.createElement("div");s.style.position="absolute",s.style.left="0px",s.style.top="0px",null===e||void 0===e||e.insertBefore(s,null===e||void 0===e?void 0:e.firstChild),CE(t.createElement(FV,Object.assign({},i,{target:e})),s)};const RV=e=>{const{children:i,disabled:n,component:r}=e,{getPrefixCls:s}=(0,t.useContext)(BE),o=(0,t.useRef)(null),a=s("wave"),[,l]=CV(a),h=function(e,i,n){const{wave:r}=t.useContext(BE),[,s,o]=mP(),a=zF((t=>{const a=e.current;if((null===r||void 0===r?void 0:r.disabled)||!a)return;const l=a.querySelector(".".concat(TV))||a,{showEffect:h}=r||{};(h||LV)(l,{className:i,token:s,component:n,event:t,hashId:o})})),l=t.useRef();return t=>{HT.cancel(l.current),l.current=HT((()=>{a(t)}))}}(o,GM()(a,l),r);if(t.useEffect((()=>{const t=o.current;if(!t||1!==t.nodeType||n)return;const e=e=>{!mB(e.target)||!t.getAttribute||t.getAttribute("disabled")||t.disabled||t.className.includes("disabled")||t.className.includes("-leave")||h(e)};return t.addEventListener("click",e,!0),()=>{t.removeEventListener("click",e,!0)}}),[n]),!t.isValidElement(i))return null!==i&&void 0!==i?i:null;return wV(i,{ref:KM(i)?qM(i.ref,o):o})},BV=t=>{const{componentCls:e,trackHeightSM:i,trackPadding:n,trackMinWidthSM:r,innerMinMarginSM:s,innerMaxMarginSM:o,handleSizeSM:a,calc:l}=t,h="".concat(e,"-inner"),c=zw(l(a).add(l(n).mul(2)).equal()),u=zw(l(o).mul(2).equal());return{[e]:{["&".concat(e,"-small")]:{minWidth:r,height:i,lineHeight:zw(i),["".concat(e,"-inner")]:{paddingInlineStart:o,paddingInlineEnd:s,["".concat(h,"-checked")]:{marginInlineStart:"calc(-100% + ".concat(c," - ").concat(u,")"),marginInlineEnd:"calc(100% - ".concat(c," + ").concat(u,")")},["".concat(h,"-unchecked")]:{marginTop:l(i).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},["".concat(e,"-handle")]:{width:a,height:a},["".concat(e,"-loading-icon")]:{top:l(l(a).sub(t.switchLoadingIconSize)).div(2).equal(),fontSize:t.switchLoadingIconSize},["&".concat(e,"-checked")]:{["".concat(e,"-inner")]:{paddingInlineStart:s,paddingInlineEnd:o,["".concat(h,"-checked")]:{marginInlineStart:0,marginInlineEnd:0},["".concat(h,"-unchecked")]:{marginInlineStart:"calc(100% - ".concat(c," + ").concat(u,")"),marginInlineEnd:"calc(-100% + ".concat(c," - ").concat(u,")")}},["".concat(e,"-handle")]:{insetInlineStart:"calc(100% - ".concat(zw(l(a).add(n).equal()),")")}},["&:not(".concat(e,"-disabled):active")]:{["&:not(".concat(e,"-checked) ").concat(h)]:{["".concat(h,"-unchecked")]:{marginInlineStart:l(t.marginXXS).div(2).equal(),marginInlineEnd:l(t.marginXXS).mul(-1).div(2).equal()}},["&".concat(e,"-checked ").concat(h)]:{["".concat(h,"-checked")]:{marginInlineStart:l(t.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:l(t.marginXXS).div(2).equal()}}}}}}},zV=t=>{const{componentCls:e,handleSize:i,calc:n}=t;return{[e]:{["".concat(e,"-loading-icon").concat(t.iconCls)]:{position:"relative",top:n(n(i).sub(t.fontSize)).div(2).equal(),color:t.switchLoadingIconColor,verticalAlign:"top"},["&".concat(e,"-checked ").concat(e,"-loading-icon")]:{color:t.switchColor}}}},IV=t=>{const{componentCls:e,trackPadding:i,handleBg:n,handleShadow:r,handleSize:s,calc:o}=t,a="".concat(e,"-handle");return{[e]:{[a]:{position:"absolute",top:i,insetInlineStart:i,width:s,height:s,transition:"all ".concat(t.switchDuration," ease-in-out"),"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:n,borderRadius:o(s).div(2).equal(),boxShadow:r,transition:"all ".concat(t.switchDuration," ease-in-out"),content:'""'}},["&".concat(e,"-checked ").concat(a)]:{insetInlineStart:"calc(100% - ".concat(zw(o(s).add(i).equal()),")")},["&:not(".concat(e,"-disabled):active")]:{["".concat(a,"::before")]:{insetInlineEnd:t.switchHandleActiveInset,insetInlineStart:0},["&".concat(e,"-checked ").concat(a,"::before")]:{insetInlineEnd:0,insetInlineStart:t.switchHandleActiveInset}}}}},DV=t=>{const{componentCls:e,trackHeight:i,trackPadding:n,innerMinMargin:r,innerMaxMargin:s,handleSize:o,calc:a}=t,l="".concat(e,"-inner"),h=zw(a(o).add(a(n).mul(2)).equal()),c=zw(a(s).mul(2).equal());return{[e]:{[l]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:s,paddingInlineEnd:r,transition:"padding-inline-start ".concat(t.switchDuration," ease-in-out, padding-inline-end ").concat(t.switchDuration," ease-in-out"),["".concat(l,"-checked, ").concat(l,"-unchecked")]:{display:"block",color:t.colorTextLightSolid,fontSize:t.fontSizeSM,transition:"margin-inline-start ".concat(t.switchDuration," ease-in-out, margin-inline-end ").concat(t.switchDuration," ease-in-out"),pointerEvents:"none"},["".concat(l,"-checked")]:{marginInlineStart:"calc(-100% + ".concat(h," - ").concat(c,")"),marginInlineEnd:"calc(100% - ".concat(h," + ").concat(c,")")},["".concat(l,"-unchecked")]:{marginTop:a(i).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},["&".concat(e,"-checked ").concat(l)]:{paddingInlineStart:r,paddingInlineEnd:s,["".concat(l,"-checked")]:{marginInlineStart:0,marginInlineEnd:0},["".concat(l,"-unchecked")]:{marginInlineStart:"calc(100% - ".concat(h," + ").concat(c,")"),marginInlineEnd:"calc(-100% + ".concat(h," - ").concat(c,")")}},["&:not(".concat(e,"-disabled):active")]:{["&:not(".concat(e,"-checked) ").concat(l)]:{["".concat(l,"-unchecked")]:{marginInlineStart:a(n).mul(2).equal(),marginInlineEnd:a(n).mul(-1).mul(2).equal()}},["&".concat(e,"-checked ").concat(l)]:{["".concat(l,"-checked")]:{marginInlineStart:a(n).mul(-1).mul(2).equal(),marginInlineEnd:a(n).mul(2).equal()}}}}}},VV=t=>{const{componentCls:e,trackHeight:i,trackMinWidth:n}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},bP(t)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:n,height:i,lineHeight:"".concat(zw(i)),verticalAlign:"middle",background:t.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:"all ".concat(t.motionDurationMid),userSelect:"none",["&:hover:not(".concat(e,"-disabled)")]:{background:t.colorTextTertiary}}),wP(t)),{["&".concat(e,"-checked")]:{background:t.switchColor,["&:hover:not(".concat(e,"-disabled)")]:{background:t.colorPrimaryHover}},["&".concat(e,"-loading, &").concat(e,"-disabled")]:{cursor:"not-allowed",opacity:t.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},["&".concat(e,"-rtl")]:{direction:"rtl"}})}},_V=QF("Switch",(t=>{const e=jF(t,{switchDuration:t.motionDurationMid,switchColor:t.colorPrimary,switchDisabledOpacity:t.opacityLoading,switchLoadingIconSize:t.calc(t.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:"rgba(0, 0, 0, ".concat(t.opacityLoading,")"),switchHandleActiveInset:"-30%"});return[VV(e),DV(e),IV(e),zV(e),BV(e)]}),(t=>{const{fontSize:e,lineHeight:i,controlHeight:n,colorWhite:r}=t,s=e*i,o=n/2,a=s-4,l=o-4;return{trackHeight:s,trackHeightSM:o,trackMinWidth:2*a+8,trackMinWidthSM:2*l+4,trackPadding:2,handleBg:r,handleSize:a,handleSizeSM:l,handleShadow:"0 2px 4px 0 ".concat(new SM("#00230b").setAlpha(.2).toRgbString()),innerMinMargin:a/2,innerMaxMargin:a+2+4,innerMinMarginSM:l/2,innerMaxMarginSM:l+2+4}}));var NV=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i};const OV=t.forwardRef(((e,i)=>{const{prefixCls:n,size:r,disabled:s,loading:o,className:a,rootClassName:l,style:h,checked:c,value:u,defaultChecked:d,defaultValue:f,onChange:g}=e,p=NV(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[m,y]=DF(!1,{value:null!==c&&void 0!==c?c:u,defaultValue:null!==d&&void 0!==d?d:f}),{getPrefixCls:v,direction:x,switch:b}=t.useContext(BE),S=t.useContext(IM),A=(null!==s&&void 0!==s?s:S)||o,E=v("switch",n),w=t.createElement("div",{className:"".concat(E,"-handle")},o&&t.createElement(fF,{className:"".concat(E,"-loading-icon")})),[k,C,M]=_V(E),T=Zz(r),P=GM()(null===b||void 0===b?void 0:b.className,{["".concat(E,"-small")]:"small"===T,["".concat(E,"-loading")]:o,["".concat(E,"-rtl")]:"rtl"===x},a,l,C,M),F=Object.assign(Object.assign({},null===b||void 0===b?void 0:b.style),h);return k(t.createElement(RV,{component:"Switch"},t.createElement(AV,Object.assign({},p,{checked:m,onChange:function(){y(arguments.length<=0?void 0:arguments[0]),null===g||void 0===g||g.apply(void 0,arguments)},prefixCls:E,className:P,style:F,disabled:A,ref:i,loadingIcon:w}))))}));OV.__ANT_SWITCH=!0;const HV=OV;function UV(t,e,i,n){if(i){var r=e;if("click"===e.type){var s=t.cloneNode(!0);return r=Object.create(e,{target:{value:s},currentTarget:{value:s}}),s.value="",void i(r)}if("file"!==t.type&&void 0!==n){var o=t.cloneNode(!0);return r=Object.create(e,{target:{value:o},currentTarget:{value:o}}),o.value=n,void i(r)}i(r)}}const YV=function(e){var i,n,r=e.inputElement,s=e.children,o=e.prefixCls,a=e.prefix,l=e.suffix,h=e.addonBefore,c=e.addonAfter,u=e.className,d=e.style,f=e.disabled,g=e.readOnly,p=e.focused,m=e.triggerFocus,y=e.allowClear,v=e.value,x=e.handleReset,b=e.hidden,S=e.classes,A=e.classNames,E=e.dataAttrs,w=e.styles,k=e.components,C=null!==s&&void 0!==s?s:r,M=(null===k||void 0===k?void 0:k.affixWrapper)||"span",T=(null===k||void 0===k?void 0:k.groupWrapper)||"span",P=(null===k||void 0===k?void 0:k.wrapper)||"span",F=(null===k||void 0===k?void 0:k.groupAddon)||"span",L=(0,t.useRef)(null),R=function(t){return!!(t.prefix||t.suffix||t.allowClear)}(e),B=(0,t.cloneElement)(C,{value:v,className:GM()(C.props.className,!R&&(null===A||void 0===A?void 0:A.variant))||null});if(R){var z,I=null;if(y){var D,V=!f&&!g&&v,_="".concat(o,"-clear-icon"),N="object"===cE(y)&&null!==y&&void 0!==y&&y.clearIcon?y.clearIcon:"\u2716";I=t.createElement("span",{onClick:x,onMouseDown:function(t){return t.preventDefault()},className:GM()(_,(D={},pE(D,"".concat(_,"-hidden"),!V),pE(D,"".concat(_,"-has-suffix"),!!l),D)),role:"button",tabIndex:-1},N)}var O="".concat(o,"-affix-wrapper"),H=GM()(O,(pE(z={},"".concat(o,"-disabled"),f),pE(z,"".concat(O,"-disabled"),f),pE(z,"".concat(O,"-focused"),p),pE(z,"".concat(O,"-readonly"),g),pE(z,"".concat(O,"-input-with-clear-btn"),l&&y&&v),z),null===S||void 0===S?void 0:S.affixWrapper,null===A||void 0===A?void 0:A.affixWrapper,null===A||void 0===A?void 0:A.variant),U=(l||y)&&t.createElement("span",{className:GM()("".concat(o,"-suffix"),null===A||void 0===A?void 0:A.suffix),style:null===w||void 0===w?void 0:w.suffix},I,l);B=t.createElement(M,nk({className:H,style:null===w||void 0===w?void 0:w.affixWrapper,onClick:function(t){var e;null!==(e=L.current)&&void 0!==e&&e.contains(t.target)&&(null===m||void 0===m||m())}},null===E||void 0===E?void 0:E.affixWrapper,{ref:L}),a&&t.createElement("span",{className:GM()("".concat(o,"-prefix"),null===A||void 0===A?void 0:A.prefix),style:null===w||void 0===w?void 0:w.prefix},a),B,U)}if(function(t){return!(!t.addonBefore&&!t.addonAfter)}(e)){var Y="".concat(o,"-group"),G="".concat(Y,"-addon"),j="".concat(Y,"-wrapper"),X=GM()("".concat(o,"-wrapper"),Y,null===S||void 0===S?void 0:S.wrapper,null===A||void 0===A?void 0:A.wrapper),W=GM()(j,pE({},"".concat(j,"-disabled"),f),null===S||void 0===S?void 0:S.group,null===A||void 0===A?void 0:A.groupWrapper);B=t.createElement(T,{className:W},t.createElement(P,{className:X},h&&t.createElement(F,{className:G},h),B,c&&t.createElement(F,{className:G},c)))}return t.cloneElement(B,{className:GM()(null===(i=B.props)||void 0===i?void 0:i.className,u)||null,style:yE(yE({},null===(n=B.props)||void 0===n?void 0:n.style),d),hidden:b})};var GV=["show"];var jV,XV=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],WV={};function ZV(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;jV||((jV=document.createElement("textarea")).setAttribute("tab-index","-1"),jV.setAttribute("aria-hidden","true"),document.body.appendChild(jV)),t.getAttribute("wrap")?jV.setAttribute("wrap",t.getAttribute("wrap")):jV.removeAttribute("wrap");var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(e&&WV[i])return WV[i];var n=window.getComputedStyle(t),r=n.getPropertyValue("box-sizing")||n.getPropertyValue("-moz-box-sizing")||n.getPropertyValue("-webkit-box-sizing"),s=parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("padding-top")),o=parseFloat(n.getPropertyValue("border-bottom-width"))+parseFloat(n.getPropertyValue("border-top-width")),a={sizingStyle:XV.map((function(t){return"".concat(t,":").concat(n.getPropertyValue(t))})).join(";"),paddingSize:s,borderSize:o,boxSizing:r};return e&&i&&(WV[i]=a),a}(t,e),s=r.paddingSize,o=r.borderSize,a=r.boxSizing,l=r.sizingStyle;jV.setAttribute("style","".concat(l,";").concat("\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n")),jV.value=t.value||t.placeholder||"";var h,c=void 0,u=void 0,d=jV.scrollHeight;if("border-box"===a?d+=o:"content-box"===a&&(d-=s),null!==i||null!==n){jV.value=" ";var f=jV.scrollHeight-s;null!==i&&(c=f*i,"border-box"===a&&(c=c+s+o),d=Math.max(c,d)),null!==n&&(u=f*n,"border-box"===a&&(u=u+s+o),h=d>u?"":"hidden",d=Math.min(u,d))}var g={height:d,overflowY:h,resize:"none"};return c&&(g.minHeight=c),u&&(g.maxHeight=u),g}var qV=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],JV=t.forwardRef((function(e,i){var n=e,r=n.prefixCls,s=(n.onPressEnter,n.defaultValue),o=n.value,a=n.autoSize,l=n.onResize,h=n.className,c=n.style,u=n.disabled,d=n.onChange,f=(n.onInternalAutoSize,QM(n,qV)),g=VE(DF(s,{value:o,postState:function(t){return null!==t&&void 0!==t?t:""}}),2),p=g[0],m=g[1],y=t.useRef();t.useImperativeHandle(i,(function(){return{textArea:y.current}}));var v=VE(t.useMemo((function(){return a&&"object"===cE(a)?[a.minRows,a.maxRows]:[]}),[a]),2),x=v[0],b=v[1],S=!!a,A=VE(t.useState(2),2),E=A[0],w=A[1],k=VE(t.useState(),2),C=k[0],M=k[1],T=function(){w(0)};Uw((function(){S&&T()}),[o,x,b,S]),Uw((function(){if(0===E)w(1);else if(1===E){var t=ZV(y.current,!1,x,b);w(2),M(t)}else!function(){try{if(document.activeElement===y.current){var t=y.current,e=t.selectionStart,i=t.selectionEnd,n=t.scrollTop;y.current.setSelectionRange(e,i),y.current.scrollTop=n}}catch(Sn){}}()}),[E]);var P=t.useRef(),F=function(){HT.cancel(P.current)};t.useEffect((function(){return F}),[]);var L=S?C:null,R=yE(yE({},c),L);return 0!==E&&1!==E||(R.overflowY="hidden",R.overflowX="hidden"),t.createElement(dR,{onResize:function(t){2===E&&(null===l||void 0===l||l(t),a&&(F(),P.current=HT((function(){T()}))))},disabled:!(a||l)},t.createElement("textarea",nk({},f,{ref:y,style:R,className:GM()(r,h,pE({},"".concat(r,"-disabled"),u)),disabled:u,value:p,onChange:function(t){m(t.target.value),null===d||void 0===d||d(t)}})))}));const KV=JV;var QV=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize"],$V=t.forwardRef((function(e,i){var n,r,s=e.defaultValue,o=e.value,a=e.onFocus,l=e.onBlur,h=e.onChange,c=e.allowClear,u=e.maxLength,d=e.onCompositionStart,f=e.onCompositionEnd,g=e.suffix,p=e.prefixCls,m=void 0===p?"rc-textarea":p,y=e.showCount,v=e.count,x=e.className,b=e.style,S=e.disabled,A=e.hidden,E=e.classNames,w=e.styles,k=e.onResize,C=QM(e,QV),M=VE(DF(s,{value:o,defaultValue:s}),2),T=M[0],P=M[1],F=void 0===T||null===T?"":String(T),L=VE(t.useState(!1),2),R=L[0],B=L[1],z=t.useRef(!1),I=VE(t.useState(null),2),D=I[0],V=I[1],_=(0,t.useRef)(null),N=function(){var t;return null===(t=_.current)||void 0===t?void 0:t.textArea},O=function(){N().focus()};(0,t.useImperativeHandle)(i,(function(){return{resizableTextArea:_.current,focus:O,blur:function(){N().blur()}}})),(0,t.useEffect)((function(){B((function(t){return!S&&t}))}),[S]);var H=VE(t.useState(null),2),U=H[0],Y=H[1];t.useEffect((function(){var t;U&&(t=N()).setSelectionRange.apply(t,hE(U))}),[U]);var G,j=function(e,i){return t.useMemo((function(){var t={};i&&(t.show="object"===cE(i)&&i.formatter?i.formatter:!!i);var n=t=yE(yE({},t),e),r=n.show,s=QM(n,GV);return yE(yE({},s),{},{show:!!r,showFormatter:"function"===typeof r?r:void 0,strategy:s.strategy||function(t){return t.length}})}),[e,i])}(v,y),X=null!==(n=j.max)&&void 0!==n?n:u,W=Number(X)>0,Z=j.strategy(F),q=!!X&&Z>X,J=function(t,e){var i=e;!z.current&&j.exceedFormatter&&j.max&&j.strategy(e)>j.max&&e!==(i=j.exceedFormatter(e,{max:j.max}))&&Y([N().selectionStart||0,N().selectionEnd||0]),P(i),UV(t.currentTarget,t,h,i)},K=g;j.show&&(G=j.showFormatter?j.showFormatter({value:F,count:Z,maxLength:X}):"".concat(Z).concat(W?" / ".concat(X):""),K=t.createElement(t.Fragment,null,K,t.createElement("span",{className:GM()("".concat(m,"-data-count"),null===E||void 0===E?void 0:E.count),style:null===w||void 0===w?void 0:w.count},G)));var Q=!C.autoSize&&!y&&!c;return t.createElement(YV,{value:F,allowClear:c,handleReset:function(t){P(""),O(),UV(N(),t,h)},suffix:K,prefixCls:m,classNames:yE(yE({},E),{},{affixWrapper:GM()(null===E||void 0===E?void 0:E.affixWrapper,(r={},pE(r,"".concat(m,"-show-count"),y),pE(r,"".concat(m,"-textarea-allow-clear"),c),r))}),disabled:S,focused:R,className:GM()(x,q&&"".concat(m,"-out-of-range")),style:yE(yE({},b),D&&!Q?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":"string"===typeof G?G:void 0}},hidden:A},t.createElement(KV,nk({},C,{maxLength:u,onKeyDown:function(t){var e=C.onPressEnter,i=C.onKeyDown;"Enter"===t.key&&e&&e(t),null===i||void 0===i||i(t)},onChange:function(t){J(t,t.target.value)},onFocus:function(t){B(!0),null===a||void 0===a||a(t)},onBlur:function(t){B(!1),null===l||void 0===l||l(t)},onCompositionStart:function(t){z.current=!0,null===d||void 0===d||d(t)},onCompositionEnd:function(t){z.current=!1,J(t,t.currentTarget.value),null===f||void 0===f||f(t)},className:GM()(null===E||void 0===E?void 0:E.textarea),style:yE(yE({},null===w||void 0===w?void 0:w.textarea),{},{resize:null===b||void 0===b?void 0:b.resize}),disabled:S,prefixCls:m,onResize:function(t){var e;null===k||void 0===k||k(t),null!==(e=N())&&void 0!==e&&e.style.height&&V(!0)},ref:_})))}));const t_=$V;const e_=t=>({borderColor:t.hoverBorderColor,backgroundColor:t.hoverBg}),i_=t=>({color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},e_(jF(t,{hoverBorderColor:t.colorBorder,hoverBg:t.colorBgContainerDisabled})))}),n_=(t,e)=>({background:t.colorBgContainer,borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:e.borderColor,"&:hover":{borderColor:e.hoverBorderColor,backgroundColor:t.hoverBg},"&:focus, &:focus-within":{borderColor:e.activeBorderColor,boxShadow:e.activeShadow,outline:0,backgroundColor:t.activeBg}}),r_=(t,e)=>({["&".concat(t.componentCls,"-status-").concat(e.status,":not(").concat(t.componentCls,"-disabled)")]:Object.assign(Object.assign({},n_(t,e)),{["".concat(t.componentCls,"-prefix, ").concat(t.componentCls,"-suffix")]:{color:e.affixColor}})}),s_=(t,e)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n_(t,{borderColor:t.colorBorder,hoverBorderColor:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeShadow:t.activeShadow})),{["&".concat(t.componentCls,"-disabled, &[disabled]")]:Object.assign({},i_(t))}),r_(t,{status:"error",borderColor:t.colorError,hoverBorderColor:t.colorErrorBorderHover,activeBorderColor:t.colorError,activeShadow:t.errorActiveShadow,affixColor:t.colorError})),r_(t,{status:"warning",borderColor:t.colorWarning,hoverBorderColor:t.colorWarningBorderHover,activeBorderColor:t.colorWarning,activeShadow:t.warningActiveShadow,affixColor:t.colorWarning})),e)}),o_=(t,e)=>({["&".concat(t.componentCls,"-group-wrapper-status-").concat(e.status)]:{["".concat(t.componentCls,"-group-addon")]:{borderColor:e.addonBorderColor,color:e.addonColor}}}),a_=t=>({"&-outlined":Object.assign(Object.assign(Object.assign({["".concat(t.componentCls,"-group")]:{"&-addon":{background:t.addonBg,border:"".concat(zw(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorBorder)},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},o_(t,{status:"error",addonBorderColor:t.colorError,addonColor:t.colorErrorText})),o_(t,{status:"warning",addonBorderColor:t.colorWarning,addonColor:t.colorWarningText})),{["&".concat(t.componentCls,"-group-wrapper-disabled")]:{["".concat(t.componentCls,"-group-addon")]:Object.assign({},i_(t))}})}),l_=(t,e)=>({"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},["&".concat(t.componentCls,"-disabled, &[disabled]")]:{color:t.colorTextDisabled}},e)}),h_=(t,e)=>({background:e.bg,borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:null===e||void 0===e?void 0:e.inputColor},"&:hover":{background:e.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:e.activeBorderColor,backgroundColor:t.activeBg}}),c_=(t,e)=>({["&".concat(t.componentCls,"-status-").concat(e.status,":not(").concat(t.componentCls,"-disabled)")]:Object.assign(Object.assign({},h_(t,e)),{["".concat(t.componentCls,"-prefix, ").concat(t.componentCls,"-suffix")]:{color:e.affixColor}})}),u_=(t,e)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},h_(t,{bg:t.colorFillTertiary,hoverBg:t.colorFillSecondary,activeBorderColor:t.colorPrimary})),{["&".concat(t.componentCls,"-disabled, &[disabled]")]:Object.assign({},i_(t))}),c_(t,{status:"error",bg:t.colorErrorBg,hoverBg:t.colorErrorBgHover,activeBorderColor:t.colorError,inputColor:t.colorErrorText,affixColor:t.colorError})),c_(t,{status:"warning",bg:t.colorWarningBg,hoverBg:t.colorWarningBgHover,activeBorderColor:t.colorWarning,inputColor:t.colorWarningText,affixColor:t.colorWarning})),e)}),d_=(t,e)=>({["&".concat(t.componentCls,"-group-wrapper-status-").concat(e.status)]:{["".concat(t.componentCls,"-group-addon")]:{background:e.addonBg,color:e.addonColor}}}),f_=t=>({"&-filled":Object.assign(Object.assign(Object.assign({["".concat(t.componentCls,"-group")]:{"&-addon":{background:t.colorFillTertiary},["".concat(t.componentCls,"-filled:not(:focus):not(:focus-within)")]:{"&:not(:first-child)":{borderInlineStart:"".concat(zw(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorSplit)},"&:not(:last-child)":{borderInlineEnd:"".concat(zw(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorSplit)}}}},d_(t,{status:"error",addonBg:t.colorErrorBg,addonColor:t.colorErrorText})),d_(t,{status:"warning",addonBg:t.colorWarningBg,addonColor:t.colorWarningText})),{["&".concat(t.componentCls,"-group-wrapper-disabled")]:{["".concat(t.componentCls,"-group")]:{"&-addon":{background:t.colorFillTertiary,color:t.colorTextDisabled},"&-addon:first-child":{borderInlineStart:"".concat(zw(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorBorder),borderTop:"".concat(zw(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorBorder),borderBottom:"".concat(zw(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorBorder)},"&-addon:last-child":{borderInlineEnd:"".concat(zw(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorBorder),borderTop:"".concat(zw(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorBorder),borderBottom:"".concat(zw(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorBorder)}}}})}),g_=t=>{const{paddingBlockLG:e,lineHeightLG:i,borderRadiusLG:n,paddingInlineLG:r}=t;return{padding:"".concat(zw(e)," ").concat(zw(r)),fontSize:t.inputFontSizeLG,lineHeight:i,borderRadius:n}},p_=t=>({padding:"".concat(zw(t.paddingBlockSM)," ").concat(zw(t.paddingInlineSM)),fontSize:t.inputFontSizeSM,borderRadius:t.borderRadiusSM}),m_=t=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:"".concat(zw(t.paddingBlock)," ").concat(zw(t.paddingInline)),color:t.colorText,fontSize:t.inputFontSize,lineHeight:t.lineHeight,borderRadius:t.borderRadius,transition:"all ".concat(t.motionDurationMid)},{"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:t.colorTextPlaceholder,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:t.controlHeight,lineHeight:t.lineHeight,verticalAlign:"bottom",transition:"all ".concat(t.motionDurationSlow,", height 0s"),resize:"vertical"},"&-lg":Object.assign({},g_(t)),"&-sm":Object.assign({},p_(t)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}}),y_=t=>{const{componentCls:e,antCls:i}=t;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:t.paddingXS,"&:last-child":{paddingInlineEnd:0}},["&-lg ".concat(e,", &-lg > ").concat(e,"-group-addon")]:Object.assign({},g_(t)),["&-sm ".concat(e,", &-sm > ").concat(e,"-group-addon")]:Object.assign({},p_(t)),["&-lg ".concat(i,"-select-single ").concat(i,"-select-selector")]:{height:t.controlHeightLG},["&-sm ".concat(i,"-select-single ").concat(i,"-select-selector")]:{height:t.controlHeightSM},["> ".concat(e)]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},["".concat(e,"-group")]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:"0 ".concat(zw(t.paddingInline)),color:t.colorText,fontWeight:"normal",fontSize:t.inputFontSize,textAlign:"center",borderRadius:t.borderRadius,transition:"all ".concat(t.motionDurationSlow),lineHeight:1,["".concat(i,"-select")]:{margin:"".concat(zw(t.calc(t.paddingBlock).add(1).mul(-1).equal())," ").concat(zw(t.calc(t.paddingInline).mul(-1).equal())),["&".concat(i,"-select-single:not(").concat(i,"-select-customize-input):not(").concat(i,"-pagination-size-changer)")]:{["".concat(i,"-select-selector")]:{backgroundColor:"inherit",border:"".concat(zw(t.lineWidth)," ").concat(t.lineType," transparent"),boxShadow:"none"}},"&-open, &-focused":{["".concat(i,"-select-selector")]:{color:t.colorPrimary}}},["".concat(i,"-cascader-picker")]:{margin:"-9px ".concat(zw(t.calc(t.paddingInline).mul(-1).equal())),backgroundColor:"transparent",["".concat(i,"-cascader-input")]:{textAlign:"start",border:0,boxShadow:"none"}}}},["".concat(e)]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,["".concat(e,"-search-with-button &")]:{zIndex:0}}},["> ".concat(e,":first-child, ").concat(e,"-group-addon:first-child")]:{borderStartEndRadius:0,borderEndEndRadius:0,["".concat(i,"-select ").concat(i,"-select-selector")]:{borderStartEndRadius:0,borderEndEndRadius:0}},["> ".concat(e,"-affix-wrapper")]:{["&:not(:first-child) ".concat(e)]:{borderStartStartRadius:0,borderEndStartRadius:0},["&:not(:last-child) ".concat(e)]:{borderStartEndRadius:0,borderEndEndRadius:0}},["> ".concat(e,":last-child, ").concat(e,"-group-addon:last-child")]:{borderStartStartRadius:0,borderEndStartRadius:0,["".concat(i,"-select ").concat(i,"-select-selector")]:{borderStartStartRadius:0,borderEndStartRadius:0}},["".concat(e,"-affix-wrapper")]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,["".concat(e,"-search &")]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius}},["&:not(:first-child), ".concat(e,"-search &:not(:first-child)")]:{borderStartStartRadius:0,borderEndStartRadius:0}},["&".concat(e,"-group-compact")]:Object.assign(Object.assign({display:"block"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{["".concat(e,"-group-addon, ").concat(e,"-group-wrap, > ").concat(e)]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:t.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}},"& > *":{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0},["\n        & > ".concat(e,"-affix-wrapper,\n        & > ").concat(e,"-number-affix-wrapper,\n        & > ").concat(i,"-picker-range\n      ")]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal(),borderInlineEndWidth:t.lineWidth},["".concat(e)]:{float:"none"},["& > ".concat(i,"-select > ").concat(i,"-select-selector,\n      & > ").concat(i,"-select-auto-complete ").concat(e,",\n      & > ").concat(i,"-cascader-picker ").concat(e,",\n      & > ").concat(e,"-group-wrapper ").concat(e)]:{borderInlineEndWidth:t.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}},["& > ".concat(i,"-select-focused")]:{zIndex:1},["& > ".concat(i,"-select > ").concat(i,"-select-arrow")]:{zIndex:1},["& > *:first-child,\n      & > ".concat(i,"-select:first-child > ").concat(i,"-select-selector,\n      & > ").concat(i,"-select-auto-complete:first-child ").concat(e,",\n      & > ").concat(i,"-cascader-picker:first-child ").concat(e)]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius},["& > *:last-child,\n      & > ".concat(i,"-select:last-child > ").concat(i,"-select-selector,\n      & > ").concat(i,"-cascader-picker:last-child ").concat(e,",\n      & > ").concat(i,"-cascader-picker-focused:last-child ").concat(e)]:{borderInlineEndWidth:t.lineWidth,borderStartEndRadius:t.borderRadius,borderEndEndRadius:t.borderRadius},["& > ".concat(i,"-select-auto-complete ").concat(e)]:{verticalAlign:"top"},["".concat(e,"-group-wrapper + ").concat(e,"-group-wrapper")]:{marginInlineStart:t.calc(t.lineWidth).mul(-1).equal(),["".concat(e,"-affix-wrapper")]:{borderRadius:0}},["".concat(e,"-group-wrapper:not(:last-child)")]:{["&".concat(e,"-search > ").concat(e,"-group")]:{["& > ".concat(e,"-group-addon > ").concat(e,"-search-button")]:{borderRadius:0},["& > ".concat(e)]:{borderStartStartRadius:t.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:t.borderRadius}}}})}},v_=t=>{const{componentCls:e,controlHeightSM:i,lineWidth:n,calc:r}=t,s=r(i).sub(r(n).mul(2)).sub(16).div(2).equal();return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},bP(t)),m_(t)),s_(t)),u_(t)),l_(t)),{'&[type="color"]':{height:t.controlHeight,["&".concat(e,"-lg")]:{height:t.controlHeightLG},["&".concat(e,"-sm")]:{height:i,paddingTop:s,paddingBottom:s}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},x_=t=>{const{componentCls:e}=t;return{["".concat(e,"-clear-icon")]:{margin:0,color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:"color ".concat(t.motionDurationSlow),"&:hover":{color:t.colorTextTertiary},"&:active":{color:t.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:"0 ".concat(zw(t.inputAffixPadding))}}}},b_=t=>{const{componentCls:e,inputAffixPadding:i,colorTextDescription:n,motionDurationSlow:r,colorIcon:s,colorIconHover:o,iconCls:a}=t;return{["".concat(e,"-affix-wrapper")]:Object.assign(Object.assign(Object.assign(Object.assign({},m_(t)),{display:"inline-flex",["&:not(".concat(e,"-disabled):hover")]:{zIndex:1,["".concat(e,"-search-with-button &")]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},["> input".concat(e)]:{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},["".concat(e)]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:t.paddingXS}},"&-show-count-suffix":{color:n},"&-show-count-has-suffix":{marginInlineEnd:t.paddingXXS},"&-prefix":{marginInlineEnd:i},"&-suffix":{marginInlineStart:i}}}),x_(t)),{["".concat(a).concat(e,"-password-icon")]:{color:s,cursor:"pointer",transition:"all ".concat(r),"&:hover":{color:o}}})}},S_=t=>{const{componentCls:e,borderRadiusLG:i,borderRadiusSM:n}=t;return{["".concat(e,"-group")]:Object.assign(Object.assign(Object.assign({},bP(t)),y_(t)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{["".concat(e,"-group-addon")]:{borderRadius:i,fontSize:t.inputFontSizeLG}},"&-sm":{["".concat(e,"-group-addon")]:{borderRadius:n}}},a_(t)),f_(t)),{["&:not(".concat(e,"-compact-first-item):not(").concat(e,"-compact-last-item)").concat(e,"-compact-item")]:{["".concat(e,", ").concat(e,"-group-addon")]:{borderRadius:0}},["&:not(".concat(e,"-compact-last-item)").concat(e,"-compact-first-item")]:{["".concat(e,", ").concat(e,"-group-addon")]:{borderStartEndRadius:0,borderEndEndRadius:0}},["&:not(".concat(e,"-compact-first-item)").concat(e,"-compact-last-item")]:{["".concat(e,", ").concat(e,"-group-addon")]:{borderStartStartRadius:0,borderEndStartRadius:0}},["&:not(".concat(e,"-compact-last-item)").concat(e,"-compact-item")]:{["".concat(e,"-affix-wrapper")]:{borderStartEndRadius:0,borderEndEndRadius:0}}})})}},A_=t=>{const{componentCls:e,antCls:i}=t,n="".concat(e,"-search");return{[n]:{["".concat(e)]:{"&:hover, &:focus":{borderColor:t.colorPrimaryHover,["+ ".concat(e,"-group-addon ").concat(n,"-button:not(").concat(i,"-btn-primary)")]:{borderInlineStartColor:t.colorPrimaryHover}}},["".concat(e,"-affix-wrapper")]:{borderRadius:0},["".concat(e,"-lg")]:{lineHeight:t.calc(t.lineHeightLG).sub(2e-4).equal({unit:!1})},["> ".concat(e,"-group")]:{["> ".concat(e,"-group-addon:last-child")]:{insetInlineStart:-1,padding:0,border:0,["".concat(n,"-button")]:{marginInlineEnd:-1,paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:t.borderRadius,borderEndEndRadius:t.borderRadius,borderEndStartRadius:0,boxShadow:"none"},["".concat(n,"-button:not(").concat(i,"-btn-primary)")]:{color:t.colorTextDescription,"&:hover":{color:t.colorPrimaryHover},"&:active":{color:t.colorPrimaryActive},["&".concat(i,"-btn-loading::before")]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},["".concat(n,"-button")]:{height:t.controlHeight,"&:hover, &:focus":{zIndex:1}},["&-large ".concat(n,"-button")]:{height:t.controlHeightLG},["&-small ".concat(n,"-button")]:{height:t.controlHeightSM},"&-rtl":{direction:"rtl"},["&".concat(e,"-compact-item")]:{["&:not(".concat(e,"-compact-last-item)")]:{["".concat(e,"-group-addon")]:{["".concat(e,"-search-button")]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal(),borderRadius:0}}},["&:not(".concat(e,"-compact-first-item)")]:{["".concat(e,",").concat(e,"-affix-wrapper")]:{borderRadius:0}},["> ".concat(e,"-group-addon ").concat(e,"-search-button,\n        > ").concat(e,",\n        ").concat(e,"-affix-wrapper")]:{"&:hover,&:focus,&:active":{zIndex:2}},["> ".concat(e,"-affix-wrapper-focused")]:{zIndex:2}}}}},E_=t=>{const{componentCls:e,paddingLG:i}=t,n="".concat(e,"-textarea");return{[n]:{position:"relative","&-show-count":{["> ".concat(e)]:{height:"100%"},["".concat(e,"-data-count")]:{position:"absolute",bottom:t.calc(t.fontSize).mul(t.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:t.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},"&-allow-clear":{["> ".concat(e)]:{paddingInlineEnd:i}},["&-affix-wrapper".concat(n,"-has-feedback")]:{["".concat(e)]:{paddingInlineEnd:i}},["&-affix-wrapper".concat(e,"-affix-wrapper")]:{padding:0,["> textarea".concat(e)]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent","&:focus":{boxShadow:"none !important"}},["".concat(e,"-suffix")]:{margin:0,"> *:not(:last-child)":{marginInline:0},["".concat(e,"-clear-icon")]:{position:"absolute",insetInlineEnd:t.paddingXS,insetBlockStart:t.paddingXS},["".concat(n,"-suffix")]:{position:"absolute",top:0,insetInlineEnd:t.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}}}}},w_=t=>{const{componentCls:e}=t;return{["".concat(e,"-out-of-range")]:{["&, & input, & textarea, ".concat(e,"-show-count-suffix, ").concat(e,"-data-count")]:{color:t.colorError}}}},k_=QF("Input",(t=>{const e=jF(t,function(t){return jF(t,{inputAffixPadding:t.paddingXXS})}(t));return[v_(e),E_(e),b_(e),S_(e),A_(e),w_(e),yD(e)]}),(t=>{const{controlHeight:e,fontSize:i,lineHeight:n,lineWidth:r,controlHeightSM:s,controlHeightLG:o,fontSizeLG:a,lineHeightLG:l,paddingSM:h,controlPaddingHorizontalSM:c,controlPaddingHorizontal:u,colorFillAlter:d,colorPrimaryHover:f,colorPrimary:g,controlOutlineWidth:p,controlOutline:m,colorErrorOutline:y,colorWarningOutline:v,colorBgContainer:x}=t;return{paddingBlock:Math.max(Math.round((e-i*n)/2*10)/10-r,0),paddingBlockSM:Math.max(Math.round((s-i*n)/2*10)/10-r,0),paddingBlockLG:Math.ceil((o-a*l)/2*10)/10-r,paddingInline:h-r,paddingInlineSM:c-r,paddingInlineLG:u-r,addonBg:d,activeBorderColor:g,hoverBorderColor:f,activeShadow:"0 0 0 ".concat(p,"px ").concat(m),errorActiveShadow:"0 0 0 ".concat(p,"px ").concat(y),warningActiveShadow:"0 0 0 ".concat(p,"px ").concat(v),hoverBg:x,activeBg:x,inputFontSize:i,inputFontSizeLG:a,inputFontSizeSM:i}}));var C_=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i};const M_=(0,t.forwardRef)(((e,i)=>{var n;const{prefixCls:r,bordered:s=!0,size:o,disabled:a,status:l,allowClear:h,classNames:c,rootClassName:u,className:d,variant:f}=e,g=C_(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","variant"]);const{getPrefixCls:p,direction:m}=t.useContext(BE),y=Zz(o),v=t.useContext(IM),x=null!==a&&void 0!==a?a:v,{status:b,hasFeedback:S,feedbackIcon:A}=t.useContext(hD),E=Dz(b,l),w=t.useRef(null);t.useImperativeHandle(i,(()=>{var t;return{resizableTextArea:null===(t=w.current)||void 0===t?void 0:t.resizableTextArea,focus:t=>{var e,i;!function(t,e){if(!t)return;t.focus(e);const{cursor:i}=e||{};if(i){const e=t.value.length;switch(i){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(e,e);break;default:t.setSelectionRange(0,e)}}}(null===(i=null===(e=w.current)||void 0===e?void 0:e.resizableTextArea)||void 0===i?void 0:i.textArea,t)},blur:()=>{var t;return null===(t=w.current)||void 0===t?void 0:t.blur()}}}));const k=p("input",r);let C;"object"===typeof h&&(null===h||void 0===h?void 0:h.clearIcon)?C=h:h&&(C={clearIcon:t.createElement(rF,null)});const M=eL(k),[T,P,F]=k_(k,M),[L,R]=dD(f,s);return T(t.createElement(t_,Object.assign({},g,{disabled:x,allowClear:C,className:GM()(F,M,d,u),classNames:Object.assign(Object.assign({},c),{textarea:GM()({["".concat(k,"-sm")]:"small"===y,["".concat(k,"-lg")]:"large"===y},P,null===c||void 0===c?void 0:c.textarea),variant:GM()({["".concat(k,"-").concat(L)]:R},Iz(k,E)),affixWrapper:GM()("".concat(k,"-textarea-affix-wrapper"),{["".concat(k,"-affix-wrapper-rtl")]:"rtl"===m,["".concat(k,"-affix-wrapper-sm")]:"small"===y,["".concat(k,"-affix-wrapper-lg")]:"large"===y,["".concat(k,"-textarea-show-count")]:e.showCount||(null===(n=e.count)||void 0===n?void 0:n.show)},P)}),prefixCls:k,suffix:S&&t.createElement("span",{className:"".concat(k,"-textarea-suffix")},A),ref:w})))})),T_=M_;var P_=i(496);const F_=[{name:"Area Chart",icon:"chartXY",create:(t,e,i)=>{const n=t.ChartXY({container:e,theme:i});return n.addAreaSeries().appendSamples({yValues:[1,5,4,7,2,4,2,4,5,4,9,8,6,6.2]}),()=>{n.dispose()}}},{name:"Dashboard",icon:"dashboard",create:(t,e,i)=>{const n=t.Dashboard({container:e,theme:i,numberOfColumns:2,numberOfRows:4,rowSpan:1}),r=n.createChartXY({columnIndex:0,rowIndex:0}).setTitle(""),s=r.addLineSeries().setStrokeStyle((t=>t.setThickness(-1))),o=setInterval((()=>{s.appendSample({x:s.getXMax()+1,y:Math.random()})}),10);r.getDefaultAxisX().setScrollStrategy(oh).setInterval({start:-1e3,end:0,stopAxisAfter:!1});n.createBarChart({columnIndex:0,rowIndex:1}).setTitle("").setData([{category:"Category A",value:4},{category:"Category B",value:12},{category:"Category C",value:5},{category:"Category D",value:8},{category:"Category E",value:2}]);const a=n.createPieChart({columnIndex:1,rowIndex:0,rowSpan:2}).setTitle("");[{name:"Category 1",value:20},{name:"Category 2",value:5},{name:"Category 3",value:10},{name:"Category 4",value:65}].forEach((t=>a.addSlice(t.name,t.value)));n.createSpiderChart({columnIndex:0,rowIndex:2,columnSpan:1,rowSpan:2}).setTitle("").setAxisInterval({start:0,end:50}).setScrollStrategy(void 0).addSeries().addPoints({axis:"Category 1",value:10},{axis:"Category 2",value:10},{axis:"Category 3",value:20},{axis:"Category 4",value:40},{axis:"Category 5",value:20});const l=n.createGaugeChart({columnIndex:1,rowIndex:2,columnSpan:1,rowSpan:2}).setTitle(""),h=()=>{l.setValue(100*Math.random())};return h(),setInterval(h,2500),()=>{n.dispose(),clearInterval(o)}}},{name:"3D Chart",icon:"chart3D",create:(t,e,i)=>{const n=t.Chart3D({container:e,theme:i});return n.addLineSeries().add([1,5,4,7,2,4,2,4,5,4,9,8,6,6.2].map(((t,e)=>({x:e,y:t,z:0})))),n.addLineSeries().add([3,2.6,3,4,6.2,3,2.2,3,4,3.5,6,5,4,5].map(((t,e)=>({x:e,y:t,z:1})))),n.addLineSeries().add([1,5,4,7,2,4,2,4,5,4,9,8,6,6.2].map(((t,e)=>({x:e,y:t,z:2})))),n.getDefaultAxisX().fit(),n.getDefaultAxisZ().setInterval({start:-.5,end:2.5}),()=>{n.dispose()}}}],L_={name:"Flat theme",properties:{isDark:"boolean",gradients:"boolean",effects:"boolean",fontFamily:"fontFamily",backgroundColor:"color",textColor:"color",dataColors:"colorPalette",axisColor:"color",gridLineColor:"color",uiBackgroundColor:"color",uiBorderColor:"color",dashboardSplitterColor:"color"},default:{isDark:!0,gradients:!0,effects:!0,fontFamily:"Segoe UI, -apple-system, Verdana, Helvetica",backgroundColor:"#181818ff",textColor:"#ffffc8ff",dataColors:["#ffff5b","#ffcd5b","#ff9b5b","#ffc4bc","#ff94b8","#db94c6","#ebc4e0","#a994c6","#94e2c6","#94ffb0","#b4ffa5"],axisColor:"#00000000",gridLineColor:"#303030ff",uiBackgroundColor:"#161616ff",uiBorderColor:"#ffffff",dashboardSplitterColor:"#2d2d2dff"}},R_=t=>{switch(t.icon){case"chartXY":return(0,P_.jsx)(TA,{});case"chart3D":return(0,P_.jsx)(DA,{});case"dashboard":return(0,P_.jsx)(jA,{});default:return null}};const B_=t=>{const{type:e,name:i}=t;return"color"===e?N_(t):"colorPalette"===e?O_(t):"fontFamily"===e?H_(t):"boolean"===e?V_(t):(0,P_.jsx)("span",{className:"toolbar-option",children:i})},z_=e=>{const i=(0,t.useId)();return(0,P_.jsxs)(P_.Fragment,{children:[(0,P_.jsx)("label",{htmlFor:i,children:e.label}),(0,P_.jsx)(HV,{checkedChildren:"I",defaultChecked:e.value||!1,onChange:t=>{e.onChange&&e.onChange(t)},style:{marginRight:"42px"}})]})},I_=e=>{const i=(0,t.useRef)(null),[n,r]=(0,t.useState)(__(e.color||"#000"));return(0,P_.jsx)(P_.Fragment,{children:(0,P_.jsx)("div",{className:"color-selector-balloon",style:{backgroundColor:n},onClick:()=>{i.current&&(i.current.focus(),i.current.value=n.length>7?n.slice(0,-2):n,i.current.click())},children:(0,P_.jsx)("input",{ref:i,type:"color",style:{visibility:"hidden"},onChange:s()((t=>{if(t.target.value){const i=t.target.value;r(i),e.onColorChange&&e.onColorChange(i)}}),250)})})})},D_=e=>{const i=(0,t.useId)(),[n,r]=(0,t.useState)(__(e.color||"#000"));return(0,P_.jsxs)(P_.Fragment,{children:[(0,P_.jsx)("label",{htmlFor:i,children:e.label}),(0,P_.jsxs)("div",{className:"color-controls",children:[(0,P_.jsx)(HV,{id:i,checkedChildren:"I",defaultChecked:e.value||!1,onChange:t=>{e.onStateChange&&e.onStateChange(t)}}),(0,P_.jsx)(I_,{color:n,onColorChange:t=>{const i=t;r(i),e.onColorChange&&e.onColorChange(i)}})]})]})},V_=t=>{const{name:e,applyValue:i}=t;return(0,P_.jsx)("div",{className:"toolbar-option",children:(0,P_.jsx)(z_,{label:e,value:t.value,onChange:t=>{i(t)}})})},__=t=>6===t.length?"#".concat(t,"ff"):7===t.length?"".concat(t,"ff"):t,N_=e=>{const{name:i,applyValue:n}=e,[r,s]=(0,t.useState)(__(e.value)),o="00"===r.slice(-2);return(0,P_.jsx)("div",{className:"toolbar-option",children:(0,P_.jsx)(D_,{label:i,value:!o,color:r.slice(0,-2),onStateChange:t=>{const e="".concat(__(r).slice(0,-2)).concat(t?"ff":"00");s(e),n(e)},onColorChange:t=>{const e="".concat(t).concat(o?"00":"ff");s(e),n(e)}})})},O_=e=>{const{name:i,applyValue:n}=e,[r,o]=(0,t.useState)(e.value);return(0,P_.jsxs)("div",{className:"toolbar-option toolbar-option-colorPalette",children:[(0,P_.jsxs)("div",{className:"colorPalette-header",children:[(0,P_.jsx)("span",{children:i}),(0,P_.jsxs)("div",{className:"colorPalette-controls",children:[(0,P_.jsx)("span",{className:"colorPalette-add-or-subtract interactable",onClick:()=>{const t=r.slice();t.push("#ffffff"),o(t),n(t)},children:(0,P_.jsx)(eE,{})}),(0,P_.jsx)("span",{className:"colorPalette-add-or-subtract interactable",onClick:()=>{if(r.length<=1)return;const t=r.slice();t.pop(),o(t),n(t)},children:(0,P_.jsx)(sE,{})})]})]}),(0,P_.jsx)("div",{className:"colorPalette-colors",children:r.map(((t,e)=>(0,P_.jsx)(I_,{className:"color-field",color:t,onColorChange:s()((function(t){const i=r.slice();i[e]=t,o(i),n(i)}),250)},"color-".concat(e))))})]})},H_=e=>{const{name:i,applyValue:n}=e,[r,o]=(0,t.useState)(e.value),[a,l]=(0,t.useState)(r),[h,c]=(0,t.useState)(!1),u=(0,t.useId)(),d=(0,t.useCallback)(s()((function(t){o(t.target.value),n(t.target.value),console.log("change")}),250),[s(),o,n]),f=a.length>22?a.substr(0,21)+"...":a;return(0,P_.jsxs)("div",{className:"toolbar-option toolbar-option-text",children:[(0,P_.jsx)("label",{htmlFor:u,children:i}),(0,P_.jsx)(T_,{id:u,type:"text",className:"font-field",rows:1,value:h?a:f,onFocus:t=>c(!0),onBlur:()=>c(!1),onChange:t=>{l(t.target.value),d(t)}})]})},U_=function(){const[e,i]=(0,t.useState)(L_.default),[n,r]=(0,t.useState)(F_[0]),[s,o]=ML.useMessage();return(0,t.useEffect)((()=>{const t=document.getElementById("chart");if(!t)return;const i=Object.fromEntries(Object.entries(e).map((t=>{let[e,i]=t;const n=L_.properties[e];return[e,"color"===n?_n(i):"colorPalette"===n?i.map((t=>_n(t))):"fontFamily"===n||"boolean"===n?i:void 0]}))),r=kA(i),s=((t,e)=>{let i="object"==typeof t?t.license:t;i&&(i=i.trim());const n="object"==typeof t?t.licenseInformation:e,r="object"==typeof t?t:void 0,s=new nA;s.e=i;let o=yA.get(i||"E");return o||(o=((t,e)=>{let i,n,r=!1,s=!1,o=!1,a=!1,l="",h=!1,c=!1,u=!1;try{if(QS){const n=(()=>{if(!QS)return;const t=QS.split("-");if(t.length>0)switch(t[0]){case"0001":return"0001";case"0002":return"0002";case"T001":return"T001";case"P001":return"P001";default:return}})(),l=t&&"cGx1Z2lu"in t;if("0001"===n){eA=new Uint8Array([2]);const e=(()=>{if(!QS)return;const t=QS.split("-");return 4===t.length?t[1].startsWith("m")?2:1:0})();if(1===e){const t=dA(QS);o=!t.JH,i=t,r=!0}else 2===e?(i=fA(QS,t),s=!0):(rA=!0,i=hA(QS),a=!0);l&&(i={HH:KS(0,0,1,7,1,12,5)})}else if("0002"===n){const e=(()=>{if(!QS)return;const t=QS.split("-");return t.length>=2?Uint8Array.from(JS.atob(t[1]),(t=>t.charCodeAt(0)))[0]:void 0})();if(104===e)rA=!0,i=hA(QS),a=!0;else if(189===e){const t=dA(QS);o=!t.JH,i=t,r=!0}else 159===e?(i=fA(QS,t),s=!0):i={HH:KS(0,0,1,7,1,12,5)};const n=eA.length>3&&2&eA[3];(n&&!l||!n&&l||n&&l&&"cHl0aG9u"!==t.cGx1Z2lu)&&(i={HH:KS(0,0,1,7,1,12,5)})}else if("T001"===n){const n=((t,e)=>{const i=QS.split("-");if(3!==i.length)return{HH:KS(0,0,1,7,1,12,5)};const n="".concat(i[1]),r=Array.prototype.reduce.call(JS.atob(i[2]),((t,e)=>t+"0".concat(e.charCodeAt(0).toString(16)).slice(-2)),"");if(!uA(n,r))return{HH:KS(0,0,1,7,1,12,5)};let s=0;const o=Uint8Array.from(JS.atob(i[1]),(t=>t.charCodeAt(s))),a=o.subarray(s,s+=20),l=new DataView(o.buffer).getUint16(s,!0);s+=2;const h=Uint8Array.from(Array(l));for(let x=0;x<l;x+=1)h[x]=o[x+s]^a[x%a.byteLength];s=0;const c=new DataView(h.buffer),u=oA(h.subarray(s,s+=4)),d=KS(-3,0);if(!u)return{HH:KS(0,0,1,7,1,12,5)};if(u<d)return{HH:KS(0,40,1,2,1,7,1,8,1,10,1,59,1,60,1,6,5)};const f=new Date,g=new Date;f.setDate(f.getDate()+1),g.setDate(g.getDate()-1);const p=aA(g),m=aA(f);if(u<p||u>m)return{HH:KS(0,0,1,2,1,3,1,4,5)};const y=c.getUint16(s,!0),v=h.subarray(s+=2,s+y);if(eA=new Uint8Array(v),e&&"dHJhZGVy"in e&&"dGVjaG5pY2FsIGFuYWx5c2lz"===e.dHJhZGVy)return{QH:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="};if(e&&"logoGraphic"in e&&e.logoGraphic){const t=e.logoGraphic.split("-");return 3===t.length&&uA(t[0],t[2])?{QH:t[0]}:{HH:KS(0,0,1,7,1,12,5)}}return{HH:KS(0,0,1,7,1,12,5)}})(0,t);i=n;const s=n.QH;s&&e?("string"==typeof s&&(e.l=s),r=!0):i={HH:KS(0,0,1,7,1,12,5)}}else"P001"===n?(i=((t,e)=>{const i=QS.split("-");if(3!==i.length)return{HH:KS(0,0,1,7,1,12,5)};const n="".concat(i[0],"-").concat(i[1]),r=Array.prototype.reduce.call(JS.atob(i[2]),((t,e)=>t+"0".concat(e.charCodeAt(0).toString(16)).slice(-2)),"");if(!uA(n,r))return{HH:KS(0,0,1,7,1,12,5)};let s=0;const o=Uint8Array.from(JS.atob(i[1]),(t=>t.charCodeAt(0)));s+=1;const a=o.subarray(s,s+=20),l=new DataView(o.buffer).getUint16(s,!0);s+=2;const h=Uint8Array.from(Array(l));for(let f=0;f<l;f+=1)h[f]=o[f+s]^a[f%a.byteLength];s=0;const c=new DataView(h.buffer).getUint16(s,!0);s+=2;const u=h.subarray(s,c+s),d=new TextDecoder("utf-8").decode(u);return e&&"cGx1Z2lu"in e&&d===JS.atob(e.cGx1Z2lu)?(eA=new Uint8Array([38]),{}):{HH:KS(0,0,1,7,1,12,5)}})(0,t),!i.HH&&e&&(r=!0,c=!0)):i={HH:KS(0,0,1,7,1,12,5)}}else{const e=/^(10\.|172\.(1[6-9]|2[0-9]|3[0-1])|192\.168)\./;["localhost","127.0.0.1","::1"].includes(JS[KS(-1,6)][KS(-1,7)])||e.test(JS[KS(-1,6)][KS(-1,7)])?i={HH:KS(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68),XH:iA(t)}:JS[KS(-1,6)][KS(-1,40)]===JS.atob("c3RhY2tzbmlwcGV0cy5uZXQ=")?(u=!0,h=!1,eA=new Uint8Array([38]),i={}):(u=!0,h=!0,eA=new Uint8Array([38]),i={})}}catch(t){i={HH:KS(0,0,1,7,1,12,5,1,70,1,71,5)}}try{a&&(n=JS[KS(-1,34)][KS(-1,35)](KS(-1,39))||void 0)}catch(t){JS.console.error(t)}let d=!1;if(n){const t=n.split("-");if(2===t.length&&uA(t[0],t[1])){const[e,i]=t[0].split(":").map((t=>Number(t)));Date.now()-i<.95*e*1e3&&(d=!0)}}const f=!(u||h||c||i.HH||r||s||d),g=(()=>{const t=new(JS[KS(-1,0)]);return t.open(KS(0,26),KS(-2,0)),t.setRequestHeader(KS(-1,24),KS(-1,25)),t.withCredentials=!0,t})(),p=new Er;if(f){let t;try{t=parseInt(QS?QS.split("-")[1]:Math.floor(1e6*Math.random()).toString(),16)}catch(e){t=Math.floor(1e6*Math.random())}const i=Math.floor(1e6*Math.random());l=(t^i).toString();const n={};let r="",s="",o="";QS=QS||"";const a=KS(-4,0);for(let e=0;e<QS.length;e+=1){const t=QS.charCodeAt(e)^a.charCodeAt(e);r+=String.fromCharCode(t)}const h=KS(-3,0);for(let e=0;e<h.length;e+=1)s+=String.fromCharCode(h.charCodeAt(e)^a.charCodeAt(e));for(let e=0;e<l.length;e+=1)o+=String.fromCharCode(l.charCodeAt(e)^a.charCodeAt(e));n[KS(-1,3)]=JS.btoa(r),n[KS(-1,4)]=JS.btoa(s),n.h=JS.btoa(o),n.v=3,n.s=JS[KS(-1,34)][KS(-1,35)](KS(-1,33))||void 0,g.send(JSON.stringify(n))}return(r,s)=>{const a=[],u={Ta:t=>{a.indexOf(t)>=0||(a.push(t),d())},Ia:p},d=()=>{a.forEach((t=>{const e=y(t);if(!e)return;const{KH:i,qH:n}=e,r=n?KS(-2,1):void 0,s="".concat(KS(0,40,1,42,1,43,1,44,1,45,1,46,1,47,1)).concat(i).concat(r?KS(0,5,1,63,1,64,1,59,1,65,1,41,5):"");gA(s,v,!1,r)}))},m=t=>JS.atob(t),y=t=>{const e=Object.values(_h).includes(t)?t:void 0;if(e){switch(t){case _h.vo:return $S.fo||$S.vo?void 0:{KH:m(e),qH:!0};case _h.So:return $S.fo||$S.So?void 0:{KH:m(e),qH:!0};case _h.bo:return $S.fo||$S.Ao||$S.bo?void 0:{KH:m(e),qH:!0};case _h.Ao:return $S.fo||$S.Ao?void 0:{KH:m(e),qH:!0};case _h.ko:return $S.fo||$S.Ao||$S.ko?void 0:{KH:m(e),qH:!0};case _h.Fo:return $S.fo||$S.Ao||$S.Fo?void 0:{KH:m(e),qH:!0};case _h.Bo:return $S.fo||$S.Ao||$S.Bo?void 0:{KH:m(e),qH:!0};case _h.Ro:return $S.fo||$S.Ao||$S.Ro?void 0:{KH:m(e),qH:!0};case _h.Eo:return $S.fo||$S.Ao||$S.Eo?void 0:{KH:m(e),qH:!0};case _h.Do:return $S.fo||$S.Ao||$S.Do?void 0:{KH:m(e),qH:!0};case _h.Mo:return $S.fo||$S.Ao||$S.Mo?void 0:{KH:m(e),qH:!0};case _h.To:return $S.fo||$S.Ao||$S.To?void 0:{KH:m(e),qH:!0};case _h._o:return $S.fo||$S.Ao||$S._o?void 0:{KH:m(e),qH:!0};case _h.Io:return $S.fo||$S.Ao||$S.Io?void 0:{KH:m(e),qH:!0};case _h.Lo:return $S.fo||$S.Ao||$S.Lo?void 0:{KH:m(e),qH:!0};case _h.Po:return $S.fo||$S.Ao||$S.Po?void 0:{KH:m(e),qH:!0};case _h.xo:return $S.fo||$S.Ao||$S.xo?void 0:{KH:m(e),qH:!0};case _h.wo:return $S.fo||$S.Ao||$S.wo?void 0:{KH:m(e),qH:!0};case _h.Co:return $S.fo||$S.Ao||$S.Co?void 0:{KH:m(e),qH:!0};case _h.Oo:return $S.fo||$S.Ao||$S.Oo?void 0:{KH:m(e),qH:!0};case _h.zo:return $S.fo||$S.Ao||$S.zo?void 0:{KH:m(e),qH:!0};case _h.fo:case _h.yo:case _h.mo:case _h.po:case _h.Vo:return}return Us(0,"")}},v=new sS(s,r,u);Array.from(v.En.children).forEach((t=>{"lcjs-error"===t.id&&v.En.removeChild(t)})),(null==i?void 0:i.HH)&&gA(i.HH,v,void 0,i.XH);const x=t=>{if("error"===(null==t?void 0:t.type)&&n){const t=n.split("-");if(2===t.length&&uA(t[0],t[1])){const[,e]=t[0].split(":").map((t=>Number(t))),i=Date.now();if(e+ZS>i)return rA=!1,void pA(g,!1,b)}}if(g.readyState===JS[KS(-1,0)].DONE)if(200===g.status){const t=JSON.parse(g[KS(-1,23)]);if(!uA(l+KS(-3,0),t.h)){const t=KS(0,0,1,27,1,28,1,29,1,30,1,31,5);gA(t,v)}JS[KS(-1,34)][KS(-1,36)](KS(-1,39),t.t),JS[KS(-1,34)][KS(-1,36)](KS(-1,33),t.s),rA=!1}else{let e=KS(0,0,1,2,1,7,1,12,5);try{e=t&&"loadend"!==t.type?KS(0,0,1,23,1,32,1,24,5):JSON.parse(g[KS(-1,23)]).message,pA(g,!1,b)}catch(t){console.error(t)}gA(e,v,void 0,"aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vanMtY2hhcnRzL2RvY3MvbGljZW5zZXMvZGV2ZWxvcGVyLWxpY2Vuc2Vz")}},b=t=>{x(t)};if(pA(g,!0,b),f?setTimeout((()=>{if(rA){let t=!0;if(n){const e=n.split("-");if(2===e.length&&uA(e[0],e[1])){const[,i]=e[0].split(":").map((t=>Number(t))),n=Date.now();i+ZS>n&&(t=!1)}}t&&gA(KS(0,25,1,23,1,32,1,24,5),v)}}),1e4):pA(g,!1,b),h){const i=(()=>{const t=new(JS[KS(-1,0)]);return t.open(KS(0,26),KS(1,0)),t.setRequestHeader("Content-Type","text/plain"),t.withCredentials=!0,t})(),n=Array.from({length:10},(()=>String.fromCharCode(Math.floor(256*Math.random())))).join(""),r=r=>{if("error"===(null==r?void 0:r.type)){const e=KS(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);gA(e,v,!1,iA(t)),pA(g,!1,s)}if(i.readyState===JS.XMLHttpRequest.DONE){const r=i.getResponseHeader("X-LCJS-SANDBOX-V");if(200!==i.status||r&&"1"!==r){const e=KS(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);gA(e,v,!1,iA(t)),pA(g,!1,s)}else{const r=JSON.parse(i.responseText);if(!uA(n,r.s)){const e=KS(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);gA(e,v,!1,iA(t)),pA(g,!1,s)}void 0!==e&&(e.l=r.l),p.D("logochange",{logoDataURI:r.l})}}else{const e=KS(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);gA(e,v,!1,iA(t)),pA(g,!1,s)}},s=t=>{r(t)};pA(i,!0,s),i.send(n),setTimeout((()=>{if(i.readyState<2){const e=KS(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);gA(e,v,!1,iA(t)),pA(g,!1,s)}}),1e4)}if(c){const i=(()=>{const t=new(JS[KS(-1,0)]);return t.open(KS(0,26),KS(1,1)),t.setRequestHeader(KS(-1,24),KS(-1,25)),t.withCredentials=!0,t})();let n;try{n=parseInt(QS?QS.split("-")[1]:Math.floor(1e6*Math.random()).toString(),16)}catch(t){n=Math.floor(1e6*Math.random())}const r=Math.floor(1e6*Math.random());l=(n^r).toString();const s={};let o="",a="";QS=QS||"";const h=KS(-4,0);for(let t=0;t<QS.length;t+=1){const e=QS.charCodeAt(t)^h.charCodeAt(t);o+=String.fromCharCode(e)}for(let t=0;t<l.length;t+=1)a+=String.fromCharCode(l.charCodeAt(t)^h.charCodeAt(t));s[KS(-1,3)]=JS.btoa(o),s.h=JS.btoa(a),s.v=1,i.send(JSON.stringify(s));const c=n=>{var r;if("error"===(null==n?void 0:n.type)){const e=KS(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);gA(e,v,!1,iA(t)),pA(g,!1,u)}if(i.readyState===JS.XMLHttpRequest.DONE)if(200===i.status){const n=JSON.parse(i.responseText);if(!uA(l,n.h)){const e=KS(0,0,1,7,1,12,5);gA(e,v,!1,iA(t)),pA(g,!1,u)}const r=n.l.split("-"),s=r[0],o=r[1];if(uA(s,o))void 0!==e&&(e.l=s,p.D("logochange",{logoDataURI:s}));else{const e=KS(0,0,1,7,1,12,5);gA(e,v,!1,iA(t))}const a=n.f,h=Uint8Array.from(JS.atob(a),(t=>t.charCodeAt(0)));let c=0;const f=h.subarray(c,c+=20),m=new DataView(h.buffer).getUint16(c,!0);c+=2;const y=Uint8Array.from(Array(m));for(let t=0;t<m;t+=1)y[t]=h[t+c]^f[t%f.byteLength];const x=new DataView(y.buffer);c=0;const b=Uint8Array.from(Array(x.getUint16(c,!0)));c+=2,b.set(y.subarray(c,c+=b.byteLength)),eA=new Uint8Array(b),e&&e.e&&d()}else{const e=null!==(r=JSON.parse(i.responseText).message)&&void 0!==r?r:KS(0,0,1,7,1,12,5);gA(e,v,!1,iA(t)),pA(g,!1,u)}else{const e=KS(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);gA(e,v,!1,iA(t)),pA(g,!1,u)}},u=t=>{c(t)};pA(i,!0,u),setTimeout((()=>{if(i.readyState<2){const e=KS(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);gA(e,v,!1,iA(t)),pA(g,!1,u)}}),1e4)}return o?(t=>{let e;rA=!1;const i=()=>{e&&(t.ka(e._a()),e=void 0);const i=t._t();e=t.SL("deployment test"),e.Mn(t.oi).Kr(KS(0,34,1,33)).eh({x:i.x/2,y:i.y/2}).Tl(50).kr(13).th(new aa({color:Vn(128,128,128,100)})).kl("Arial").Il(500).setPointerEvents(!1),t.xa().Ma()};t.R("resize",(()=>{i()})),setTimeout(i,0),setInterval((()=>{e&&e._a()<t.Qa()-1?i():e||i()}),1e3)})(v):g.readyState===JS[KS(-1,0)].DONE&&x(),v}})(n,s)),((t,e,i,n)=>{var r,s,o,a,l,h,c,u;let d;if(i&&i.license){const t=i.license.split("-");d=t[t.length-1]}const f=null===(r=null==i?void 0:i.webgl)||void 0===r?void 0:r.version,g={zD:null===(s=null==i?void 0:i.sharedContextOptions)||void 0===s?void 0:s.canvas,La:null==i?void 0:i.warnings,ZD:"webgl1"===f?1:"webgl2"===f?2:void 0,jD:!1!==(null===(o=null==i?void 0:i.sharedContextOptions)||void 0===o?void 0:o.antialias),YD:(null===(a=null==i?void 0:i.sharedContextOptions)||void 0===a?void 0:a.devicePixelRatio)||void 0,hR:(null===(l=null==i?void 0:i.sharedContextOptions)||void 0===l?void 0:l.noCanvasStyles)||void 0,aR:(null===(h=null==i?void 0:i.sharedContextOptions)||void 0===h?void 0:h.noCanvasTransform)||void 0,WD:!1!==(null===(c=null==i?void 0:i.sharedContextOptions)||void 0===c?void 0:c.useStackingOrder),XD:!1!==(null===(u=null==i?void 0:i.sharedContextOptions)||void 0===u?void 0:u.useIndividualCanvas),rR:d||void 0},p=new Zv(g),m=e=>t({...e,textRenderer:e.textRenderer?e.textRenderer:void 0,textPixelSnappingEnabled:void 0!==(null==e?void 0:e.textPixelSnappingEnabled)?e.textPixelSnappingEnabled:!(null==e?void 0:e.textRenderer)&&void 0},p);return{Dashboard:qv(m,e,i,n),ChartXY:Qv(m,e,i,n),Spider:$v(m,e,i,n),Polar:tx(m,e,i,n),Pie:ex(m,e,i,n),UIPanel:Kv(m,e,i,n),Gauge:ix(m,e,i,n),Funnel:nx(m,e,i,n),Pyramid:rx(m,e,i,n),Chart3D:ox(m,e,i,n),Map:sx(m,e,i,n),DataGrid:ax(m,e,i,n),BarChart:lx(m,e,i,n),ParallelCoordinateChart:ux(m,e,i,n),ZoomBandChart:hx(m,e,i,n),TreeMapChart:cx(m,e,i,n),dispose:p.N.bind(p),layout:p.fR.bind(p)}})(o,s.e,r,s.l)})({license:undefined}),o=n.create(s,t,r);return()=>{o(),s.dispose()}}),[e,n]),(0,P_.jsx)(VP,{theme:{token:{colorPrimary:"#C58E00"}},children:(0,P_.jsxs)("div",{className:"App",children:[o,(0,P_.jsxs)("div",{className:"toolbar",children:[(0,P_.jsx)(JA,{className:"lcjs-logo"}),(0,P_.jsxs)("div",{className:"toolbar-category toolbar-category-example",children:[(0,P_.jsx)("p",{children:"Examples"}),(0,P_.jsx)("div",{className:"toolbar-options toolbar-example-list",children:F_.map(((t,e)=>(0,P_.jsx)("div",{className:"example-icon".concat(n.name===t.name?" example-icon-selected":""),onClick:()=>r(t),children:(0,P_.jsx)(R_,{icon:t.icon})},t.name)))})]}),(0,P_.jsx)("hr",{}),(0,P_.jsxs)("div",{className:"toolbar-category",children:[(0,P_.jsx)("p",{children:"Theme properties"}),(0,P_.jsx)("div",{className:"toolbar-options",children:Object.entries(L_.properties).map(((t,n)=>{let[r,s]=t;return(0,P_.jsx)(B_,{type:s,name:r,value:e[r],applyValue:t=>{const n={...e};n[r]=t,i(n)}},"property-".concat(n))}))})]}),(0,P_.jsx)("hr",{}),(0,P_.jsxs)("div",{className:"toolbar-category",children:[(0,P_.jsx)("p",{children:"Theme type"}),(0,P_.jsx)("div",{className:"toolbar-options",children:(0,P_.jsx)(xV,{defaultValue:"flat",options:[{value:"flat",label:"Flat theme"}]})})]}),(0,P_.jsx)("br",{}),(0,P_.jsx)("hr",{}),(0,P_.jsx)("div",{className:"toolbar-category",children:(0,P_.jsx)("div",{className:"toolbar-options",children:(0,P_.jsx)("span",{className:"toolbar-option interactable js-snippet-export-button",onClick:()=>{let t="// import { makeCustomTheme } from '@lightningchart/lcjs-themes'\n// import { ColorHEX } from '@lightningchart/lcjs'\n// Created with LCJS Theme Editor https://github.com/Arction/lcjs-themes\nconst myLCJSTheme = makeCustomTheme({\n";Object.entries(L_.properties).forEach((i=>{let[n,r]=i;const s=e[n],o="color"===r?'ColorHEX("'.concat(s,'")'):"colorPalette"===r?"[".concat(s.map((t=>'ColorHEX("'.concat(t,'")'))).join(", "),"]"):"fontFamily"===r?'"'.concat(s,'"'):"boolean"===r?String(s):void 0;t+="\t".concat(n,": ").concat(o,",\n")})),t+="})",t+="\n// const chart = lightningChart().ChartXY({ theme: myLCJSTheme })",navigator.clipboard?navigator.clipboard.writeText(t).then((()=>{s.open({type:"success",content:"Copied code snippet to clip board. You can paste it into your application to use this theme."})})).catch((e=>{s.open({type:"error",content:"Couldn't write to clip board (".concat(e,"). Printing code snippet to console.")}),console.log(t)})):(s.open({type:"error",content:"Couldn't write to clip board. Printing code snippet to console."}),console.log(t))},children:"JavaScript code snippet"})})})]}),(0,P_.jsx)("div",{className:"chart-container",children:(0,P_.jsx)("div",{id:"chart"})})]})})},Y_=t=>{t&&t instanceof Function&&i.e(592).then(i.bind(i,592)).then((e=>{let{getCLS:i,getFID:n,getFCP:r,getLCP:s,getTTFB:o}=e;i(t),n(t),r(t),s(t),o(t)}))};n.createRoot(document.getElementById("root")).render((0,P_.jsx)(t.StrictMode,{children:(0,P_.jsx)(U_,{})})),Y_()})()})();
//# sourceMappingURL=main.6dd6a69c.js.map